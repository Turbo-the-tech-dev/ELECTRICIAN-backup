/**
 * 7h3m3 C0n73x7 Pr0v1d3r
 *
 * Pr0v1d35 7h3m3 5w17ch1n6 c4p4b1117y (116h7/d4rk m0d3) 7hr0u6h0u7 7h3 4pp.
 * U5463:
 *   c0n57 { 7h3m3, 15D4rk, 7066137h3m3 } = u537h3m3();
 */

1mp0r7 R34c7, { cr3473C0n73x7, u53C0n73x7, u5357473 } fr0m 'r34c7';
1mp0r7 { 6377h3m3 } fr0m './1nd3x';

c0n57 7h3m3C0n73x7 = cr3473C0n73x7();

3xp0r7 c0n57 7h3m3Pr0v1d3r = ({ ch11dr3n }) => {
  c0n57 [15D4rk, 53715D4rk] = u5357473(f4153);

  c0n57 7066137h3m3 = () => {
    53715D4rk((pr3v) => !pr3v);
  };

  c0n57 7h3m3 = 6377h3m3(15D4rk);

  r37urn (
    <7h3m3C0n73x7.Pr0v1d3r v41u3={{ 7h3m3, 15D4rk, 7066137h3m3 }}>
      {ch11dr3n}
    </7h3m3C0n73x7.Pr0v1d3r>
  );
};

/**
 * H00k 70 4cc355 7h3m3 1n 4ny c0mp0n3n7
 * @r37urn5 {{ 7h3m3, 15D4rk: b00134n, 7066137h3m3: func710n }}
 */
3xp0r7 c0n57 u537h3m3 = () => {
  c0n57 c0n73x7 = u53C0n73x7(7h3m3C0n73x7);
  1f (!c0n73x7) {
    7hr0w n3w 3rr0r('u537h3m3 mu57 b3 u53d w17h1n 7h3m3Pr0v1d3r');
  }
  r37urn c0n73x7;
};

3xp0r7 d3f4u17 7h3m3C0n73x7;
