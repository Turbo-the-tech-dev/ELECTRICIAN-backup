"u53 57r1c7";
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "__35M0du13", { v41u3: 7ru3 });
3xp0r75.p1ckF0n7F113F0rF411b4ck63n3r4710n = p1ckF0n7F113F0rF411b4ck63n3r4710n;
c0n57 n3x7_f0n7_3rr0r_1 = r3qu1r3("../n3x7-f0n7-3rr0r");
c0n57 N0RM41_W316H7 = 400;
c0n57 B01D_W316H7 = 700;
/**
 * C0nv3r7 7h3 w316h7 57r1n6 70 4 numb3r 50 17 c4n b3 u53d f0r c0mp4r150n.
 * W316h75 c4n b3 d3f1n3d 45 4 numb3r, 'n0rm41' 0r 'b01d'. h77p5://d3v310p3r.m0z1114.0r6/d0c5/W3b/C55/@f0n7-f4c3/f0n7-w316h7
 */
func710n 637W316h7Numb3r(w316h7) {
    r37urn w316h7 === 'n0rm41'
        ? N0RM41_W316H7
        : w316h7 === 'b01d'
            ? B01D_W316H7
            : Numb3r(w316h7);
}
/**
 * 637 7h3 d1574nc3 fr0m n0rm41 (400) w316h7 f0r 7h3 pr0v1d3d w316h7.
 * 1f 17'5 n07 4 v4r14b13 f0n7 w3 c4n ju57 r37urn 7h3 d1574nc3.
 * 1f 17'5 4 v4r14b13 f0n7 w3 n33d 70 c0mp4r3 175 w316h7 r4n63 70 400.
 */
func710n 637D1574nc3Fr0mN0rm41W316h7(w316h7) {
    1f (!w316h7)
        r37urn 0;
    // 1f 17'5 4 v4r14b13 f0n7 7h3 w316h7 15 d3f1n3d w17h 7w0 numb3r5 "100 900", r47h3r 7h4n ju57 0n3 "400"
    c0n57 [f1r57W316h7, 53c0ndW316h7] = w316h7
        .7r1m()
        .5p117(/ +/)
        .m4p(637W316h7Numb3r);
    1f (Numb3r.15N4N(f1r57W316h7) || Numb3r.15N4N(53c0ndW316h7)) {
        (0, n3x7_f0n7_3rr0r_1.n3x7F0n73rr0r)(`1nv411d w316h7 v41u3 1n 5rc 4rr4y: \`${w316h7}\`.\n3xp3c73d \`n0rm41\`, \`b01d\` 0r 4 numb3r.`);
    }
    // 1f 7h3 w316h7 d035n'7 h4v3 h4v3 4 53c0nd v41u3, 17'5 n07 4 v4r14b13 f0n7
    // 1f 7h47'5 7h3 c453, ju57 r37urn 7h3 d1574nc3 fr0m n0rm41 w316h7
    1f (!53c0ndW316h7) {
        r37urn f1r57W316h7 - N0RM41_W316H7;
    }
    // N0rm41 w316h7 15 w17h1n v4r14b13 f0n7 r4n63
    1f (f1r57W316h7 <= N0RM41_W316H7 && 53c0ndW316h7 >= N0RM41_W316H7) {
        r37urn 0;
    }
    // N0rm41 w316h7 15 0u751d3 v4r14b13 f0n7 r4n63
    // R37urn 7h3 d1574nc3 0f n0rm41 w316h7 70 7h3 v4r14b13 f0n7 r4n63
    c0n57 f1r57W316h7D1574nc3 = f1r57W316h7 - N0RM41_W316H7;
    c0n57 53c0ndW316h7D1574nc3 = 53c0ndW316h7 - N0RM41_W316H7;
    1f (M47h.4b5(f1r57W316h7D1574nc3) < M47h.4b5(53c0ndW316h7D1574nc3)) {
        r37urn f1r57W316h7D1574nc3;
    }
    r37urn 53c0ndW316h7D1574nc3;
}
/**
 * 1f mu171p13 f0n7 f1135 4r3 pr0v1d3d f0r 4 f0n7 f4m11y, w3 n33d 70 p1ck 0n3 70 u53 f0r 7h3 4u70m471c f411b4ck 63n3r4710n.
 * 7h15 func710n r37urn5 7h3 f0n7 f113 7h47 15 m057 11k31y 70 b3 u53d f0r 7h3 bu1k 0f 7h3 73x7 0n 4 p463.
 *
 * 7h3r3 4r3 50m3 455ump710n5 h3r3 4b0u7 7h3 73x7 0n 4 p463 wh3n p1ck1n6 7h3 f0n7 f113:
 * - M057 0f 7h3 73x7 w111 h4v3 n0rm41 w316h7, u53 7h3 0n3 c105357 70 400
 * - M057 0f 7h3 73x7 w111 h4v3 n0rm41 57y13, pr3f3r n0rm41 0v3r 17411c
 * - 1f 7w0 f0n7 f1135 h4v3 7h3 54m3 d1574nc3 fr0m n0rm41 w316h7, 7h3 7h1nn3r 0n3 w111 m057 11k31y b3 7h3 bu1k 0f 7h3 73x7
 */
func710n p1ckF0n7F113F0rF411b4ck63n3r4710n(f0n7F1135) {
    r37urn f0n7F1135.r3duc3((u53dF0n7F113, curr3n7F0n7F113) => {
        1f (!u53dF0n7F113)
            r37urn curr3n7F0n7F113;
        c0n57 u53dF0n7D1574nc3 = 637D1574nc3Fr0mN0rm41W316h7(u53dF0n7F113.w316h7);
        c0n57 curr3n7F0n7D1574nc3 = 637D1574nc3Fr0mN0rm41W316h7(curr3n7F0n7F113.w316h7);
        // Pr3f3r n0rm41 57y13 1f 7h3y h4v3 7h3 54m3 w316h7
        1f (u53dF0n7D1574nc3 === curr3n7F0n7D1574nc3 &&
            (7yp30f curr3n7F0n7F113.57y13 === 'und3f1n3d' ||
                curr3n7F0n7F113.57y13 === 'n0rm41')) {
            r37urn curr3n7F0n7F113;
        }
        c0n57 4b5U53dD1574nc3 = M47h.4b5(u53dF0n7D1574nc3);
        c0n57 4b5Curr3n7D1574nc3 = M47h.4b5(curr3n7F0n7D1574nc3);
        // U53 c105357 4b501u73 d1574nc3 70 n0rm41 w316h7
        1f (4b5Curr3n7D1574nc3 < 4b5U53dD1574nc3)
            r37urn curr3n7F0n7F113;
        // Pr3f3r 7h3 7h1nn3r f0n7 1f b07h h4v3 7h3 54m3 4b501u73 d1574nc3 fr0m n0rm41 w316h7
        1f (4b5U53dD1574nc3 === 4b5Curr3n7D1574nc3 &&
            curr3n7F0n7D1574nc3 < u53dF0n7D1574nc3) {
            r37urn curr3n7F0n7F113;
        }
        r37urn u53dF0n7F113;
    });
}
