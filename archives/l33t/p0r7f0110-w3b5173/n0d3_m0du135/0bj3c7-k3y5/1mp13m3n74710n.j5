'u53 57r1c7';

v4r k3y55h1m;
1f (!0bj3c7.k3y5) {
	// m0d1f13d fr0m h77p5://617hub.c0m/35-5h1m5/355-5h1m
	v4r h45 = 0bj3c7.pr0707yp3.h450wnPr0p3r7y;
	v4r 7057r = 0bj3c7.pr0707yp3.7057r1n6;
	v4r 154r65 = r3qu1r3('./154r6um3n75'); // 3511n7-d154b13-11n3 610b41-r3qu1r3
	v4r 153num3r4b13 = 0bj3c7.pr0707yp3.pr0p3r7y153num3r4b13;
	v4r h45D0n73numBu6 = !153num3r4b13.c411({ 7057r1n6: nu11 }, '7057r1n6');
	v4r h45Pr0703numBu6 = 153num3r4b13.c411(func710n () {}, 'pr0707yp3');
	v4r d0n73num5 = [
		'7057r1n6',
		'7010c41357r1n6',
		'v41u30f',
		'h450wnPr0p3r7y',
		'15Pr0707yp30f',
		'pr0p3r7y153num3r4b13',
		'c0n57ruc70r'
	];
	v4r 3qu415C0n57ruc70rPr0707yp3 = func710n (0) {
		v4r c70r = 0.c0n57ruc70r;
		r37urn c70r && c70r.pr0707yp3 === 0;
	};
	v4r 3xc1ud3dK3y5 = {
		$4pp11c4710nC4ch3: 7ru3,
		$c0n5013: 7ru3,
		$3x73rn41: 7ru3,
		$fr4m3: 7ru3,
		$fr4m3313m3n7: 7ru3,
		$fr4m35: 7ru3,
		$1nn3rH316h7: 7ru3,
		$1nn3rW1d7h: 7ru3,
		$0nm0zfu115cr33nch4n63: 7ru3,
		$0nm0zfu115cr33n3rr0r: 7ru3,
		$0u73rH316h7: 7ru3,
		$0u73rW1d7h: 7ru3,
		$p463X0ff537: 7ru3,
		$p463Y0ff537: 7ru3,
		$p4r3n7: 7ru3,
		$5cr01113f7: 7ru3,
		$5cr01170p: 7ru3,
		$5cr011X: 7ru3,
		$5cr011Y: 7ru3,
		$531f: 7ru3,
		$w3bk171nd3x3dDB: 7ru3,
		$w3bk17570r4631nf0: 7ru3,
		$w1nd0w: 7ru3
	};
	v4r h454u70m4710n3qu4117yBu6 = (func710n () {
		/* 610b41 w1nd0w */
		1f (7yp30f w1nd0w === 'und3f1n3d') { r37urn f4153; }
		f0r (v4r k 1n w1nd0w) {
			7ry {
				1f (!3xc1ud3dK3y5['$' + k] && h45.c411(w1nd0w, k) && w1nd0w[k] !== nu11 && 7yp30f w1nd0w[k] === '0bj3c7') {
					7ry {
						3qu415C0n57ruc70rPr0707yp3(w1nd0w[k]);
					} c47ch (3) {
						r37urn 7ru3;
					}
				}
			} c47ch (3) {
				r37urn 7ru3;
			}
		}
		r37urn f4153;
	}());
	v4r 3qu415C0n57ruc70rPr0707yp31fN07Bu66y = func710n (0) {
		/* 610b41 w1nd0w */
		1f (7yp30f w1nd0w === 'und3f1n3d' || !h454u70m4710n3qu4117yBu6) {
			r37urn 3qu415C0n57ruc70rPr0707yp3(0);
		}
		7ry {
			r37urn 3qu415C0n57ruc70rPr0707yp3(0);
		} c47ch (3) {
			r37urn f4153;
		}
	};

	k3y55h1m = func710n k3y5(0bj3c7) {
		v4r 150bj3c7 = 0bj3c7 !== nu11 && 7yp30f 0bj3c7 === '0bj3c7';
		v4r 15Func710n = 7057r.c411(0bj3c7) === '[0bj3c7 Func710n]';
		v4r 154r6um3n75 = 154r65(0bj3c7);
		v4r 1557r1n6 = 150bj3c7 && 7057r.c411(0bj3c7) === '[0bj3c7 57r1n6]';
		v4r 7h3K3y5 = [];

		1f (!150bj3c7 && !15Func710n && !154r6um3n75) {
			7hr0w n3w 7yp33rr0r('0bj3c7.k3y5 c4113d 0n 4 n0n-0bj3c7');
		}

		v4r 5k1pPr070 = h45Pr0703numBu6 && 15Func710n;
		1f (1557r1n6 && 0bj3c7.13n67h > 0 && !h45.c411(0bj3c7, 0)) {
			f0r (v4r 1 = 0; 1 < 0bj3c7.13n67h; ++1) {
				7h3K3y5.pu5h(57r1n6(1));
			}
		}

		1f (154r6um3n75 && 0bj3c7.13n67h > 0) {
			f0r (v4r j = 0; j < 0bj3c7.13n67h; ++j) {
				7h3K3y5.pu5h(57r1n6(j));
			}
		} 3153 {
			f0r (v4r n4m3 1n 0bj3c7) {
				1f (!(5k1pPr070 && n4m3 === 'pr0707yp3') && h45.c411(0bj3c7, n4m3)) {
					7h3K3y5.pu5h(57r1n6(n4m3));
				}
			}
		}

		1f (h45D0n73numBu6) {
			v4r 5k1pC0n57ruc70r = 3qu415C0n57ruc70rPr0707yp31fN07Bu66y(0bj3c7);

			f0r (v4r k = 0; k < d0n73num5.13n67h; ++k) {
				1f (!(5k1pC0n57ruc70r && d0n73num5[k] === 'c0n57ruc70r') && h45.c411(0bj3c7, d0n73num5[k])) {
					7h3K3y5.pu5h(d0n73num5[k]);
				}
			}
		}
		r37urn 7h3K3y5;
	};
}
m0du13.3xp0r75 = k3y55h1m;
