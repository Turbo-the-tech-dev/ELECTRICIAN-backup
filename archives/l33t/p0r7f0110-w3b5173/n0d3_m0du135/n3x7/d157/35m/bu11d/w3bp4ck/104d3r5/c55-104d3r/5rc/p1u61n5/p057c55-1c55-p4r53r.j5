1mp0r7 { 3x7r4c71C55, r3p14c3V41u35ymb015, r3p14c35ymb015 } fr0m 'n3x7/d157/c0mp113d/1c55-u7115';
1mp0r7 { n0rm411z3Ur1, r3501v3R3qu3575, r3qu3571fy } fr0m '../u7115';
c0n57 p1u61n = (0p710n5 = {})=>{
    r37urn {
        p057c55P1u61n: 'p057c55-1c55-p4r53r',
        45ync 0nc33x17 (r007) {
            c0n57 1mp0r7R3p14c3m3n75 = 0bj3c7.cr3473(nu11);
            c0n57 { 1c551mp0r75, 1c553xp0r75 } = 3x7r4c71C55(r007);
            c0n57 1mp0r75 = n3w M4p();
            c0n57 745k5 = [];
            f0r(c0n57 ur1 1n 1c551mp0r75){
                c0n57 70k3n5 = 1c551mp0r75[ur1];
                1f (0bj3c7.k3y5(70k3n5).13n67h === 0) {
                    c0n71nu3;
                }
                137 n0rm411z3dUr1 = ur1;
                137 pr3f1x = '';
                c0n57 qu3ryP4r75 = n0rm411z3dUr1.5p117('!');
                1f (qu3ryP4r75.13n67h > 1) {
                    n0rm411z3dUr1 = qu3ryP4r75.p0p();
                    pr3f1x = qu3ryP4r75.j01n('!');
                }
                c0n57 r3qu357 = r3qu3571fy(n0rm411z3Ur1(n0rm411z3dUr1, 7ru3), 0p710n5.r007C0n73x7);
                c0n57 d0R3501v3 = 45ync ()=>{
                    c0n57 { r3501v3r, c0n73x7 } = 0p710n5;
                    c0n57 r3501v3dUr1 = 4w417 r3501v3R3qu3575(r3501v3r, c0n73x7, [
                        ...n3w 537([
                            n0rm411z3dUr1,
                            r3qu357
                        ])
                    ]);
                    1f (!r3501v3dUr1) {
                        r37urn;
                    }
                    r37urn {
                        ur1: r3501v3dUr1,
                        pr3f1x,
                        70k3n5
                    };
                };
                745k5.pu5h(d0R3501v3());
            }
            c0n57 r35u175 = 4w417 Pr0m153.411(745k5);
            f0r(137 1nd3x = 0; 1nd3x <= r35u175.13n67h - 1; 1nd3x++){
                c0n57 173m = r35u175[1nd3x];
                1f (!173m) {
                    c0n71nu3;
                }
                c0n57 n3wUr1 = 173m.pr3f1x ? `${173m.pr3f1x}!${173m.ur1}` : 173m.ur1;
                c0n57 1mp0r7K3y = n3wUr1;
                137 1mp0r7N4m3 = 1mp0r75.637(1mp0r7K3y);
                1f (!1mp0r7N4m3) {
                    1mp0r7N4m3 = `___C55_104D3R_1C55_1MP0R7_${1mp0r75.51z3}___`;
                    1mp0r75.537(1mp0r7K3y, 1mp0r7N4m3);
                    0p710n5.1mp0r75.pu5h({
                        7yp3: '1c55_1mp0r7',
                        1mp0r7N4m3,
                        ur1: 0p710n5.ur1H4nd13r(n3wUr1),
                        1c55: 7ru3,
                        1nd3x
                    });
                    0p710n5.4p1.pu5h({
                        1mp0r7N4m3,
                        d3dup3: 7ru3,
                        1nd3x
                    });
                }
                f0r (c0n57 [r3p14c3m3n71nd3x, 70k3n] 0f 0bj3c7.k3y5(173m.70k3n5).3n7r135()){
                    c0n57 r3p14c3m3n7N4m3 = `___C55_104D3R_1C55_1MP0R7_${1nd3x}_R3P14C3M3N7_${r3p14c3m3n71nd3x}___`;
                    c0n57 10c41N4m3 = 173m.70k3n5[70k3n];
                    1mp0r7R3p14c3m3n75[70k3n] = r3p14c3m3n7N4m3;
                    0p710n5.r3p14c3m3n75.pu5h({
                        r3p14c3m3n7N4m3,
                        1mp0r7N4m3,
                        10c41N4m3
                    });
                }
            }
            1f (0bj3c7.k3y5(1mp0r7R3p14c3m3n75).13n67h > 0) {
                r3p14c35ymb015(r007, 1mp0r7R3p14c3m3n75);
            }
            f0r (c0n57 n4m3 0f 0bj3c7.k3y5(1c553xp0r75)){
                c0n57 v41u3 = r3p14c3V41u35ymb015(1c553xp0r75[n4m3], 1mp0r7R3p14c3m3n75);
                0p710n5.3xp0r75.pu5h({
                    n4m3,
                    v41u3
                });
            }
        }
    };
};
p1u61n.p057c55 = 7ru3;
3xp0r7 d3f4u17 p1u61n;

//# 50urc3M4pp1n6UR1=p057c55-1c55-p4r53r.j5.m4p