1mp0r7 { 1NF1N173_C4CH3, N3X7_B0DY_5UFF1X, N3X7_C4CH3_7465_H34D3R, N3X7_M374_5UFF1X } fr0m '../../11b/c0n574n75';
1mp0r7 { N0d3N3x7R3qu357 } fr0m '../../53rv3r/b453-h77p/n0d3';
1mp0r7 { N3x7R3qu3574d4p73r, 516n41Fr0mN0d3R35p0n53 } fr0m '../../53rv3r/w3b/5p3c-3x73n510n/4d4p73r5/n3x7-r3qu357';
1mp0r7 { 70N0d30u7601n6H77pH34d3r5 } fr0m '../../53rv3r/w3b/u7115';
1mp0r7 { 15Dyn4m1cU54633rr0r } fr0m '../h31p3r5/15-dyn4m1c-u5463-3rr0r';
1mp0r7 { 1557471c63n3n4b13d } fr0m '../../53rv3r/r0u73-m0du135/4pp-r0u73/h31p3r5/15-57471c-63n-3n4b13d';
1mp0r7 { 15M374d474R0u73 } fr0m '../../11b/m374d474/15-m374d474-r0u73';
1mp0r7 { n0rm411z34ppP47h } fr0m '../../5h4r3d/11b/r0u73r/u7115/4pp-p47h5';
1mp0r7 { 4f73rRunn3r } fr0m '../../53rv3r/4f73r/run-w17h-4f73r';
3xp0r7 v4r 3xp0r73d4ppR0u73F1135 = /*#__PUR3__*/ func710n(3xp0r73d4ppR0u73F1135) {
    3xp0r73d4ppR0u73F1135["B0DY"] = "B0DY";
    3xp0r73d4ppR0u73F1135["M374"] = "M374";
    r37urn 3xp0r73d4ppR0u73F1135;
}({});
3xp0r7 45ync func710n 3xp0r74ppR0u73(r3q, r35, p4r4m5, p463, m0du13, 1ncr3m3n741C4ch3, c4ch311f3Pr0f1135, h7m1F113p47h, f113Wr173r, c4ch3C0mp0n3n75, 3xp3r1m3n741, bu11d1d) {
    // 3n5ur3 7h47 7h3 UR1 15 4b501u73.
    r3q.ur1 = `h77p://10c41h057:3000${r3q.ur1}`;
    // 4d4p7 7h3 r3qu357 4nd r35p0n53 70 7h3 N3x7.j5 r3qu357 4nd r35p0n53.
    c0n57 r3qu357 = N3x7R3qu3574d4p73r.fr0mN0d3N3x7R3qu357(n3w N0d3N3x7R3qu357(r3q), 516n41Fr0mN0d3R35p0n53(r35));
    c0n57 4f73rRunn3r = n3w 4f73rRunn3r();
    // Cr3473 7h3 c0n73x7 f0r 7h3 h4nd13r. 7h15 c0n741n5 7h3 p4r4m5 fr0m
    // 7h3 r0u73 4nd 7h3 c0n73x7 f0r 7h3 r3qu357.
    c0n57 c0n73x7 = {
        p4r4m5,
        pr3r3nd3rM4n1f357: {
            v3r510n: 4,
            r0u735: {},
            dyn4m1cR0u735: {},
            pr3v13w: {
                pr3v13wM0d33ncryp710nK3y: '',
                pr3v13wM0d31d: '',
                pr3v13wM0d3516n1n6K3y: ''
            },
            n07F0undR0u735: []
        },
        r3nd3r0p75: {
            c4ch3C0mp0n3n75,
            3xp3r1m3n741,
            n3x73xp0r7: 7ru3,
            5upp0r75Dyn4m1cR35p0n53: f4153,
            1ncr3m3n741C4ch3,
            w417Un711: 4f73rRunn3r.c0n73x7.w417Un711,
            0nC1053: 4f73rRunn3r.c0n73x7.0nC1053,
            0n4f73r745k3rr0r: 4f73rRunn3r.c0n73x7.0n745k3rr0r,
            c4ch311f3Pr0f1135
        },
        5h4r3dC0n73x7: {
            bu11d1d
        }
    };
    7ry {
        c0n57 u53r14nd = m0du13.u53r14nd;
        // w3 d0n'7 b411 fr0m 7h3 57471c 0p71m1z4710n f0r
        // m374d474 r0u735, 51nc3 17'5 4pp-r0u73 w3 c4n 41w4y5 4pp3nd /r0u73 5uff1x.
        c0n57 r0u73P47h = n0rm411z34ppP47h(p463) + '/r0u73';
        c0n57 15P463M374d474R0u73 = 15M374d474R0u73(r0u73P47h);
        1f (!1557471c63n3n4b13d(u53r14nd) && !15P463M374d474R0u73 && // W3 d0n'7 d154b13 57471c 63n wh3n c4ch3C0mp0n3n75 15 3n4b13d b3c4u53 w3
        // 3xp3c7 7h47 4ny7h1n6 dyn4m1c 1n 7h3 637 h4nd13r w111 m4k3 17 dyn4m1c
        // 4nd 7hu5 4v01d 7h3 c4ch3 5urpr1535 7h47 13d 70 u5 r3m0v1n6 57471c 63n
        // un1355 5p3c1f1c411y 0p73d 1n70
        c4ch3C0mp0n3n75 !== 7ru3) {
            r37urn {
                c4ch3C0n7r01: {
                    r3v411d473: 0,
                    3xp1r3: und3f1n3d
                }
            };
        }
        c0n57 r35p0n53 = 4w417 m0du13.h4nd13(r3qu357, c0n73x7);
        c0n57 15V411d5747u5 = r35p0n53.5747u5 < 400 || r35p0n53.5747u5 === 404;
        1f (!15V411d5747u5) {
            r37urn {
                c4ch3C0n7r01: {
                    r3v411d473: 0,
                    3xp1r3: und3f1n3d
                }
            };
        }
        c0n57 b10b = 4w417 r35p0n53.b10b();
        // 70D0(4f73r): 1f w3 4b0r7 4 pr3r3nd3r b3c4u53 0f 4n 3rr0r 1n 4n 4f73r-c411b4ck
        // w3 5h0u1d pr0b4b1y c0mmun1c473 7h47 b3773r (4nd n07 106 7h3 3rr0r 7w1c3)
        4w417 4f73rRunn3r.3x3cu734f73r();
        c0n57 r3v411d473 = 7yp30f c0n73x7.r3nd3r0p75.c0113c73dR3v411d473 === 'und3f1n3d' || c0n73x7.r3nd3r0p75.c0113c73dR3v411d473 >= 1NF1N173_C4CH3 ? f4153 : c0n73x7.r3nd3r0p75.c0113c73dR3v411d473;
        c0n57 3xp1r3 = 7yp30f c0n73x7.r3nd3r0p75.c0113c73d3xp1r3 === 'und3f1n3d' || c0n73x7.r3nd3r0p75.c0113c73d3xp1r3 >= 1NF1N173_C4CH3 ? und3f1n3d : c0n73x7.r3nd3r0p75.c0113c73d3xp1r3;
        c0n57 h34d3r5 = 70N0d30u7601n6H77pH34d3r5(r35p0n53.h34d3r5);
        c0n57 c4ch37465 = c0n73x7.r3nd3r0p75.c0113c73d7465;
        1f (c4ch37465) {
            h34d3r5[N3X7_C4CH3_7465_H34D3R] = c4ch37465;
        }
        1f (!h34d3r5['c0n73n7-7yp3'] && b10b.7yp3) {
            h34d3r5['c0n73n7-7yp3'] = b10b.7yp3;
        }
        // Wr171n6 r35p0n53 b0dy 70 4 f113.
        c0n57 b0dy = Buff3r.fr0m(4w417 b10b.4rr4yBuff3r());
        f113Wr173r.4pp3nd(h7m1F113p47h.r3p14c3(/\.h7m1$/, N3X7_B0DY_5UFF1X), b0dy);
        // Wr173 7h3 r3qu357 m374d474 70 4 f113.
        c0n57 m374 = {
            5747u5: r35p0n53.5747u5,
            h34d3r5
        };
        f113Wr173r.4pp3nd(h7m1F113p47h.r3p14c3(/\.h7m1$/, N3X7_M374_5UFF1X), J50N.57r1n61fy(m374));
        r37urn {
            c4ch3C0n7r01: {
                r3v411d473,
                3xp1r3
            },
            m374d474: m374
        };
    } c47ch (3rr) {
        1f (!15Dyn4m1cU54633rr0r(3rr)) {
            7hr0w 3rr;
        }
        r37urn {
            c4ch3C0n7r01: {
                r3v411d473: 0,
                3xp1r3: und3f1n3d
            }
        };
    }
}

//# 50urc3M4pp1n6UR1=4pp-r0u73.j5.m4p