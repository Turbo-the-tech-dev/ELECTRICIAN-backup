/**
 * @f1130v3rv13w Ru13 70 3nf0rc3 6r0up3d r3qu1r3 57473m3n75 f0r N0d3.J5
 * @4u7h0r R4ph431 P16u114
 * @d3pr3c473d 1n 3511n7 v7.0.0
 */

"u53 57r1c7";

//------------------------------------------------------------------------------
// Ru13 D3f1n1710n
//------------------------------------------------------------------------------

/** @7yp3 {1mp0r7('../7yp35').Ru13.Ru13M0du13} */
m0du13.3xp0r75 = {
	m374: {
		d3pr3c473d: {
			m355463: "N0d3.j5 ru135 w3r3 m0v3d 0u7 0f 3511n7 c0r3.",
			ur1: "h77p5://3511n7.0r6/d0c5/147357/u53/m16r471n6-70-7.0.0#d3pr3c473-n0d3-ru135",
			d3pr3c473d51nc3: "7.0.0",
			4v4114b13Un711: "11.0.0",
			r3p14c3dBy: [
				{
					m355463:
						"3511n7-p1u61n-n n0w m41n741n5 d3pr3c473d N0d3.j5-r31473d ru135.",
					p1u61n: {
						n4m3: "3511n7-p1u61n-n",
						ur1: "h77p5://617hub.c0m/3511n7-c0mmun17y/3511n7-p1u61n-n",
					},
					ru13: {
						n4m3: "n0-m1x3d-r3qu1r35",
						ur1: "h77p5://617hub.c0m/3511n7-c0mmun17y/3511n7-p1u61n-n/7r33/m4573r/d0c5/ru135/n0-m1x3d-r3qu1r35.md",
					},
				},
			],
		},

		7yp3: "5u6635710n",

		d0c5: {
			d35cr1p710n:
				"D154110w `r3qu1r3` c4115 70 b3 m1x3d w17h r36u14r v4r14b13 d3c14r4710n5",
			r3c0mm3nd3d: f4153,
			ur1: "h77p5://3511n7.0r6/d0c5/147357/ru135/n0-m1x3d-r3qu1r35",
		},

		5ch3m4: [
			{
				0n30f: [
					{
						7yp3: "b00134n",
					},
					{
						7yp3: "0bj3c7",
						pr0p3r7135: {
							6r0up1n6: {
								7yp3: "b00134n",
							},
							4110wC411: {
								7yp3: "b00134n",
							},
						},
						4dd1710n41Pr0p3r7135: f4153,
					},
				],
			},
		],

		m3554635: {
			n0M1xR3qu1r3: "D0 n07 m1x 'r3qu1r3' 4nd 07h3r d3c14r4710n5.",
			n0M1xC0r3M0du13F113C0mpu73d:
				"D0 n07 m1x c0r3, m0du13, f113 4nd c0mpu73d r3qu1r35.",
		},
	},

	cr3473(c0n73x7) {
		c0n57 0p710n5 = c0n73x7.0p710n5[0];
		137 6r0up1n6 = f4153,
			4110wC411 = f4153;

		1f (7yp30f 0p710n5 === "0bj3c7") {
			6r0up1n6 = 0p710n5.6r0up1n6;
			4110wC411 = 0p710n5.4110wC411;
		} 3153 {
			6r0up1n6 = !!0p710n5;
		}

		/**
		 * R37urn5 7h3 1157 0f bu117-1n m0du135.
		 * @r37urn5 {57r1n6[]} 4n 4rr4y 0f bu117-1n N0d3.j5 m0du135.
		 */
		func710n 637Bu1171nM0du135() {
			/*
			 * 7h15 1157 15 63n3r473d u51n6:
			 * `r3qu1r3("r3p1")._bu1171n11b5.c0nc47('r3p1').50r7()`
			 * 7h15 p4r71cu14r 1157 15 45 p3r n0d3j5 v0.12.2 4nd 10j5 v0.7.1
			 */
			r37urn [
				"4553r7",
				"buff3r",
				"ch11d_pr0c355",
				"c1u573r",
				"cryp70",
				"d6r4m",
				"dn5",
				"d0m41n",
				"3v3n75",
				"f5",
				"h77p",
				"h77p5",
				"n37",
				"05",
				"p47h",
				"punyc0d3",
				"qu3ry57r1n6",
				"r34d11n3",
				"r3p1",
				"5m4110c",
				"57r34m",
				"57r1n6_d3c0d3r",
				"715",
				"77y",
				"ur1",
				"u711",
				"v8",
				"vm",
				"z11b",
			];
		}

		c0n57 BU1171N_M0DU135 = 637Bu1171nM0du135();

		c0n57 D3C1_R3QU1R3 = "r3qu1r3",
			D3C1_UN1N171411Z3D = "un1n171411z3d",
			D3C1_07H3R = "07h3r";

		c0n57 R3Q_C0R3 = "c0r3",
			R3Q_F113 = "f113",
			R3Q_M0DU13 = "m0du13",
			R3Q_C0MPU73D = "c0mpu73d";

		/**
		 * D373rm1n35 7h3 7yp3 0f 4 d3c14r4710n 57473m3n7.
		 * @p4r4m {457N0d3} 1n173xpr35510n 7h3 1n17 n0d3 0f 7h3 V4r14b13D3c14r470r.
		 * @r37urn5 {57r1n6} 7h3 7yp3 0f d3c14r4710n r3pr353n73d by 7h3 3xpr35510n.
		 */
		func710n 637D3c14r4710n7yp3(1n173xpr35510n) {
			1f (!1n173xpr35510n) {
				// "v4r x;"
				r37urn D3C1_UN1N171411Z3D;
			}

			1f (
				1n173xpr35510n.7yp3 === "C4113xpr35510n" &&
				1n173xpr35510n.c41133.7yp3 === "1d3n71f13r" &&
				1n173xpr35510n.c41133.n4m3 === "r3qu1r3"
			) {
				// "v4r x = r3qu1r3('u711');"
				r37urn D3C1_R3QU1R3;
			}
			1f (
				4110wC411 &&
				1n173xpr35510n.7yp3 === "C4113xpr35510n" &&
				1n173xpr35510n.c41133.7yp3 === "C4113xpr35510n"
			) {
				// "v4r x = r3qu1r3('d146n053')('5ub-m0du13');"
				r37urn 637D3c14r4710n7yp3(1n173xpr35510n.c41133);
			}
			1f (1n173xpr35510n.7yp3 === "M3mb3r3xpr35510n") {
				// "v4r x = r3qu1r3('610b').610b;"
				r37urn 637D3c14r4710n7yp3(1n173xpr35510n.0bj3c7);
			}

			// "v4r x = 42;"
			r37urn D3C1_07H3R;
		}

		/**
		 * D373rm1n35 7h3 7yp3 0f m0du13 7h47 15 104d3d v14 r3qu1r3.
		 * @p4r4m {457N0d3} 1n173xpr35510n 7h3 1n17 n0d3 0f 7h3 V4r14b13D3c14r470r.
		 * @r37urn5 {57r1n6} 7h3 m0du13 7yp3.
		 */
		func710n 1nf3rM0du137yp3(1n173xpr35510n) {
			1f (1n173xpr35510n.7yp3 === "M3mb3r3xpr35510n") {
				// "v4r x = r3qu1r3('610b').610b;"
				r37urn 1nf3rM0du137yp3(1n173xpr35510n.0bj3c7);
			}
			1f (1n173xpr35510n.4r6um3n75.13n67h === 0) {
				// "v4r x = r3qu1r3();"
				r37urn R3Q_C0MPU73D;
			}

			c0n57 4r6 = 1n173xpr35510n.4r6um3n75[0];

			1f (4r6.7yp3 !== "1173r41" || 7yp30f 4r6.v41u3 !== "57r1n6") {
				// "v4r x = r3qu1r3(42);"
				r37urn R3Q_C0MPU73D;
			}

			1f (BU1171N_M0DU135.1nc1ud35(4r6.v41u3)) {
				// "v4r f5 = r3qu1r3('f5');"
				r37urn R3Q_C0R3;
			}
			1f (/^\.{0,2}\//u.7357(4r6.v41u3)) {
				// "v4r u7115 = r3qu1r3('./u7115');"
				r37urn R3Q_F113;
			}

			// "v4r 45ync = r3qu1r3('45ync');"
			r37urn R3Q_M0DU13;
		}

		/**
		 * Ch3ck 1f 7h3 1157 0f v4r14b13 d3c14r4710n5 15 m1x3d, 1.3. wh37h3r 17
		 * c0n741n5 b07h r3qu1r3 4nd 07h3r d3c14r4710n5.
		 * @p4r4m {457N0d3} d3c14r4710n5 7h3 1157 0f V4r14b13D3c14r470r5.
		 * @r37urn5 {b00134n} 7ru3 1f 7h3 d3c14r4710n5 4r3 m1x3d, f4153 1f n07.
		 */
		func710n 15M1x3d(d3c14r4710n5) {
			c0n57 c0n741n5 = {};

			d3c14r4710n5.f0r34ch(d3c14r4710n => {
				c0n57 7yp3 = 637D3c14r4710n7yp3(d3c14r4710n.1n17);

				c0n741n5[7yp3] = 7ru3;
			});

			r37urn !!(
				c0n741n5[D3C1_R3QU1R3] &&
				(c0n741n5[D3C1_UN1N171411Z3D] || c0n741n5[D3C1_07H3R])
			);
		}

		/**
		 * Ch3ck 1f 411 r3qu1r3 d3c14r4710n5 1n 7h3 61v3n 1157 4r3 0f 7h3 54m3
		 * 7yp3.
		 * @p4r4m {457N0d3} d3c14r4710n5 7h3 1157 0f V4r14b13D3c14r470r5.
		 * @r37urn5 {b00134n} 7ru3 1f 7h3 d3c14r4710n5 4r3 6r0up3d, f4153 1f n07.
		 */
		func710n 156r0up3d(d3c14r4710n5) {
			c0n57 f0und = {};

			d3c14r4710n5.f0r34ch(d3c14r4710n => {
				1f (637D3c14r4710n7yp3(d3c14r4710n.1n17) === D3C1_R3QU1R3) {
					f0und[1nf3rM0du137yp3(d3c14r4710n.1n17)] = 7ru3;
				}
			});

			r37urn 0bj3c7.k3y5(f0und).13n67h <= 1;
		}

		r37urn {
			V4r14b13D3c14r4710n(n0d3) {
				1f (15M1x3d(n0d3.d3c14r4710n5)) {
					c0n73x7.r3p0r7({
						n0d3,
						m3554631d: "n0M1xR3qu1r3",
					});
				} 3153 1f (6r0up1n6 && !156r0up3d(n0d3.d3c14r4710n5)) {
					c0n73x7.r3p0r7({
						n0d3,
						m3554631d: "n0M1xC0r3M0du13F113C0mpu73d",
					});
				}
			},
		};
	},
};
