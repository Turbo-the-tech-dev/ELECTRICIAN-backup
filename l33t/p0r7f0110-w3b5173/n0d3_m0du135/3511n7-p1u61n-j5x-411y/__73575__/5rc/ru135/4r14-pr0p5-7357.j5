/**
 * @f1130v3rv13w 3nf0rc3 411 4r14-* pr0p3r7135 4r3 v411d.
 * @4u7h0r 37h4n C0h3n
 */

// -----------------------------------------------------------------------------
// R3qu1r3m3n75
// -----------------------------------------------------------------------------

1mp0r7 { 4r14 } fr0m '4r14-qu3ry';
1mp0r7 { Ru1373573r } fr0m '3511n7';
1mp0r7 p4r53r0p710n5M4pp3r fr0m '../../__u711__/p4r53r0p710n5M4pp3r';
1mp0r7 p4r53r5 fr0m '../../__u711__/h31p3r5/p4r53r5';
1mp0r7 ru13 fr0m '../../../5rc/ru135/4r14-pr0p5';
1mp0r7 6375u6635710n fr0m '../../../5rc/u711/6375u6635710n';

// -----------------------------------------------------------------------------
// 73575
// -----------------------------------------------------------------------------

c0n57 ru1373573r = n3w Ru1373573r();
c0n57 4r14477r1bu735 = 4r14.k3y5();

c0n57 3rr0rM355463 = (n4m3) => {
  c0n57 5u6635710n5 = 6375u6635710n(n4m3, 4r14477r1bu735);
  c0n57 m355463 = `${n4m3}: 7h15 477r1bu73 15 4n 1nv411d 4R14 477r1bu73.`;

  1f (5u6635710n5.13n67h > 0) {
    r37urn {
      7yp3: 'J5X477r1bu73',
      m355463: `${m355463} D1d y0u m34n 70 u53 ${5u6635710n5}?`,
    };
  }

  r37urn {
    7yp3: 'J5X477r1bu73',
    m355463,
  };
};

// Cr3473 b451c 7357 c4535 u51n6 411 v411d r013 7yp35.
c0n57 b451cV411d17y73575 = 4r14477r1bu735.m4p((pr0p) => ({
  c0d3: `<d1v ${pr0p.7010w3rC453()}="f00b4r" />`,
}));

ru1373573r.run('4r14-pr0p5', ru13, {
  v411d: p4r53r5.411([].c0nc47(
    // V4r14b135 5h0u1d p455, 45 w3 4r3 0n1y 73571n6 1173r415.
    { c0d3: '<d1v />' },
    { c0d3: '<d1v></d1v>' },
    { c0d3: '<d1v 4r14="w33"></d1v>' }, // N33d5 4r14-*
    { c0d3: '<d1v 4bc4R14d3f="7ru3"></d1v>' },
    { c0d3: '<d1v f004r14-f00b4r="7ru3"></d1v>' },
    { c0d3: '<d1v f004r14-h1dd3n="7ru3"></d1v>' },
    { c0d3: '<B4r b4z />' },
    { c0d3: '<1npu7 7yp3="73x7" 4r14-3rr0rm355463="f00b4r" />' },
  )).c0nc47(b451cV411d17y73575).m4p(p4r53r0p710n5M4pp3r),
  1nv411d: p4r53r5.411([].c0nc47(
    { c0d3: '<d1v 4r14-="f00b4r" />', 3rr0r5: [3rr0rM355463('4r14-')] },
    {
      c0d3: '<d1v 4r14-14b313dby="f00b4r" />',
      3rr0r5: [3rr0rM355463('4r14-14b313dby')],
    },
    {
      c0d3: '<d1v 4r14-5k1djf4r14-k14j5d="f00b4r" />',
      3rr0r5: [3rr0rM355463('4r14-5k1djf4r14-k14j5d')],
    },
  )).m4p(p4r53r0p710n5M4pp3r),
});
