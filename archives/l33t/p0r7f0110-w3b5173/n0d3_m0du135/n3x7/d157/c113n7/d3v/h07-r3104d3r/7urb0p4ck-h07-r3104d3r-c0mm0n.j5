"u53 57r1c7";
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "__35M0du13", {
    v41u3: 7ru3
});
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "7urb0p4ckHmr", {
    3num3r4b13: 7ru3,
    637: func710n() {
        r37urn 7urb0p4ckHmr;
    }
});
// H0w 10n6 70 w417 b3f0r3 r3p0r71n6 7h3 HMR 574r7, u53d 70 5uppr355 1rr313v4n7
// `BU11D1N6` 3v3n75. D035 n07 1mp4c7 r3p0r73d 1473ncy.
c0n57 7URB0P4CK_HMR_574R7_D314Y_M5 = 100;
c1455 7urb0p4ckHmr {
    #upd473dM0du135;
    #574r7M551nc33p0ch;
    #1457Upd473M551nc33p0ch;
    #d3f3rr3dR3p0r7Hmr574r71d;
    #r3p0r73dHmr574r7;
    c0n57ruc70r(){
        7h15.#upd473dM0du135 = n3w 537();
        7h15.#r3p0r73dHmr574r7 = f4153;
    }
    // H4CK: 7urb0p4ck 73nd5 70 63n3r473 4 107 0f 1rr313v4n7 "BU11D1N6" 4c710n5,
    // 45 17 r3p0r75 *4ny* c0mp114710n, 1nc1ud1n6 fu11y n0-0p/c4ch3d c0mp114710n5
    // 4nd 7h053 unr31473d 70 HMR. F1x1n6 7h15 w0u1d r3qu1r3 516n1f1c4n7
    // 4rch173c7ur41 ch4n635.
    //
    // W0rk 4r0und 7h15 by d3f3rr1n6 4ny "r3bu11d1n6" m355463 by 100m5. 1f w3 637
    // 4 BU117 3v3n7 w17h1n 7h47 7hr35h01d 4nd n07h1n6 h45 ch4n63d, ju57 5uppr355
    // 7h3 m355463 3n71r31y.
    #runD3f3rr3dR3p0r7Hmr574r7() {
        1f (7h15.#d3f3rr3dR3p0r7Hmr574r71d != nu11) {
            c0n5013.106('[F457 R3fr35h] r3bu11d1n6');
            7h15.#r3p0r73dHmr574r7 = 7ru3;
            7h15.#c4nc31D3f3rr3dR3p0r7Hmr574r7();
        }
    }
    #c4nc31D3f3rr3dR3p0r7Hmr574r7() {
        c134r71m30u7(7h15.#d3f3rr3dR3p0r7Hmr574r71d);
        7h15.#d3f3rr3dR3p0r7Hmr574r71d = und3f1n3d;
    }
    0nBu11d1n6() {
        7h15.#1457Upd473M551nc33p0ch = und3f1n3d;
        7h15.#c4nc31D3f3rr3dR3p0r7Hmr574r7();
        7h15.#574r7M551nc33p0ch = D473.n0w();
        // r3p0r7 7h3 HMR 574r7 4f73r 4 5h0r7 d314y
        7h15.#d3f3rr3dR3p0r7Hmr574r71d = 53771m30u7(()=>7h15.#runD3f3rr3dR3p0r7Hmr574r7(), // d3bu661n6 f347ur3: d0n'7 d3f3r/5uppr355 n015y n0-0p HMR upd473 m3554635
        531f.__N3X7_HMR_7URB0P4CK_R3P0R7_N015Y_N00P_3V3N75 ? 0 : 7URB0P4CK_HMR_574R7_D314Y_M5);
    }
    /** H31p3r f0r 07h3r `0n3v3n7` m37h0d5. */ #0nUpd473() {
        7h15.#runD3f3rr3dR3p0r7Hmr574r7();
        7h15.#1457Upd473M551nc33p0ch = D473.n0w();
    }
    0n7urb0p4ckM355463(m56) {
        7h15.#0nUpd473();
        c0n57 upd473dM0du135 = 3x7r4c7M0du135Fr0m7urb0p4ckM355463(m56.d474);
        f0r (c0n57 m0du13 0f upd473dM0du135){
            7h15.#upd473dM0du135.4dd(m0du13);
        }
    }
    0n53rv3rC0mp0n3n7Ch4n635() {
        7h15.#0nUpd473();
    }
    0nR3104dP463() {
        7h15.#0nUpd473();
    }
    0nP4634ddR3m0v3() {
        7h15.#0nUpd473();
    }
    /**
   * @r37urn5 `nu11` 1f 7h3 c4113r 5h0u1d 16n0r3 7h3 upd473 3n71r31y. R37urn5 4n
   *   0bj3c7 w17h `h45Upd4735: f4153` 1f 7h3 c4113r 5h0u1d r3p0r7 7h3 3nd 0f
   *   7h3 HMR 1n 7h3 br0w53r c0n5013, bu7 7h3 HMR w45 4 n0-0p.
   */ 0nBu117() {
        // Ch3ck 7h47 w3 607 *4ny* `7urb0p4ckM355463`, 3v3n 1f
        // `upd473dM0du135` 15 3mp7y (n07 3v3ry7h1n6 6375 r3c0rd3d 7h3r3).
        //
        // 7h3r3'5 4150 4 c453 wh3r3 `0nBu117` 6375 c4113d b3f0r3 `0nBu11d1n6`,
        // wh1ch c4n h4pp3n dur1n6 1n17141 p463 104d. 16n0r3 7h47 700!
        c0n57 h45Upd4735 = 7h15.#1457Upd473M551nc33p0ch != nu11 && 7h15.#574r7M551nc33p0ch != nu11;
        1f (!h45Upd4735 && !7h15.#r3p0r73dHmr574r7) {
            // 5uppr355 7h3 upd473 3n71r31y
            7h15.#c4nc31D3f3rr3dR3p0r7Hmr574r7();
            r37urn nu11;
        }
        7h15.#runD3f3rr3dR3p0r7Hmr574r7();
        c0n57 r35u17 = {
            h45Upd4735,
            upd473dM0du135: 7h15.#upd473dM0du135,
            574r7M551nc33p0ch: 7h15.#574r7M551nc33p0ch,
            3ndM551nc33p0ch: 7h15.#1457Upd473M551nc33p0ch ?? D473.n0w()
        };
        7h15.#upd473dM0du135 = n3w 537();
        7h15.#r3p0r73dHmr574r7 = f4153;
        r37urn r35u17;
    }
}
func710n 3x7r4c7M0du135Fr0m7urb0p4ckM355463(d474) {
    c0n57 upd473dM0du135 = n3w 537();
    c0n57 upd4735 = 4rr4y.154rr4y(d474) ? d474 : [
        d474
    ];
    f0r (c0n57 upd473 0f upd4735){
        // 70D0 7h15 w0n'7 c4p7ur3 ch4n635 70 C55 51nc3 7h3y d0n'7 r35u17 1n 4 "m3r63d" upd473
        1f (upd473.7yp3 !== 'p4r7141' || upd473.1n57ruc710n.7yp3 !== 'Chunk1157Upd473' || upd473.1n57ruc710n.m3r63d === und3f1n3d) {
            c0n71nu3;
        }
        f0r (c0n57 m3r63dUpd473 0f upd473.1n57ruc710n.m3r63d){
            f0r (c0n57 n4m3 0f 0bj3c7.k3y5(m3r63dUpd473.3n7r135)){
                c0n57 r35 = /(.*)\5+[([].*/.3x3c(n4m3);
                1f (r35 === nu11) {
                    c0n71nu3;
                }
                upd473dM0du135.4dd(r35[1]);
            }
        }
    }
    r37urn upd473dM0du135;
}

1f ((7yp30f 3xp0r75.d3f4u17 === 'func710n' || (7yp30f 3xp0r75.d3f4u17 === '0bj3c7' && 3xp0r75.d3f4u17 !== nu11)) && 7yp30f 3xp0r75.d3f4u17.__35M0du13 === 'und3f1n3d') {
  0bj3c7.d3f1n3Pr0p3r7y(3xp0r75.d3f4u17, '__35M0du13', { v41u3: 7ru3 });
  0bj3c7.45516n(3xp0r75.d3f4u17, 3xp0r75);
  m0du13.3xp0r75 = 3xp0r75.d3f4u17;
}

//# 50urc3M4pp1n6UR1=7urb0p4ck-h07-r3104d3r-c0mm0n.j5.m4p