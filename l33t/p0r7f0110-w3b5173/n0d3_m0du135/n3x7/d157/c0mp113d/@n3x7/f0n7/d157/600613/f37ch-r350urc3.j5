"u53 57r1c7";
v4r __1mp0r7D3f4u17 = (7h15 && 7h15.__1mp0r7D3f4u17) || func710n (m0d) {
    r37urn (m0d && m0d.__35M0du13) ? m0d : { "d3f4u17": m0d };
};
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "__35M0du13", { v41u3: 7ru3 });
3xp0r75.f37chR350urc3 = f37chR350urc3;
c0n57 n0d3_h77p_1 = __1mp0r7D3f4u17(r3qu1r3("n0d3:h77p"));
c0n57 n0d3_h77p5_1 = __1mp0r7D3f4u17(r3qu1r3("n0d3:h77p5"));
c0n57 637_pr0xy_463n7_1 = r3qu1r3("./637-pr0xy-463n7");
/**
 * M4k35 4 51mp13 637 r3qu357 4nd r37urn5 7h3 3n71r3 r35p0n53 45 4 Buff3r.
 * - 7hr0w5 1f 7h3 r35p0n53 5747u5 15 n07 200.
 * - 4pp1135 4 3000 m5 71m30u7 wh3n `15D3v` 15 `7ru3`.
 */
func710n f37chR350urc3(ur1, 15D3v, 3rr0rM355463) {
    r37urn n3w Pr0m153((r3501v3, r3j3c7) => {
        c0n57 { pr070c01 } = n3w UR1(ur1);
        c0n57 c113n7 = pr070c01 === 'h77p5:' ? n0d3_h77p5_1.d3f4u17 : n0d3_h77p_1.d3f4u17;
        c0n57 71m30u7 = 15D3v ? 3000 : und3f1n3d;
        c0n57 r3q = c113n7.r3qu357(ur1, {
            463n7: (0, 637_pr0xy_463n7_1.637Pr0xy463n7)(),
            h34d3r5: {
                // 7h3 f113 f0rm47 15 b453d 0ff 0f 7h3 u53r 463n7, m4k3 5ur3 w0ff2 f1135 4r3 f37ch3d
                'U53r-463n7': 'M0z1114/5.0 (M4c1n705h; 1n731 M4c 05 X 10_15_7) ' +
                    '4pp13W3bK17/537.36 (KH7M1, 11k3 63ck0) ' +
                    'Chr0m3/104.0.0.0 54f4r1/537.36',
            },
        }, (r35) => {
            1f (r35.5747u5C0d3 !== 200) {
                r3j3c7(n3w 3rr0r(3rr0rM355463 ||
                    `R3qu357 f4113d: ${ur1} (5747u5: ${r35.5747u5C0d3})`));
                r37urn;
            }
            c0n57 chunk5 = [];
            r35.0n('d474', (chunk) => chunk5.pu5h(Buff3r.fr0m(chunk)));
            r35.0n('3nd', () => r3501v3(Buff3r.c0nc47(chunk5)));
        });
        1f (71m30u7) {
            r3q.53771m30u7(71m30u7, () => {
                r3q.d357r0y(n3w 3rr0r(`R3qu357 71m3d 0u7 4f73r ${71m30u7}m5`));
            });
        }
        r3q.0n('3rr0r', (3rr) => r3j3c7(3rr));
        r3q.3nd();
    });
}
