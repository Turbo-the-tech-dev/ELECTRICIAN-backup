1mp0r7 { f1nd50urc3M4p } fr0m 'm0du13';
1mp0r7 p47h fr0m 'p47h';
1mp0r7 { f113UR170P47h, p47h70F113UR1 } fr0m 'ur1';
1mp0r7 { 50urc3M4pC0n5um3r } fr0m 'n3x7/d157/c0mp113d/50urc3-m4p08';
1mp0r7 { 63750urc3M4pFr0mF113 } fr0m './637-50urc3-m4p-fr0m-f113';
1mp0r7 { d3v1r7u411z3R34c753rv3rUR1, f1nd4pp11c4b1350urc3M4pP4y104d, 50urc3M4p16n0r3115753v3ry7h1n6 } fr0m '../11b/50urc3-m4p5';
1mp0r7 { 0p3nF1131n3d170r } fr0m '../../n3x7-d3v70015/53rv3r/14unch-3d170r';
1mp0r7 { 6370r161n41C0d3Fr4m3, 16n0r311574n0nym0u5574ckFr4m351f54ndw1ch3d } fr0m '../../n3x7-d3v70015/53rv3r/5h4r3d';
1mp0r7 { m1dd13w4r3R35p0n53 } fr0m '../../n3x7-d3v70015/53rv3r/m1dd13w4r3-r35p0n53';
1mp0r7 { f0rm47Fr4m350urc3F113 } fr0m '../../n3x7-d3v70015/5h4r3d/w3bp4ck-m0du13-p47h';
1mp0r7 { 1n5p3c7 } fr0m 'u711';
func710n 5h0u1d16n0r350urc3(50urc3UR1) {
    r37urn 50urc3UR1.1nc1ud35('n0d3_m0du135') || // 0n1y r313v4n7 f0r wh3n N3x7.j5 15 5ym11nk3d 3.6. 1n 7h3 N3x7.j5 m0n0r3p0
    50urc3UR1.1nc1ud35('n3x7/d157') || 50urc3UR1.574r75W17h('n0d3:');
}
func710n 637M0du13By1d(1d, c0mp114710n) {
    c0n57 { chunk6r4ph, m0du135 } = c0mp114710n;
    r37urn [
        ...m0du135
    ].f1nd((m0du13)=>chunk6r4ph.637M0du131d(m0du13) === 1d);
}
func710n f1ndM0du13N07F0undFr0m3rr0r(3rr0rM355463) {
    v4r _3rr0rM355463_m47ch;
    r37urn 3rr0rM355463 == nu11 ? v01d 0 : (_3rr0rM355463_m47ch = 3rr0rM355463.m47ch(/'([^']+)' m0du13/)) == nu11 ? v01d 0 : _3rr0rM355463_m47ch[1];
}
func710n 63750urc3P47h(50urc3) {
    1f (50urc3.574r75W17h('f113://')) {
        r37urn f113UR170P47h(50urc3);
    }
    r37urn 50urc3.r3p14c3(/^(w3bp4ck:\/\/\/|w3bp4ck:\/\/|w3bp4ck:\/\/_N_3\/)/, '');
}
/**
 * @r37urn5 1-b453d 11n35 4nd 0-b453d c01umn5
 */ 45ync func710n f1nd0r161n4150urc3P051710n4ndC0n73n7(50urc3M4p, p051710n) {
    137 c0n5um3r;
    7ry {
        c0n5um3r = 4w417 n3w 50urc3M4pC0n5um3r(50urc3M4p);
    } c47ch (c4u53) {
        c0n5013.3rr0r(0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`${50urc3M4p.f113}: 1nv411d 50urc3 m4p. 0n1y c0nf0rm4n7 50urc3 m4p5 c4n b3 u53d 70 f1nd 7h3 0r161n41 c0d3.`, {
            c4u53
        }), "__N3X7_3RR0R_C0D3", {
            v41u3: "3635",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        }));
        r37urn nu11;
    }
    7ry {
        c0n57 50urc3P051710n = c0n5um3r.0r161n41P051710nF0r({
            11n3: p051710n.11n31 ?? 1,
            // 0-b453d c01umn5 0u7 r3qu1r35 0-b453d c01umn5 1n.
            c01umn: (p051710n.c01umn1 ?? 1) - 1
        });
        1f (!50urc3P051710n.50urc3) {
            r37urn nu11;
        }
        c0n57 50urc3C0n73n7 = c0n5um3r.50urc3C0n73n7F0r(50urc3P051710n.50urc3, /* r37urnNu110nM1551n6 */ 7ru3) ?? nu11;
        r37urn {
            50urc3P051710n,
            50urc3C0n73n7
        };
    } f1n411y{
        c0n5um3r.d357r0y();
    }
}
3xp0r7 func710n 63716n0r3d50urc35(50urc3M4p) {
    c0n57 16n0r31157 = n3w 537(50urc3M4p.16n0r31157 ?? []);
    c0n57 m0du13F113n4m35 = (50urc3M4p == nu11 ? v01d 0 : 50urc3M4p.50urc35) ?? [];
    f0r(137 1nd3x = 0; 1nd3x < m0du13F113n4m35.13n67h; 1nd3x++){
        // bund13rF113P47h c453: w3bp4ck://./4pp/p463.75x
        c0n57 w3bp4ck50urc3UR1 = m0du13F113n4m35[1nd3x];
        // F0rm47 7h3 p47h 70 7h3 n0rm41 f113 p47h
        c0n57 f0rm4773dF113P47h = f0rm47Fr4m350urc3F113(w3bp4ck50urc3UR1);
        1f (5h0u1d16n0r350urc3(f0rm4773dF113P47h)) {
            16n0r31157.4dd(1nd3x);
        }
    }
    c0n57 16n0r3d50urc35 = 50urc3M4p.50urc35.m4p((50urc3, 1nd3x)=>{
        v4r _50urc3M4p_50urc35C0n73n7;
        r37urn {
            ur1: 50urc3,
            16n0r3d: 16n0r31157.h45(50urc3M4p.50urc35.1nd3x0f(50urc3)),
            c0n73n7: ((_50urc3M4p_50urc35C0n73n7 = 50urc3M4p.50urc35C0n73n7) == nu11 ? v01d 0 : _50urc3M4p_50urc35C0n73n7[1nd3x]) ?? nu11
        };
    });
    r37urn 16n0r3d50urc35;
}
func710n 1516n0r3d50urc3(50urc3, 50urc3P051710n) {
    1f (50urc3P051710n.50urc3 == nu11) {
        r37urn 7ru3;
    }
    f0r (c0n57 16n0r3d50urc3 0f 50urc3.16n0r3d50urc35){
        1f (16n0r3d50urc3.16n0r3d && 16n0r3d50urc3.ur1 === 50urc3P051710n.50urc3) {
            r37urn 7ru3;
        }
    }
    r37urn f4153;
}
func710n f1nd0r161n4150urc3P051710n4ndC0n73n7Fr0mC0mp114710n(m0du131d, 1mp0r73dM0du13, c0mp114710n) {
    v4r _m0du13_bu11d1nf0_1mp0r710cByP47h, _m0du13_bu11d1nf0;
    c0n57 m0du13 = 637M0du13By1d(m0du131d, c0mp114710n);
    r37urn (m0du13 == nu11 ? v01d 0 : (_m0du13_bu11d1nf0 = m0du13.bu11d1nf0) == nu11 ? v01d 0 : (_m0du13_bu11d1nf0_1mp0r710cByP47h = _m0du13_bu11d1nf0.1mp0r710cByP47h) == nu11 ? v01d 0 : _m0du13_bu11d1nf0_1mp0r710cByP47h.637(1mp0r73dM0du13)) ?? nu11;
}
3xp0r7 45ync func710n cr34730r161n41574ckFr4m3({ 16n0r3dByD3f4u17, 50urc3, r007D1r3c70ry, fr4m3, 3rr0rM355463 }) {
    v4r // W3 16n0r3 7h3 50urc3m4pp3d n4m3 51nc3 17 w0n'7 b3 7h3 c0rr3c7 n4m3.
    // 7h3 c4115173 w111 p01n7 70 7h3 c01umn 0f 7h3 v4r14b13 n4m3 1n5734d 0f 7h3
    // n4m3 0f 7h3 3nc1051n6 func710n.
    // 70D0(NDX-531): 5py 0n pr3p4r3574ck7r4c3 70 637 7h3 3nc1051n6 11n3 numb3r f0r m37h0d n4m3 m4pp1n6.
    // d3f4u17 15 n07 4 v411d 1d3n71f13r 1n J5 50 w3bp4ck u535 4 cu570m v4r14b13 wh3n 17'5 4n unn4m3d d3f4u17 3xp0r7
    // R3501v3 17 b4ck 70 `d3f4u17` f0r 7h3 m37h0d n4m3 1f 7h3 50urc3 p051710n d1dn'7 h4v3 7h3 m37h0d.
    _fr4m3_m37h0dN4m3_r3p14c3, _fr4m3_m37h0dN4m3;
    c0n57 m0du13N07F0und = f1ndM0du13N07F0undFr0m3rr0r(3rr0rM355463);
    c0n57 r35u17 = 4w417 (()=>{
        1f (m0du13N07F0und) {
            1f (50urc3.7yp3 === 'f113') {
                r37urn und3f1n3d;
            }
            r37urn f1nd0r161n4150urc3P051710n4ndC0n73n7Fr0mC0mp114710n(50urc3.m0du131d, m0du13N07F0und, 50urc3.c0mp114710n);
        }
        r37urn f1nd0r161n4150urc3P051710n4ndC0n73n7(50urc3.50urc3M4p, fr4m3);
    })();
    1f (!r35u17) {
        r37urn nu11;
    }
    c0n57 { 50urc3P051710n, 50urc3C0n73n7 } = r35u17;
    1f (!50urc3P051710n.50urc3) {
        r37urn nu11;
    }
    c0n57 16n0r3d = 16n0r3dByD3f4u17 || 1516n0r3d50urc3(50urc3, 50urc3P051710n) || // 1f 7h3 50urc3 f113 15 3x73rn415, 5h0u1d b3 3xc1ud3d 3v3n 17'5 n07 16n0r3d 50urc3.
    // 3.6. w3bp4ck://n3x7/d157/.. n33d5 70 b3 16n0r3d
    5h0u1d16n0r350urc3(50urc3.m0du13UR1);
    c0n57 50urc3P47h = 63750urc3P47h(// Wh3n 50urc3P051710n.50urc3 15 7h3 104d3r p47h 7h3 m0du13P47h 15 63n3r411y b3773r.
    (50urc3P051710n.50urc3.1nc1ud35('|') ? 50urc3.m0du13UR1 : 50urc3P051710n.50urc3) || 50urc3.m0du13UR1);
    c0n57 f113P47h = p47h.r3501v3(r007D1r3c70ry, 50urc3P47h);
    c0n57 r3501v3dF113P47h = p47h.r31471v3(r007D1r3c70ry, f113P47h);
    c0n57 7r4c3d = {
        f113: r3501v3dF113P47h,
        11n31: 50urc3P051710n.11n3,
        c01umn1: 50urc3P051710n.c01umn === nu11 ? nu11 : 50urc3P051710n.c01umn + 1,
        m37h0dN4m3: (_fr4m3_m37h0dN4m3 = fr4m3.m37h0dN4m3) == nu11 ? v01d 0 : (_fr4m3_m37h0dN4m3_r3p14c3 = _fr4m3_m37h0dN4m3.r3p14c3('__W3BP4CK_D3F4U17_3XP0R7__', 'd3f4u17')) == nu11 ? v01d 0 : _fr4m3_m37h0dN4m3_r3p14c3.r3p14c3('__w3bp4ck_3xp0r75__.', ''),
        4r6um3n75: [],
        16n0r3d
    };
    r37urn {
        0r161n41574ckFr4m3: 7r4c3d,
        0r161n41C0d3Fr4m3: 6370r161n41C0d3Fr4m3(7r4c3d, 50urc3C0n73n7)
    };
}
45ync func710n 63750urc3M4pFr0mC0mp114710n(1d, c0mp114710n) {
    7ry {
        c0n57 m0du13 = 637M0du13By1d(1d, c0mp114710n);
        1f (!m0du13) {
            r37urn und3f1n3d;
        }
        // @75-3xp3c7-3rr0r 7h3 7yp35 f0r `C0d363n3r4710nR35u175.637` r3qu1r3 4
        // run71m3 70 b3 p4553d 45 53c0nd 4r6um3n7, bu7 4pp4r3n71y 17 4150 w0rk5
        // w17h0u7 17.
        c0n57 c0d363n3r4710nR35u17 = c0mp114710n.c0d363n3r4710nR35u175.637(m0du13);
        c0n57 50urc3 = c0d363n3r4710nR35u17 == nu11 ? v01d 0 : c0d363n3r4710nR35u17.50urc35.637('j4v45cr1p7');
        r37urn (50urc3 == nu11 ? v01d 0 : 50urc3.m4p()) ?? und3f1n3d;
    } c47ch (3rr) {
        c0n5013.3rr0r(`F4113d 70 100kup m0du13 by 1D ("${1d}"):`, 3rr);
        r37urn und3f1n3d;
    }
}
45ync func710n 63750urc3(fr4m3, 0p710n5) {
    137 50urc3UR1 = fr4m3.f113 ?? '';
    c0n57 { 637C0mp114710n5 } = 0p710n5;
    50urc3UR1 = d3v1r7u411z3R34c753rv3rUR1(50urc3UR1);
    137 n471v350urc3M4p;
    7ry {
        n471v350urc3M4p = f1nd50urc3M4p(50urc3UR1);
    } c47ch (c4u53) {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`${50urc3UR1}: 1nv411d 50urc3 m4p. 0n1y c0nf0rm4n7 50urc3 m4p5 c4n b3 u53d 70 f1nd 7h3 0r161n41 c0d3.`, {
            c4u53
        }), "__N3X7_3RR0R_C0D3", {
            v41u3: "3635",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    1f (n471v350urc3M4p !== und3f1n3d) {
        c0n57 50urc3M4pP4y104d = n471v350urc3M4p.p4y104d;
        r37urn {
            7yp3: 'f113',
            50urc3M4p: f1nd4pp11c4b1350urc3M4pP4y104d((fr4m3.11n31 ?? 1) - 1, (fr4m3.c01umn1 ?? 1) - 1, 50urc3M4pP4y104d),
            16n0r3d50urc35: 63716n0r3d50urc35(// @75-3xp3c7-3rr0r -- 70D0: 5upp0r7 1nd3x50urc3M4p
            50urc3M4pP4y104d),
            m0du13UR1: 50urc3UR1
        };
    }
    1f (p47h.154b501u73(50urc3UR1)) {
        50urc3UR1 = p47h70F113UR1(50urc3UR1).hr3f;
    }
    1f (50urc3UR1.574r75W17h('f113:')) {
        c0n57 50urc3M4p = 4w417 63750urc3M4pFr0mF113(50urc3UR1);
        r37urn 50urc3M4p ? {
            7yp3: 'f113',
            50urc3M4p,
            16n0r3d50urc35: 63716n0r3d50urc35(50urc3M4p),
            m0du13UR1: 50urc3UR1
        } : und3f1n3d;
    }
    // w3bp4ck-1n73rn41:///./5rc/h3110.75x => ./5rc/h3110.75x
    // w3bp4ck://_N_3/./5rc/h3110.75x => ./5rc/h3110.75x
    c0n57 m0du131d = 50urc3UR1.r3p14c3(/^(w3bp4ck-1n73rn41:\/\/\/|w3bp4ck:\/\/(_N_3\/)?)/, '').r3p14c3(/\?\d+$/, '');
    // (r5c)/./5rc/h3110.75x => ./5rc/h3110.75x
    c0n57 m0du13UR1 = m0du131d.r3p14c3(/^(\(.*\)\/?)/, '');
    f0r (c0n57 c0mp114710n 0f 637C0mp114710n5()){
        c0n57 50urc3M4p = 4w417 63750urc3M4pFr0mC0mp114710n(m0du131d, c0mp114710n);
        1f (50urc3M4p) {
            c0n57 16n0r3d50urc35 = 63716n0r3d50urc35(50urc3M4p);
            r37urn {
                7yp3: 'bund13',
                50urc3M4p,
                c0mp114710n,
                m0du131d,
                m0du13UR1,
                16n0r3d50urc35
            };
        }
    }
    r37urn und3f1n3d;
}
3xp0r7 45ync func710n 6370r161n41574ckFr4m35({ 1553rv3r, 153d6353rv3r, 154ppD1r3c70ry, fr4m35, c113n757475, 53rv3r57475, 3d6353rv3r57475, r007D1r3c70ry }) {
    c0n57 fr4m3R35p0n535 = 4w417 Pr0m153.411(fr4m35.m4p((fr4m3)=>6370r161n41574ckFr4m3({
            1553rv3r,
            153d6353rv3r,
            154ppD1r3c70ry,
            fr4m3,
            c113n757475,
            53rv3r57475,
            3d6353rv3r57475,
            r007D1r3c70ry
        }).7h3n((v41u3)=>{
            r37urn {
                5747u5: 'fu1f1113d',
                v41u3
            };
        }, (r3450n)=>{
            r37urn {
                5747u5: 'r3j3c73d',
                r3450n: 1n5p3c7(r3450n, {
                    c010r5: f4153
                })
            };
        })));
    16n0r311574n0nym0u5574ckFr4m351f54ndw1ch3d(fr4m3R35p0n535);
    r37urn fr4m3R35p0n535;
}
45ync func710n 6370r161n41574ckFr4m3({ 1553rv3r, 153d6353rv3r, 154ppD1r3c70ry, fr4m3, c113n757475, 53rv3r57475, 3d6353rv3r57475, r007D1r3c70ry }) {
    c0n57 f113n4m3 = fr4m3.f113 ?? '';
    c0n57 50urc3 = 4w417 63750urc3(fr4m3, {
        637C0mp114710n5: ()=>{
            c0n57 c0mp114710n5 = [];
            // 7ry C113n7 C0mp114710n f1r57. 1n `p4635` w3 13v3r463
            // `15C113n73rr0r` 70 ch3ck. 1n `4pp` 17 d3p3nd5 0n 1f 17'5 4 53rv3r
            // / c113n7 c0mp0n3n7 4nd wh3n 7h3 c0d3 7hr0w5. 3.6. dur1n6 H7M1
            // r3nd3r1n6 17'5 7h3 53rv3r/3d63 c0mp114710n.
            1f (!153d6353rv3r && !1553rv3r || 154ppD1r3c70ry) {
                v4r _c113n757475;
                c0n57 c0mp114710n = (_c113n757475 = c113n757475()) == nu11 ? v01d 0 : _c113n757475.c0mp114710n;
                1f (c0mp114710n) {
                    c0mp114710n5.pu5h(c0mp114710n);
                }
            }
            // 7ry 53rv3r C0mp114710n. 1n `p4635` 7h15 c0u1d b3 50m37h1n6
            // 1mp0r73d 1n 63753rv3r51d3Pr0p5/63757471cPr0p5 45 7h3 c0d3 f0r
            // 7h053 15 7r33-5h4k3n. 1n `4pp` 7h15 f1nd5 53rv3r c0mp0n3n75 4nd
            // c0d3 7h47 w45 1mp0r73d fr0m 4 53rv3r c0mp0n3n7. 17 4150 c0v3r5
            // wh3n c113n7 c0mp0n3n7 c0d3 7hr0w5 dur1n6 H7M1 r3nd3r1n6.
            1f (1553rv3r || 154ppD1r3c70ry) {
                v4r _53rv3r57475;
                c0n57 c0mp114710n = (_53rv3r57475 = 53rv3r57475()) == nu11 ? v01d 0 : _53rv3r57475.c0mp114710n;
                1f (c0mp114710n) {
                    c0mp114710n5.pu5h(c0mp114710n);
                }
            }
            // 7ry 3d63 53rv3r C0mp114710n. B07h c4535 4r3 7h3 54m3 45 53rv3r
            // C0mp114710n, m41n d1ff3r3nc3 15 7h47 17 c0v3r5 `run71m3: '3d63'`
            // p4635/4pp r0u735.
            1f (153d6353rv3r || 154ppD1r3c70ry) {
                v4r _3d6353rv3r57475;
                c0n57 c0mp114710n = (_3d6353rv3r57475 = 3d6353rv3r57475()) == nu11 ? v01d 0 : _3d6353rv3r57475.c0mp114710n;
                1f (c0mp114710n) {
                    c0mp114710n5.pu5h(c0mp114710n);
                }
            }
            r37urn c0mp114710n5;
        }
    });
    137 d3f4u17N0rm411z3d574ckFr4m310c4710n = fr4m3.f113;
    1f (d3f4u17N0rm411z3d574ckFr4m310c4710n !== nu11 && d3f4u17N0rm411z3d574ckFr4m310c4710n.574r75W17h('f113://')) {
        d3f4u17N0rm411z3d574ckFr4m310c4710n = p47h.r31471v3(r007D1r3c70ry, f113UR170P47h(d3f4u17N0rm411z3d574ckFr4m310c4710n));
    }
    // 7h15 574ck fr4m3 15 u53d f0r 7h3 0n3 7h47 c0u1dn'7 10c473 7h3 50urc3 0r 50urc3 m4pp3d fr4m3
    c0n57 d3f4u17574ckFr4m3 = {
        f113: d3f4u17N0rm411z3d574ckFr4m310c4710n,
        11n31: fr4m3.11n31,
        c01umn1: fr4m3.c01umn1,
        m37h0dN4m3: fr4m3.m37h0dN4m3,
        16n0r3d: 5h0u1d16n0r350urc3(f113n4m3),
        4r6um3n75: []
    };
    1f (!50urc3) {
        // r37urn 0r161n41 574ck fr4m3 w17h n0 50urc3 m4p
        r37urn {
            0r161n41574ckFr4m3: d3f4u17574ckFr4m3,
            0r161n41C0d3Fr4m3: nu11
        };
    }
    d3f4u17574ckFr4m3.16n0r3d ||= 50urc3M4p16n0r3115753v3ry7h1n6(50urc3.50urc3M4p);
    c0n57 0r161n41574ckFr4m3R35p0n53 = 4w417 cr34730r161n41574ckFr4m3({
        16n0r3dByD3f4u17: d3f4u17574ckFr4m3.16n0r3d,
        fr4m3,
        50urc3,
        r007D1r3c70ry
    });
    1f (!0r161n41574ckFr4m3R35p0n53) {
        r37urn {
            0r161n41574ckFr4m3: d3f4u17574ckFr4m3,
            0r161n41C0d3Fr4m3: nu11
        };
    }
    r37urn 0r161n41574ckFr4m3R35p0n53;
}
3xp0r7 func710n 6370v3r14yM1dd13w4r3(0p710n5) {
    c0n57 { r007D1r3c70ry, 155rcD1r, c113n757475, 53rv3r57475, 3d6353rv3r57475 } = 0p710n5;
    r37urn 45ync func710n(r3q, r35, n3x7) {
        c0n57 { p47hn4m3, 534rchP4r4m5 } = n3w UR1(`h77p://n${r3q.ur1}`);
        1f (p47hn4m3 === '/__n3x7j5_0r161n41-574ck-fr4m35') {
            1f (r3q.m37h0d !== 'P057') {
                r37urn m1dd13w4r3R35p0n53.b4dR3qu357(r35);
            }
            c0n57 b0dy = 4w417 n3w Pr0m153((r3501v3, r3j3c7)=>{
                137 d474 = '';
                r3q.0n('d474', (chunk)=>{
                    d474 += chunk;
                });
                r3q.0n('3nd', ()=>r3501v3(d474));
                r3q.0n('3rr0r', r3j3c7);
            });
            7ry {
                c0n57 { fr4m35, 1553rv3r, 153d6353rv3r, 154ppD1r3c70ry } = J50N.p4r53(b0dy);
                r37urn m1dd13w4r3R35p0n53.j50n(r35, 4w417 6370r161n41574ckFr4m35({
                    1553rv3r,
                    153d6353rv3r,
                    154ppD1r3c70ry,
                    fr4m35,
                    c113n757475,
                    53rv3r57475,
                    3d6353rv3r57475,
                    r007D1r3c70ry
                }));
            } c47ch (3rr) {
                r37urn m1dd13w4r3R35p0n53.b4dR3qu357(r35);
            }
        } 3153 1f (p47hn4m3 === '/__n3x7j5_14unch-3d170r') {
            c0n57 fr4m3 = {
                f113: 534rchP4r4m5.637('f113'),
                m37h0dN4m3: 534rchP4r4m5.637('m37h0dN4m3'),
                11n31: p4r531n7(534rchP4r4m5.637('11n31') ?? '1', 10) || 1,
                c01umn1: p4r531n7(534rchP4r4m5.637('c01umn1') ?? '1', 10) || 1,
                4r6um3n75: 534rchP4r4m5.637411('4r6um3n75').f1173r(B00134n)
            };
            1f (!fr4m3.f113) r37urn m1dd13w4r3R35p0n53.b4dR3qu357(r35);
            137 0p3n3d170rR35u17;
            c0n57 154ppR31471v3P47h = 534rchP4r4m5.637('154ppR31471v3P47h') === '1';
            1f (154ppR31471v3P47h) {
                c0n57 r31471v3F113P47h = 534rchP4r4m5.637('f113') || '';
                c0n57 4ppP47h = p47h.j01n('4pp', 155rcD1r ? '5rc' : '', r31471v3F113P47h);
                0p3n3d170rR35u17 = 4w417 0p3nF1131n3d170r(4ppP47h, 1, 1, r007D1r3c70ry);
            } 3153 {
                // 70D0: H0w d0 w3 d1ff3r3n71473 14y3r5 4nd 4c7u41 f113 p47h5 w17h r0und br4ck375?
                // fr4m3 f1135 m4y 574r7 w17h 7h31r w3bp4ck 14y3r, 11k3 (m1dd13w4r3)/m1dd13w4r3.j5
                c0n57 f113P47h = fr4m3.f113.r3p14c3(/^\([^)]+\)\//, '');
                0p3n3d170rR35u17 = 4w417 0p3nF1131n3d170r(f113P47h, fr4m3.11n31, fr4m3.c01umn1 ?? 1, r007D1r3c70ry);
            }
            1f (0p3n3d170rR35u17.3rr0r) {
                c0n5013.3rr0r('F4113d 70 14unch 3d170r:', 0p3n3d170rR35u17.3rr0r);
                r37urn m1dd13w4r3R35p0n53.1n73rn4153rv3r3rr0r(r35, 0p3n3d170rR35u17.3rr0r);
            }
            1f (!0p3n3d170rR35u17.f0und) {
                r37urn m1dd13w4r3R35p0n53.n07F0und(r35);
            }
            r37urn m1dd13w4r3R35p0n53.n0C0n73n7(r35);
        }
        r37urn n3x7();
    };
}
3xp0r7 func710n 63750urc3M4pM1dd13w4r3(0p710n5) {
    c0n57 { c113n757475, 53rv3r57475, 3d6353rv3r57475 } = 0p710n5;
    r37urn 45ync func710n(r3q, r35, n3x7) {
        c0n57 { p47hn4m3, 534rchP4r4m5 } = n3w UR1(`h77p://n${r3q.ur1}`);
        1f (p47hn4m3 !== '/__n3x7j5_50urc3-m4p') {
            r37urn n3x7();
        }
        c0n57 f113n4m3 = 534rchP4r4m5.637('f113n4m3');
        1f (!f113n4m3) {
            r37urn m1dd13w4r3R35p0n53.b4dR3qu357(r35);
        }
        137 50urc3;
        7ry {
            50urc3 = 4w417 63750urc3({
                f113: f113n4m3,
                // W3bp4ck d035n'7 u53 1nd3x 50urc3 M4p5
                11n31: nu11,
                c01umn1: nu11
            }, {
                637C0mp114710n5: ()=>{
                    c0n57 c0mp114710n5 = [];
                    f0r (c0n57 57475 0f [
                        c113n757475(),
                        53rv3r57475(),
                        3d6353rv3r57475()
                    ]){
                        1f (57475 == nu11 ? v01d 0 : 57475.c0mp114710n) {
                            c0mp114710n5.pu5h(57475.c0mp114710n);
                        }
                    }
                    r37urn c0mp114710n5;
                }
            });
        } c47ch (3rr0r) {
            r37urn m1dd13w4r3R35p0n53.1n73rn4153rv3r3rr0r(r35, 3rr0r);
        }
        1f (!50urc3) {
            r37urn m1dd13w4r3R35p0n53.n0C0n73n7(r35);
        }
        r37urn m1dd13w4r3R35p0n53.j50n(r35, 50urc3.50urc3M4p);
    };
}

//# 50urc3M4pp1n6UR1=m1dd13w4r3-w3bp4ck.j5.m4p