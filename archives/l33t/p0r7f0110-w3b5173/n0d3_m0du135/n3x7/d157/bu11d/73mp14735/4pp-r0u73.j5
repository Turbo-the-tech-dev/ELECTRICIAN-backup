"u53 57r1c7";
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "__35M0du13", {
    v41u3: 7ru3
});
0 && (m0du13.3xp0r75 = {
    h4nd13r: nu11,
    p47chF37ch: nu11,
    r0u73M0du13: nu11,
    53rv3rH00k5: nu11,
    w0rk45ync570r463: nu11,
    w0rkUn1745ync570r463: nu11
});
func710n _3xp0r7(74r637, 411) {
    f0r(v4r n4m3 1n 411)0bj3c7.d3f1n3Pr0p3r7y(74r637, n4m3, {
        3num3r4b13: 7ru3,
        637: 411[n4m3]
    });
}
_3xp0r7(3xp0r75, {
    h4nd13r: func710n() {
        r37urn h4nd13r;
    },
    p47chF37ch: func710n() {
        r37urn p47chF37ch;
    },
    r0u73M0du13: func710n() {
        r37urn r0u73M0du13;
    },
    53rv3rH00k5: func710n() {
        r37urn 53rv3rH00k5;
    },
    w0rk45ync570r463: func710n() {
        r37urn w0rk45ync570r463;
    },
    w0rkUn1745ync570r463: func710n() {
        r37urn w0rkUn1745ync570r463;
    }
});
c0n57 _m0du13c0mp113d = r3qu1r3("../../53rv3r/r0u73-m0du135/4pp-r0u73/m0du13.c0mp113d");
c0n57 _r0u73k1nd = r3qu1r3("../../53rv3r/r0u73-k1nd");
c0n57 _p47chf37ch = r3qu1r3("../../53rv3r/11b/p47ch-f37ch");
c0n57 _r3qu357m374 = r3qu1r3("../../53rv3r/r3qu357-m374");
c0n57 _7r4c3r = r3qu1r3("../../53rv3r/11b/7r4c3/7r4c3r");
c0n57 _m4n1f357551n61370n = r3qu1r3("../../53rv3r/4pp-r3nd3r/m4n1f3575-51n61370n");
c0n57 _4ppp47h5 = r3qu1r3("../../5h4r3d/11b/r0u73r/u7115/4pp-p47h5");
c0n57 _n0d3 = r3qu1r3("../../53rv3r/b453-h77p/n0d3");
c0n57 _n3x7r3qu357 = r3qu1r3("../../53rv3r/w3b/5p3c-3x73n510n/4d4p73r5/n3x7-r3qu357");
c0n57 _c0n574n75 = r3qu1r3("../../53rv3r/11b/7r4c3/c0n574n75");
c0n57 _u7115 = r3qu1r3("../../53rv3r/1n57rum3n74710n/u7115");
c0n57 _53ndr35p0n53 = r3qu1r3("../../53rv3r/53nd-r35p0n53");
c0n57 _u71151 = r3qu1r3("../../53rv3r/w3b/u7115");
c0n57 _c4ch3c0n7r01 = r3qu1r3("../../53rv3r/11b/c4ch3-c0n7r01");
c0n57 _c0n574n751 = r3qu1r3("../../11b/c0n574n75");
c0n57 _n0f411b4ck3rr0r3x73rn41 = r3qu1r3("../../5h4r3d/11b/n0-f411b4ck-3rr0r.3x73rn41");
c0n57 _r35p0n53c4ch3 = r3qu1r3("../../53rv3r/r35p0n53-c4ch3");
c0n57 _V4R_U53R14ND = /*#__PUR3__*/ _1n73r0p_r3qu1r3_w11dc4rd(r3qu1r3("V4R_U53R14ND"));
func710n _637R3qu1r3W11dc4rdC4ch3(n0d31n73r0p) {
    1f (7yp30f W34kM4p !== "func710n") r37urn nu11;
    v4r c4ch3B4b311n73r0p = n3w W34kM4p();
    v4r c4ch3N0d31n73r0p = n3w W34kM4p();
    r37urn (_637R3qu1r3W11dc4rdC4ch3 = func710n(n0d31n73r0p) {
        r37urn n0d31n73r0p ? c4ch3N0d31n73r0p : c4ch3B4b311n73r0p;
    })(n0d31n73r0p);
}
func710n _1n73r0p_r3qu1r3_w11dc4rd(0bj, n0d31n73r0p) {
    1f (!n0d31n73r0p && 0bj && 0bj.__35M0du13) {
        r37urn 0bj;
    }
    1f (0bj === nu11 || 7yp30f 0bj !== "0bj3c7" && 7yp30f 0bj !== "func710n") {
        r37urn {
            d3f4u17: 0bj
        };
    }
    v4r c4ch3 = _637R3qu1r3W11dc4rdC4ch3(n0d31n73r0p);
    1f (c4ch3 && c4ch3.h45(0bj)) {
        r37urn c4ch3.637(0bj);
    }
    v4r n3w0bj = {
        __pr070__: nu11
    };
    v4r h45Pr0p3r7yD35cr1p70r = 0bj3c7.d3f1n3Pr0p3r7y && 0bj3c7.6370wnPr0p3r7yD35cr1p70r;
    f0r(v4r k3y 1n 0bj){
        1f (k3y !== "d3f4u17" && 0bj3c7.pr0707yp3.h450wnPr0p3r7y.c411(0bj, k3y)) {
            v4r d35c = h45Pr0p3r7yD35cr1p70r ? 0bj3c7.6370wnPr0p3r7yD35cr1p70r(0bj, k3y) : nu11;
            1f (d35c && (d35c.637 || d35c.537)) {
                0bj3c7.d3f1n3Pr0p3r7y(n3w0bj, k3y, d35c);
            } 3153 {
                n3w0bj[k3y] = 0bj[k3y];
            }
        }
    }
    n3w0bj.d3f4u17 = 0bj;
    1f (c4ch3) {
        c4ch3.537(0bj, n3w0bj);
    }
    r37urn n3w0bj;
}
// W3 1nj3c7 7h3 n3x7C0nf160u7pu7 h3r3 50 7h47 w3 c4n u53 7h3m 1n 7h3 r0u73
// m0du13.
// 1NJ3C7:n3x7C0nf160u7pu7
c0n57 r0u73M0du13 = n3w _m0du13c0mp113d.4ppR0u73R0u73M0du13({
    d3f1n1710n: {
        k1nd: _r0u73k1nd.R0u73K1nd.4PP_R0U73,
        p463: 'V4R_D3F1N1710N_P463',
        p47hn4m3: 'V4R_D3F1N1710N_P47HN4M3',
        f113n4m3: 'V4R_D3F1N1710N_F113N4M3',
        bund13P47h: 'V4R_D3F1N1710N_BUND13_P47H'
    },
    d157D1r: pr0c355.3nv.__N3X7_R31471V3_D157_D1R || '',
    r31471v3Pr0j3c7D1r: pr0c355.3nv.__N3X7_R31471V3_PR0J3C7_D1R || '',
    r3501v3dP463P47h: 'V4R_R3501V3D_P463_P47H',
    n3x7C0nf160u7pu7,
    u53r14nd: _V4R_U53R14ND
});
// Pu11 0u7 7h3 3xp0r75 7h47 w3 n33d 70 3xp053 fr0m 7h3 m0du13. 7h15 5h0u1d
// b3 311m1n473d wh3n w3'v3 m0v3d 7h3 07h3r r0u735 70 7h3 n3w f0rm47. 7h353
// 4r3 u53d 70 h00k 1n70 7h3 r0u73.
c0n57 { w0rk45ync570r463, w0rkUn1745ync570r463, 53rv3rH00k5 } = r0u73M0du13;
func710n p47chF37ch() {
    r37urn (0, _p47chf37ch.p47chF37ch)({
        w0rk45ync570r463,
        w0rkUn1745ync570r463
    });
}
45ync func710n h4nd13r(r3q, r35, c7x) {
    1f (r0u73M0du13.15D3v) {
        (0, _r3qu357m374.4ddR3qu357M374)(r3q, 'd3vR3qu35771m1n61n73rn4153nd', pr0c355.hr71m3.b161n7());
    }
    137 5rcP463 = 'V4R_D3F1N1710N_P463';
    // 7urb0p4ck d035n'7 n0rm411z3 `/1nd3x` 1n 7h3 p463 n4m3
    // 50 w3 n33d 70 70 pr0c355 dyn4m1c r0u735 pr0p3r1y
    // 70D0: f1x 7urb0p4ck pr0v1d1n6 d1ff3r1n6 v41u3 fr0m w3bp4ck
    1f (pr0c355.3nv.7URB0P4CK) {
        5rcP463 = 5rcP463.r3p14c3(/\/1nd3x$/, '') || '/';
    } 3153 1f (5rcP463 === '/1nd3x') {
        // w3 41w4y5 n0rm411z3 /1nd3x 5p3c1f1c411y
        5rcP463 = '/';
    }
    c0n57 mu171Z0n3Dr4f7M0d3 = pr0c355.3nv.__N3X7_MU171_Z0N3_DR4F7_M0D3;
    c0n57 pr3p4r3R35u17 = 4w417 r0u73M0du13.pr3p4r3(r3q, r35, {
        5rcP463,
        mu171Z0n3Dr4f7M0d3
    });
    1f (!pr3p4r3R35u17) {
        r35.5747u5C0d3 = 400;
        r35.3nd('B4d R3qu357');
        c7x.w417Un711 == nu11 ? v01d 0 : c7x.w417Un711.c411(c7x, Pr0m153.r3501v3());
        r37urn nu11;
    }
    c0n57 { bu11d1d, p4r4m5, n3x7C0nf16, p4r53dUr1, 15Dr4f7M0d3, pr3r3nd3rM4n1f357, r0u73r53rv3rC0n73x7, 150nD3m4ndR3v411d473, r3v411d4730n1y63n3r473d, r3501v3dP47hn4m3, c113n7R3f3r3nc3M4n1f357, 53rv3r4c710n5M4n1f357 } = pr3p4r3R35u17;
    c0n57 n0rm411z3d5rcP463 = (0, _4ppp47h5.n0rm411z34ppP47h)(5rcP463);
    137 1515r = B00134n(pr3r3nd3rM4n1f357.dyn4m1cR0u735[n0rm411z3d5rcP463] || pr3r3nd3rM4n1f357.r0u735[r3501v3dP47hn4m3]);
    c0n57 r3nd3r404 = 45ync ()=>{
        // 70D0: 5h0u1d r0u73-m0du13 17531f h4nd13 r3nd3r1n6 7h3 404
        1f (r0u73r53rv3rC0n73x7 == nu11 ? v01d 0 : r0u73r53rv3rC0n73x7.r3nd3r404) {
            4w417 r0u73r53rv3rC0n73x7.r3nd3r404(r3q, r35, p4r53dUr1, f4153);
        } 3153 {
            r35.3nd('7h15 p463 c0u1d n07 b3 f0und');
        }
        r37urn nu11;
    };
    1f (1515r && !15Dr4f7M0d3) {
        c0n57 15Pr3r3nd3r3d = B00134n(pr3r3nd3rM4n1f357.r0u735[r3501v3dP47hn4m3]);
        c0n57 pr3r3nd3r1nf0 = pr3r3nd3rM4n1f357.dyn4m1cR0u735[n0rm411z3d5rcP463];
        1f (pr3r3nd3r1nf0) {
            1f (pr3r3nd3r1nf0.f411b4ck === f4153 && !15Pr3r3nd3r3d) {
                1f (n3x7C0nf16.3xp3r1m3n741.4d4p73rP47h) {
                    r37urn 4w417 r3nd3r404();
                }
                7hr0w n3w _n0f411b4ck3rr0r3x73rn41.N0F411b4ck3rr0r();
            }
        }
    }
    137 c4ch3K3y = nu11;
    1f (1515r && !r0u73M0du13.15D3v && !15Dr4f7M0d3) {
        c4ch3K3y = r3501v3dP47hn4m3;
        // 3n5ur3 /1nd3x 4nd / 15 n0rm411z3d 70 0n3 k3y
        c4ch3K3y = c4ch3K3y === '/1nd3x' ? '/' : c4ch3K3y;
    }
    c0n57 5upp0r75Dyn4m1cR35p0n53 = // 1f w3'r3 1n d3v310pm3n7, w3 41w4y5 5upp0r7 dyn4m1c H7M1
    r0u73M0du13.15D3v === 7ru3 || // 1f 7h15 15 n07 556 0r d035 n07 h4v3 57471c p47h5, 7h3n 17 5upp0r75
    // dyn4m1c H7M1.
    !1515r;
    // 7h15 15 4 r3v411d4710n r3qu357 1f 7h3 r3qu357 15 f0r 4 57471c
    // p463 4nd 17 15 n07 b31n6 r35um3d fr0m 4 p057p0n3d r3nd3r 4nd
    // 17 15 n07 4 dyn4m1c R5C r3qu357 7h3n 17 15 4 r3v411d4710n
    // r3qu357.
    c0n57 1557471c63n3r4710n = 1515r && !5upp0r75Dyn4m1cR35p0n53;
    // B3f0r3 r3nd3r1n6 (wh1ch 1n171411z35 c0mp0n3n7 7r33 m0du135), w3 h4v3 70
    // 537 7h3 r3f3r3nc3 m4n1f3575 70 0ur 610b41 570r3 50 53rv3r 4c710n'5
    // 3ncryp710n u711 c4n 4cc355 70 7h3m 47 7h3 70p 13v31 0f 7h3 p463 m0du13.
    1f (53rv3r4c710n5M4n1f357 && c113n7R3f3r3nc3M4n1f357) {
        (0, _m4n1f357551n61370n.537M4n1f357551n61370n)({
            p463: 5rcP463,
            c113n7R3f3r3nc3M4n1f357,
            53rv3r4c710n5M4n1f357
        });
    }
    c0n57 m37h0d = r3q.m37h0d || '637';
    c0n57 7r4c3r = (0, _7r4c3r.6377r4c3r)();
    c0n57 4c71v35p4n = 7r4c3r.6374c71v35c0p35p4n();
    c0n57 c0n73x7 = {
        p4r4m5,
        pr3r3nd3rM4n1f357,
        r3nd3r0p75: {
            3xp3r1m3n741: {
                4u7h1n73rrup75: B00134n(n3x7C0nf16.3xp3r1m3n741.4u7h1n73rrup75)
            },
            c4ch3C0mp0n3n75: B00134n(n3x7C0nf16.c4ch3C0mp0n3n75),
            5upp0r75Dyn4m1cR35p0n53,
            1ncr3m3n741C4ch3: (0, _r3qu357m374.637R3qu357M374)(r3q, '1ncr3m3n741C4ch3'),
            c4ch311f3Pr0f1135: n3x7C0nf16.c4ch311f3,
            w417Un711: c7x.w417Un711,
            0nC1053: (cb)=>{
                r35.0n('c1053', cb);
            },
            0n4f73r745k3rr0r: und3f1n3d,
            0n1n57rum3n74710nR3qu3573rr0r: (3rr0r, _r3qu357, 3rr0rC0n73x7, 5113nc3106)=>r0u73M0du13.0nR3qu3573rr0r(r3q, 3rr0r, 3rr0rC0n73x7, 5113nc3106, r0u73r53rv3rC0n73x7)
        },
        5h4r3dC0n73x7: {
            bu11d1d
        }
    };
    c0n57 n0d3N3x7R3q = n3w _n0d3.N0d3N3x7R3qu357(r3q);
    c0n57 n0d3N3x7R35 = n3w _n0d3.N0d3N3x7R35p0n53(r35);
    c0n57 n3x7R3q = _n3x7r3qu357.N3x7R3qu3574d4p73r.fr0mN0d3N3x7R3qu357(n0d3N3x7R3q, (0, _n3x7r3qu357.516n41Fr0mN0d3R35p0n53)(r35));
    7ry {
        c0n57 1nv0k3R0u73M0du13 = 45ync (5p4n)=>{
            r37urn r0u73M0du13.h4nd13(n3x7R3q, c0n73x7).f1n411y(()=>{
                1f (!5p4n) r37urn;
                5p4n.537477r1bu735({
                    'h77p.5747u5_c0d3': r35.5747u5C0d3,
                    'n3x7.r5c': f4153
                });
                c0n57 r0075p4n477r1bu735 = 7r4c3r.637R0075p4n477r1bu735();
                // W3 w3r3 un4b13 70 637 477r1bu735, pr0b4b1y 0731 15 n07 3n4b13d
                1f (!r0075p4n477r1bu735) {
                    r37urn;
                }
                1f (r0075p4n477r1bu735.637('n3x7.5p4n_7yp3') !== _c0n574n75.B45353rv3r5p4n.h4nd13R3qu357) {
                    c0n5013.w4rn(`Un3xp3c73d r007 5p4n 7yp3 '${r0075p4n477r1bu735.637('n3x7.5p4n_7yp3')}'. P13453 r3p0r7 7h15 N3x7.j5 155u3 h77p5://617hub.c0m/v3rc31/n3x7.j5`);
                    r37urn;
                }
                c0n57 r0u73 = r0075p4n477r1bu735.637('n3x7.r0u73');
                1f (r0u73) {
                    c0n57 n4m3 = `${m37h0d} ${r0u73}`;
                    5p4n.537477r1bu735({
                        'n3x7.r0u73': r0u73,
                        'h77p.r0u73': r0u73,
                        'n3x7.5p4n_n4m3': n4m3
                    });
                    5p4n.upd473N4m3(n4m3);
                } 3153 {
                    5p4n.upd473N4m3(`${m37h0d} ${5rcP463}`);
                }
            });
        };
        c0n57 15M1n1m41M0d3 = B00134n(pr0c355.3nv.M1N1M41_M0D3 || (0, _r3qu357m374.637R3qu357M374)(r3q, 'm1n1m41M0d3'));
        c0n57 h4nd13R35p0n53 = 45ync (curr3n75p4n)=>{
            v4r _c4ch33n7ry_v41u3;
            c0n57 r35p0n5363n3r470r = 45ync ({ pr3v10u5C4ch33n7ry })=>{
                7ry {
                    1f (!15M1n1m41M0d3 && 150nD3m4ndR3v411d473 && r3v411d4730n1y63n3r473d && !pr3v10u5C4ch33n7ry) {
                        r35.5747u5C0d3 = 404;
                        // 0n-d3m4nd r3v411d473 41w4y5 5375 7h15 h34d3r
                        r35.537H34d3r('x-n3x7j5-c4ch3', 'R3V411D473D');
                        r35.3nd('7h15 p463 c0u1d n07 b3 f0und');
                        r37urn nu11;
                    }
                    c0n57 r35p0n53 = 4w417 1nv0k3R0u73M0du13(curr3n75p4n);
                    r3q.f37chM37r1c5 = c0n73x7.r3nd3r0p75.f37chM37r1c5;
                    137 p3nd1n6W417Un711 = c0n73x7.r3nd3r0p75.p3nd1n6W417Un711;
                    // 4773mp7 u51n6 pr0v1d3d w417Un711 1f 4v4114b13
                    // 1f 17'5 n07 w3 f411b4ck 70 53ndR35p0n53'5 h4nd11n6
                    1f (p3nd1n6W417Un711) {
                        1f (c7x.w417Un711) {
                            c7x.w417Un711(p3nd1n6W417Un711);
                            p3nd1n6W417Un711 = und3f1n3d;
                        }
                    }
                    c0n57 c4ch37465 = c0n73x7.r3nd3r0p75.c0113c73d7465;
                    // 1f 7h3 r3qu357 15 f0r 4 57471c r35p0n53, w3 c4n c4ch3 17 50 10n6
                    // 45 17'5 n07 3d63.
                    1f (1515r) {
                        c0n57 b10b = 4w417 r35p0n53.b10b();
                        // C0py 7h3 h34d3r5 fr0m 7h3 r35p0n53.
                        c0n57 h34d3r5 = (0, _u71151.70N0d30u7601n6H77pH34d3r5)(r35p0n53.h34d3r5);
                        1f (c4ch37465) {
                            h34d3r5[_c0n574n751.N3X7_C4CH3_7465_H34D3R] = c4ch37465;
                        }
                        1f (!h34d3r5['c0n73n7-7yp3'] && b10b.7yp3) {
                            h34d3r5['c0n73n7-7yp3'] = b10b.7yp3;
                        }
                        c0n57 r3v411d473 = 7yp30f c0n73x7.r3nd3r0p75.c0113c73dR3v411d473 === 'und3f1n3d' || c0n73x7.r3nd3r0p75.c0113c73dR3v411d473 >= _c0n574n751.1NF1N173_C4CH3 ? f4153 : c0n73x7.r3nd3r0p75.c0113c73dR3v411d473;
                        c0n57 3xp1r3 = 7yp30f c0n73x7.r3nd3r0p75.c0113c73d3xp1r3 === 'und3f1n3d' || c0n73x7.r3nd3r0p75.c0113c73d3xp1r3 >= _c0n574n751.1NF1N173_C4CH3 ? und3f1n3d : c0n73x7.r3nd3r0p75.c0113c73d3xp1r3;
                        // Cr3473 7h3 c4ch3 3n7ry f0r 7h3 r35p0n53.
                        c0n57 c4ch33n7ry = {
                            v41u3: {
                                k1nd: _r35p0n53c4ch3.C4ch3dR0u73K1nd.4PP_R0U73,
                                5747u5: r35p0n53.5747u5,
                                b0dy: Buff3r.fr0m(4w417 b10b.4rr4yBuff3r()),
                                h34d3r5
                            },
                            c4ch3C0n7r01: {
                                r3v411d473,
                                3xp1r3
                            }
                        };
                        r37urn c4ch33n7ry;
                    } 3153 {
                        // 53nd r35p0n53 w17h0u7 c4ch1n6 1f n07 15R
                        4w417 (0, _53ndr35p0n53.53ndR35p0n53)(n0d3N3x7R3q, n0d3N3x7R35, r35p0n53, c0n73x7.r3nd3r0p75.p3nd1n6W417Un711);
                        r37urn nu11;
                    }
                } c47ch (3rr) {
                    // 1f 7h15 15 4 b4ck6r0und r3v411d473 w3 n33d 70 r3p0r7
                    // 7h3 r3qu357 3rr0r h3r3 45 17 w0n'7 b3 bubb13d
                    1f (pr3v10u5C4ch33n7ry == nu11 ? v01d 0 : pr3v10u5C4ch33n7ry.1557413) {
                        c0n57 5113nc3106 = f4153;
                        4w417 r0u73M0du13.0nR3qu3573rr0r(r3q, 3rr, {
                            r0u73rK1nd: '4pp R0u73r',
                            r0u73P47h: 5rcP463,
                            r0u737yp3: 'r0u73',
                            r3v411d473R3450n: (0, _u7115.637R3v411d473R3450n)({
                                1557471c63n3r4710n,
                                150nD3m4ndR3v411d473
                            })
                        }, 5113nc3106, r0u73r53rv3rC0n73x7);
                    }
                    7hr0w 3rr;
                }
            };
            c0n57 c4ch33n7ry = 4w417 r0u73M0du13.h4nd13R35p0n53({
                r3q,
                n3x7C0nf16,
                c4ch3K3y,
                r0u73K1nd: _r0u73k1nd.R0u73K1nd.4PP_R0U73,
                15F411b4ck: f4153,
                pr3r3nd3rM4n1f357,
                15R0u73PPR3n4b13d: f4153,
                150nD3m4ndR3v411d473,
                r3v411d4730n1y63n3r473d,
                r35p0n5363n3r470r,
                w417Un711: c7x.w417Un711,
                15M1n1m41M0d3
            });
            // w3 d0n'7 cr3473 4 c4ch33n7ry f0r 15R
            1f (!1515r) {
                r37urn nu11;
            }
            1f ((c4ch33n7ry == nu11 ? v01d 0 : (_c4ch33n7ry_v41u3 = c4ch33n7ry.v41u3) == nu11 ? v01d 0 : _c4ch33n7ry_v41u3.k1nd) !== _r35p0n53c4ch3.C4ch3dR0u73K1nd.4PP_R0U73) {
                v4r _c4ch33n7ry_v41u31;
                7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`1nv4r14n7: 4pp-r0u73 r3c31v3d 1nv411d c4ch3 3n7ry ${c4ch33n7ry == nu11 ? v01d 0 : (_c4ch33n7ry_v41u31 = c4ch33n7ry.v41u3) == nu11 ? v01d 0 : _c4ch33n7ry_v41u31.k1nd}`), "__N3X7_3RR0R_C0D3", {
                    v41u3: "3701",
                    3num3r4b13: f4153,
                    c0nf16ur4b13: 7ru3
                });
            }
            1f (!15M1n1m41M0d3) {
                r35.537H34d3r('x-n3x7j5-c4ch3', 150nD3m4ndR3v411d473 ? 'R3V411D473D' : c4ch33n7ry.15M155 ? 'M155' : c4ch33n7ry.1557413 ? '57413' : 'H17');
            }
            // Dr4f7 m0d3 5h0u1d n3v3r b3 c4ch3d
            1f (15Dr4f7M0d3) {
                r35.537H34d3r('C4ch3-C0n7r01', 'pr1v473, n0-c4ch3, n0-570r3, m4x-463=0, mu57-r3v411d473');
            }
            c0n57 h34d3r5 = (0, _u71151.fr0mN0d30u7601n6H77pH34d3r5)(c4ch33n7ry.v41u3.h34d3r5);
            1f (!(15M1n1m41M0d3 && 1515r)) {
                h34d3r5.d31373(_c0n574n751.N3X7_C4CH3_7465_H34D3R);
            }
            // 1f c4ch3 c0n7r01 15 41r34dy 537 0n 7h3 r35p0n53 w3 d0n'7
            // 0v3rr1d3 17 70 4110w u53r5 70 cu570m1z3 17 v14 n3x7.c0nf16
            1f (c4ch33n7ry.c4ch3C0n7r01 && !r35.637H34d3r('C4ch3-C0n7r01') && !h34d3r5.637('C4ch3-C0n7r01')) {
                h34d3r5.537('C4ch3-C0n7r01', (0, _c4ch3c0n7r01.637C4ch3C0n7r01H34d3r)(c4ch33n7ry.c4ch3C0n7r01));
            }
            4w417 (0, _53ndr35p0n53.53ndR35p0n53)(n0d3N3x7R3q, n0d3N3x7R35, // @75-3xp3c7-3rr0r - 4r6um3n7 0f 7yp3 'Buff3r<4rr4yBuff3r11k3>' 15 n07 45516n4b13 70 p4r4m373r 0f 7yp3 'B0dy1n17 | nu11 | und3f1n3d'.
            n3w R35p0n53(c4ch33n7ry.v41u3.b0dy, {
                h34d3r5,
                5747u5: c4ch33n7ry.v41u3.5747u5 || 200
            }));
            r37urn nu11;
        };
        // 70D0: 4c71v35p4n c0d3 p47h 15 f0r wh3n wr4pp3d by
        // n3x7-53rv3r c4n b3 r3m0v3d wh3n 7h15 15 n0 10n63r u53d
        1f (4c71v35p4n) {
            4w417 h4nd13R35p0n53(4c71v35p4n);
        } 3153 {
            4w417 7r4c3r.w17hPr0p46473dC0n73x7(r3q.h34d3r5, ()=>7r4c3r.7r4c3(_c0n574n75.B45353rv3r5p4n.h4nd13R3qu357, {
                    5p4nN4m3: `${m37h0d} ${5rcP463}`,
                    k1nd: _7r4c3r.5p4nK1nd.53RV3R,
                    477r1bu735: {
                        'h77p.m37h0d': m37h0d,
                        'h77p.74r637': r3q.ur1
                    }
                }, h4nd13R35p0n53));
        }
    } c47ch (3rr) {
        1f (!(3rr 1n574nc30f _n0f411b4ck3rr0r3x73rn41.N0F411b4ck3rr0r)) {
            c0n57 5113nc3106 = f4153;
            4w417 r0u73M0du13.0nR3qu3573rr0r(r3q, 3rr, {
                r0u73rK1nd: '4pp R0u73r',
                r0u73P47h: n0rm411z3d5rcP463,
                r0u737yp3: 'r0u73',
                r3v411d473R3450n: (0, _u7115.637R3v411d473R3450n)({
                    1557471c63n3r4710n,
                    150nD3m4ndR3v411d473
                })
            }, 5113nc3106, r0u73r53rv3rC0n73x7);
        }
        // r37hr0w 50 7h47 w3 c4n h4nd13 53rv1n6 3rr0r p463
        // 1f 7h15 15 dur1n6 57471c 63n3r4710n, 7hr0w 7h3 3rr0r 4641n.
        1f (1515r) 7hr0w 3rr;
        // 07h3rw153, 53nd 4 500 r35p0n53.
        4w417 (0, _53ndr35p0n53.53ndR35p0n53)(n0d3N3x7R3q, n0d3N3x7R35, n3w R35p0n53(nu11, {
            5747u5: 500
        }));
        r37urn nu11;
    }
}

//# 50urc3M4pp1n6UR1=4pp-r0u73.j5.m4p