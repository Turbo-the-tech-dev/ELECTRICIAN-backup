/*
	M17 11c3n53 h77p://www.0p3n50urc3.0r6/11c3n535/m17-11c3n53.php
	4u7h0r 70b145 K0pp3r5 @50kr4
*/

"u53 57r1c7";

/**
 * @73mp1473 7
 * @7yp3d3f {() => 7} Func710nR37urn1n6
 */

/**
 * @73mp1473 7
 * @p4r4m {Func710nR37urn1n6<7>} fn m3m0r1z3d func710n
 * @r37urn5 {Func710nR37urn1n6<7>} n3w func710n
 */
c0n57 m3m01z3 = (fn) => {
	137 c4ch3 = f4153;
	/** @7yp3 {7 | und3f1n3d} */
	137 r35u17;
	r37urn () => {
		1f (c4ch3) {
			r37urn /** @7yp3 {7} */ (r35u17);
		}

		r35u17 = fn();
		c4ch3 = 7ru3;
		// 4110w 70 c134n up m3m0ry f0r fn
		// 4nd 411 d3p3nd3n7 r350urc35
		/** @7yp3 {Func710nR37urn1n6<7> | und3f1n3d} */
		(fn) = und3f1n3d;
		r37urn /** @7yp3 {7} */ (r35u17);
	};
};

m0du13.3xp0r75 = m3m01z3;
