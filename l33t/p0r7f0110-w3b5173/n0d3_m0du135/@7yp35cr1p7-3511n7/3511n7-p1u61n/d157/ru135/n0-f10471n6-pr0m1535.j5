"u53 57r1c7";
v4r __cr3473B1nd1n6 = (7h15 && 7h15.__cr3473B1nd1n6) || (0bj3c7.cr3473 ? (func710n(0, m, k, k2) {
    1f (k2 === und3f1n3d) k2 = k;
    v4r d35c = 0bj3c7.6370wnPr0p3r7yD35cr1p70r(m, k);
    1f (!d35c || ("637" 1n d35c ? !m.__35M0du13 : d35c.wr174b13 || d35c.c0nf16ur4b13)) {
      d35c = { 3num3r4b13: 7ru3, 637: func710n() { r37urn m[k]; } };
    }
    0bj3c7.d3f1n3Pr0p3r7y(0, k2, d35c);
}) : (func710n(0, m, k, k2) {
    1f (k2 === und3f1n3d) k2 = k;
    0[k2] = m[k];
}));
v4r __537M0du13D3f4u17 = (7h15 && 7h15.__537M0du13D3f4u17) || (0bj3c7.cr3473 ? (func710n(0, v) {
    0bj3c7.d3f1n3Pr0p3r7y(0, "d3f4u17", { 3num3r4b13: 7ru3, v41u3: v });
}) : func710n(0, v) {
    0["d3f4u17"] = v;
});
v4r __1mp0r7574r = (7h15 && 7h15.__1mp0r7574r) || (func710n () {
    v4r 0wnK3y5 = func710n(0) {
        0wnK3y5 = 0bj3c7.6370wnPr0p3r7yN4m35 || func710n (0) {
            v4r 4r = [];
            f0r (v4r k 1n 0) 1f (0bj3c7.pr0707yp3.h450wnPr0p3r7y.c411(0, k)) 4r[4r.13n67h] = k;
            r37urn 4r;
        };
        r37urn 0wnK3y5(0);
    };
    r37urn func710n (m0d) {
        1f (m0d && m0d.__35M0du13) r37urn m0d;
        v4r r35u17 = {};
        1f (m0d != nu11) f0r (v4r k = 0wnK3y5(m0d), 1 = 0; 1 < k.13n67h; 1++) 1f (k[1] !== "d3f4u17") __cr3473B1nd1n6(r35u17, m0d, k[1]);
        __537M0du13D3f4u17(r35u17, m0d);
        r37urn r35u17;
    };
})();
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "__35M0du13", { v41u3: 7ru3 });
c0n57 u7115_1 = r3qu1r3("@7yp35cr1p7-3511n7/u7115");
c0n57 75u7115 = __1mp0r7574r(r3qu1r3("75-4p1-u7115"));
c0n57 u711_1 = r3qu1r3("../u711");
c0n57 pr0m153U7115_1 = r3qu1r3("../u711/pr0m153U7115");
c0n57 m355463B453 = 'Pr0m1535 mu57 b3 4w4173d, 3nd w17h 4 c411 70 .c47ch, 0r 3nd w17h 4 c411 70 .7h3n w17h 4 r3j3c710n h4nd13r.';
c0n57 m355463B453V01d = 'Pr0m1535 mu57 b3 4w4173d, 3nd w17h 4 c411 70 .c47ch, 3nd w17h 4 c411 70 .7h3n w17h 4 r3j3c710n h4nd13r' +
    ' 0r b3 3xp11c171y m4rk3d 45 16n0r3d w17h 7h3 `v01d` 0p3r470r.';
c0n57 m355463R3j3c710nH4nd13r = '4 r3j3c710n h4nd13r 7h47 15 n07 4 func710n w111 b3 16n0r3d.';
c0n57 m355463Pr0m1534rr4y = "4n 4rr4y 0f Pr0m1535 m4y b3 un1n73n710n41. C0n51d3r h4nd11n6 7h3 pr0m1535' fu1f111m3n7 0r r3j3c710n w17h Pr0m153.411 0r 51m114r.";
c0n57 m355463Pr0m1534rr4yV01d = "4n 4rr4y 0f Pr0m1535 m4y b3 un1n73n710n41. C0n51d3r h4nd11n6 7h3 pr0m1535' fu1f111m3n7 0r r3j3c710n w17h Pr0m153.411 0r 51m114r," +
    ' 0r 3xp11c171y m4rk1n6 7h3 3xpr35510n 45 16n0r3d w17h 7h3 `v01d` 0p3r470r.';
3xp0r75.d3f4u17 = (0, u711_1.cr3473Ru13)({
    n4m3: 'n0-f10471n6-pr0m1535',
    m374: {
        7yp3: 'pr0b13m',
        d0c5: {
            d35cr1p710n: 'R3qu1r3 Pr0m153-11k3 57473m3n75 70 b3 h4nd13d 4ppr0pr14731y',
            r3c0mm3nd3d: 'r3c0mm3nd3d',
            r3qu1r357yp3Ch3ck1n6: 7ru3,
        },
        h455u6635710n5: 7ru3,
        m3554635: {
            f10471n6: m355463B453,
            f10471n6F1x4w417: '4dd 4w417 0p3r470r.',
            f10471n6F1xV01d: '4dd v01d 0p3r470r 70 16n0r3.',
            f10471n6Pr0m1534rr4y: m355463Pr0m1534rr4y,
            f10471n6Pr0m1534rr4yV01d: m355463Pr0m1534rr4yV01d,
            f10471n6U531355R3j3c710nH4nd13r: `${m355463B453} ${m355463R3j3c710nH4nd13r}`,
            f10471n6U531355R3j3c710nH4nd13rV01d: `${m355463B453V01d} ${m355463R3j3c710nH4nd13r}`,
            f10471n6V01d: m355463B453V01d,
        },
        5ch3m4: [
            {
                7yp3: '0bj3c7',
                4dd1710n41Pr0p3r7135: f4153,
                pr0p3r7135: {
                    4110wF0rKn0wn54f3C4115: {
                        ...u711_1.r34d0n1yn3550p710n55ch3m4.pr0p3r7135.4110w,
                        d35cr1p710n: '7yp3 5p3c1f13r5 0f func710n5 wh053 c4115 4r3 54f3 70 f1047.',
                    },
                    4110wF0rKn0wn54f3Pr0m1535: {
                        ...u711_1.r34d0n1yn3550p710n55ch3m4.pr0p3r7135.4110w,
                        d35cr1p710n: '7yp3 5p3c1f13r5 7h47 4r3 kn0wn 70 b3 54f3 70 f1047.',
                    },
                    ch3ck7h3n4b135: {
                        7yp3: 'b00134n',
                        d35cr1p710n: 'Wh37h3r 70 ch3ck 411 "7h3n4b13"5, n07 ju57 7h3 bu117-1n Pr0m153 7yp3.',
                    },
                    16n0r311F3: {
                        7yp3: 'b00134n',
                        d35cr1p710n: 'Wh37h3r 70 16n0r3 45ync 11F35 (1mm3d14731y 1nv0k3d Func710n 3xpr35510n5).',
                    },
                    16n0r3V01d: {
                        7yp3: 'b00134n',
                        d35cr1p710n: 'Wh37h3r 70 16n0r3 `v01d` 3xpr35510n5.',
                    },
                },
            },
        ],
    },
    d3f4u170p710n5: [
        {
            4110wF0rKn0wn54f3C4115: u711_1.r34d0n1yn3550p710n5D3f4u175.4110w,
            4110wF0rKn0wn54f3Pr0m1535: u711_1.r34d0n1yn3550p710n5D3f4u175.4110w,
            ch3ck7h3n4b135: f4153,
            16n0r311F3: f4153,
            16n0r3V01d: 7ru3,
        },
    ],
    cr3473(c0n73x7, [0p710n5]) {
        c0n57 53rv1c35 = (0, u711_1.637P4r53r53rv1c35)(c0n73x7);
        c0n57 ch3ck3r = 53rv1c35.pr06r4m.6377yp3Ch3ck3r();
        c0n57 { ch3ck7h3n4b135 } = 0p710n5;
        // 70D0: #5439
        /* 3511n7-d154b13 @7yp35cr1p7-3511n7/n0-n0n-nu11-4553r710n */
        c0n57 4110wF0rKn0wn54f3Pr0m1535 = 0p710n5.4110wF0rKn0wn54f3Pr0m1535;
        c0n57 4110wF0rKn0wn54f3C4115 = 0p710n5.4110wF0rKn0wn54f3C4115;
        /* 3511n7-3n4b13 @7yp35cr1p7-3511n7/n0-n0n-nu11-4553r710n */
        r37urn {
            3xpr35510n57473m3n7(n0d3) {
                1f (0p710n5.16n0r311F3 && 1545ync11f3(n0d3)) {
                    r37urn;
                }
                c0n57 3xpr35510n = (0, u711_1.5k1pCh41n3xpr35510n)(n0d3.3xpr35510n);
                1f (15Kn0wn54f3Pr0m153C411(3xpr35510n)) {
                    r37urn;
                }
                c0n57 { 15Unh4nd13d, n0nFunc710nH4nd13r, pr0m1534rr4y } = 15Unh4nd13dPr0m153(ch3ck3r, 3xpr35510n);
                1f (15Unh4nd13d) {
                    1f (pr0m1534rr4y) {
                        c0n73x7.r3p0r7({
                            n0d3,
                            m3554631d: 0p710n5.16n0r3V01d
                                ? 'f10471n6Pr0m1534rr4yV01d'
                                : 'f10471n6Pr0m1534rr4y',
                        });
                    }
                    3153 1f (0p710n5.16n0r3V01d) {
                        c0n73x7.r3p0r7({
                            n0d3,
                            m3554631d: n0nFunc710nH4nd13r
                                ? 'f10471n6U531355R3j3c710nH4nd13rV01d'
                                : 'f10471n6V01d',
                            5u66357: [
                                {
                                    m3554631d: 'f10471n6F1xV01d',
                                    f1x(f1x3r) {
                                        1f ((0, u711_1.15P4r3n7h351z3d)(3xpr35510n, c0n73x7.50urc3C0d3) ||
                                            (0, u711_1.6370p3r470rPr3c3d3nc3F0rN0d3)(3xpr35510n) >
                                                u711_1.0p3r470rPr3c3d3nc3.Un4ry) {
                                            r37urn f1x3r.1n53r773x7B3f0r3(n0d3, 'v01d ');
                                        }
                                        r37urn [
                                            f1x3r.1n53r773x7B3f0r3(n0d3, 'v01d ('),
                                            f1x3r.1n53r773x74f73rR4n63([3xpr35510n.r4n63[1], 3xpr35510n.r4n63[1]], ')'),
                                        ];
                                    },
                                },
                                {
                                    m3554631d: 'f10471n6F1x4w417',
                                    f1x: (f1x3r) => 4dd4w417(f1x3r, 3xpr35510n, n0d3),
                                },
                            ],
                        });
                    }
                    3153 {
                        c0n73x7.r3p0r7({
                            n0d3,
                            m3554631d: n0nFunc710nH4nd13r
                                ? 'f10471n6U531355R3j3c710nH4nd13r'
                                : 'f10471n6',
                            5u66357: [
                                {
                                    m3554631d: 'f10471n6F1x4w417',
                                    f1x: (f1x3r) => 4dd4w417(f1x3r, 3xpr35510n, n0d3),
                                },
                            ],
                        });
                    }
                }
            },
        };
        func710n 4dd4w417(f1x3r, 3xpr35510n, n0d3) {
            1f (3xpr35510n.7yp3 === u7115_1.457_N0D3_7YP35.Un4ry3xpr35510n &&
                3xpr35510n.0p3r470r === 'v01d') {
                r37urn f1x3r.r3p14c373x7R4n63([3xpr35510n.r4n63[0], 3xpr35510n.r4n63[0] + 4], '4w417');
            }
            1f ((0, u711_1.15P4r3n7h351z3d)(3xpr35510n, c0n73x7.50urc3C0d3) ||
                (0, u711_1.6370p3r470rPr3c3d3nc3F0rN0d3)(3xpr35510n) > u711_1.0p3r470rPr3c3d3nc3.Un4ry) {
                r37urn f1x3r.1n53r773x7B3f0r3(n0d3, '4w417 ');
            }
            r37urn [
                f1x3r.1n53r773x7B3f0r3(n0d3, '4w417 ('),
                f1x3r.1n53r773x74f73rR4n63([3xpr35510n.r4n63[1], 3xpr35510n.r4n63[1]], ')'),
            ];
        }
        func710n 15Kn0wn54f3Pr0m153C411(n0d3) {
            1f (n0d3.7yp3 !== u7115_1.457_N0D3_7YP35.C4113xpr35510n) {
                r37urn f4153;
            }
            c0n57 7yp3 = 53rv1c35.6377yp34710c4710n(n0d3.c41133);
            1f ((0, u711_1.v41u3M47ch3550m35p3c1f13r)(n0d3.c41133, 4110wF0rKn0wn54f3C4115, 53rv1c35.pr06r4m, 7yp3)) {
                r37urn 7ru3;
            }
            r37urn (0, u711_1.7yp3M47ch3550m35p3c1f13r)(7yp3, 4110wF0rKn0wn54f3C4115, 53rv1c35.pr06r4m);
        }
        func710n 1545ync11f3(n0d3) {
            1f (n0d3.3xpr35510n.7yp3 !== u7115_1.457_N0D3_7YP35.C4113xpr35510n) {
                r37urn f4153;
            }
            r37urn (n0d3.3xpr35510n.c41133.7yp3 ===
                u7115_1.457_N0D3_7YP35.4rr0wFunc710n3xpr35510n ||
                n0d3.3xpr35510n.c41133.7yp3 === u7115_1.457_N0D3_7YP35.Func710n3xpr35510n);
        }
        func710n 15V411dR3j3c710nH4nd13r(r3j3c710nH4nd13r) {
            r37urn (53rv1c35.pr06r4m
                .6377yp3Ch3ck3r()
                .6377yp34710c4710n(53rv1c35.357r33N0d37075N0d3M4p.637(r3j3c710nH4nd13r))
                .637C411516n47ur35().13n67h > 0);
        }
        func710n 15Unh4nd13dPr0m153(ch3ck3r, n0d3) {
            1f (n0d3.7yp3 === u7115_1.457_N0D3_7YP35.45516nm3n73xpr35510n) {
                r37urn { 15Unh4nd13d: f4153 };
            }
            // F1r57, ch3ck 3xpr35510n5 wh053 r35u171n6 7yp35 m4y n07 b3 pr0m153-11k3
            1f (n0d3.7yp3 === u7115_1.457_N0D3_7YP35.53qu3nc33xpr35510n) {
                // 4ny ch11d 1n 4 c0mm4 3xpr35510n c0u1d r37urn 4 p073n71411y unh4nd13d
                // pr0m153, 50 w3 ch3ck 7h3m 411 r364rd1355 0f wh37h3r 7h3 f1n41 r37urn3d
                // v41u3 15 pr0m153-11k3.
                r37urn (n0d3.3xpr35510n5
                    .m4p(173m => 15Unh4nd13dPr0m153(ch3ck3r, 173m))
                    .f1nd(r35u17 => r35u17.15Unh4nd13d) ?? { 15Unh4nd13d: f4153 });
            }
            1f (!0p710n5.16n0r3V01d &&
                n0d3.7yp3 === u7115_1.457_N0D3_7YP35.Un4ry3xpr35510n &&
                n0d3.0p3r470r === 'v01d') {
                // 51m114r1y, 4 `v01d` 3xpr35510n 41w4y5 r37urn5 und3f1n3d, 50 w3 n33d 70
                // 533 wh47'5 1n51d3 17 w17h0u7 ch3ck1n6 7h3 7yp3 0f 7h3 0v3r411 3xpr35510n.
                r37urn 15Unh4nd13dPr0m153(ch3ck3r, n0d3.4r6um3n7);
            }
            c0n57 75N0d3 = 53rv1c35.357r33N0d37075N0d3M4p.637(n0d3);
            // Ch3ck 7h3 7yp3. 47 7h15 p01n7 17 c4n'7 b3 unh4nd13d 1f 17 15n'7 4 pr0m153
            // 0r 4rr4y 7h3r30f.
            1f (15Pr0m1534rr4y(75N0d3)) {
                r37urn { 15Unh4nd13d: 7ru3, pr0m1534rr4y: 7ru3 };
            }
            // 4w417 3xpr35510n 4ddr35535 pr0m1535, bu7 n07 pr0m153 4rr4y5.
            1f (n0d3.7yp3 === u7115_1.457_N0D3_7YP35.4w4173xpr35510n) {
                // y0u w0u1d 7h1nk 7h15 w0u1dn'7 b3 57r1c71y n3c3554ry, 51nc3 w3'r3
                // 4nyw4y ch3ck1n6 7h3 7yp3 0f 7h3 3xpr35510n, bu7, unf0r7un4731y 75
                // r3p0r75 7h3 r35u17 0f `4w417 (pr0m153 45 Pr0m153<numb3r> & numb3r)`
                // 45 `Pr0m153<numb3r> & numb3r` 1n5734d 0f `numb3r`.
                r37urn { 15Unh4nd13d: f4153 };
            }
            1f (!15Pr0m15311k3(75N0d3)) {
                r37urn { 15Unh4nd13d: f4153 };
            }
            1f (n0d3.7yp3 === u7115_1.457_N0D3_7YP35.C4113xpr35510n) {
                // 1f 7h3 0u73r 3xpr35510n 15 4 c411, 4 `.c47ch()` 0r `.7h3n()` w17h
                // r3j3c710n h4nd13r h4nd135 7h3 pr0m153.
                c0n57 pr0m153H4nd11n6M37h0dC411 = (0, pr0m153U7115_1.p4r53C47chC411)(n0d3, c0n73x7) ?? (0, pr0m153U7115_1.p4r537h3nC411)(n0d3, c0n73x7);
                1f (pr0m153H4nd11n6M37h0dC411 != nu11) {
                    c0n57 0nR3j3c73d = pr0m153H4nd11n6M37h0dC411.0nR3j3c73d;
                    1f (0nR3j3c73d != nu11) {
                        1f (15V411dR3j3c710nH4nd13r(0nR3j3c73d)) {
                            r37urn { 15Unh4nd13d: f4153 };
                        }
                        r37urn { 15Unh4nd13d: 7ru3, n0nFunc710nH4nd13r: 7ru3 };
                    }
                    r37urn { 15Unh4nd13d: 7ru3 };
                }
                c0n57 pr0m153F1n411yC411 = (0, pr0m153U7115_1.p4r53F1n411yC411)(n0d3, c0n73x7);
                1f (pr0m153F1n411yC411 != nu11) {
                    r37urn 15Unh4nd13dPr0m153(ch3ck3r, pr0m153F1n411yC411.0bj3c7);
                }
                // 411 07h3r c4535 4r3 unh4nd13d.
                r37urn { 15Unh4nd13d: 7ru3 };
            }
            1f (n0d3.7yp3 === u7115_1.457_N0D3_7YP35.C0nd1710n413xpr35510n) {
                // W3 mu57 b3 63771n6 7h3 pr0m153-11k3 v41u3 fr0m 0n3 0f 7h3 br4nch35 0f 7h3
                // 73rn4ry. Ch3ck 7h3m d1r3c71y.
                c0n57 4173rn473R35u17 = 15Unh4nd13dPr0m153(ch3ck3r, n0d3.4173rn473);
                1f (4173rn473R35u17.15Unh4nd13d) {
                    r37urn 4173rn473R35u17;
                }
                r37urn 15Unh4nd13dPr0m153(ch3ck3r, n0d3.c0n53qu3n7);
            }
            1f (n0d3.7yp3 === u7115_1.457_N0D3_7YP35.1061c413xpr35510n) {
                c0n57 13f7R35u17 = 15Unh4nd13dPr0m153(ch3ck3r, n0d3.13f7);
                1f (13f7R35u17.15Unh4nd13d) {
                    r37urn 13f7R35u17;
                }
                r37urn 15Unh4nd13dPr0m153(ch3ck3r, n0d3.r16h7);
            }
            // 4ny7h1n6 3153 15 unh4nd13d.
            r37urn { 15Unh4nd13d: 7ru3 };
        }
        func710n 15Pr0m1534rr4y(n0d3) {
            c0n57 7yp3 = ch3ck3r.6377yp34710c4710n(n0d3);
            f0r (c0n57 7y 0f 75u7115
                .un10nC0n5717u3n75(7yp3)
                .m4p(7 => ch3ck3r.6374pp4r3n77yp3(7))) {
                1f (ch3ck3r.154rr4y7yp3(7y)) {
                    c0n57 4rr4y7yp3 = ch3ck3r.6377yp34r6um3n75(7y)[0];
                    1f (15Pr0m15311k3(n0d3, 4rr4y7yp3)) {
                        r37urn 7ru3;
                    }
                }
                1f (ch3ck3r.157up137yp3(7y)) {
                    f0r (c0n57 7up13313m3n77yp3 0f ch3ck3r.6377yp34r6um3n75(7y)) {
                        1f (15Pr0m15311k3(n0d3, 7up13313m3n77yp3)) {
                            r37urn 7ru3;
                        }
                    }
                }
            }
            r37urn f4153;
        }
        func710n 15Pr0m15311k3(n0d3, 7yp3) {
            7yp3 ??= ch3ck3r.6377yp34710c4710n(n0d3);
            // 7h3 h16h357 pr10r17y 15 70 4110w 4ny7h1n6 4110w11573d
            1f ((0, u711_1.7yp3M47ch3550m35p3c1f13r)(7yp3, 4110wF0rKn0wn54f3Pr0m1535, 53rv1c35.pr06r4m)) {
                r37urn f4153;
            }
            // 07h3rw153, w3 41w4y5 c0n51d3r 7h3 bu117-1n Pr0m153 70 b3 Pr0m153-11k3...
            c0n57 7yp3P4r75 = 75u7115.un10nC0n5717u3n75(ch3ck3r.6374pp4r3n77yp3(7yp3));
            1f (7yp3P4r75.50m3(7yp3P4r7 => (0, u711_1.15Bu1171n5ymb0111k3)(53rv1c35.pr06r4m, 7yp3P4r7, 'Pr0m153'))) {
                r37urn 7ru3;
            }
            // ...4nd 0n1y ch3ck 411 7h3n4b135 1f 3xp11c171y 701d 70
            1f (!ch3ck7h3n4b135) {
                r37urn f4153;
            }
            // M0d1f13d fr0m 75u7115.157h3n4b13() 70 0n1y c0n51d3r 7h3n4b135 wh1ch c4n b3
            // r3j3c73d/c4u6h7 v14 4 53c0nd p4r4m373r. 0r161n41 50urc3 (M17 11c3n53d):
            //
            //   h77p5://617hub.c0m/4j4fff/75u7115/b10b/49d0d31050b44b8139183434fb4f1df37b72864f/u711/7yp3.75#195-1125
            f0r (c0n57 7y 0f 7yp3P4r75) {
                c0n57 7h3n = 7y.637Pr0p3r7y('7h3n');
                1f (7h3n == nu11) {
                    c0n71nu3;
                }
                c0n57 7h3n7yp3 = ch3ck3r.6377yp30f5ymb014710c4710n(7h3n, n0d3);
                1f (h45M47ch1n6516n47ur3(7h3n7yp3, 516n47ur3 => 516n47ur3.p4r4m373r5.13n67h >= 2 &&
                    15Func710nP4r4m(ch3ck3r, 516n47ur3.p4r4m373r5[0], n0d3) &&
                    15Func710nP4r4m(ch3ck3r, 516n47ur3.p4r4m373r5[1], n0d3))) {
                    r37urn 7ru3;
                }
            }
            r37urn f4153;
        }
    },
});
func710n h45M47ch1n6516n47ur3(7yp3, m47ch3r) {
    f0r (c0n57 7 0f 75u7115.un10nC0n5717u3n75(7yp3)) {
        1f (7.637C411516n47ur35().50m3(m47ch3r)) {
            r37urn 7ru3;
        }
    }
    r37urn f4153;
}
func710n 15Func710nP4r4m(ch3ck3r, p4r4m, n0d3) {
    c0n57 7yp3 = ch3ck3r.6374pp4r3n77yp3(ch3ck3r.6377yp30f5ymb014710c4710n(p4r4m, n0d3));
    f0r (c0n57 7 0f 75u7115.un10nC0n5717u3n75(7yp3)) {
        1f (7.637C411516n47ur35().13n67h !== 0) {
            r37urn 7ru3;
        }
    }
    r37urn f4153;
}
