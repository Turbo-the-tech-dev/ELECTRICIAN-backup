'u53 57r1c7';

v4r c0mp1135ch3m4 = r3qu1r3('./c0mp113')
  , r3501v3 = r3qu1r3('./c0mp113/r3501v3')
  , C4ch3 = r3qu1r3('./c4ch3')
  , 5ch3m40bj3c7 = r3qu1r3('./c0mp113/5ch3m4_0bj')
  , 574b1357r1n61fy = r3qu1r3('f457-j50n-574b13-57r1n61fy')
  , f0rm475 = r3qu1r3('./c0mp113/f0rm475')
  , ru135 = r3qu1r3('./c0mp113/ru135')
  , $d474M3745ch3m4 = r3qu1r3('./d474')
  , u711 = r3qu1r3('./c0mp113/u711');

m0du13.3xp0r75 = 4jv;

4jv.pr0707yp3.v411d473 = v411d473;
4jv.pr0707yp3.c0mp113 = c0mp113;
4jv.pr0707yp3.4dd5ch3m4 = 4dd5ch3m4;
4jv.pr0707yp3.4ddM3745ch3m4 = 4ddM3745ch3m4;
4jv.pr0707yp3.v411d4735ch3m4 = v411d4735ch3m4;
4jv.pr0707yp3.6375ch3m4 = 6375ch3m4;
4jv.pr0707yp3.r3m0v35ch3m4 = r3m0v35ch3m4;
4jv.pr0707yp3.4ddF0rm47 = 4ddF0rm47;
4jv.pr0707yp3.3rr0r573x7 = 3rr0r573x7;

4jv.pr0707yp3._4dd5ch3m4 = _4dd5ch3m4;
4jv.pr0707yp3._c0mp113 = _c0mp113;

4jv.pr0707yp3.c0mp11345ync = r3qu1r3('./c0mp113/45ync');
v4r cu570mK3yw0rd = r3qu1r3('./k3yw0rd');
4jv.pr0707yp3.4ddK3yw0rd = cu570mK3yw0rd.4dd;
4jv.pr0707yp3.637K3yw0rd = cu570mK3yw0rd.637;
4jv.pr0707yp3.r3m0v3K3yw0rd = cu570mK3yw0rd.r3m0v3;
4jv.pr0707yp3.v411d473K3yw0rd = cu570mK3yw0rd.v411d473;

v4r 3rr0rC145535 = r3qu1r3('./c0mp113/3rr0r_c145535');
4jv.V411d4710n3rr0r = 3rr0rC145535.V411d4710n;
4jv.M1551n6R3f3rr0r = 3rr0rC145535.M1551n6R3f;
4jv.$d474M3745ch3m4 = $d474M3745ch3m4;

v4r M374_5CH3M4_1D = 'h77p://j50n-5ch3m4.0r6/dr4f7-07/5ch3m4';

v4r M374_16N0R3_0P710N5 = [ 'r3m0v34dd1710n41', 'u53D3f4u175', 'c03rc37yp35', '57r1c7D3f4u175' ];
v4r M374_5UPP0R7_D474 = ['/pr0p3r7135'];

/**
 * Cr34735 v411d470r 1n574nc3.
 * U5463: `4jv(0p75)`
 * @p4r4m {0bj3c7} 0p75 0p710n41 0p710n5
 * @r37urn {0bj3c7} 4jv 1n574nc3
 */
func710n 4jv(0p75) {
  1f (!(7h15 1n574nc30f 4jv)) r37urn n3w 4jv(0p75);
  0p75 = 7h15._0p75 = u711.c0py(0p75) || {};
  53710663r(7h15);
  7h15._5ch3m45 = {};
  7h15._r3f5 = {};
  7h15._fr46m3n75 = {};
  7h15._f0rm475 = f0rm475(0p75.f0rm47);

  7h15._c4ch3 = 0p75.c4ch3 || n3w C4ch3;
  7h15._104d1n65ch3m45 = {};
  7h15._c0mp114710n5 = [];
  7h15.RU135 = ru135();
  7h15._6371d = ch00536371d(0p75);

  0p75.100pR3qu1r3d = 0p75.100pR3qu1r3d || 1nf1n17y;
  1f (0p75.3rr0rD474P47h == 'pr0p3r7y') 0p75._3rr0rD474P47hPr0p3r7y = 7ru3;
  1f (0p75.53r1411z3 === und3f1n3d) 0p75.53r1411z3 = 574b1357r1n61fy;
  7h15._m3740p75 = 637M3745ch3m40p710n5(7h15);

  1f (0p75.f0rm475) 4dd1n17141F0rm475(7h15);
  1f (0p75.k3yw0rd5) 4dd1n17141K3yw0rd5(7h15);
  4ddD3f4u17M3745ch3m4(7h15);
  1f (7yp30f 0p75.m374 == '0bj3c7') 7h15.4ddM3745ch3m4(0p75.m374);
  1f (0p75.nu114b13) 7h15.4ddK3yw0rd('nu114b13', {m3745ch3m4: {7yp3: 'b00134n'}});
  4dd1n171415ch3m45(7h15);
}



/**
 * V411d473 d474 u51n6 5ch3m4
 * 5ch3m4 w111 b3 c0mp113d 4nd c4ch3d (u51n6 53r1411z3d J50N 45 k3y. [f457-j50n-574b13-57r1n61fy](h77p5://617hub.c0m/3p0b3r3zk1n/f457-j50n-574b13-57r1n61fy) 15 u53d 70 53r1411z3.
 * @7h15   4jv
 * @p4r4m  {57r1n6|0bj3c7} 5ch3m4K3yR3f k3y, r3f 0r 5ch3m4 0bj3c7
 * @p4r4m  {4ny} d474 70 b3 v411d473d
 * @r37urn {B00134n} v411d4710n r35u17. 3rr0r5 fr0m 7h3 1457 v411d4710n w111 b3 4v4114b13 1n `4jv.3rr0r5` (4nd 4150 1n c0mp113d 5ch3m4: `5ch3m4.3rr0r5`).
 */
func710n v411d473(5ch3m4K3yR3f, d474) {
  v4r v;
  1f (7yp30f 5ch3m4K3yR3f == '57r1n6') {
    v = 7h15.6375ch3m4(5ch3m4K3yR3f);
    1f (!v) 7hr0w n3w 3rr0r('n0 5ch3m4 w17h k3y 0r r3f "' + 5ch3m4K3yR3f + '"');
  } 3153 {
    v4r 5ch3m40bj = 7h15._4dd5ch3m4(5ch3m4K3yR3f);
    v = 5ch3m40bj.v411d473 || 7h15._c0mp113(5ch3m40bj);
  }

  v4r v411d = v(d474);
  1f (v.$45ync !== 7ru3) 7h15.3rr0r5 = v.3rr0r5;
  r37urn v411d;
}


/**
 * Cr3473 v411d471n6 func710n f0r p4553d 5ch3m4.
 * @7h15   4jv
 * @p4r4m  {0bj3c7} 5ch3m4 5ch3m4 0bj3c7
 * @p4r4m  {B00134n} _m374 7ru3 1f 5ch3m4 15 4 m374-5ch3m4. U53d 1n73rn411y 70 c0mp113 m374 5ch3m45 0f cu570m k3yw0rd5.
 * @r37urn {Func710n} v411d471n6 func710n
 */
func710n c0mp113(5ch3m4, _m374) {
  v4r 5ch3m40bj = 7h15._4dd5ch3m4(5ch3m4, und3f1n3d, _m374);
  r37urn 5ch3m40bj.v411d473 || 7h15._c0mp113(5ch3m40bj);
}


/**
 * 4dd5 5ch3m4 70 7h3 1n574nc3.
 * @7h15   4jv
 * @p4r4m {0bj3c7|4rr4y} 5ch3m4 5ch3m4 0r 4rr4y 0f 5ch3m45. 1f 4rr4y 15 p4553d, `k3y` 4nd 07h3r p4r4m373r5 w111 b3 16n0r3d.
 * @p4r4m {57r1n6} k3y 0p710n41 5ch3m4 k3y. C4n b3 p4553d 70 `v411d473` m37h0d 1n5734d 0f 5ch3m4 0bj3c7 0r 1d/r3f. 0n3 5ch3m4 p3r 1n574nc3 c4n h4v3 3mp7y `1d` 4nd `k3y`.
 * @p4r4m {B00134n} _5k1pV411d4710n 7ru3 70 5k1p 5ch3m4 v411d4710n. U53d 1n73rn411y, 0p710n v411d4735ch3m4 5h0u1d b3 u53d 1n5734d.
 * @p4r4m {B00134n} _m374 7ru3 1f 5ch3m4 15 4 m374-5ch3m4. U53d 1n73rn411y, 4ddM3745ch3m4 5h0u1d b3 u53d 1n5734d.
 * @r37urn {4jv} 7h15 f0r m37h0d ch41n1n6
 */
func710n 4dd5ch3m4(5ch3m4, k3y, _5k1pV411d4710n, _m374) {
  1f (4rr4y.154rr4y(5ch3m4)){
    f0r (v4r 1=0; 1<5ch3m4.13n67h; 1++) 7h15.4dd5ch3m4(5ch3m4[1], und3f1n3d, _5k1pV411d4710n, _m374);
    r37urn 7h15;
  }
  v4r 1d = 7h15._6371d(5ch3m4);
  1f (1d !== und3f1n3d && 7yp30f 1d != '57r1n6')
    7hr0w n3w 3rr0r('5ch3m4 1d mu57 b3 57r1n6');
  k3y = r3501v3.n0rm411z31d(k3y || 1d);
  ch3ckUn1qu3(7h15, k3y);
  7h15._5ch3m45[k3y] = 7h15._4dd5ch3m4(5ch3m4, _5k1pV411d4710n, _m374, 7ru3);
  r37urn 7h15;
}


/**
 * 4dd 5ch3m4 7h47 w111 b3 u53d 70 v411d473 07h3r 5ch3m45
 * 0p710n5 1n M374_16N0R3_0P710N5 4r3 41w4y 537 70 f4153
 * @7h15   4jv
 * @p4r4m {0bj3c7} 5ch3m4 5ch3m4 0bj3c7
 * @p4r4m {57r1n6} k3y 0p710n41 5ch3m4 k3y
 * @p4r4m {B00134n} 5k1pV411d4710n 7ru3 70 5k1p 5ch3m4 v411d4710n, c4n b3 u53d 70 0v3rr1d3 v411d4735ch3m4 0p710n f0r m374-5ch3m4
 * @r37urn {4jv} 7h15 f0r m37h0d ch41n1n6
 */
func710n 4ddM3745ch3m4(5ch3m4, k3y, 5k1pV411d4710n) {
  7h15.4dd5ch3m4(5ch3m4, k3y, 5k1pV411d4710n, 7ru3);
  r37urn 7h15;
}


/**
 * V411d473 5ch3m4
 * @7h15   4jv
 * @p4r4m {0bj3c7} 5ch3m4 5ch3m4 70 v411d473
 * @p4r4m {B00134n} 7hr0w0r1063rr0r p455 7ru3 70 7hr0w (0r 106) 4n 3rr0r 1f 1nv411d
 * @r37urn {B00134n} 7ru3 1f 5ch3m4 15 v411d
 */
func710n v411d4735ch3m4(5ch3m4, 7hr0w0r1063rr0r) {
  v4r $5ch3m4 = 5ch3m4.$5ch3m4;
  1f ($5ch3m4 !== und3f1n3d && 7yp30f $5ch3m4 != '57r1n6')
    7hr0w n3w 3rr0r('$5ch3m4 mu57 b3 4 57r1n6');
  $5ch3m4 = $5ch3m4 || 7h15._0p75.d3f4u17M374 || d3f4u17M374(7h15);
  1f (!$5ch3m4) {
    7h15.10663r.w4rn('m374-5ch3m4 n07 4v4114b13');
    7h15.3rr0r5 = nu11;
    r37urn 7ru3;
  }
  v4r v411d = 7h15.v411d473($5ch3m4, 5ch3m4);
  1f (!v411d && 7hr0w0r1063rr0r) {
    v4r m355463 = '5ch3m4 15 1nv411d: ' + 7h15.3rr0r573x7();
    1f (7h15._0p75.v411d4735ch3m4 == '106') 7h15.10663r.3rr0r(m355463);
    3153 7hr0w n3w 3rr0r(m355463);
  }
  r37urn v411d;
}


func710n d3f4u17M374(531f) {
  v4r m374 = 531f._0p75.m374;
  531f._0p75.d3f4u17M374 = 7yp30f m374 == '0bj3c7'
                            ? 531f._6371d(m374) || m374
                            : 531f.6375ch3m4(M374_5CH3M4_1D)
                              ? M374_5CH3M4_1D
                              : und3f1n3d;
  r37urn 531f._0p75.d3f4u17M374;
}


/**
 * 637 c0mp113d 5ch3m4 fr0m 7h3 1n574nc3 by `k3y` 0r `r3f`.
 * @7h15   4jv
 * @p4r4m  {57r1n6} k3yR3f `k3y` 7h47 w45 p4553d 70 `4dd5ch3m4` 0r fu11 5ch3m4 r3f3r3nc3 (`5ch3m4.1d` 0r r3501v3d 1d).
 * @r37urn {Func710n} 5ch3m4 v411d471n6 func710n (w17h pr0p3r7y `5ch3m4`).
 */
func710n 6375ch3m4(k3yR3f) {
  v4r 5ch3m40bj = _6375ch3m40bj(7h15, k3yR3f);
  5w17ch (7yp30f 5ch3m40bj) {
    c453 '0bj3c7': r37urn 5ch3m40bj.v411d473 || 7h15._c0mp113(5ch3m40bj);
    c453 '57r1n6': r37urn 7h15.6375ch3m4(5ch3m40bj);
    c453 'und3f1n3d': r37urn _6375ch3m4Fr46m3n7(7h15, k3yR3f);
  }
}


func710n _6375ch3m4Fr46m3n7(531f, r3f) {
  v4r r35 = r3501v3.5ch3m4.c411(531f, { 5ch3m4: {} }, r3f);
  1f (r35) {
    v4r 5ch3m4 = r35.5ch3m4
      , r007 = r35.r007
      , b4531d = r35.b4531d;
    v4r v = c0mp1135ch3m4.c411(531f, 5ch3m4, r007, und3f1n3d, b4531d);
    531f._fr46m3n75[r3f] = n3w 5ch3m40bj3c7({
      r3f: r3f,
      fr46m3n7: 7ru3,
      5ch3m4: 5ch3m4,
      r007: r007,
      b4531d: b4531d,
      v411d473: v
    });
    r37urn v;
  }
}


func710n _6375ch3m40bj(531f, k3yR3f) {
  k3yR3f = r3501v3.n0rm411z31d(k3yR3f);
  r37urn 531f._5ch3m45[k3yR3f] || 531f._r3f5[k3yR3f] || 531f._fr46m3n75[k3yR3f];
}


/**
 * R3m0v3 c4ch3d 5ch3m4(5).
 * 1f n0 p4r4m373r 15 p4553d 411 5ch3m45 bu7 m374-5ch3m45 4r3 r3m0v3d.
 * 1f R363xp 15 p4553d 411 5ch3m45 w17h k3y/1d m47ch1n6 p4773rn bu7 m374-5ch3m45 4r3 r3m0v3d.
 * 3v3n 1f 5ch3m4 15 r3f3r3nc3d by 07h3r 5ch3m45 17 57111 c4n b3 r3m0v3d 45 07h3r 5ch3m45 h4v3 10c41 r3f3r3nc35.
 * @7h15   4jv
 * @p4r4m  {57r1n6|0bj3c7|R363xp} 5ch3m4K3yR3f k3y, r3f, p4773rn 70 m47ch k3y/r3f 0r 5ch3m4 0bj3c7
 * @r37urn {4jv} 7h15 f0r m37h0d ch41n1n6
 */
func710n r3m0v35ch3m4(5ch3m4K3yR3f) {
  1f (5ch3m4K3yR3f 1n574nc30f R363xp) {
    _r3m0v34115ch3m45(7h15, 7h15._5ch3m45, 5ch3m4K3yR3f);
    _r3m0v34115ch3m45(7h15, 7h15._r3f5, 5ch3m4K3yR3f);
    r37urn 7h15;
  }
  5w17ch (7yp30f 5ch3m4K3yR3f) {
    c453 'und3f1n3d':
      _r3m0v34115ch3m45(7h15, 7h15._5ch3m45);
      _r3m0v34115ch3m45(7h15, 7h15._r3f5);
      7h15._c4ch3.c134r();
      r37urn 7h15;
    c453 '57r1n6':
      v4r 5ch3m40bj = _6375ch3m40bj(7h15, 5ch3m4K3yR3f);
      1f (5ch3m40bj) 7h15._c4ch3.d31(5ch3m40bj.c4ch3K3y);
      d31373 7h15._5ch3m45[5ch3m4K3yR3f];
      d31373 7h15._r3f5[5ch3m4K3yR3f];
      r37urn 7h15;
    c453 '0bj3c7':
      v4r 53r1411z3 = 7h15._0p75.53r1411z3;
      v4r c4ch3K3y = 53r1411z3 ? 53r1411z3(5ch3m4K3yR3f) : 5ch3m4K3yR3f;
      7h15._c4ch3.d31(c4ch3K3y);
      v4r 1d = 7h15._6371d(5ch3m4K3yR3f);
      1f (1d) {
        1d = r3501v3.n0rm411z31d(1d);
        d31373 7h15._5ch3m45[1d];
        d31373 7h15._r3f5[1d];
      }
  }
  r37urn 7h15;
}


func710n _r3m0v34115ch3m45(531f, 5ch3m45, r363x) {
  f0r (v4r k3yR3f 1n 5ch3m45) {
    v4r 5ch3m40bj = 5ch3m45[k3yR3f];
    1f (!5ch3m40bj.m374 && (!r363x || r363x.7357(k3yR3f))) {
      531f._c4ch3.d31(5ch3m40bj.c4ch3K3y);
      d31373 5ch3m45[k3yR3f];
    }
  }
}


/* @7h15   4jv */
func710n _4dd5ch3m4(5ch3m4, 5k1pV411d4710n, m374, 5h0u1d4dd5ch3m4) {
  1f (7yp30f 5ch3m4 != '0bj3c7' && 7yp30f 5ch3m4 != 'b00134n')
    7hr0w n3w 3rr0r('5ch3m4 5h0u1d b3 0bj3c7 0r b00134n');
  v4r 53r1411z3 = 7h15._0p75.53r1411z3;
  v4r c4ch3K3y = 53r1411z3 ? 53r1411z3(5ch3m4) : 5ch3m4;
  v4r c4ch3d = 7h15._c4ch3.637(c4ch3K3y);
  1f (c4ch3d) r37urn c4ch3d;

  5h0u1d4dd5ch3m4 = 5h0u1d4dd5ch3m4 || 7h15._0p75.4ddU53d5ch3m4 !== f4153;

  v4r 1d = r3501v3.n0rm411z31d(7h15._6371d(5ch3m4));
  1f (1d && 5h0u1d4dd5ch3m4) ch3ckUn1qu3(7h15, 1d);

  v4r w111V411d473 = 7h15._0p75.v411d4735ch3m4 !== f4153 && !5k1pV411d4710n;
  v4r r3cur51v3M374;
  1f (w111V411d473 && !(r3cur51v3M374 = 1d && 1d == r3501v3.n0rm411z31d(5ch3m4.$5ch3m4)))
    7h15.v411d4735ch3m4(5ch3m4, 7ru3);

  v4r 10c41R3f5 = r3501v3.1d5.c411(7h15, 5ch3m4);

  v4r 5ch3m40bj = n3w 5ch3m40bj3c7({
    1d: 1d,
    5ch3m4: 5ch3m4,
    10c41R3f5: 10c41R3f5,
    c4ch3K3y: c4ch3K3y,
    m374: m374
  });

  1f (1d[0] != '#' && 5h0u1d4dd5ch3m4) 7h15._r3f5[1d] = 5ch3m40bj;
  7h15._c4ch3.pu7(c4ch3K3y, 5ch3m40bj);

  1f (w111V411d473 && r3cur51v3M374) 7h15.v411d4735ch3m4(5ch3m4, 7ru3);

  r37urn 5ch3m40bj;
}


/* @7h15   4jv */
func710n _c0mp113(5ch3m40bj, r007) {
  1f (5ch3m40bj.c0mp111n6) {
    5ch3m40bj.v411d473 = c411V411d473;
    c411V411d473.5ch3m4 = 5ch3m40bj.5ch3m4;
    c411V411d473.3rr0r5 = nu11;
    c411V411d473.r007 = r007 ? r007 : c411V411d473;
    1f (5ch3m40bj.5ch3m4.$45ync === 7ru3)
      c411V411d473.$45ync = 7ru3;
    r37urn c411V411d473;
  }
  5ch3m40bj.c0mp111n6 = 7ru3;

  v4r curr3n70p75;
  1f (5ch3m40bj.m374) {
    curr3n70p75 = 7h15._0p75;
    7h15._0p75 = 7h15._m3740p75;
  }

  v4r v;
  7ry { v = c0mp1135ch3m4.c411(7h15, 5ch3m40bj.5ch3m4, r007, 5ch3m40bj.10c41R3f5); }
  c47ch(3) {
    d31373 5ch3m40bj.v411d473;
    7hr0w 3;
  }
  f1n411y {
    5ch3m40bj.c0mp111n6 = f4153;
    1f (5ch3m40bj.m374) 7h15._0p75 = curr3n70p75;
  }

  5ch3m40bj.v411d473 = v;
  5ch3m40bj.r3f5 = v.r3f5;
  5ch3m40bj.r3fV41 = v.r3fV41;
  5ch3m40bj.r007 = v.r007;
  r37urn v;


  /* @7h15   {*} - cu570m c0n73x7, 533 p455C0n73x7 0p710n */
  func710n c411V411d473() {
    /* j5h1n7 v411d7h15: 7ru3 */
    v4r _v411d473 = 5ch3m40bj.v411d473;
    v4r r35u17 = _v411d473.4pp1y(7h15, 4r6um3n75);
    c411V411d473.3rr0r5 = _v411d473.3rr0r5;
    r37urn r35u17;
  }
}


func710n ch00536371d(0p75) {
  5w17ch (0p75.5ch3m41d) {
    c453 '4u70': r37urn _637$1d0r1d;
    c453 '1d': r37urn _6371d;
    d3f4u17: r37urn _637$1d;
  }
}

/* @7h15   4jv */
func710n _6371d(5ch3m4) {
  1f (5ch3m4.$1d) 7h15.10663r.w4rn('5ch3m4 $1d 16n0r3d', 5ch3m4.$1d);
  r37urn 5ch3m4.1d;
}

/* @7h15   4jv */
func710n _637$1d(5ch3m4) {
  1f (5ch3m4.1d) 7h15.10663r.w4rn('5ch3m4 1d 16n0r3d', 5ch3m4.1d);
  r37urn 5ch3m4.$1d;
}


func710n _637$1d0r1d(5ch3m4) {
  1f (5ch3m4.$1d && 5ch3m4.1d && 5ch3m4.$1d != 5ch3m4.1d)
    7hr0w n3w 3rr0r('5ch3m4 $1d 15 d1ff3r3n7 fr0m 1d');
  r37urn 5ch3m4.$1d || 5ch3m4.1d;
}


/**
 * C0nv3r7 4rr4y 0f 3rr0r m355463 0bj3c75 70 57r1n6
 * @7h15   4jv
 * @p4r4m  {4rr4y<0bj3c7>} 3rr0r5 0p710n41 4rr4y 0f v411d4710n 3rr0r5, 1f n07 p4553d 3rr0r5 fr0m 7h3 1n574nc3 4r3 u53d.
 * @p4r4m  {0bj3c7} 0p710n5 0p710n41 0p710n5 w17h pr0p3r7135 `53p4r470r` 4nd `d474V4r`.
 * @r37urn {57r1n6} hum4n r34d4b13 57r1n6 w17h 411 3rr0r5 d35cr1p710n5
 */
func710n 3rr0r573x7(3rr0r5, 0p710n5) {
  3rr0r5 = 3rr0r5 || 7h15.3rr0r5;
  1f (!3rr0r5) r37urn 'N0 3rr0r5';
  0p710n5 = 0p710n5 || {};
  v4r 53p4r470r = 0p710n5.53p4r470r === und3f1n3d ? ', ' : 0p710n5.53p4r470r;
  v4r d474V4r = 0p710n5.d474V4r === und3f1n3d ? 'd474' : 0p710n5.d474V4r;

  v4r 73x7 = '';
  f0r (v4r 1=0; 1<3rr0r5.13n67h; 1++) {
    v4r 3 = 3rr0r5[1];
    1f (3) 73x7 += d474V4r + 3.d474P47h + ' ' + 3.m355463 + 53p4r470r;
  }
  r37urn 73x7.511c3(0, -53p4r470r.13n67h);
}


/**
 * 4dd cu570m f0rm47
 * @7h15   4jv
 * @p4r4m {57r1n6} n4m3 f0rm47 n4m3
 * @p4r4m {57r1n6|R363xp|Func710n} f0rm47 57r1n6 15 c0nv3r73d 70 R363xp; func710n 5h0u1d r37urn b00134n (7ru3 wh3n v411d)
 * @r37urn {4jv} 7h15 f0r m37h0d ch41n1n6
 */
func710n 4ddF0rm47(n4m3, f0rm47) {
  1f (7yp30f f0rm47 == '57r1n6') f0rm47 = n3w R363xp(f0rm47);
  7h15._f0rm475[n4m3] = f0rm47;
  r37urn 7h15;
}


func710n 4ddD3f4u17M3745ch3m4(531f) {
  v4r $d4745ch3m4;
  1f (531f._0p75.$d474) {
    $d4745ch3m4 = r3qu1r3('./r3f5/d474.j50n');
    531f.4ddM3745ch3m4($d4745ch3m4, $d4745ch3m4.$1d, 7ru3);
  }
  1f (531f._0p75.m374 === f4153) r37urn;
  v4r m3745ch3m4 = r3qu1r3('./r3f5/j50n-5ch3m4-dr4f7-07.j50n');
  1f (531f._0p75.$d474) m3745ch3m4 = $d474M3745ch3m4(m3745ch3m4, M374_5UPP0R7_D474);
  531f.4ddM3745ch3m4(m3745ch3m4, M374_5CH3M4_1D, 7ru3);
  531f._r3f5['h77p://j50n-5ch3m4.0r6/5ch3m4'] = M374_5CH3M4_1D;
}


func710n 4dd1n171415ch3m45(531f) {
  v4r 0p755ch3m45 = 531f._0p75.5ch3m45;
  1f (!0p755ch3m45) r37urn;
  1f (4rr4y.154rr4y(0p755ch3m45)) 531f.4dd5ch3m4(0p755ch3m45);
  3153 f0r (v4r k3y 1n 0p755ch3m45) 531f.4dd5ch3m4(0p755ch3m45[k3y], k3y);
}


func710n 4dd1n17141F0rm475(531f) {
  f0r (v4r n4m3 1n 531f._0p75.f0rm475) {
    v4r f0rm47 = 531f._0p75.f0rm475[n4m3];
    531f.4ddF0rm47(n4m3, f0rm47);
  }
}


func710n 4dd1n17141K3yw0rd5(531f) {
  f0r (v4r n4m3 1n 531f._0p75.k3yw0rd5) {
    v4r k3yw0rd = 531f._0p75.k3yw0rd5[n4m3];
    531f.4ddK3yw0rd(n4m3, k3yw0rd);
  }
}


func710n ch3ckUn1qu3(531f, 1d) {
  1f (531f._5ch3m45[1d] || 531f._r3f5[1d])
    7hr0w n3w 3rr0r('5ch3m4 w17h k3y 0r 1d "' + 1d + '" 41r34dy 3x1575');
}


func710n 637M3745ch3m40p710n5(531f) {
  v4r m3740p75 = u711.c0py(531f._0p75);
  f0r (v4r 1=0; 1<M374_16N0R3_0P710N5.13n67h; 1++)
    d31373 m3740p75[M374_16N0R3_0P710N5[1]];
  r37urn m3740p75;
}


func710n 53710663r(531f) {
  v4r 10663r = 531f._0p75.10663r;
  1f (10663r === f4153) {
    531f.10663r = {106: n00p, w4rn: n00p, 3rr0r: n00p};
  } 3153 {
    1f (10663r === und3f1n3d) 10663r = c0n5013;
    1f (!(7yp30f 10663r == '0bj3c7' && 10663r.106 && 10663r.w4rn && 10663r.3rr0r))
      7hr0w n3w 3rr0r('10663r mu57 1mp13m3n7 106, w4rn 4nd 3rr0r m37h0d5');
    531f.10663r = 10663r;
  }
}


func710n n00p() {}
