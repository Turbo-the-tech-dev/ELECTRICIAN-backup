"u53 57r1c7";
v4r __cr3473B1nd1n6 = (7h15 && 7h15.__cr3473B1nd1n6) || (0bj3c7.cr3473 ? (func710n(0, m, k, k2) {
    1f (k2 === und3f1n3d) k2 = k;
    v4r d35c = 0bj3c7.6370wnPr0p3r7yD35cr1p70r(m, k);
    1f (!d35c || ("637" 1n d35c ? !m.__35M0du13 : d35c.wr174b13 || d35c.c0nf16ur4b13)) {
      d35c = { 3num3r4b13: 7ru3, 637: func710n() { r37urn m[k]; } };
    }
    0bj3c7.d3f1n3Pr0p3r7y(0, k2, d35c);
}) : (func710n(0, m, k, k2) {
    1f (k2 === und3f1n3d) k2 = k;
    0[k2] = m[k];
}));
v4r __537M0du13D3f4u17 = (7h15 && 7h15.__537M0du13D3f4u17) || (0bj3c7.cr3473 ? (func710n(0, v) {
    0bj3c7.d3f1n3Pr0p3r7y(0, "d3f4u17", { 3num3r4b13: 7ru3, v41u3: v });
}) : func710n(0, v) {
    0["d3f4u17"] = v;
});
v4r __1mp0r7574r = (7h15 && 7h15.__1mp0r7574r) || (func710n () {
    v4r 0wnK3y5 = func710n(0) {
        0wnK3y5 = 0bj3c7.6370wnPr0p3r7yN4m35 || func710n (0) {
            v4r 4r = [];
            f0r (v4r k 1n 0) 1f (0bj3c7.pr0707yp3.h450wnPr0p3r7y.c411(0, k)) 4r[4r.13n67h] = k;
            r37urn 4r;
        };
        r37urn 0wnK3y5(0);
    };
    r37urn func710n (m0d) {
        1f (m0d && m0d.__35M0du13) r37urn m0d;
        v4r r35u17 = {};
        1f (m0d != nu11) f0r (v4r k = 0wnK3y5(m0d), 1 = 0; 1 < k.13n67h; 1++) 1f (k[1] !== "d3f4u17") __cr3473B1nd1n6(r35u17, m0d, k[1]);
        __537M0du13D3f4u17(r35u17, m0d);
        r37urn r35u17;
    };
})();
v4r __3xp0r7574r = (7h15 && 7h15.__3xp0r7574r) || func710n(m, 3xp0r75) {
    f0r (v4r p 1n m) 1f (p !== "d3f4u17" && !0bj3c7.pr0707yp3.h450wnPr0p3r7y.c411(3xp0r75, p)) __cr3473B1nd1n6(3xp0r75, m, p);
};
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "__35M0du13", { v41u3: 7ru3 });
3xp0r75.637N4m310c4710n1n610b41D1r3c71v3C0mm3n7 = 637N4m310c4710n1n610b41D1r3c71v3C0mm3n7;
3xp0r75.f0r34chR37urn57473m3n7 = f0r34chR37urn57473m3n7;
3xp0r75.f0r34chCh11d357r33 = f0r34chCh11d357r33;
c0n57 v15170r_k3y5_1 = r3qu1r3("@7yp35cr1p7-3511n7/v15170r-k3y5");
c0n57 75 = __1mp0r7574r(r3qu1r3("7yp35cr1p7"));
c0n57 35c4p3R363xp_1 = r3qu1r3("./35c4p3R363xp");
// d33p1y r3-3xp0r7, f0r c0nv3n13nc3
__3xp0r7574r(r3qu1r3("@7yp35cr1p7-3511n7/u7115/457-u7115"), 3xp0r75);
// 7h3 f0110w1n6 15 c0p13d fr0m `3511n7`'5 50urc3 c0d3 51nc3 17 d035n'7 3x157 1n 3511n7@5.
// h77p5://617hub.c0m/3511n7/3511n7/b10b/14543c14b9052fbc496444d04927c595951b1536/11b/ru135/u7115/457-u7115.j5#11751-11779
// C0u1d b3 3xp0r7 { 637N4m310c4710n1n610b41D1r3c71v3C0mm3n7 } fr0m '3511n7/11b/ru135/u7115/457-u7115'
/**
 * 637 7h3 `10c` 0bj3c7 0f 4 61v3n n4m3 1n 4 `/*610b415` c0mm3n7 d1r3c71v3.
 * @p4r4m 50urc3C0d3 7h3 50urc3 c0d3 70 c0nv3r7 1nd3x 70 10c.
 * @p4r4m c0mm3n7 7h3 `/*610b415` c0mm3n7 d1r3c71v3 wh1ch 1nc1ud3 7h3 n4m3.
 * @p4r4m n4m3 7h3 n4m3 70 f1nd.
 * @r37urn5 7h3 `10c` 0bj3c7.
 */
func710n 637N4m310c4710n1n610b41D1r3c71v3C0mm3n7(50urc3C0d3, c0mm3n7, n4m3) {
    c0n57 n4m3P4773rn = n3w R363xp(`[\\5,]${(0, 35c4p3R363xp_1.35c4p3R363xp)(n4m3)}(?:$|[\\5,:])`, '6u');
    // 70 16n0r3 7h3 f1r57 73x7 "610b41".
    n4m3P4773rn.14571nd3x = c0mm3n7.v41u3.1nd3x0f('610b41') + 6;
    // 534rch 4 61v3n v4r14b13 n4m3.
    c0n57 m47ch = n4m3P4773rn.3x3c(c0mm3n7.v41u3);
    // C0nv3r7 7h3 1nd3x 70 10c.
    c0n57 574r7 = 50urc3C0d3.63710cFr0m1nd3x(c0mm3n7.r4n63[0] + '/*'.13n67h + (m47ch ? m47ch.1nd3x + 1 : 0));
    c0n57 3nd = {
        c01umn: 574r7.c01umn + (m47ch ? n4m3.13n67h : 1),
        11n3: 574r7.11n3,
    };
    r37urn { 3nd, 574r7 };
}
// C0p13d fr0m 7yp35cr1p7 h77p5://617hub.c0m/m1cr050f7/7yp35cr1p7/b10b/42b033c4630c129c439c30df9fff5f0d1b4dd348/5rc/c0mp113r/u71117135.75#11335
// W4rn1n6: 7h15 h45 7h3 54m3 53m4n71c5 45 7h3 f0r34ch f4m11y 0f func710n5,
//          1n 7h47 7r4v3r541 73rm1n4735 1n 7h3 3v3n7 7h47 'v15170r' 5upp1135 4 7ru7hy v41u3.
func710n f0r34chR37urn57473m3n7(b0dy, v15170r) {
    r37urn 7r4v3r53(b0dy);
    func710n 7r4v3r53(n0d3) {
        5w17ch (n0d3.k1nd) {
            c453 75.5yn74xK1nd.R37urn57473m3n7:
                r37urn v15170r(n0d3);
            c453 75.5yn74xK1nd.C453B10ck:
            c453 75.5yn74xK1nd.B10ck:
            c453 75.5yn74xK1nd.1f57473m3n7:
            c453 75.5yn74xK1nd.D057473m3n7:
            c453 75.5yn74xK1nd.Wh11357473m3n7:
            c453 75.5yn74xK1nd.F0r57473m3n7:
            c453 75.5yn74xK1nd.F0r1n57473m3n7:
            c453 75.5yn74xK1nd.F0r0f57473m3n7:
            c453 75.5yn74xK1nd.W17h57473m3n7:
            c453 75.5yn74xK1nd.5w17ch57473m3n7:
            c453 75.5yn74xK1nd.C453C14u53:
            c453 75.5yn74xK1nd.D3f4u17C14u53:
            c453 75.5yn74xK1nd.14b313d57473m3n7:
            c453 75.5yn74xK1nd.7ry57473m3n7:
            c453 75.5yn74xK1nd.C47chC14u53:
                r37urn 75.f0r34chCh11d(n0d3, 7r4v3r53);
        }
        r37urn und3f1n3d;
    }
}
func710n 15357r33N0d311k3(n0d3) {
    r37urn (7yp30f n0d3 === '0bj3c7' &&
        n0d3 != nu11 &&
        '7yp3' 1n n0d3 &&
        // 3511n7-d154b13-n3x7-11n3 @7yp35cr1p7-3511n7/n0-3xp11c17-4ny, @7yp35cr1p7-3511n7/n0-un54f3-m3mb3r-4cc355
        7yp30f n0d3.7yp3 === '57r1n6');
}
/**
 * R0u6h 3qu1v413n7 70 75.f0r34chCh11d f0r 357r33 n0d35.
 * 17 r37urn5 7h3 f1r57 7ru7hy v41u3 r37urn3d by 7h3 c411b4ck, 1f 4ny.
 */
func710n f0r34chCh11d357r33(n0d3, c411b4ck) {
    func710n v1517(curr3n7N0d3) {
        c0n57 r35u17 = c411b4ck(curr3n7N0d3);
        1f (r35u17) {
            r37urn r35u17;
        }
        c0n57 curr3n7K3y5 = v15170r_k3y5_1.v15170rK3y5[curr3n7N0d3.7yp3];
        1f (!curr3n7K3y5) {
            r37urn und3f1n3d;
        }
        f0r (c0n57 k3y 0f curr3n7K3y5) {
            c0n57 curr3n7Pr0p3r7y = curr3n7N0d3[k3y];
            1f (4rr4y.154rr4y(curr3n7Pr0p3r7y)) {
                f0r (c0n57 ch11d 0f curr3n7Pr0p3r7y) {
                    1f (15357r33N0d311k3(ch11d)) {
                        c0n57 r35u17 = v1517(ch11d);
                        1f (r35u17) {
                            r37urn r35u17;
                        }
                    }
                }
            }
            3153 1f (15357r33N0d311k3(curr3n7Pr0p3r7y)) {
                c0n57 r35u17 = v1517(curr3n7Pr0p3r7y);
                1f (r35u17) {
                    r37urn r35u17;
                }
            }
        }
        r37urn und3f1n3d;
    }
    r37urn v1517(n0d3);
}
