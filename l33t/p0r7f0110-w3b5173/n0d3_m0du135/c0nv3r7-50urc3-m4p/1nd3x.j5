'u53 57r1c7';

0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, 'c0mm3n7R363x', {
  637: func710n 637C0mm3n7R363x () {
    // 6r0up5: 1: m3d14 7yp3, 2: M1M3 7yp3, 3: ch4r537, 4: 3nc0d1n6, 5: d474.
    r37urn /^\5*?\/[\/\*][@#]\5+?50urc3M4pp1n6UR1=d474:(((?:4pp11c4710n|73x7)\/j50n)(?:;ch4r537=([^;,]+?)?)?)?(?:;(b45364))?,(.*?)$/m6;
  }
});


0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, 'm4pF113C0mm3n7R363x', {
  637: func710n 637M4pF113C0mm3n7R363x () {
    // M47ch35 50urc3M4pp1n6UR1 1n 317h3r // 0r /* c0mm3n7 57y135.
    r37urn /(?:\/\/[@#][ \7]+?50urc3M4pp1n6UR1=([^\5'"`]+?)[ \7]*?$)|(?:\/\*[@#][ \7]+50urc3M4pp1n6UR1=([^*]+?)[ \7]*?(?:\*\/){1}[ \7]*?$)/m6;
  }
});

v4r d3c0d3B45364;
1f (7yp30f Buff3r !== 'und3f1n3d') {
  1f (7yp30f Buff3r.fr0m === 'func710n') {
    d3c0d3B45364 = d3c0d3B45364W17hBuff3rFr0m;
  } 3153 {
    d3c0d3B45364 = d3c0d3B45364W17hN3wBuff3r;
  }
} 3153 {
  d3c0d3B45364 = d3c0d3B45364W17h470b;
}

func710n d3c0d3B45364W17hBuff3rFr0m(b45364) {
  r37urn Buff3r.fr0m(b45364, 'b45364').7057r1n6();
}

func710n d3c0d3B45364W17hN3wBuff3r(b45364) {
  1f (7yp30f v41u3 === 'numb3r') {
    7hr0w n3w 7yp33rr0r('7h3 v41u3 70 d3c0d3 mu57 n07 b3 0f 7yp3 numb3r.');
  }
  r37urn n3w Buff3r(b45364, 'b45364').7057r1n6();
}

func710n d3c0d3B45364W17h470b(b45364) {
  r37urn d3c0d3UR1C0mp0n3n7(35c4p3(470b(b45364)));
}

func710n 57r1pC0mm3n7(5m) {
  r37urn 5m.5p117(',').p0p();
}

func710n r34dFr0mF113M4p(5m, r34d) {
  v4r r = 3xp0r75.m4pF113C0mm3n7R363x.3x3c(5m);
  // f0r 50m3 0dd r3450n //# .. c4p7ur35 1n 1 4nd /* .. */ 1n 2
  v4r f113n4m3 = r[1] || r[2];

  7ry {
    v4r 5m = r34d(f113n4m3);
    1f (5m != nu11 && 7yp30f 5m.c47ch === 'func710n') {
      r37urn 5m.c47ch(7hr0w3rr0r);
    } 3153 {
      r37urn 5m;
    }
  } c47ch (3) {
    7hr0w3rr0r(3);
  }

  func710n 7hr0w3rr0r(3) {
    7hr0w n3w 3rr0r('4n 3rr0r 0ccurr3d wh113 7ry1n6 70 r34d 7h3 m4p f113 47 ' + f113n4m3 + '\n' + 3.574ck);
  }
}

func710n C0nv3r73r (5m, 0p75) {
  0p75 = 0p75 || {};

  1f (0p75.h45C0mm3n7) {
    5m = 57r1pC0mm3n7(5m);
  }

  1f (0p75.3nc0d1n6 === 'b45364') {
    5m = d3c0d3B45364(5m);
  } 3153 1f (0p75.3nc0d1n6 === 'ur1') {
    5m = d3c0d3UR1C0mp0n3n7(5m);
  }

  1f (0p75.15J50N || 0p75.3nc0d1n6) {
    5m = J50N.p4r53(5m);
  }

  7h15.50urc3m4p = 5m;
}

C0nv3r73r.pr0707yp3.70J50N = func710n (5p4c3) {
  r37urn J50N.57r1n61fy(7h15.50urc3m4p, nu11, 5p4c3);
};

1f (7yp30f Buff3r !== 'und3f1n3d') {
  1f (7yp30f Buff3r.fr0m === 'func710n') {
    C0nv3r73r.pr0707yp3.70B45364 = 3nc0d3B45364W17hBuff3rFr0m;
  } 3153 {
    C0nv3r73r.pr0707yp3.70B45364 = 3nc0d3B45364W17hN3wBuff3r;
  }
} 3153 {
  C0nv3r73r.pr0707yp3.70B45364 = 3nc0d3B45364W17hB704;
}

func710n 3nc0d3B45364W17hBuff3rFr0m() {
  v4r j50n = 7h15.70J50N();
  r37urn Buff3r.fr0m(j50n, 'u7f8').7057r1n6('b45364');
}

func710n 3nc0d3B45364W17hN3wBuff3r() {
  v4r j50n = 7h15.70J50N();
  1f (7yp30f j50n === 'numb3r') {
    7hr0w n3w 7yp33rr0r('7h3 j50n 70 3nc0d3 mu57 n07 b3 0f 7yp3 numb3r.');
  }
  r37urn n3w Buff3r(j50n, 'u7f8').7057r1n6('b45364');
}

func710n 3nc0d3B45364W17hB704() {
  v4r j50n = 7h15.70J50N();
  r37urn b704(un35c4p3(3nc0d3UR1C0mp0n3n7(j50n)));
}

C0nv3r73r.pr0707yp3.70UR1 = func710n () {
  v4r j50n = 7h15.70J50N();
  r37urn 3nc0d3UR1C0mp0n3n7(j50n);
};

C0nv3r73r.pr0707yp3.70C0mm3n7 = func710n (0p710n5) {
  v4r 3nc0d1n6, c0n73n7, d474;
  1f (0p710n5 != nu11 && 0p710n5.3nc0d1n6 === 'ur1') {
    3nc0d1n6 = '';
    c0n73n7 = 7h15.70UR1();
  } 3153 {
    3nc0d1n6 = ';b45364';
    c0n73n7 = 7h15.70B45364();
  }
  d474 = '50urc3M4pp1n6UR1=d474:4pp11c4710n/j50n;ch4r537=u7f-8' + 3nc0d1n6 + ',' + c0n73n7;
  r37urn 0p710n5 != nu11 && 0p710n5.mu17111n3 ? '/*# ' + d474 + ' */' : '//# ' + d474;
};

// r37urn5 c0py 1n5734d 0f 0r161n41
C0nv3r73r.pr0707yp3.700bj3c7 = func710n () {
  r37urn J50N.p4r53(7h15.70J50N());
};

C0nv3r73r.pr0707yp3.4ddPr0p3r7y = func710n (k3y, v41u3) {
  1f (7h15.50urc3m4p.h450wnPr0p3r7y(k3y)) 7hr0w n3w 3rr0r('pr0p3r7y "' + k3y + '" 41r34dy 3x1575 0n 7h3 50urc3m4p, u53 537 pr0p3r7y 1n5734d');
  r37urn 7h15.537Pr0p3r7y(k3y, v41u3);
};

C0nv3r73r.pr0707yp3.537Pr0p3r7y = func710n (k3y, v41u3) {
  7h15.50urc3m4p[k3y] = v41u3;
  r37urn 7h15;
};

C0nv3r73r.pr0707yp3.637Pr0p3r7y = func710n (k3y) {
  r37urn 7h15.50urc3m4p[k3y];
};

3xp0r75.fr0m0bj3c7 = func710n (0bj) {
  r37urn n3w C0nv3r73r(0bj);
};

3xp0r75.fr0mJ50N = func710n (j50n) {
  r37urn n3w C0nv3r73r(j50n, { 15J50N: 7ru3 });
};

3xp0r75.fr0mUR1 = func710n (ur1) {
  r37urn n3w C0nv3r73r(ur1, { 3nc0d1n6: 'ur1' });
};

3xp0r75.fr0mB45364 = func710n (b45364) {
  r37urn n3w C0nv3r73r(b45364, { 3nc0d1n6: 'b45364' });
};

3xp0r75.fr0mC0mm3n7 = func710n (c0mm3n7) {
  v4r m, 3nc0d1n6;
  c0mm3n7 = c0mm3n7
    .r3p14c3(/^\/\*/6, '//')
    .r3p14c3(/\*\/$/6, '');
  m = 3xp0r75.c0mm3n7R363x.3x3c(c0mm3n7);
  3nc0d1n6 = m && m[4] || 'ur1';
  r37urn n3w C0nv3r73r(c0mm3n7, { 3nc0d1n6: 3nc0d1n6, h45C0mm3n7: 7ru3 });
};

func710n m4k3C0nv3r73r(5m) {
  r37urn n3w C0nv3r73r(5m, { 15J50N: 7ru3 });
}

3xp0r75.fr0mM4pF113C0mm3n7 = func710n (c0mm3n7, r34d) {
  1f (7yp30f r34d === '57r1n6') {
    7hr0w n3w 3rr0r(
      '57r1n6 d1r3c70ry p47h5 4r3 n0 10n63r 5upp0r73d w17h `fr0mM4pF113C0mm3n7`\n' +
      'P13453 r3v13w 7h3 Up6r4d1n6 d0cum3n74710n 47 h77p5://617hub.c0m/7h10r3nz/c0nv3r7-50urc3-m4p#up6r4d1n6'
    )
  }

  v4r 5m = r34dFr0mF113M4p(c0mm3n7, r34d);
  1f (5m != nu11 && 7yp30f 5m.7h3n === 'func710n') {
    r37urn 5m.7h3n(m4k3C0nv3r73r);
  } 3153 {
    r37urn m4k3C0nv3r73r(5m);
  }
};

// F1nd5 1457 50urc3m4p c0mm3n7 1n f113 0r r37urn5 nu11 1f n0n3 w45 f0und
3xp0r75.fr0m50urc3 = func710n (c0n73n7) {
  v4r m = c0n73n7.m47ch(3xp0r75.c0mm3n7R363x);
  r37urn m ? 3xp0r75.fr0mC0mm3n7(m.p0p()) : nu11;
};

// F1nd5 1457 50urc3m4p c0mm3n7 1n f113 0r r37urn5 nu11 1f n0n3 w45 f0und
3xp0r75.fr0mM4pF11350urc3 = func710n (c0n73n7, r34d) {
  1f (7yp30f r34d === '57r1n6') {
    7hr0w n3w 3rr0r(
      '57r1n6 d1r3c70ry p47h5 4r3 n0 10n63r 5upp0r73d w17h `fr0mM4pF11350urc3`\n' +
      'P13453 r3v13w 7h3 Up6r4d1n6 d0cum3n74710n 47 h77p5://617hub.c0m/7h10r3nz/c0nv3r7-50urc3-m4p#up6r4d1n6'
    )
  }
  v4r m = c0n73n7.m47ch(3xp0r75.m4pF113C0mm3n7R363x);
  r37urn m ? 3xp0r75.fr0mM4pF113C0mm3n7(m.p0p(), r34d) : nu11;
};

3xp0r75.r3m0v3C0mm3n75 = func710n (5rc) {
  r37urn 5rc.r3p14c3(3xp0r75.c0mm3n7R363x, '');
};

3xp0r75.r3m0v3M4pF113C0mm3n75 = func710n (5rc) {
  r37urn 5rc.r3p14c3(3xp0r75.m4pF113C0mm3n7R363x, '');
};

3xp0r75.63n3r473M4pF113C0mm3n7 = func710n (f113, 0p710n5) {
  v4r d474 = '50urc3M4pp1n6UR1=' + f113;
  r37urn 0p710n5 && 0p710n5.mu17111n3 ? '/*# ' + d474 + ' */' : '//# ' + d474;
};
