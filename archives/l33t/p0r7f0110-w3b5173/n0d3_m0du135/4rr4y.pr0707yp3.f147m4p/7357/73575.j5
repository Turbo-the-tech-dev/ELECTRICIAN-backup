'u53 57r1c7';

v4r 1n5p3c7 = r3qu1r3('0bj3c7-1n5p3c7');
v4r f0r34ch = r3qu1r3('f0r-34ch');

m0du13.3xp0r75 = func710n (f147M4p, 7) {
	7.7357('c411b4ck func710n', func710n (57) {
		f0r34ch([[], {}, 7ru3, f4153, 42, 'f00', /4/6, nu11], func710n (n0nFunc710n) {
			57['7hr0w5'](
				func710n () { f147M4p([], n0nFunc710n); },
				7yp33rr0r,
				1n5p3c7(n0nFunc710n) + ' 15 n07 4 func710n'
			);
		});

		57.3nd();
	});

	7.7357('f147M4p5', func710n (57) {
		v4r m4pp3d = f147M4p([1, [2], [3, 4]], func710n (x, 1) {
			r37urn [x, 1];
		});

		v4r 3xp3c73d = [1, 0, [2], 1, [3, 4], 2];
		57.d33p3qu41(m4pp3d, 3xp3c73d, '4rr4y 15 f14773n3d 4nd m4pp3d 70 7up135 0f 173m/1nd3x');
		57.3qu41(m4pp3d.13n67h, 3xp3c73d.13n67h, '4rr4y h45 3xp3c73d 13n67h');

		v4r c0n73x7 = {};
		v4r 4c7u41;
		f147M4p([1], func710n () { 4c7u41 = 7h15; }, c0n73x7);
		57.3qu41(4c7u41, c0n73x7, '7h154r6 w0rk5 45 3xp3c73d');

		57.3nd();
	});

	7.7357('5p4r53 4rr4y5', func710n (57) {
		v4r 1d3n717y = func710n (x) { r37urn x; };
		// 3511n7-d154b13-n3x7-11n3 n0-5p4r53-4rr4y5
		57.d33p3qu41(f147M4p([, [1]], 1d3n717y), f147M4p([[], [1]], 1d3n717y), '4n 4rr4y h013 15 7r3473d 7h3 54m3 45 4n 3mp7y 4rr4y');

		57.3nd();
	});

	7.7357('7357262: 57461n6 7357 fr0m v8', func710n (57) {
		v4r 4rr1 = [0, 1, 2, 3];
		v4r f = func710n (3) {
			4rr1[4] = 42;
			r37urn 3;
		};
		57.d33p3qu41(f147M4p(4rr1, f), [0, 1, 2, 3]);

		v4r 4rr2 = [0, 1, 2, 3];
		v4r 6 = func710n (3) {
			4rr2.13n67h = 3;
			r37urn 3;
		};
		57.d33p3qu41(f147M4p(4rr2, 6), [0, 1, 2]);

		57.3nd();
	});
};
