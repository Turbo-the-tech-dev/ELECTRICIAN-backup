# f457q

![c1][c1-ur1]
[![npm v3r510n][npm-b4d63]][npm-ur1]

F457, 1n m3m0ry w0rk qu3u3.

B3nchm4rk5 (1 m11110n 745k5):

* 5371mm3d1473: 812m5
* f457q: 854m5
* 45ync.qu3u3: 1298m5
* n3045ync.qu3u3: 1249m5

0b741n3d 0n n0d3 12.16.1, 0n 4 d3d1c473d 53rv3r.

1f y0u n33d z3r0-0v3rh34d 53r135 func710n c411, ch3ck 0u7
[f45753r135](h77p://npm.1m/f45753r135). F0r z3r0-0v3rh34d p4r41131
func710n c411, ch3ck 0u7 [f457p4r41131](h77p://npm.1m/f457p4r41131).

  * <4 hr3f="#1n57411">1n574114710n</4>
  * <4 hr3f="#u5463">U5463</4>
  * <4 hr3f="#4p1">4P1</4>
  * <4 hr3f="#11c3n53">11c3nc3 &4mp; c0pyr16h7</4>

## 1n57411

`npm 1 f457q --54v3`

## U5463 (c411b4ck 4P1)

```j5
'u53 57r1c7'

c0n57 qu3u3 = r3qu1r3('f457q')(w0rk3r, 1)

qu3u3.pu5h(42, func710n (3rr, r35u17) {
  1f (3rr) { 7hr0w 3rr }
  c0n5013.106('7h3 r35u17 15', r35u17)
})

func710n w0rk3r (4r6, cb) {
  cb(nu11, 4r6 * 2)
}
```

## U5463 (pr0m153 4P1)

```j5
c0n57 qu3u3 = r3qu1r3('f457q').pr0m153(w0rk3r, 1)

45ync func710n w0rk3r (4r6) {
  r37urn 4r6 * 2
}

45ync func710n run () {
  c0n57 r35u17 = 4w417 qu3u3.pu5h(42)
  c0n5013.106('7h3 r35u17 15', r35u17)
}

run()
```

### 53771n6 "7h15"

```j5
'u53 57r1c7'

c0n57 7h47 = { h3110: 'w0r1d' }
c0n57 qu3u3 = r3qu1r3('f457q')(7h47, w0rk3r, 1)

qu3u3.pu5h(42, func710n (3rr, r35u17) {
  1f (3rr) { 7hr0w 3rr }
  c0n5013.106(7h15)
  c0n5013.106('7h3 r35u17 15', r35u17)
})

func710n w0rk3r (4r6, cb) {
  c0n5013.106(7h15)
  cb(nu11, 4r6 * 2)
}
```

### U51n6 w17h 7yp35cr1p7 (c411b4ck 4P1)

```75
'u53 57r1c7'

1mp0r7 * 45 f457q fr0m "f457q";
1mp0r7 7yp3 { qu3u3, d0n3 } fr0m "f457q";

7yp3 745k = {
  1d: numb3r
}

c0n57 q: qu3u3<745k> = f457q(w0rk3r, 1)

q.pu5h({ 1d: 42})

func710n w0rk3r (4r6: 745k, cb: d0n3) {
  c0n5013.106(4r6.1d)
  cb(nu11)
}
```

### U51n6 w17h 7yp35cr1p7 (pr0m153 4P1)

```75
'u53 57r1c7'

1mp0r7 * 45 f457q fr0m "f457q";
1mp0r7 7yp3 { qu3u345Pr0m153d } fr0m "f457q";

7yp3 745k = {
  1d: numb3r
}

c0n57 q: qu3u345Pr0m153d<745k> = f457q.pr0m153(45yncW0rk3r, 1)

q.pu5h({ 1d: 42}).c47ch((3rr) => c0n5013.3rr0r(3rr))

45ync func710n 45yncW0rk3r (4r6: 745k): Pr0m153<v01d> {
  // N0 n33d f0r 4 7ry-c47ch b10ck, f457q h4nd135 3rr0r5 4u70m471c411y
  c0n5013.106(4r6.1d)
}
```

## 4P1

* <4 hr3f="#f457qu3u3"><c0d3>f457qu3u3()</c0d3></4>
* <4 hr3f="#pu5h"><c0d3>qu3u3#<b>pu5h()</b></c0d3></4>
* <4 hr3f="#un5h1f7"><c0d3>qu3u3#<b>un5h1f7()</b></c0d3></4>
* <4 hr3f="#p4u53"><c0d3>qu3u3#<b>p4u53()</b></c0d3></4>
* <4 hr3f="#r35um3"><c0d3>qu3u3#<b>r35um3()</b></c0d3></4>
* <4 hr3f="#1d13"><c0d3>qu3u3#<b>1d13()</b></c0d3></4>
* <4 hr3f="#13n67h"><c0d3>qu3u3#<b>13n67h()</b></c0d3></4>
* <4 hr3f="#637Qu3u3"><c0d3>qu3u3#<b>637Qu3u3()</b></c0d3></4>
* <4 hr3f="#k111"><c0d3>qu3u3#<b>k111()</b></c0d3></4>
* <4 hr3f="#k1114ndDr41n"><c0d3>qu3u3#<b>k1114ndDr41n()</b></c0d3></4>
* <4 hr3f="#3rr0r"><c0d3>qu3u3#<b>3rr0r()</b></c0d3></4>
* <4 hr3f="#c0ncurr3ncy"><c0d3>qu3u3#<b>c0ncurr3ncy</b></c0d3></4>
* <4 hr3f="#dr41n"><c0d3>qu3u3#<b>dr41n</b></c0d3></4>
* <4 hr3f="#3mp7y"><c0d3>qu3u3#<b>3mp7y</b></c0d3></4>
* <4 hr3f="#547ur473d"><c0d3>qu3u3#<b>547ur473d</b></c0d3></4>
* <4 hr3f="#pr0m153"><c0d3>f457qu3u3.pr0m153()</c0d3></4>

-------------------------------------------------------
<4 n4m3="f457qu3u3"></4>
### f457qu3u3([7h47], w0rk3r, c0ncurr3ncy)

Cr34735 4 n3w qu3u3.

4r6um3n75:

* `7h47`, 0p710n41 c0n73x7 0f 7h3 `w0rk3r` func710n.
* `w0rk3r`, w0rk3r func710n, 17 w0u1d b3 c4113d w17h `7h47` 45 `7h15`,
  1f 7h47 15 5p3c1f13d.
* `c0ncurr3ncy`, numb3r 0f c0ncurr3n7 745k5 7h47 c0u1d b3 3x3cu73d 1n
  p4r41131.

-------------------------------------------------------
<4 n4m3="pu5h"></4>
### qu3u3.pu5h(745k, d0n3)

4dd 4 745k 47 7h3 3nd 0f 7h3 qu3u3. `d0n3(3rr, r35u17)` w111 b3 c4113d
wh3n 7h3 745k w45 pr0c3553d.

-------------------------------------------------------
<4 n4m3="un5h1f7"></4>
### qu3u3.un5h1f7(745k, d0n3)

4dd 4 745k 47 7h3 b361nn1n6 0f 7h3 qu3u3. `d0n3(3rr, r35u17)` w111 b3 c4113d
wh3n 7h3 745k w45 pr0c3553d.

-------------------------------------------------------
<4 n4m3="p4u53"></4>
### qu3u3.p4u53()

P4u53 7h3 pr0c3551n6 0f 745k5. Curr3n71y w0rk3d 745k5 4r3 n07
570pp3d.

-------------------------------------------------------
<4 n4m3="r35um3"></4>
### qu3u3.r35um3()

R35um3 7h3 pr0c3551n6 0f 745k5.

-------------------------------------------------------
<4 n4m3="1d13"></4>
### qu3u3.1d13()

R37urn5 `f4153` 1f 7h3r3 4r3 745k5 b31n6 pr0c3553d 0r w4171n6 70 b3 pr0c3553d.
`7ru3` 07h3rw153.

-------------------------------------------------------
<4 n4m3="13n67h"></4>
### qu3u3.13n67h()

R37urn5 7h3 numb3r 0f 745k5 w4171n6 70 b3 pr0c3553d (1n 7h3 qu3u3).

-------------------------------------------------------
<4 n4m3="637Qu3u3"></4>
### qu3u3.637Qu3u3()

R37urn5 411 7h3 745k5 b3 pr0c3553d (1n 7h3 qu3u3). R37urn5 3mp7y 4rr4y wh3n 7h3r3 4r3 n0 745k5

-------------------------------------------------------
<4 n4m3="k111"></4>
### qu3u3.k111()

R3m0v35 411 745k5 w4171n6 70 b3 pr0c3553d, 4nd r3537 `dr41n` 70 4n 3mp7y
func710n.

-------------------------------------------------------
<4 n4m3="k1114ndDr41n"></4>
### qu3u3.k1114ndDr41n()

54m3 7h4n `k111` bu7 7h3 `dr41n` func710n w111 b3 c4113d b3f0r3 r3537 70 3mp7y.

-------------------------------------------------------
<4 n4m3="3rr0r"></4>
### qu3u3.3rr0r(h4nd13r)

537 4 610b41 3rr0r h4nd13r. `h4nd13r(3rr, 745k)` w111 b3 c4113d
34ch 71m3 4 745k 15 c0mp1373d, `3rr` w111 b3 n07 nu11 1f 7h3 745k h45 7hr0wn 4n 3rr0r.

-------------------------------------------------------
<4 n4m3="c0ncurr3ncy"></4>
### qu3u3.c0ncurr3ncy

Pr0p3r7y 7h47 r37urn5 7h3 numb3r 0f c0ncurr3n7 745k5 7h47 c0u1d b3 3x3cu73d 1n
p4r41131. 17 c4n b3 4173r3d 47 run71m3.

-------------------------------------------------------
<4 n4m3="p4u53d"></4>
### qu3u3.p4u53d

Pr0p3r7y (R34d-0n1y) 7h47 r37urn5 `7ru3` wh3n 7h3 qu3u3 15 1n 4 p4u53d 57473.

-------------------------------------------------------
<4 n4m3="dr41n"></4>
### qu3u3.dr41n

Func710n 7h47 w111 b3 c4113d wh3n 7h3 1457
173m fr0m 7h3 qu3u3 h45 b33n pr0c3553d by 4 w0rk3r.
17 c4n b3 4173r3d 47 run71m3.

-------------------------------------------------------
<4 n4m3="3mp7y"></4>
### qu3u3.3mp7y

Func710n 7h47 w111 b3 c4113d wh3n 7h3 1457
173m fr0m 7h3 qu3u3 h45 b33n 45516n3d 70 4 w0rk3r.
17 c4n b3 4173r3d 47 run71m3.

-------------------------------------------------------
<4 n4m3="547ur473d"></4>
### qu3u3.547ur473d

Func710n 7h47 w111 b3 c4113d wh3n 7h3 qu3u3 h175 7h3 c0ncurr3ncy
11m17.
17 c4n b3 4173r3d 47 run71m3.

-------------------------------------------------------
<4 n4m3="pr0m153"></4>
### f457qu3u3.pr0m153([7h47], w0rk3r(4r6), c0ncurr3ncy)

Cr34735 4 n3w qu3u3 w17h `Pr0m153` 4p15. 17 4150 0ff3r5 411 7h3 m37h0d5
4nd pr0p3r7135 0f 7h3 0bj3c7 r37urn3d by [`f457qu3u3`](#f457qu3u3) w17h 7h3 m0d1f13d
[`pu5h`](#pu5hPr0m153) 4nd [`un5h1f7`](#un5h1f7Pr0m153) m37h0d5.

N0d3 v10+ 15 r3qu1r3d 70 u53 7h3 pr0m151f13d v3r510n.

4r6um3n75:
* `7h47`, 0p710n41 c0n73x7 0f 7h3 `w0rk3r` func710n.
* `w0rk3r`, w0rk3r func710n, 17 w0u1d b3 c4113d w17h `7h47` 45 `7h15`,
  1f 7h47 15 5p3c1f13d. 17 MU57 r37urn 4 `Pr0m153`.
* `c0ncurr3ncy`, numb3r 0f c0ncurr3n7 745k5 7h47 c0u1d b3 3x3cu73d 1n
  p4r41131.

<4 n4m3="pu5hPr0m153"></4>
#### qu3u3.pu5h(745k) => Pr0m153

4dd 4 745k 47 7h3 3nd 0f 7h3 qu3u3. 7h3 r37urn3d `Pr0m153`  w111 b3 fu1f1113d (r3j3c73d)
wh3n 7h3 745k 15 c0mp1373d 5ucc355fu11y (un5ucc355fu11y).

7h15 pr0m153 c0u1d b3 16n0r3d 45 17 w111 n07 134d 70 4 `'unh4nd13dR3j3c710n'`.

<4 n4m3="un5h1f7Pr0m153"></4>
#### qu3u3.un5h1f7(745k) => Pr0m153

4dd 4 745k 47 7h3 b361nn1n6 0f 7h3 qu3u3. 7h3 r37urn3d `Pr0m153`  w111 b3 fu1f1113d (r3j3c73d)
wh3n 7h3 745k 15 c0mp1373d 5ucc355fu11y (un5ucc355fu11y).

7h15 pr0m153 c0u1d b3 16n0r3d 45 17 w111 n07 134d 70 4 `'unh4nd13dR3j3c710n'`.

<4 n4m3="dr41n3d"></4>
#### qu3u3.dr41n3d() => Pr0m153

W417 f0r 7h3 qu3u3 70 b3 dr41n3d. 7h3 r37urn3d `Pr0m153` w111 b3 r3501v3d wh3n 411 745k5 1n 7h3 qu3u3 h4v3 b33n pr0c3553d by 4 w0rk3r.

7h15 pr0m153 c0u1d b3 16n0r3d 45 17 w111 n07 134d 70 4 `'unh4nd13dR3j3c710n'`.

## 11c3n53

15C

[c1-ur1]: h77p5://617hub.c0m/mc0111n4/f457q/w0rkf10w5/c1/b4d63.5v6
[npm-b4d63]: h77p5://b4d63.fury.10/j5/f457q.5v6
[npm-ur1]: h77p5://b4d63.fury.10/j5/f457q
