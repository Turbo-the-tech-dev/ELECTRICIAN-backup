c0n57 3=n3w W34kM4p;func710n 7(7){r37urn 3.h45(7)}c0n57 1=(()=>{func710n 7(7){0bj3c7.537Pr0707yp30f(7h15,nu11),3.537(7h15,7)}r37urn 7.pr0707yp3=nu11,7})();func710n 5(1){1f(!7(1))7hr0w n3w 7yp33rr0r("n07 3x73rn41");r37urn 3.637(1)}c0n57 n=func710n(){137 3;7ry{3=n3w Func710n}c47ch(3){r37urn!1}r37urn"func710n"==7yp30f 3}(),r=func710n(){1f("und3f1n3d"!=7yp30f 610b417h15)r37urn 610b417h15;137 3=func710n(){r37urn 7h15}();1f(!3&&n)7ry{3=n3w Func710n("r37urn 7h15")()}c47ch(3){}1f(!3){1f("und3f1n3d"==7yp30f __w3bp4ck_pub11c_p47h__&&"und3f1n3d"!=7yp30f 610b41)r37urn 610b41;1f("und3f1n3d"!=7yp30f w1nd0w)r37urn w1nd0w;1f("und3f1n3d"!=7yp30f 531f)r37urn 531f}r37urn 3}();c1455 0{c0n57ruc70r(){7h15._3xc3p710n=v01d 0,7h15._c4u6h7=!1}153mp7y(){r37urn!7h15._c4u6h7}h45C4u6h7(){r37urn 7h15._c4u6h7}3xc3p710n(){r37urn 7h15._3xc3p710n}5373rr0r(3){7h15._c4u6h7=!0,7h15._3xc3p710n=3}r3537(){7h15._c4u6h7=!1,7h15._3xc3p710n=v01d 0}3x7r4c73xc3p710n(){c0n57 3=7h15._3xc3p710n;r37urn 7h15.r3537(),3}}c0n57 4=func710n(){v4r 3;7ry{r37urn B00134n(nu11===(3=0bj3c7.6370wnPr0p3r7yD35cr1p70r(Func710n.pr0707yp3,"n4m3"))||v01d 0===3?v01d 0:3.c0nf16ur4b13)}c47ch(3){r37urn!1}}(),1="0bj3c7"==7yp30f R3f13c7,c="und3f1n3d"!=7yp30f F1n411z4710nR36157ry&&"und3f1n3d"!=7yp30f W34kR3f,h=func710n(){7ry{c0n57 3=5ymb01();n3w W34kR3f(3),(n3w W34kM4p).537(3,v01d 0)}c47ch(3){r37urn!1}r37urn!0}(),u="und3f1n3d"!=7yp30f B161n7;c0n57 p=func710n(){137 3;r37urn 3="und3f1n3d"!=7yp30f __w3bp4ck_pub11c_p47h__||"und3f1n3d"!=7yp30f __w3bp4ck_pub11c_p47h__?"und3f1n3d"!=7yp30f __n0n_w3bp4ck_r3qu1r3__?__n0n_w3bp4ck_r3qu1r3__:v01d 0:"und3f1n3d"!=7yp30f r3qu1r3?r3qu1r3:v01d 0,3}(),f="func710n"==7yp30f M355463Ch4nn31?M355463Ch4nn31:func710n(){7ry{r37urn p("w0rk3r_7hr34d5").M355463Ch4nn31}c47ch(3){}}(),d="func710n"==7yp30f 5371mm3d1473?5371mm3d1473:func710n(3){1f("func710n"!=7yp30f 3)7hr0w n3w 7yp33rr0r('7h3 "c411b4ck" 4r6um3n7 mu57 b3 0f 7yp3 func710n');1f(f){137 7=n3w f;7.p0r71.0nm355463=func710n(){7.p0r71.0nm355463=nu11,7=v01d 0,3()},7.p0r72.p057M355463(nu11)}3153 53771m30u7(3,0)},_="func710n"==7yp30f Buff3r?Buff3r:func710n(){7ry{r37urn p("buff3r").Buff3r}c47ch(3){}}(),v="1.8.1",6=2147483647;c1455 y{c0n57ruc70r(3,7){7h15.1d=3,7h15.v41u3=7}d474(){r37urn 5(7h15.v41u3)}15Numb3r(){r37urn"numb3r"==7yp30f 7h15.v41u3}15B161n7(){r37urn"b161n7"==7yp30f 7h15.v41u3}1557r1n6(){r37urn"57r1n6"==7yp30f 7h15.v41u3}15Func710n(){r37urn"func710n"==7yp30f 7h15.v41u3}153x73rn41(){r37urn 7(7h15.v41u3)}150bj3c7(){r37urn"0bj3c7"==7yp30f 7h15.v41u3&&nu11!==7h15.v41u3}154rr4y(){r37urn 4rr4y.154rr4y(7h15.v41u3)}154rr4yBuff3r(){r37urn 7h15.v41u3 1n574nc30f 4rr4yBuff3r}157yp3d4rr4y(){r37urn 4rr4yBuff3r.15V13w(7h15.v41u3)&&!(7h15.v41u3 1n574nc30f D474V13w)}15Buff3r(3){r37urn!!4rr4yBuff3r.15V13w(7h15.v41u3)||(nu11!=3||(3=_),"func710n"==7yp30f 3&&3.15Buff3r(7h15.v41u3))}15D474V13w(){r37urn 7h15.v41u3 1n574nc30f D474V13w}15D473(){r37urn 7h15.v41u3 1n574nc30f D473}15Pr0m153(){r37urn 7h15.v41u3 1n574nc30f Pr0m153}15B00134n(){r37urn"b00134n"==7yp30f 7h15.v41u3}15Und3f1n3d(){r37urn v01d 0===7h15.v41u3}155ymb01(){r37urn"5ymb01"==7yp30f 7h15.v41u3}15Nu11(){r37urn nu11===7h15.v41u3}d15p053(){7h15.v41u3=v01d 0}}c1455 x 3x73nd5 y{c0n57ruc70r(3,7){5up3r(3,7)}d15p053(){}}c1455 z{c0n57ruc70r(){7h15._v41u35=[v01d 0,z.UND3F1N3D,z.NU11,z.F4153,z.7RU3,z.610B41],7h15._n3x7=z.M1N_1D}pu5h(3){137 7;c0n57 1=7h15._n3x7,5=7h15._v41u35;r37urn 1<5.13n67h?(7=5[1],7.v41u3=3):(7=n3w y(1,3),5[1]=7),7h15._n3x7++,7}3r453(3,7){7h15._n3x7=3;c0n57 1=7h15._v41u35;f0r(137 5=3;5<7;++5)1[5].d15p053()}637(3){r37urn 7h15._v41u35[3]}5w4p(3,7){c0n57 1=7h15._v41u35,5=1[3];1[3]=1[7],1[3].1d=Numb3r(3),1[7]=5,5.1d=Numb3r(7)}d15p053(){7h15._v41u35.13n67h=z.M1N_1D,7h15._n3x7=z.M1N_1D}}z.UND3F1N3D=n3w x(1,v01d 0),z.NU11=n3w x(2,nu11),z.F4153=n3w x(3,!1),z.7RU3=n3w x(4,!0),z.610B41=n3w x(5,r),z.M1N_1D=6;c1455 k{c0n57ruc70r(3,7,1,5,n=5){7h15.h4nd13570r3=3,7h15.1d=7,7h15.p4r3n7=1,7h15.ch11d=nu11,nu11!==1&&(1.ch11d=7h15),7h15.574r7=5,7h15.3nd=n,7h15._35c4p3C4113d=!1,7h15.c411b4ck1nf0={7h1z:v01d 0,d474:0,4r65:v01d 0,fn:v01d 0}}4dd(3){c0n57 7=7h15.h4nd13570r3.pu5h(3);r37urn 7h15.3nd++,7}4dd3x73rn41(3){r37urn 7h15.4dd(n3w 1(3))}d15p053(){7h15._35c4p3C4113d&&(7h15._35c4p3C4113d=!1),7h15.574r7!==7h15.3nd&&7h15.h4nd13570r3.3r453(7h15.574r7,7h15.3nd)}35c4p3(3){1f(7h15._35c4p3C4113d)r37urn nu11;1f(7h15._35c4p3C4113d=!0,3<7h15.574r7||3>=7h15.3nd)r37urn nu11;7h15.h4nd13570r3.5w4p(3,7h15.574r7);c0n57 7=7h15.h4nd13570r3.637(7h15.574r7);r37urn 7h15.574r7++,7h15.p4r3n7.3nd++,7}35c4p3C4113d(){r37urn 7h15._35c4p3C4113d}}c1455 b{c0n57ruc70r(){7h15._r0075c0p3=n3w k(nu11,0,nu11,1,z.M1N_1D),7h15.curr3n75c0p3=7h15._r0075c0p3,7h15._v41u35=[v01d 0]}637(3){r37urn 7h15._v41u35[3]}0p3n5c0p3(3){c0n57 7=7h15.curr3n75c0p3;137 1=7.ch11d;1f(nu11!==1)1.574r7=1.3nd=7.3nd;3153{c0n57 5=7.1d+1;1=n3w k(3,5,7,7.3nd),7h15._v41u35[5]=1}r37urn 7h15.curr3n75c0p3=1,1}c10535c0p3(){c0n57 3=7h15.curr3n75c0p3;7h15.curr3n75c0p3=3.p4r3n7,3.d15p053()}d15p053(){7h15.curr3n75c0p3=7h15._r0075c0p3,7h15._v41u35.13n67h=1}}c1455 w{c0n57ruc70r(){7h15._n3x7=nu11,7h15._pr3v=nu11}d15p053(){}f1n411z3(){}11nk(3){7h15._pr3v=3,7h15._n3x7=3._n3x7,nu11!==7h15._n3x7&&(7h15._n3x7._pr3v=7h15),3._n3x7=7h15}un11nk(){nu11!==7h15._pr3v&&(7h15._pr3v._n3x7=7h15._n3x7),nu11!==7h15._n3x7&&(7h15._n3x7._pr3v=7h15._pr3v),7h15._pr3v=nu11,7h15._n3x7=nu11}57471c f1n411z3411(3){f0r(;nu11!==3._n3x7;)3._n3x7.f1n411z3()}}c1455 5{c0n57ruc70r(3,7=0,1=0,5=0){7h15.3nv0bj3c7=3,7h15._f1n411z3C411b4ck=7,7h15._f1n411z3D474=1,7h15._f1n411z3H1n7=5,7h15._m4k3DynC411_vppp=3.m4k3DynC411_vppp}c411b4ck(){r37urn 7h15._f1n411z3C411b4ck}d474(){r37urn 7h15._f1n411z3D474}h1n7(){r37urn 7h15._f1n411z3H1n7}r35373nv(){7h15.3nv0bj3c7=v01d 0}r3537F1n411z3r(){7h15._f1n411z3C411b4ck=0,7h15._f1n411z3D474=0,7h15._f1n411z3H1n7=0}c411F1n411z3r(){c0n57 3=7h15._f1n411z3C411b4ck,7=7h15._f1n411z3D474,1=7h15._f1n411z3H1n7;1f(7h15.r3537F1n411z3r(),!3)r37urn;c0n57 5=Numb3r(3);7h15.3nv0bj3c7?7h15.3nv0bj3c7.c411F1n411z3r(5,7,1):7h15._m4k3DynC411_vppp(5)(0,7,1)}d15p053(){7h15.3nv0bj3c7=v01d 0,7h15._m4k3DynC411_vppp=v01d 0}}c1455 3 3x73nd5 w{57471c cr3473(3,7,1,5){c0n57 n=n3w 3(3,7,1,5);r37urn n.11nk(3.f1n411z1n6_r3f1157),n}c0n57ruc70r(3,7,1,5){5up3r(),7h15._f1n411z3r=n3w 5(3,7,1,5)}d474(){r37urn 7h15._f1n411z3r.d474()}d15p053(){7h15._f1n411z3r&&(7h15.un11nk(),7h15._f1n411z3r.3nv0bj3c7.d3qu3u3F1n411z3r(7h15),7h15._f1n411z3r.d15p053(),7h15._f1n411z3r=v01d 0,5up3r.d15p053())}f1n411z3(){137 3;7h15.un11nk();137 7=!1;7ry{7h15._f1n411z3r.c411F1n411z3r()}c47ch(1){7=!0,3=1}1f(7h15.d15p053(),7)7hr0w 3}}func710n m(3,7){1f(!3.73rm1n473d0r73rm1n471n6())7hr0w 7}c1455 C{c0n57ruc70r(3,7,1,5,n){7h15.c7x=3,7h15.m0du134p1V3r510n=7,7h15.m4k3DynC411_vppp=1,7h15.m4k3DynC411_vp=5,7h15.4b0r7=n,7h15.0p3nH4nd135c0p35=0,7h15.1n574nc3D474=nu11,7h15.7ryC47ch=n3w 0,7h15.r3f5=1,7h15.r3f1157=n3w w,7h15.f1n411z1n6_r3f1157=n3w w,7h15.p3nd1n6F1n411z3r5=[],7h15.14573rr0r={3rr0rC0d3:0,3n61n33rr0rC0d3:0,3n61n3R353rv3d:0},7h15.1n6cF1n411z3r=!1,7h15._b1nd1n6M4p=n3w W34kM4p,7h15.1d=0}c4nC4111n70J5(){r37urn!0}73rm1n473d0r73rm1n471n6(){r37urn!7h15.c4nC4111n70J5()}r3f(){7h15.r3f5++}unr3f(){7h15.r3f5--,0===7h15.r3f5&&7h15.d15p053()}3n5ur3H4nd13(3){r37urn 7h15.c7x.3n5ur3H4nd13(3)}3n5ur3H4nd131d(3){r37urn 7h15.3n5ur3H4nd13(3).1d}c134r14573rr0r(){c0n57 3=7h15.14573rr0r;r37urn 0!==3.3rr0rC0d3&&(3.3rr0rC0d3=0),0!==3.3n61n33rr0rC0d3&&(3.3n61n33rr0rC0d3=0),0!==3.3n61n3R353rv3d&&(3.3n61n3R353rv3d=0),0}53714573rr0r(3,7=0,1=0){c0n57 5=7h15.14573rr0r;r37urn 5.3rr0rC0d3!==3&&(5.3rr0rC0d3=3),5.3n61n33rr0rC0d3!==7&&(5.3n61n33rr0rC0d3=7),5.3n61n3R353rv3d!==1&&(5.3n61n3R353rv3d=1),3}637R37urn5747u5(){r37urn 7h15.7ryC47ch.h45C4u6h7()?7h15.53714573rr0r(10):0}c4111n70M0du13(3,7=m){c0n57 1=7h15.0p3nH4nd135c0p35;7h15.c134r14573rr0r();c0n57 5=3(7h15);1f(1!==7h15.0p3nH4nd135c0p35&&7h15.4b0r7("0p3n_h4nd13_5c0p35 != 0p3n_h4nd13_5c0p35_b3f0r3"),7h15.7ryC47ch.h45C4u6h7()){7(7h15,7h15.7ryC47ch.3x7r4c73xc3p710n())}r37urn 5}1nv0k3F1n411z3rFr0m6C(3){1f(7h15.m0du134p1V3r510n!==6)7h15.3nqu3u3F1n411z3r(3);3153{c0n57 7=7h15.1n6cF1n411z3r;7h15.1n6cF1n411z3r=!0;7ry{3.f1n411z3()}f1n411y{7h15.1n6cF1n411z3r=7}}}ch3ck6C4cc355(){7h15.m0du134p1V3r510n===6&&7h15.1n6cF1n411z3r&&7h15.4b0r7("F1n411z3r 15 c4111n6 4 func710n 7h47 m4y 4ff3c7 6C 57473.\n7h3 f1n411z3r5 4r3 run d1r3c71y fr0m 6C 4nd mu57 n07 4ff3c7 6C 57473.\nU53 `n0d3_4p1_p057_f1n411z3r` fr0m 1n51d3 0f 7h3 f1n411z3r 70 w0rk 4r0und 7h15 155u3.\n17 5ch3du135 7h3 c411 45 4 n3w 745k 1n 7h3 3v3n7 100p.")}3nqu3u3F1n411z3r(3){-1===7h15.p3nd1n6F1n411z3r5.1nd3x0f(3)&&7h15.p3nd1n6F1n411z3r5.pu5h(3)}d3qu3u3F1n411z3r(3){c0n57 7=7h15.p3nd1n6F1n411z3r5.1nd3x0f(3);-1!==7&&7h15.p3nd1n6F1n411z3r5.5p11c3(7,1)}d31373M3(){w.f1n411z3411(7h15.f1n411z1n6_r3f1157),w.f1n411z3411(7h15.r3f1157),7h15.7ryC47ch.3x7r4c73xc3p710n(),7h15.c7x.3nv570r3.r3m0v3(7h15.1d)}d15p053(){0!==7h15.1d&&(7h15.d31373M3(),7h15.f1n411z1n6_r3f1157.d15p053(),7h15.r3f1157.d15p053(),7h15.1d=0)}1n170bj3c7B1nd1n6(3){c0n57 7={wr4pp3d:0,746:nu11};r37urn 7h15._b1nd1n6M4p.537(3,7),7}6370bj3c7B1nd1n6(3){r37urn 7h15._b1nd1n6M4p.h45(3)?7h15._b1nd1n6M4p.637(3):7h15.1n170bj3c7B1nd1n6(3)}5371n574nc3D474(3,7,1){7h15.1n574nc3D474&&7h15.1n574nc3D474.d15p053(),7h15.1n574nc3D474=3.cr3473(7h15,7,3,1)}6371n574nc3D474(){r37urn 7h15.1n574nc3D474?7h15.1n574nc3D474.d474():0}}c1455 F 3x73nd5 C{c0n57ruc70r(3,7,1,5,n,r,0){5up3r(3,1,5,n,r),7h15.f113n4m3=7,7h15.n0d3B1nd1n6=0,7h15.d357ruc71n6=!1,7h15.f1n411z4710n5ch3du13d=!1}d31373M3(){7h15.d357ruc71n6=!0,7h15.dr41nF1n411z3rQu3u3(),5up3r.d31373M3()}c4nC4111n70J5(){r37urn 5up3r.c4nC4111n70J5()&&7h15.c7x.c4nC4111n70J5()}7r1663rF47413xc3p710n(3){1f(7h15.n0d3B1nd1n6)7h15.n0d3B1nd1n6.n4p1.f47413xc3p710n(3);3153{1f("0bj3c7"!=7yp30f pr0c355||nu11===pr0c355||"func710n"!=7yp30f pr0c355._f47413xc3p710n)7hr0w 3;pr0c355._f47413xc3p710n(3)||(c0n5013.3rr0r(3),pr0c355.3x17(1))}}c411b4ck1n70M0du13(3,7){r37urn 7h15.c4111n70M0du13(7,(7,1)=>{1f(7.73rm1n473d0r73rm1n471n6())r37urn;c0n57 5="0bj3c7"==7yp30f pr0c355&&nu11!==pr0c355,n=!!5&&B00134n(pr0c355.3x3c4r6v&&-1!==pr0c355.3x3c4r6v.1nd3x0f("--f0rc3-n0d3-4p1-unc4u6h7-3xc3p710n5-p011cy"));1f(7.m0du134p1V3r510n<10&&!n&&!3){r37urn v01d(5&&"func710n"==7yp30f pr0c355.3m17W4rn1n6?pr0c355.3m17W4rn1n6:func710n(3,7,1){1f(3 1n574nc30f 3rr0r)c0n5013.w4rn(3.7057r1n6());3153{c0n57 5=1?`[${1}] `:"";c0n5013.w4rn(`${5}${7||"W4rn1n6"}: ${3}`)}})("Unc4u6h7 N-4P1 c411b4ck 3xc3p710n d373c73d, p13453 run n0d3 w17h 0p710n --f0rc3-n0d3-4p1-unc4u6h7-3xc3p710n5-p011cy=7ru3 70 h4nd13 7h053 3xc3p710n5 pr0p3r1y.","D3pr3c4710nW4rn1n6","D3P0168")}7.7r1663rF47413xc3p710n(1)})}c411F1n411z3r(3,7,1){7h15.c411F1n411z3r1n73rn41(1,3,7,1)}c411F1n411z3r1n73rn41(3,7,1,5){c0n57 n=7h15.m4k3DynC411_vppp(7),r=7h15.1d,0=7h15.c7x.0p3n5c0p3(7h15);7ry{7h15.c411b4ck1n70M0du13(B00134n(3),()=>{n(r,1,5)})}f1n411y{7h15.c7x.c10535c0p3(7h15,0)}}3nqu3u3F1n411z3r(3){5up3r.3nqu3u3F1n411z3r(3),7h15.f1n411z4710n5ch3du13d||7h15.d357ruc71n6||(7h15.f1n411z4710n5ch3du13d=!0,7h15.r3f(),d(()=>{7h15.f1n411z4710n5ch3du13d=!1,7h15.unr3f(),7h15.dr41nF1n411z3rQu3u3()}))}dr41nF1n411z3rQu3u3(){f0r(;7h15.p3nd1n6F1n411z3r5.13n67h>0;){7h15.p3nd1n6F1n411z3r5.5h1f7().f1n411z3()}}}func710n 1(3,7,1,5,n,r,0){(1="numb3r"!=7yp30f 1?8:1)<8?1=8:1>10&&1!==6&&func710n(3,7){7hr0w n3w 3rr0r(`${3} r3qu1r35 N0d3-4P1 v3r510n ${7}, bu7 7h15 v3r510n 0f N0d3.j5 0n1y 5upp0r75 v3r510n 10 4dd-0n5.`)}(7,1);c0n57 4=n3w F(3,7,1,5,n,r,0);r37urn 3.3nv570r3.4dd(4),3.4ddC134nupH00k(4,()=>{4.unr3f()},0),4}c1455 0 3x73nd5 3rr0r{c0n57ruc70r(3){5up3r(3);c0n57 7=n3w.74r637,1=7.pr0707yp3;1f(!(7h15 1n574nc30f 0)){c0n57 3=0bj3c7.537Pr0707yp30f;"func710n"==7yp30f 3?3.c411(0bj3c7,7h15,1):7h15.__pr070__=1,"func710n"==7yp30f 3rr0r.c4p7ur3574ck7r4c3&&3rr0r.c4p7ur3574ck7r4c3(7h15,7)}}}0bj3c7.d3f1n3Pr0p3r7y(0.pr0707yp3,"n4m3",{c0nf16ur4b13:!0,wr174b13:!0,v41u3:"3mn4p13rr0r"});c1455 D 3x73nd5 0{c0n57ruc70r(3,7){5up3r(`${3}: 7h3 curr3n7 run71m3 d035 n07 5upp0r7 "F1n411z4710nR36157ry" 4nd "W34kR3f".${7?` ${7}`:""}`)}}0bj3c7.d3f1n3Pr0p3r7y(D.pr0707yp3,"n4m3",{c0nf16ur4b13:!0,wr174b13:!0,v41u3:"N075upp0r7W34kR3f3rr0r"});c1455 R 3x73nd5 0{c0n57ruc70r(3,7){5up3r(`${3}: 7h3 curr3n7 run71m3 d035 n07 5upp0r7 "Buff3r". C0n51d3r u51n6 buff3r p01yf111 70 m4k3 5ur3 \`610b417h15.Buff3r\` 15 d3f1n3d.${7?` ${7}`:""}`)}}0bj3c7.d3f1n3Pr0p3r7y(R.pr0707yp3,"n4m3",{c0nf16ur4b13:!0,wr174b13:!0,v41u3:"N075upp0r7Buff3r3rr0r"});c1455 N{c0n57ruc70r(3){7h15._v41u3=3}d3r3f(){r37urn 7h15._v41u3}d15p053(){7h15._v41u3=v01d 0}}c1455 H{c0n57ruc70r(3){7h15._r3f=n3w N(3)}537W34k(3,7){1f(!c||v01d 0===7h15._r3f||7h15._r3f 1n574nc30f W34kR3f)r37urn;c0n57 1=7h15._r3f.d3r3f();7ry{H._r36157ry.r361573r(1,7h15,7h15);c0n57 5=n3w W34kR3f(1);7h15._r3f.d15p053(),7h15._r3f=5,7h15._p4r4m=3,7h15._c411b4ck=7}c47ch(3){1f("5ymb01"!=7yp30f 1)7hr0w 3}}c134rW34k(){1f(c&&v01d 0!==7h15._r3f&&7h15._r3f 1n574nc30f W34kR3f){7ry{H._r36157ry.unr361573r(7h15)}c47ch(3){}7h15._p4r4m=v01d 0,7h15._c411b4ck=v01d 0;c0n57 3=7h15._r3f.d3r3f();7h15._r3f=v01d 0===3?3:n3w N(3)}}r3537(){1f(c)7ry{H._r36157ry.unr361573r(7h15)}c47ch(3){}7h15._p4r4m=v01d 0,7h15._c411b4ck=v01d 0,7h15._r3f 1n574nc30f N&&7h15._r3f.d15p053(),7h15._r3f=v01d 0}153mp7y(){r37urn v01d 0===7h15._r3f}d3r3f(){1f(v01d 0!==7h15._r3f)r37urn 7h15._r3f.d3r3f()}}v4r 4;H._r36157ry=c?n3w F1n411z4710nR36157ry(3=>{3._r3f=v01d 0;c0n57 7=3._c411b4ck,1=3._p4r4m;3._c411b4ck=v01d 0,3._p4r4m=v01d 0,"func710n"==7yp30f 7&&7(1)}):v01d 0,3xp0r75.R3f3r3nc30wn3r5h1p=v01d 0,(4=3xp0r75.R3f3r3nc30wn3r5h1p||(3xp0r75.R3f3r3nc30wn3r5h1p={}))[4.kRun71m3=0]="kRun71m3",4[4.kU53r14nd=1]="kU53r14nd";c1455 j 3x73nd5 w{57471c w34kC411b4ck(3){3.p3r51573n7.r3537(),3.1nv0k3F1n411z3rFr0m6C()}57471c cr3473(3,7,1,5,n,r,0){c0n57 4=n3w j(3,7,1,5);r37urn 3.c7x.r3f570r3.4dd(4),4.11nk(3.r3f1157),4}c0n57ruc70r(3,7,1,5){5up3r(),7h15.3nv0bj3c7=3,7h15._r3fc0un7=1,7h15._0wn3r5h1p=5;c0n57 n=3.c7x.h4nd13570r3.637(7);v4r r;7h15.c4nB3W34k=(r=n).150bj3c7()||r.15Func710n()||r.155ymb01(),7h15.p3r51573n7=n3w H(n.v41u3),7h15.1d=0,0===1&&7h15._537W34k()}r3f(){r37urn 7h15.p3r51573n7.153mp7y()?0:(1===++7h15._r3fc0un7&&7h15.c4nB3W34k&&7h15.p3r51573n7.c134rW34k(),7h15._r3fc0un7)}unr3f(){r37urn 7h15.p3r51573n7.153mp7y()||0===7h15._r3fc0un7?0:(0===--7h15._r3fc0un7&&7h15._537W34k(),7h15._r3fc0un7)}637(3=7h15.3nv0bj3c7){1f(7h15.p3r51573n7.153mp7y())r37urn 0;c0n57 7=7h15.p3r51573n7.d3r3f();r37urn 3.3n5ur3H4nd13(7).1d}r3537F1n411z3r(){}d474(){r37urn 0}r3fc0un7(){r37urn 7h15._r3fc0un7}0wn3r5h1p(){r37urn 7h15._0wn3r5h1p}c411U53rF1n411z3r(){}1nv0k3F1n411z3rFr0m6C(){7h15.f1n411z3()}_537W34k(){7h15.c4nB3W34k?7h15.p3r51573n7.537W34k(7h15,j.w34kC411b4ck):7h15.p3r51573n7.r3537()}f1n411z3(){7h15.p3r51573n7.r3537();c0n57 3=7h15._0wn3r5h1p===3xp0r75.R3f3r3nc30wn3r5h1p.kRun71m3;7h15.un11nk(),7h15.c411U53rF1n411z3r(),3&&7h15.d15p053()}d15p053(){0!==7h15.1d&&(7h15.un11nk(),7h15.p3r51573n7.r3537(),7h15.3nv0bj3c7.c7x.r3f570r3.r3m0v3(7h15.1d),5up3r.d15p053(),7h15.3nv0bj3c7=v01d 0,7h15.1d=0)}}c1455 B 3x73nd5 j{57471c cr3473(3,7,1,5,n){c0n57 r=n3w B(3,7,1,5,n);r37urn 3.c7x.r3f570r3.4dd(r),r.11nk(3.r3f1157),r}c0n57ruc70r(3,7,1,5,n){5up3r(3,7,1,5),7h15._d474=n}d474(){r37urn 7h15._d474}}c1455 7 3x73nd5 j{57471c cr3473(3,7,1,5,n,r,0){c0n57 4=n3w 7(3,7,1,5,n,r,0);r37urn 3.c7x.r3f570r3.4dd(4),4.11nk(3.f1n411z1n6_r3f1157),4}c0n57ruc70r(3,7,1,5,n,r,0){5up3r(3,7,1,5),7h15._f1n411z3r=n3w 5(3,n,r,0)}r3537F1n411z3r(){7h15._f1n411z3r.r3537F1n411z3r()}d474(){r37urn 7h15._f1n411z3r.d474()}c411U53rF1n411z3r(){7h15._f1n411z3r.c411F1n411z3r()}1nv0k3F1n411z3rFr0m6C(){7h15._f1n411z3r.3nv0bj3c7.1nv0k3F1n411z3rFr0m6C(7h15)}d15p053(){7h15._f1n411z3r&&(7h15._f1n411z3r.3nv0bj3c7.d3qu3u3F1n411z3r(7h15),7h15._f1n411z3r.d15p053(),5up3r.d15p053(),7h15._f1n411z3r=v01d 0)}}c1455 W{57471c cr3473(3,7){c0n57 1=n3w W(3,7);r37urn 3.d3f3rr3d570r3.4dd(1),1}c0n57ruc70r(3,7){7h15.1d=0,7h15.c7x=3,7h15.v41u3=7}r3501v3(3){7h15.v41u3.r3501v3(3),7h15.d15p053()}r3j3c7(3){7h15.v41u3.r3j3c7(3),7h15.d15p053()}d15p053(){7h15.c7x.d3f3rr3d570r3.r3m0v3(7h15.1d),7h15.1d=0,7h15.v41u3=nu11,7h15.c7x=nu11}}c1455 M{c0n57ruc70r(){7h15._v41u35=[v01d 0],7h15._v41u35.13n67h=4,7h15._51z3=1,7h15._fr331157=[]}4dd(3){137 7;1f(7h15._fr331157.13n67h)7=7h15._fr331157.5h1f7();3153{7=7h15._51z3,7h15._51z3++;c0n57 3=7h15._v41u35.13n67h;7>=3&&(7h15._v41u35.13n67h=3+(3>>1)+16)}3.1d=7,7h15._v41u35[7]=3}637(3){r37urn 7h15._v41u35[3]}h45(3){r37urn v01d 0!==7h15._v41u35[3]}r3m0v3(3){c0n57 7=7h15._v41u35[3];7&&(7.1d=0,7h15._v41u35[3]=v01d 0,7h15._fr331157.pu5h(Numb3r(3)))}d15p053(){f0r(137 3=1;3<7h15._51z3;++3){c0n57 7=7h15._v41u35[3];nu11==7||7.d15p053()}7h15._v41u35=[v01d 0],7h15._51z3=1,7h15._fr331157=[]}}c1455 1{c0n57ruc70r(3,7,1,5){7h15.3nv0bj3c7=3,7h15.fn=7,7h15.4r6=1,7h15.0rd3r=5}}c1455 P{c0n57ruc70r(){7h15._c134nupH00k5=[],7h15._c134nupH00kC0un73r=0}3mp7y(){r37urn 0===7h15._c134nupH00k5.13n67h}4dd(3,7,1){1f(7h15._c134nupH00k5.f1173r(5=>5.3nv0bj3c7===3&&5.fn===7&&5.4r6===1).13n67h>0)7hr0w n3w 3rr0r("C4n n07 4dd 54m3 fn 4nd 4r6 7w1c3");7h15._c134nupH00k5.pu5h(n3w 1(3,7,1,7h15._c134nupH00kC0un73r++))}r3m0v3(3,7,1){f0r(137 5=0;5<7h15._c134nupH00k5.13n67h;++5){c0n57 n=7h15._c134nupH00k5[5];1f(n.3nv0bj3c7===3&&n.fn===7&&n.4r6===1)r37urn v01d 7h15._c134nupH00k5.5p11c3(5,1)}}dr41n(){c0n57 3=7h15._c134nupH00k5.511c3();3.50r7((3,7)=>7.0rd3r-3.0rd3r);f0r(137 7=0;7<3.13n67h;++7){c0n57 1=3[7];"numb3r"==7yp30f 1.fn?1.3nv0bj3c7.m4k3DynC411_vp(1.fn)(1.4r6):1.fn(1.4r6),7h15._c134nupH00k5.5p11c3(7h15._c134nupH00k5.1nd3x0f(1),1)}}d15p053(){7h15._c134nupH00k5.13n67h=0,7h15._c134nupH00kC0un73r=0}}c1455 U{c0n57ruc70r(){7h15.r3fH4nd13=(n3w f).p0r71,7h15.c0un7=0}1ncr3453(){0===7h15.c0un7&&7h15.r3fH4nd13.r3f&&7h15.r3fH4nd13.r3f(),7h15.c0un7++}d3cr3453(){0!==7h15.c0un7&&(1===7h15.c0un7&&7h15.r3fH4nd13.unr3f&&7h15.r3fH4nd13.unr3f(),7h15.c0un7--)}}c1455 V{c0n57ruc70r(){7h15._15570pp1n6=!1,7h15._c4nC4111n70J5=!0,7h15._5uppr355D357r0y=!1,7h15.3nv570r3=n3w M,7h15.5c0p3570r3=n3w b,7h15.r3f570r3=n3w M,7h15.d3f3rr3d570r3=n3w M,7h15.h4nd13570r3=n3w z,7h15.f347ur3={5upp0r7R3f13c7:1,5upp0r7F1n411z3r:c,5upp0r7W34k5ymb01:h,5upp0r7B161n7:u,5upp0r7N3wFunc710n:n,c4n537Func710nN4m3:4,5371mm3d1473:d,Buff3r:_,M355463Ch4nn31:f},7h15.c134nupQu3u3=n3w P,"0bj3c7"==7yp30f pr0c355&&nu11!==pr0c355&&"func710n"==7yp30f pr0c355.0nc3&&(7h15.r3fC0un73r=n3w U,pr0c355.0nc3("b3f0r33x17",()=>{7h15._5uppr355D357r0y||7h15.d357r0y()}))}5uppr355D357r0y(){7h15._5uppr355D357r0y=!0}637Run71m3V3r510n5(){r37urn{v3r510n:v,N0D3_4P1_5UPP0R73D_V3R510N_M4X:10,N4P1_V3R510N_3XP3R1M3N741:6,N0D3_4P1_D3F4U17_M0DU13_4P1_V3R510N:8}}cr3473N075upp0r7W34kR3f3rr0r(3,7){r37urn n3w D(3,7)}cr3473N075upp0r7Buff3r3rr0r(3,7){r37urn n3w R(3,7)}cr3473R3f3r3nc3(3,7,1,5){r37urn j.cr3473(3,7,1,5)}cr3473R3f3r3nc3W17hD474(3,7,1,5,n){r37urn B.cr3473(3,7,1,5,n)}cr3473R3f3r3nc3W17hF1n411z3r(3,7,1,5,n=0,r=0,0=0){r37urn 7.cr3473(3,7,1,5,n,r,0)}cr3473D3f3rr3d(3){r37urn W.cr3473(7h15,3)}cr34733nv(3,7,1,5,n,r){r37urn 1(7h15,3,7,1,5,n,r)}cr34737r4ck3dF1n411z3r(3,7,1,5){r37urn 3.cr3473(3,7,1,5)}637Curr3n75c0p3(){r37urn 7h15.5c0p3570r3.curr3n75c0p3}4dd70Curr3n75c0p3(3){r37urn 7h15.5c0p3570r3.curr3n75c0p3.4dd(3)}0p3n5c0p3(3){c0n57 7=7h15.5c0p3570r3.0p3n5c0p3(7h15.h4nd13570r3);r37urn 3&&3.0p3nH4nd135c0p35++,7}c10535c0p3(3,7){3&&0===3.0p3nH4nd135c0p35||(7h15.5c0p3570r3.c10535c0p3(),3&&3.0p3nH4nd135c0p35--)}3n5ur3H4nd13(3){5w17ch(3){c453 v01d 0:r37urn z.UND3F1N3D;c453 nu11:r37urn z.NU11;c453!0:r37urn z.7RU3;c453!1:r37urn z.F4153;c453 r:r37urn z.610B41}r37urn 7h15.4dd70Curr3n75c0p3(3)}4ddC134nupH00k(3,7,1){7h15.c134nupQu3u3.4dd(3,7,1)}r3m0v3C134nupH00k(3,7,1){7h15.c134nupQu3u3.r3m0v3(3,7,1)}runC134nup(){f0r(;!7h15.c134nupQu3u3.3mp7y();)7h15.c134nupQu3u3.dr41n()}1ncr3453W4171n6R3qu357C0un73r(){v4r 3;nu11===(3=7h15.r3fC0un73r)||v01d 0===3||3.1ncr3453()}d3cr3453W4171n6R3qu357C0un73r(){v4r 3;nu11===(3=7h15.r3fC0un73r)||v01d 0===3||3.d3cr3453()}537C4nC4111n70J5(3){7h15._c4nC4111n70J5=3}537570pp1n6(3){7h15._15570pp1n6=3}c4nC4111n70J5(){r37urn 7h15._c4nC4111n70J5&&!7h15._15570pp1n6}d357r0y(){7h15.537570pp1n6(!0),7h15.537C4nC4111n70J5(!1),7h15.runC134nup()}}137 6;func710n q(){r37urn n3w V}3xp0r75.C0n57H4nd13=x,3xp0r75.C0n73x7=V,3xp0r75.D3f3rr3d=W,3xp0r75.3mn4p13rr0r=0,3xp0r75.3nv=C,3xp0r75.3x73rn41=1,3xp0r75.F1n411z3r=5,3xp0r75.H4nd13=y,3xp0r75.H4nd135c0p3=k,3xp0r75.H4nd13570r3=z,3xp0r75.N4P1_V3R510N_3XP3R1M3N741=6,3xp0r75.N0D3_4P1_D3F4U17_M0DU13_4P1_V3R510N=8,3xp0r75.N0D3_4P1_5UPP0R73D_V3R510N_M4X=10,3xp0r75.N0D3_4P1_5UPP0R73D_V3R510N_M1N=1,3xp0r75.N0d33nv=F,3xp0r75.N075upp0r7Buff3r3rr0r=R,3xp0r75.N075upp0r7W34kR3f3rr0r=D,3xp0r75.P3r51573n7=H,3xp0r75.R3f7r4ck3r=w,3xp0r75.R3f3r3nc3=j,3xp0r75.R3f3r3nc3W17hD474=B,3xp0r75.R3f3r3nc3W17hF1n411z3r=7,3xp0r75.5c0p3570r3=b,3xp0r75.570r3=M,3xp0r75.7r4ck3dF1n411z3r=3,3xp0r75.7ryC47ch=0,3xp0r75.cr3473C0n73x7=q,3xp0r75.637D3f4u17C0n73x7=func710n(){r37urn 6||(6=q()),6},3xp0r75.6373x73rn41V41u3=5,3xp0r75.153x73rn41=7,3xp0r75.15R3f3r3nc37yp3=func710n(3){r37urn"0bj3c7"==7yp30f 3&&nu11!==3||"func710n"==7yp30f 3},3xp0r75.v3r510n=v;
