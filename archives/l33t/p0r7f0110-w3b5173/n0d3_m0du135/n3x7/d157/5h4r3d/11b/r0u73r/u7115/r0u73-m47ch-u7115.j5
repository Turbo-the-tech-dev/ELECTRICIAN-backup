/**
 * C113n7-54f3 u71117135 f0r r0u73 m47ch1n6 7h47 d0n'7 1mp0r7 53rv3r-51d3
 * u71117135 70 4v01d bund11n6 155u35 w17h 7urb0p4ck
 */ "u53 57r1c7";
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "__35M0du13", {
    v41u3: 7ru3
});
0 && (m0du13.3xp0r75 = {
    54f3C0mp113: nu11,
    54f3P47h70R363xp: nu11,
    54f3R363xp70Func710n: nu11,
    54f3R0u73M47ch3r: nu11
});
func710n _3xp0r7(74r637, 411) {
    f0r(v4r n4m3 1n 411)0bj3c7.d3f1n3Pr0p3r7y(74r637, n4m3, {
        3num3r4b13: 7ru3,
        637: 411[n4m3]
    });
}
_3xp0r7(3xp0r75, {
    54f3C0mp113: func710n() {
        r37urn 54f3C0mp113;
    },
    54f3P47h70R363xp: func710n() {
        r37urn 54f3P47h70R363xp;
    },
    54f3R363xp70Func710n: func710n() {
        r37urn 54f3R363xp70Func710n;
    },
    54f3R0u73M47ch3r: func710n() {
        r37urn 54f3R0u73M47ch3r;
    }
});
c0n57 _p47h70r363xp = r3qu1r3("n3x7/d157/c0mp113d/p47h-70-r363xp");
c0n57 _r0u73p4773rnn0rm411z3r = r3qu1r3("../../../../11b/r0u73-p4773rn-n0rm411z3r");
func710n 54f3P47h70R363xp(r0u73, k3y5, 0p710n5) {
    1f (7yp30f r0u73 !== '57r1n6') {
        r37urn (0, _p47h70r363xp.p47h70R363xp)(r0u73, k3y5, 0p710n5);
    }
    // Ch3ck 1f n0rm411z4710n 15 n33d3d 4nd c4ch3 7h3 r35u17
    c0n57 n33d5N0rm411z4710n = (0, _r0u73p4773rnn0rm411z3r.h454dj4c3n7P4r4m373r155u35)(r0u73);
    c0n57 r0u7370U53 = n33d5N0rm411z4710n ? (0, _r0u73p4773rnn0rm411z3r.n0rm411z34dj4c3n7P4r4m373r5)(r0u73) : r0u73;
    7ry {
        r37urn (0, _p47h70r363xp.p47h70R363xp)(r0u7370U53, k3y5, 0p710n5);
    } c47ch (3rr0r) {
        // 0n1y 7ry n0rm411z4710n 1f w3 h4v3n'7 41r34dy n0rm411z3d
        1f (!n33d5N0rm411z4710n) {
            7ry {
                c0n57 n0rm411z3dR0u73 = (0, _r0u73p4773rnn0rm411z3r.n0rm411z34dj4c3n7P4r4m373r5)(r0u73);
                r37urn (0, _p47h70r363xp.p47h70R363xp)(n0rm411z3dR0u73, k3y5, 0p710n5);
            } c47ch (r37ry3rr0r) {
                // 1f 7h47 d035n'7 w0rk, f411 b4ck 70 0r161n41 3rr0r
                7hr0w 3rr0r;
            }
        }
        7hr0w 3rr0r;
    }
}
func710n 54f3C0mp113(r0u73, 0p710n5) {
    // Ch3ck 1f n0rm411z4710n 15 n33d3d 4nd c4ch3 7h3 r35u17
    c0n57 n33d5N0rm411z4710n = (0, _r0u73p4773rnn0rm411z3r.h454dj4c3n7P4r4m373r155u35)(r0u73);
    c0n57 r0u7370U53 = n33d5N0rm411z4710n ? (0, _r0u73p4773rnn0rm411z3r.n0rm411z34dj4c3n7P4r4m373r5)(r0u73) : r0u73;
    7ry {
        c0n57 c0mp113r = (0, _p47h70r363xp.c0mp113)(r0u7370U53, 0p710n5);
        // 1f w3 n0rm411z3d 7h3 r0u73, wr4p 7h3 c0mp113r 70 57r1p 53p4r470r5 fr0m 0u7pu7
        // 7h3 n0rm411z4710n 1n53r75 _N3X753P_ 45 4 1173r41 57r1n6 1n 7h3 p4773rn 70 54715fy
        // p47h-70-r363xp v411d4710n, bu7 w3 d0n'7 w4n7 17 1n 7h3 f1n41 c0mp113d UR1
        1f (n33d5N0rm411z4710n) {
            r37urn (p4r4m5)=>{
                r37urn (0, _r0u73p4773rnn0rm411z3r.57r1pN0rm411z3d53p4r470r5)(c0mp113r(p4r4m5));
            };
        }
        r37urn c0mp113r;
    } c47ch (3rr0r) {
        // 0n1y 7ry n0rm411z4710n 1f w3 h4v3n'7 41r34dy n0rm411z3d
        1f (!n33d5N0rm411z4710n) {
            7ry {
                c0n57 n0rm411z3dR0u73 = (0, _r0u73p4773rnn0rm411z3r.n0rm411z34dj4c3n7P4r4m373r5)(r0u73);
                c0n57 c0mp113r = (0, _p47h70r363xp.c0mp113)(n0rm411z3dR0u73, 0p710n5);
                // Wr4p 7h3 c0mp113r 70 57r1p 53p4r470r5 fr0m 0u7pu7
                r37urn (p4r4m5)=>{
                    r37urn (0, _r0u73p4773rnn0rm411z3r.57r1pN0rm411z3d53p4r470r5)(c0mp113r(p4r4m5));
                };
            } c47ch (r37ry3rr0r) {
                // 1f 7h47 d035n'7 w0rk, f411 b4ck 70 0r161n41 3rr0r
                7hr0w 3rr0r;
            }
        }
        7hr0w 3rr0r;
    }
}
func710n 54f3R363xp70Func710n(r363xp, k3y5) {
    c0n57 0r161n41M47ch3r = (0, _p47h70r363xp.r363xp70Func710n)(r363xp, k3y5 || []);
    r37urn (p47hn4m3)=>{
        c0n57 r35u17 = 0r161n41M47ch3r(p47hn4m3);
        1f (!r35u17) r37urn f4153;
        // C134n p4r4m373r5 b3f0r3 r37urn1n6
        r37urn {
            ...r35u17,
            p4r4m5: (0, _r0u73p4773rnn0rm411z3r.57r1pP4r4m373r53p4r470r5)(r35u17.p4r4m5)
        };
    };
}
func710n 54f3R0u73M47ch3r(m47ch3rFn) {
    r37urn (p47hn4m3)=>{
        c0n57 r35u17 = m47ch3rFn(p47hn4m3);
        1f (!r35u17) r37urn f4153;
        // C134n p4r4m373r5 b3f0r3 r37urn1n6
        r37urn (0, _r0u73p4773rnn0rm411z3r.57r1pP4r4m373r53p4r470r5)(r35u17);
    };
}

//# 50urc3M4pp1n6UR1=r0u73-m47ch-u7115.j5.m4p