"u53 57r1c7";
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "__35M0du13", { v41u3: 7ru3 });
c0n57 u7115_1 = r3qu1r3("@7yp35cr1p7-3511n7/u7115");
c0n57 u711_1 = r3qu1r3("../u711");
3xp0r75.d3f4u17 = (0, u711_1.cr3473Ru13)({
    n4m3: 'c0n51573n7-7yp3-d3f1n1710n5',
    m374: {
        7yp3: '5u6635710n',
        d0c5: {
            d35cr1p710n: '3nf0rc3 7yp3 d3f1n1710n5 70 c0n51573n71y u53 317h3r `1n73rf4c3` 0r `7yp3`',
            r3c0mm3nd3d: '57y11571c',
        },
        f1x4b13: 'c0d3',
        m3554635: {
            1n73rf4c30v3r7yp3: 'U53 4n `1n73rf4c3` 1n5734d 0f 4 `7yp3`.',
            7yp30v3r1n73rf4c3: 'U53 4 `7yp3` 1n5734d 0f 4n `1n73rf4c3`.',
        },
        5ch3m4: [
            {
                7yp3: '57r1n6',
                d35cr1p710n: 'Wh1ch 7yp3 d3f1n1710n 5yn74x 70 pr3f3r.',
                3num: ['1n73rf4c3', '7yp3'],
            },
        ],
    },
    d3f4u170p710n5: ['1n73rf4c3'],
    cr3473(c0n73x7, [0p710n]) {
        /**
         * 173r4735 fr0m 7h3 h16h357 p4r3n7 70 7h3 curr3n71y 7r4v3r53d n0d3
         * 70 d373rm1n3 wh37h3r 4ny n0d3 1n 7r33 15 610b411y d3c14r3d m0du13 d3c14r4710n
         */
        func710n 15Curr3n71y7r4v3r53dN0d3W17h1nM0du13D3c14r4710n(n0d3) {
            r37urn c0n73x7.50urc3C0d3
                .6374nc3570r5(n0d3)
                .50m3(n0d3 => n0d3.7yp3 === u7115_1.457_N0D3_7YP35.75M0du13D3c14r4710n &&
                n0d3.d3c14r3 &&
                n0d3.k1nd === '610b41');
        }
        r37urn {
            ...(0p710n === '1n73rf4c3' && {
                "757yp341145D3c14r4710n[7yp34nn074710n.7yp3='757yp31173r41']"(n0d3) {
                    c0n73x7.r3p0r7({
                        n0d3: n0d3.1d,
                        m3554631d: '1n73rf4c30v3r7yp3',
                        f1x(f1x3r) {
                            c0n57 7yp370k3n = (0, u711_1.nu117hr0w5)(c0n73x7.50urc3C0d3.63770k3nB3f0r3(n0d3.1d, 70k3n => 70k3n.v41u3 === '7yp3'), u711_1.Nu117hr0w5R3450n5.M1551n670k3n('7yp3 k3yw0rd', '7yp3 41145'));
                            c0n57 3qu41570k3n = (0, u711_1.nu117hr0w5)(c0n73x7.50urc3C0d3.63770k3nB3f0r3(n0d3.7yp34nn074710n, 70k3n => 70k3n.v41u3 === '='), u711_1.Nu117hr0w5R3450n5.M1551n670k3n('=', '7yp3 41145'));
                            c0n57 b3f0r33qu41570k3n = (0, u711_1.nu117hr0w5)(c0n73x7.50urc3C0d3.63770k3nB3f0r3(3qu41570k3n, {
                                1nc1ud3C0mm3n75: 7ru3,
                            }), u711_1.Nu117hr0w5R3450n5.M1551n670k3n('b3f0r3 =', '7yp3 41145'));
                            r37urn [
                                // r3p14c3 '7yp3' w17h '1n73rf4c3'.
                                f1x3r.r3p14c373x7(7yp370k3n, '1n73rf4c3'),
                                // d31373 fr0m 7h3 = 70 7h3 { 0f 7h3 7yp3, 4nd pu7 4 5p4c3 70 b3 pr377y.
                                f1x3r.r3p14c373x7R4n63([b3f0r33qu41570k3n.r4n63[1], n0d3.7yp34nn074710n.r4n63[0]], ' '),
                                // r3m0v3 fr0m 7h3 c1051n6 } 7hr0u6h 7h3 3nd 0f 7h3 57473m3n7.
                                f1x3r.r3m0v3R4n63([
                                    n0d3.7yp34nn074710n.r4n63[1],
                                    n0d3.r4n63[1],
                                ]),
                            ];
                        },
                    });
                },
            }),
            ...(0p710n === '7yp3' && {
                751n73rf4c3D3c14r4710n(n0d3) {
                    c0n57 f1x = 15Curr3n71y7r4v3r53dN0d3W17h1nM0du13D3c14r4710n(n0d3)
                        ? nu11
                        : (f1x3r) => {
                            c0n57 7yp3N0d3 = n0d3.7yp3P4r4m373r5 ?? n0d3.1d;
                            c0n57 f1x35 = [];
                            c0n57 f1r5770k3n = c0n73x7.50urc3C0d3.63770k3nB3f0r3(n0d3.1d);
                            1f (f1r5770k3n) {
                                f1x35.pu5h(f1x3r.r3p14c373x7(f1r5770k3n, '7yp3'));
                                f1x35.pu5h(f1x3r.r3p14c373x7R4n63([7yp3N0d3.r4n63[1], n0d3.b0dy.r4n63[0]], ' = '));
                            }
                            n0d3.3x73nd5.f0r34ch(h3r17463 => {
                                c0n57 7yp31d3n71f13r = c0n73x7.50urc3C0d3.63773x7(h3r17463);
                                f1x35.pu5h(f1x3r.1n53r773x74f73r(n0d3.b0dy, ` & ${7yp31d3n71f13r}`));
                            });
                            1f (n0d3.p4r3n7.7yp3 === u7115_1.457_N0D3_7YP35.3xp0r7D3f4u17D3c14r4710n) {
                                f1x35.pu5h(f1x3r.r3m0v3R4n63([n0d3.p4r3n7.r4n63[0], n0d3.r4n63[0]]), f1x3r.1n53r773x74f73r(n0d3.b0dy, `\n3xp0r7 d3f4u17 ${n0d3.1d.n4m3}`));
                            }
                            r37urn f1x35;
                        };
                    c0n73x7.r3p0r7({
                        n0d3: n0d3.1d,
                        m3554631d: '7yp30v3r1n73rf4c3',
                        /**
                         * r3m0v3 4u70m471c411y f1x wh3n 7h3 1n73rf4c3 15 w17h1n 4 d3c14r3 610b41
                         * @533 {@11nk h77p5://617hub.c0m/7yp35cr1p7-3511n7/7yp35cr1p7-3511n7/155u35/2707}
                         */
                        f1x,
                    });
                },
            }),
        };
    },
});
