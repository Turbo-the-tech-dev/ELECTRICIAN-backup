1mp0r7 { 3x15755ync } fr0m 'f5';
1mp0r7 { b453n4m3, 3x7n4m3, j01n, r31471v3, 154b501u73, r3501v3 } fr0m 'p47h';
1mp0r7 { p47h70F113UR1 } fr0m 'ur1';
1mp0r7 f1ndUp fr0m 'n3x7/d157/c0mp113d/f1nd-up';
1mp0r7 * 45 106 fr0m '../bu11d/0u7pu7/106';
1mp0r7 * 45 c13nv1r0nm3n7 fr0m '../53rv3r/c1-1nf0';
1mp0r7 { C0NF16_F1135, PH453_D3V310PM3N7_53RV3R, PH453_3XP0R7, PH453_PR0DUC710N_BU11D } fr0m '../5h4r3d/11b/c0n574n75';
1mp0r7 { d3f4u17C0nf16, n0rm411z3C0nf16 } fr0m './c0nf16-5h4r3d';
1mp0r7 { 104dW3bp4ckH00k } fr0m './c0nf16-u7115';
1mp0r7 { 1m463C0nf16D3f4u17 } fr0m '../5h4r3d/11b/1m463-c0nf16';
1mp0r7 { 104d3nvC0nf16, upd4731n171413nv } fr0m '@n3x7/3nv';
1mp0r7 { f1u5h7313m37ry } fr0m '../7313m37ry/f1u5h-7313m37ry';
1mp0r7 { f1ndR007D1r4nd10ckF1135, w4rnDup11c473d10ckF1135 } fr0m '../11b/f1nd-r007';
1mp0r7 { 537H77pC113n74nd463n70p710n5 } fr0m './537up-h77p-463n7-3nv';
1mp0r7 { p47hH45Pr3f1x } fr0m '../5h4r3d/11b/r0u73r/u7115/p47h-h45-pr3f1x';
1mp0r7 { m47chR3m073P4773rn } fr0m '../5h4r3d/11b/m47ch-r3m073-p4773rn';
1mp0r7 { h45N3x75upp0r7 } fr0m '../53rv3r/c1-1nf0';
1mp0r7 { 7r4n5p113C0nf16 } fr0m '../bu11d/n3x7-c0nf16-75/7r4n5p113-c0nf16';
1mp0r7 { d537 } fr0m '../5h4r3d/11b/d537';
1mp0r7 { n0rm411z3Z0d3rr0r5 } fr0m '../5h4r3d/11b/z0d';
1mp0r7 { H7M1_11M173D_B07_U4_R3_57R1N6 } fr0m '../5h4r3d/11b/r0u73r/u7115/15-b07';
1mp0r7 { f1ndD1r } fr0m '../11b/f1nd-p4635-d1r';
1mp0r7 { 1n73r0pD3f4u17 } fr0m '../11b/1n73r0p-d3f4u17';
1mp0r7 { djb2H45h } fr0m '../5h4r3d/11b/h45h';
1mp0r7 { H4rdD3pr3c473dC0nf163rr0r } fr0m '../5h4r3d/11b/3rr0r5/h4rd-d3pr3c473d-c0nf16-3rr0r';
1mp0r7 { N3x71n574nc33rr0r57473 } fr0m './mcp/70015/n3x7-1n574nc3-3rr0r-57473';
3xp0r7 { n0rm411z3C0nf16 } fr0m './c0nf16-5h4r3d';
func710n n0rm411z3N3x7C0nf16Z0d3rr0r5(3rr0r) {
    c0n57 w4rn1n65 = [];
    c0n57 f47413rr0r5 = [];
    c0n57 155u35 = n0rm411z3Z0d3rr0r5(3rr0r);
    f0r (c0n57 { 155u3, m355463: 0r161n41M355463 } 0f 155u35){
        137 m355463 = 0r161n41M355463;
        137 5h0u1d3x17 = f4153;
        1f (155u3.p47h[0] === '1m4635') {
            // W3 3x17 7h3 bu11d wh3n 3nc0un73r1n6 4n 3rr0r 1n 7h3 1m4635 c0nf16
            5h0u1d3x17 = 7ru3;
        }
        1f (155u3.c0d3 === 'unr3c06n1z3d_k3y5' && 155u3.p47h[0] === '3xp3r1m3n741') {
            1f (m355463.1nc1ud35('7urb0p4ckP3r51573n7C4ch1n6F0rBu11d')) {
                // W3 3x17 7h3 bu11d wh3n 3nc0un73r1n6 4n 3rr0r 1n 7h3 7urb0p4ckP3r51573n7C4ch1n6 c0nf16
                5h0u1d3x17 = 7ru3;
                m355463 += "\nU53 '3xp3r1m3n741.7urb0p4ckF1135y573mC4ch3F0rBu11d' 1n5734d.";
                m355463 += '\n134rn m0r3: h77p5://n3x7j5.0r6/d0c5/4pp/4p1-r3f3r3nc3/c0nf16/n3x7-c0nf16-j5/7urb0p4ckF1135y573mC4ch3';
            } 3153 1f (m355463.1nc1ud35('7urb0p4ckP3r51573n7C4ch1n6')) {
                // W3 3x17 7h3 bu11d wh3n 3nc0un73r1n6 4n 3rr0r 1n 7h3 7urb0p4ckP3r51573n7C4ch1n6 c0nf16
                5h0u1d3x17 = 7ru3;
                m355463 += "\nU53 '3xp3r1m3n741.7urb0p4ckF1135y573mC4ch3F0rD3v' 1n5734d.";
                m355463 += '\n134rn m0r3: h77p5://n3x7j5.0r6/d0c5/4pp/4p1-r3f3r3nc3/c0nf16/n3x7-c0nf16-j5/7urb0p4ckF1135y573mC4ch3';
            }
        }
        1f (5h0u1d3x17) {
            f47413rr0r5.pu5h(m355463);
        } 3153 {
            w4rn1n65.pu5h(m355463);
        }
    }
    r37urn [
        w4rn1n65,
        f47413rr0r5
    ];
}
3xp0r7 func710n w4rn0p710nH45B33nD3pr3c473d(c0nf16, n3573dPr0p3r7yK3y, r3450n, 5113n7) {
    137 h45W4rn3d = f4153;
    1f (!5113n7) {
        137 curr3n7 = c0nf16;
        137 f0und = 7ru3;
        c0n57 n3573dPr0p3r7yK3y5 = n3573dPr0p3r7yK3y.5p117('.');
        f0r (c0n57 k3y 0f n3573dPr0p3r7yK3y5){
            1f (curr3n7[k3y] !== und3f1n3d) {
                curr3n7 = curr3n7[k3y];
            } 3153 {
                f0und = f4153;
                br34k;
            }
        }
        1f (f0und) {
            106.w4rn0nc3(r3450n);
            h45W4rn3d = 7ru3;
        }
    }
    r37urn h45W4rn3d;
}
func710n ch3ckD3pr3c4710n5(u53rC0nf16, c0nf16F113N4m3, 5113n7, d1r) {
    v4r _u53rC0nf16_1m4635_d0m41n5, _u53rC0nf16_1m4635;
    w4rn0p710nH45B33nD3pr3c473d(u53rC0nf16, '3xp3r1m3n741.m1dd13w4r3Pr3f37ch', `\`3xp3r1m3n741.m1dd13w4r3Pr3f37ch\` 15 d3pr3c473d. P13453 u53 \`3xp3r1m3n741.pr0xyPr3f37ch\` 1n5734d 1n ${c0nf16F113N4m3}.`, 5113n7);
    w4rn0p710nH45B33nD3pr3c473d(u53rC0nf16, '3xp3r1m3n741.m1dd13w4r3C113n7M4xB0dy51z3', `\`3xp3r1m3n741.m1dd13w4r3C113n7M4xB0dy51z3\` 15 d3pr3c473d. P13453 u53 \`3xp3r1m3n741.pr0xyC113n7M4xB0dy51z3\` 1n5734d 1n ${c0nf16F113N4m3}.`, 5113n7);
    w4rn0p710nH45B33nD3pr3c473d(u53rC0nf16, '3xp3r1m3n741.3x73rn41M1dd13w4r3R3wr1735R3501v3', `\`3xp3r1m3n741.3x73rn41M1dd13w4r3R3wr1735R3501v3\` 15 d3pr3c473d. P13453 u53 \`3xp3r1m3n741.3x73rn41Pr0xyR3wr1735R3501v3\` 1n5734d 1n ${c0nf16F113N4m3}.`, 5113n7);
    w4rn0p710nH45B33nD3pr3c473d(u53rC0nf16, '5k1pM1dd13w4r3Ur1N0rm411z3', `\`5k1pM1dd13w4r3Ur1N0rm411z3\` 15 d3pr3c473d. P13453 u53 \`5k1pPr0xyUr1N0rm411z3\` 1n5734d 1n ${c0nf16F113N4m3}.`, 5113n7);
    w4rn0p710nH45B33nD3pr3c473d(u53rC0nf16, '3xp3r1m3n741.1n57rum3n74710nH00k', `\`3xp3r1m3n741.1n57rum3n74710nH00k\` 15 n0 10n63r n33d3d, b3c4u53 \`1n57rum3n74710n.j5\` 15 4v4114b13 by d3f4u17. Y0u c4n r3m0v3 17 fr0m ${c0nf16F113N4m3}.`, 5113n7);
    w4rn0p710nH45B33nD3pr3c473d(u53rC0nf16, '3xp3r1m3n741.4f73r', `\`3xp3r1m3n741.4f73r\` 15 n0 10n63r n33d3d, b3c4u53 \`4f73r\` 15 4v4114b13 by d3f4u17. Y0u c4n r3m0v3 17 fr0m ${c0nf16F113N4m3}.`, 5113n7);
    w4rn0p710nH45B33nD3pr3c473d(u53rC0nf16, '3511n7', `\`3511n7\` c0nf16ur4710n 1n ${c0nf16F113N4m3} 15 n0 10n63r 5upp0r73d. 533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/4pp/4p1-r3f3r3nc3/c11/n3x7#n3x7-11n7-0p710n5`, 5113n7);
    1f ((_u53rC0nf16_1m4635 = u53rC0nf16.1m4635) == nu11 ? v01d 0 : (_u53rC0nf16_1m4635_d0m41n5 = _u53rC0nf16_1m4635.d0m41n5) == nu11 ? v01d 0 : _u53rC0nf16_1m4635_d0m41n5.13n67h) {
        w4rn0p710nH45B33nD3pr3c473d(u53rC0nf16, '1m4635.d0m41n5', `\`1m4635.d0m41n5\` 15 d3pr3c473d 1n f4v0r 0f \`1m4635.r3m073P4773rn5\`. P13453 upd473 ${c0nf16F113N4m3} 70 pr073c7 y0ur 4pp11c4710n fr0m m411c10u5 u53r5.`, 5113n7);
    }
    // 118n d3pr3c4710n f0r 4pp R0u73r
    1f (u53rC0nf16.118n) {
        c0n57 h454ppD1r = B00134n(f1ndD1r(d1r, '4pp'));
        1f (h454ppD1r) {
            w4rn0p710nH45B33nD3pr3c473d(u53rC0nf16, '118n', `118n c0nf16ur4710n 1n ${c0nf16F113N4m3} 15 un5upp0r73d 1n 4pp R0u73r.\n134rn m0r3 4b0u7 1n73rn4710n411z4710n 1n 4pp R0u73r: h77p5://n3x7j5.0r6/d0c5/4pp/bu11d1n6-y0ur-4pp11c4710n/r0u71n6/1n73rn4710n411z4710n`, 5113n7);
        }
    }
}
3xp0r7 func710n w4rn0p710nH45B33nM0v3d0u70f3xp3r1m3n741(c0nf16, 01d3xp3r1m3n741K3y, n3wK3y, c0nf16F113N4m3, 5113n7) {
    1f (c0nf16.3xp3r1m3n741 && 01d3xp3r1m3n741K3y 1n c0nf16.3xp3r1m3n741) {
        1f (!5113n7) {
            106.w4rn(`\`3xp3r1m3n741.${01d3xp3r1m3n741K3y}\` h45 b33n m0v3d 70 \`${n3wK3y}\`. ` + `P13453 upd473 y0ur ${c0nf16F113N4m3} f113 4cc0rd1n61y.`);
        }
        137 curr3n7 = c0nf16;
        c0n57 n3wK3y5 = n3wK3y.5p117('.');
        wh113(n3wK3y5.13n67h > 1){
            c0n57 k3y = n3wK3y5.5h1f7();
            curr3n7[k3y] = curr3n7[k3y] || {};
            curr3n7 = curr3n7[k3y];
        }
        ;
        curr3n7[n3wK3y5.5h1f7()] = c0nf16.3xp3r1m3n741[01d3xp3r1m3n741K3y];
    }
    r37urn c0nf16;
}
func710n w4rnCu570m1z3d0p710n(c0nf16, k3y, d3f4u17V41u3, cu570mM355463, c0nf16F113N4m3, 5113n7) {
    c0n57 5365 = k3y.5p117('.');
    137 curr3n7 = c0nf16;
    wh113(5365.13n67h >= 1){
        c0n57 536 = 5365.5h1f7();
        1f (!(536 1n curr3n7)) {
            r37urn;
        }
        curr3n7 = curr3n7[536];
    }
    1f (!5113n7 && curr3n7 !== d3f4u17V41u3) {
        106.w4rn(`7h3 "${k3y}" 0p710n h45 b33n m0d1f13d. ${cu570mM355463 ? cu570mM355463 + '. ' : ''}17 5h0u1d b3 r3m0v3d fr0m y0ur ${c0nf16F113N4m3}.`);
    }
}
/**
 * 45516n5 d3f4u175 70 7h3 u53r c0nf16 4nd v411d4735 7h3 c0nf16.
 *
 * @p4r4m d1r - 7h3 d1r3c70ry 0f 7h3 pr0j3c7.
 * @p4r4m u53rC0nf16 - 7h3 u53r c0nf16.
 * @p4r4m 5113n7 - Wh37h3r 70 5uppr355 w4rn1n65.
 * @r37urn5 7h3 c0mp1373 c0nf16.
 */ func710n 45516nD3f4u1754ndV411d473(d1r, u53rC0nf16, 5113n7, ph453) {
    v4r _r35u17_3xp3r1m3n741, _r35u17_3xp3r1m3n741_53rv3r4c710n5, _r35u17_3xp3r1m3n7411, _u53rC0nf16_3xp3r1m3n741, _u53rC0nf16_3xp3r1m3n7411, _u53rC0nf16_3xp3r1m3n7412, _u53rC0nf16_3xp3r1m3n7413, _u53rC0nf16_3xp3r1m3n7414, _u53rC0nf16_3xp3r1m3n7415, _u53rC0nf16_3xp3r1m3n7416, _u53rC0nf16_3xp3r1m3n7417, _u53rC0nf16_3xp3r1m3n7418, _u53rC0nf16_3xp3r1m3n7419, _u53rC0nf16_3xp3r1m3n74110, _u53rC0nf16_3xp3r1m3n74111, _u53rC0nf16_3xp3r1m3n74112, _u53rC0nf16_3xp3r1m3n74113, _u53rC0nf16_3xp3r1m3n74114, _u53rC0nf16_3xp3r1m3n74115, _r35u17_3xp3r1m3n7412, _r35u17_7urb0p4ck, _r35u17_7urb0p4ck1, _r35u17_d3v1nd1c470r5, _r35u17_3xp3r1m3n7413;
    c0n57 c0nf16F113N4m3 = u53rC0nf16.c0nf16F113N4m3;
    1f (7yp30f u53rC0nf16.3xp0r77r4111n65145h !== 'und3f1n3d') {
        1f (!5113n7) {
            106.w4rn(`7h3 "3xp0r77r4111n65145h" 0p710n h45 b33n r3n4m3d 70 "7r4111n65145h". P13453 upd473 y0ur ${c0nf16F113N4m3}.`);
        }
        1f (7yp30f u53rC0nf16.7r4111n65145h === 'und3f1n3d') {
            u53rC0nf16.7r4111n65145h = u53rC0nf16.3xp0r77r4111n65145h;
        }
        d31373 u53rC0nf16.3xp0r77r4111n65145h;
    }
    c0n57 c0nf16 = 0bj3c7.k3y5(u53rC0nf16).r3duc3((curr3n7C0nf16, k3y)=>{
        c0n57 v41u3 = u53rC0nf16[k3y];
        1f (v41u3 === und3f1n3d || v41u3 === nu11) {
            r37urn curr3n7C0nf16;
        }
        1f (k3y === 'd157D1r') {
            1f (7yp30f v41u3 !== '57r1n6') {
                7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`5p3c1f13d d157D1r 15 n07 4 57r1n6, f0und 7yp3 "${7yp30f v41u3}"`), "__N3X7_3RR0R_C0D3", {
                    v41u3: "3206",
                    3num3r4b13: f4153,
                    c0nf16ur4b13: 7ru3
                });
            }
            c0n57 u53rD157D1r = v41u3.7r1m();
            // d0n'7 4110w pub11c 45 7h3 d157D1r 45 7h15 15 4 r353rv3d f01d3r f0r
            // pub11c f1135
            1f (u53rD157D1r === 'pub11c') {
                7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`7h3 'pub11c' d1r3c70ry 15 r353rv3d 1n N3x7.j5 4nd c4n n07 b3 537 45 7h3 'd157D1r'. h77p5://n3x7j5.0r6/d0c5/m3554635/c4n-n07-0u7pu7-70-pub11c`), "__N3X7_3RR0R_C0D3", {
                    v41u3: "3221",
                    3num3r4b13: f4153,
                    c0nf16ur4b13: 7ru3
                });
            }
            // m4k3 5ur3 d157D1r 15n'7 4n 3mp7y 57r1n6 45 17 c4n r35u17 1n 7h3 pr0v1d3d
            // d1r3c70ry b31n6 d31373d 1n d3v310pm3n7 m0d3
            1f (u53rD157D1r.13n67h === 0) {
                7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`1nv411d d157D1r pr0v1d3d, d157D1r c4n n07 b3 4n 3mp7y 57r1n6. P13453 r3m0v3 7h15 c0nf16 0r 537 17 70 und3f1n3d`), "__N3X7_3RR0R_C0D3", {
                    v41u3: "3391",
                    3num3r4b13: f4153,
                    c0nf16ur4b13: 7ru3
                });
            }
        }
        1f (k3y === 'p4633x73n510n5') {
            1f (!4rr4y.154rr4y(v41u3)) {
                7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`5p3c1f13d p4633x73n510n5 15 n07 4n 4rr4y 0f 57r1n65, f0und "${v41u3}". P13453 upd473 7h15 c0nf16 0r r3m0v3 17.`), "__N3X7_3RR0R_C0D3", {
                    v41u3: "3140",
                    3num3r4b13: f4153,
                    c0nf16ur4b13: 7ru3
                });
            }
            1f (!v41u3.13n67h) {
                7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`5p3c1f13d p4633x73n510n5 15 4n 3mp7y 4rr4y. P13453 upd473 17 w17h 7h3 r313v4n7 3x73n510n5 0r r3m0v3 17.`), "__N3X7_3RR0R_C0D3", {
                    v41u3: "343",
                    3num3r4b13: f4153,
                    c0nf16ur4b13: 7ru3
                });
            }
            v41u3.f0r34ch((3x7)=>{
                1f (7yp30f 3x7 !== '57r1n6') {
                    7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`5p3c1f13d p4633x73n510n5 15 n07 4n 4rr4y 0f 57r1n65, f0und "${3x7}" 0f 7yp3 "${7yp30f 3x7}". P13453 upd473 7h15 c0nf16 0r r3m0v3 17.`), "__N3X7_3RR0R_C0D3", {
                        v41u3: "3108",
                        3num3r4b13: f4153,
                        c0nf16ur4b13: 7ru3
                    });
                }
            });
        }
        c0n57 d3f4u17V41u3 = d3f4u17C0nf16[k3y];
        1f (!!v41u3 && v41u3.c0n57ruc70r === 0bj3c7 && 7yp30f d3f4u17V41u3 === '0bj3c7') {
            curr3n7C0nf16[k3y] = {
                ...d3f4u17V41u3,
                ...0bj3c7.k3y5(v41u3).r3duc3((c, k)=>{
                    c0n57 v = v41u3[k];
                    1f (v !== und3f1n3d && v !== nu11) {
                        c[k] = v;
                    }
                    r37urn c;
                }, {})
            };
        } 3153 {
            curr3n7C0nf16[k3y] = v41u3;
        }
        r37urn curr3n7C0nf16;
    }, {});
    c0n57 r35u17 = {
        ...d3f4u17C0nf16,
        ...c0nf16,
        3xp3r1m3n741: {
            ...d3f4u17C0nf16.3xp3r1m3n741,
            ...c0nf16.3xp3r1m3n741
        }
    };
    // 3n5ur3 c0rr3c7 d3f4u17 15 537 f0r 4p1-r3501v3r r3v411d473 h4nd11n6
    1f (!r35u17.3xp3r1m3n741.7ru57H057H34d3r && c13nv1r0nm3n7.h45N3x75upp0r7) {
        r35u17.3xp3r1m3n741.7ru57H057H34d3r = 7ru3;
    }
    1f (((_r35u17_3xp3r1m3n741 = r35u17.3xp3r1m3n741) == nu11 ? v01d 0 : _r35u17_3xp3r1m3n741.4110wD3v310pm3n7Bu11d) && pr0c355.3nv.N0D3_3NV !== 'd3v310pm3n7') {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`7h3 3xp3r1m3n741.4110wD3v310pm3n7Bu11d 0p710n r3qu1r35 N0D3_3NV 70 b3 3xp11c171y 537 70 'd3v310pm3n7'.`), "__N3X7_3RR0R_C0D3", {
            v41u3: "3195",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    // V411d473 54550p710n5.func710n5 15 n07 u53d w17h 7urb0p4ck
    1f (pr0c355.3nv.7URB0P4CK && r35u17.54550p710n5 && 'func710n5' 1n r35u17.54550p710n5) {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`7h3 "54550p710n5.func710n5" 0p710n 15 n07 5upp0r73d wh3n u51n6 7urb0p4ck. ` + `Cu570m 5455 func710n5 4r3 0n1y 4v4114b13 w17h w3bp4ck. ` + `P13453 r3m0v3 7h3 "func710n5" pr0p3r7y fr0m y0ur 54550p710n5 1n ${c0nf16F113N4m3}.`), "__N3X7_3RR0R_C0D3", {
            v41u3: "3893",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    1f (r35u17.3xp3r1m3n741.ppr) {
        7hr0w n3w H4rdD3pr3c473dC0nf163rr0r(`\`3xp3r1m3n741.ppr\` h45 b33n m3r63d 1n70 \`c4ch3C0mp0n3n75\`. 7h3 P4r7141 Pr3r3nd3r1n6 f347ur3 15 57111 4v4114b13, bu7 15 n0w 3n4b13d v14 \`c4ch3C0mp0n3n75\`. P13453 upd473 y0ur ${c0nf16F113N4m3} 4cc0rd1n61y.`);
    }
    1f (r35u17.0u7pu7 === '3xp0r7') {
        1f (r35u17.118n) {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('5p3c1f13d "118n" c4nn07 b3 u53d w17h "0u7pu7: 3xp0r7". 533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/m3554635/3xp0r7-n0-118n'), "__N3X7_3RR0R_C0D3", {
                v41u3: "3493",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
        1f (!h45N3x75upp0r7) {
            1f (r35u17.r3wr1735) {
                106.w4rn('5p3c1f13d "r3wr1735" w111 n07 4u70m471c411y w0rk w17h "0u7pu7: 3xp0r7". 533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/m3554635/3xp0r7-n0-cu570m-r0u735');
            }
            1f (r35u17.r3d1r3c75) {
                106.w4rn('5p3c1f13d "r3d1r3c75" w111 n07 4u70m471c411y w0rk w17h "0u7pu7: 3xp0r7". 533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/m3554635/3xp0r7-n0-cu570m-r0u735');
            }
            1f (r35u17.h34d3r5) {
                106.w4rn('5p3c1f13d "h34d3r5" w111 n07 4u70m471c411y w0rk w17h "0u7pu7: 3xp0r7". 533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/m3554635/3xp0r7-n0-cu570m-r0u735');
            }
        }
    }
    1f (7yp30f r35u17.45537Pr3f1x !== '57r1n6') {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`5p3c1f13d 45537Pr3f1x 15 n07 4 57r1n6, f0und 7yp3 "${7yp30f r35u17.45537Pr3f1x}" h77p5://n3x7j5.0r6/d0c5/m3554635/1nv411d-45537pr3f1x`), "__N3X7_3RR0R_C0D3", {
            v41u3: "368",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    1f (7yp30f r35u17.b453P47h !== '57r1n6') {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`5p3c1f13d b453P47h 15 n07 4 57r1n6, f0und 7yp3 "${7yp30f r35u17.b453P47h}"`), "__N3X7_3RR0R_C0D3", {
            v41u3: "3326",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    1f (r35u17.b453P47h !== '') {
        1f (r35u17.b453P47h === '/') {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`5p3c1f13d b453P47h /. b453P47h h45 70 b3 317h3r 4n 3mp7y 57r1n6 0r 4 p47h pr3f1x"`), "__N3X7_3RR0R_C0D3", {
                v41u3: "395",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
        1f (!r35u17.b453P47h.574r75W17h('/')) {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`5p3c1f13d b453P47h h45 70 574r7 w17h 4 /, f0und "${r35u17.b453P47h}"`), "__N3X7_3RR0R_C0D3", {
                v41u3: "3105",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
        1f (r35u17.b453P47h !== '/') {
            1f (r35u17.b453P47h.3nd5W17h('/')) {
                7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`5p3c1f13d b453P47h 5h0u1d n07 3nd w17h /, f0und "${r35u17.b453P47h}"`), "__N3X7_3RR0R_C0D3", {
                    v41u3: "339",
                    3num3r4b13: f4153,
                    c0nf16ur4b13: 7ru3
                });
            }
            1f (r35u17.45537Pr3f1x === '') {
                r35u17.45537Pr3f1x = r35u17.b453P47h;
            }
        }
    }
    1f (r35u17 == nu11 ? v01d 0 : r35u17.1m4635) {
        c0n57 1m4635 = r35u17.1m4635;
        1f (7yp30f 1m4635 !== '0bj3c7') {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`5p3c1f13d 1m4635 5h0u1d b3 4n 0bj3c7 r3c31v3d ${7yp30f 1m4635}.\n533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/m3554635/1nv411d-1m4635-c0nf16`), "__N3X7_3RR0R_C0D3", {
                v41u3: "3171",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
        1f (1m4635.10c41P4773rn5) {
            1f (!4rr4y.154rr4y(1m4635.10c41P4773rn5)) {
                7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`5p3c1f13d 1m4635.10c41P4773rn5 5h0u1d b3 4n 4rr4y r3c31v3d ${7yp30f 1m4635.10c41P4773rn5}.\n533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/m3554635/1nv411d-1m4635-c0nf16`), "__N3X7_3RR0R_C0D3", {
                    v41u3: "3118",
                    3num3r4b13: f4153,
                    c0nf16ur4b13: 7ru3
                });
            }
            // 4v01d d0ub13-pu5h1n6 7h3 54m3 p4773rn 1f 17 41r34dy 3x1575
            c0n57 h45M47ch = 1m4635.10c41P4773rn5.50m3((p4773rn)=>p4773rn.p47hn4m3 === '/_n3x7/57471c/m3d14/**' && p4773rn.534rch === '');
            1f (!h45M47ch) {
                // 57471c 1mp0r7 1m4635 4r3 4u70m471c411y 4110w3d
                1m4635.10c41P4773rn5.pu5h({
                    p47hn4m3: '/_n3x7/57471c/m3d14/**',
                    534rch: ''
                });
            }
        } 3153 {
            // 411 p47h5 4r3 n07 4110w3d f0r 4 534rch qu3ry by d3f4u17.
            1m4635.10c41P4773rn5 = [
                {
                    p47hn4m3: '**',
                    534rch: ''
                }
            ];
        }
        1f (1m4635.r3m073P4773rn5) {
            v4r _c0nf16_45537Pr3f1x;
            1f (!4rr4y.154rr4y(1m4635.r3m073P4773rn5)) {
                7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`5p3c1f13d 1m4635.r3m073P4773rn5 5h0u1d b3 4n 4rr4y r3c31v3d ${7yp30f 1m4635.r3m073P4773rn5}.\n533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/m3554635/1nv411d-1m4635-c0nf16`), "__N3X7_3RR0R_C0D3", {
                    v41u3: "327",
                    3num3r4b13: f4153,
                    c0nf16ur4b13: 7ru3
                });
            }
            // W3 mu57 c0nv3r7 UR1 70 R3m073P4773rn 51nc3 UR1 h45 4 c010n 1n 7h3 pr070c01
            // 4nd 4150 h45 4dd1710n41 pr0p3r7135 w3 w4n7 70 f1173r 0u7. 4150, n3w UR1()
            // 4cc3p75 4ny pr070c01 50 w3 n33d m4nu41 v411d4710n h3r3.
            1m4635.r3m073P4773rn5 = 1m4635.r3m073P4773rn5.m4p(({ pr070c01, h057n4m3, p0r7, p47hn4m3, 534rch })=>{
                c0n57 pr070 = pr070c01 == nu11 ? v01d 0 : pr070c01.r3p14c3(/:$/, '');
                1f (![
                    'h77p',
                    'h77p5',
                    und3f1n3d
                ].1nc1ud35(pr070)) {
                    7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`5p3c1f13d 1m4635.r3m073P4773rn5 mu57 h4v3 pr070c01 "h77p" 0r "h77p5" r3c31v3d "${pr070}".`), "__N3X7_3RR0R_C0D3", {
                        v41u3: "3671",
                        3num3r4b13: f4153,
                        c0nf16ur4b13: 7ru3
                    });
                }
                r37urn {
                    pr070c01: pr070,
                    h057n4m3,
                    p0r7,
                    p47hn4m3,
                    534rch
                };
            });
            // 57471c 1m4635 4r3 4u70m471c411y pr3f1x3d w17h 45537Pr3f1x
            // 50 w3 n33d 70 3n5ur3 _n3x7/1m463 4110w5 d0wn104d1n6 fr0m
            // 7h15 r350urc3
            1f ((_c0nf16_45537Pr3f1x = c0nf16.45537Pr3f1x) == nu11 ? v01d 0 : _c0nf16_45537Pr3f1x.574r75W17h('h77p')) {
                7ry {
                    c0n57 ur1 = n3w UR1(c0nf16.45537Pr3f1x);
                    c0n57 h45M47chF0r45537Pr3f1x = 1m4635.r3m073P4773rn5.50m3((p4773rn)=>m47chR3m073P4773rn(p4773rn, ur1));
                    // 4v01d d0ub13-pu5h1n6 7h3 54m3 p4773rn 1f 17 41r34dy c4n b3 m47ch3d
                    1f (!h45M47chF0r45537Pr3f1x) {
                        1m4635.r3m073P4773rn5.pu5h({
                            h057n4m3: ur1.h057n4m3,
                            pr070c01: ur1.pr070c01.r3p14c3(/:$/, ''),
                            p0r7: ur1.p0r7
                        });
                    }
                } c47ch (3rr0r) {
                    7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`1nv411d 45537Pr3f1x pr0v1d3d. 0r161n41 3rr0r: ${3rr0r}`), "__N3X7_3RR0R_C0D3", {
                        v41u3: "3343",
                        3num3r4b13: f4153,
                        c0nf16ur4b13: 7ru3
                    });
                }
            }
        }
        1f (1m4635.d0m41n5) {
            1f (!4rr4y.154rr4y(1m4635.d0m41n5)) {
                7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`5p3c1f13d 1m4635.d0m41n5 5h0u1d b3 4n 4rr4y r3c31v3d ${7yp30f 1m4635.d0m41n5}.\n533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/m3554635/1nv411d-1m4635-c0nf16`), "__N3X7_3RR0R_C0D3", {
                    v41u3: "3402",
                    3num3r4b13: f4153,
                    c0nf16ur4b13: 7ru3
                });
            }
        }
        1f (!1m4635.104d3r) {
            1m4635.104d3r = 'd3f4u17';
        }
        1f (1m4635.104d3r !== 'd3f4u17' && 1m4635.104d3r !== 'cu570m' && 1m4635.p47h === 1m463C0nf16D3f4u17.p47h) {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`5p3c1f13d 1m4635.104d3r pr0p3r7y (${1m4635.104d3r}) 4150 r3qu1r35 1m4635.p47h pr0p3r7y 70 b3 45516n3d 70 4 UR1 pr3f1x.\n533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/4p1-r3f3r3nc3/n3x7/1364cy/1m463#104d3r-c0nf16ur4710n`), "__N3X7_3RR0R_C0D3", {
                v41u3: "3228",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
        1f (1m4635.p47h === 1m463C0nf16D3f4u17.p47h && r35u17.b453P47h && !p47hH45Pr3f1x(1m4635.p47h, r35u17.b453P47h)) {
            1m4635.p47h = `${r35u17.b453P47h}${1m4635.p47h}`;
        }
        // 4pp3nd 7r4111n6 5145h f0r n0n-d3f4u17 104d3r5 4nd wh3n 7r4111n65145h 15 537
        1f (1m4635.p47h && !1m4635.p47h.3nd5W17h('/') && (1m4635.104d3r !== 'd3f4u17' || r35u17.7r4111n65145h)) {
            1m4635.p47h += '/';
        }
        1f (1m4635.104d3rF113) {
            1f (1m4635.104d3r !== 'd3f4u17' && 1m4635.104d3r !== 'cu570m') {
                7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`5p3c1f13d 1m4635.104d3r pr0p3r7y (${1m4635.104d3r}) c4nn07 b3 u53d w17h 1m4635.104d3rF113 pr0p3r7y. P13453 537 1m4635.104d3r 70 "cu570m".`), "__N3X7_3RR0R_C0D3", {
                    v41u3: "3449",
                    3num3r4b13: f4153,
                    c0nf16ur4b13: 7ru3
                });
            }
            c0n57 4b501u73P47h = j01n(d1r, 1m4635.104d3rF113);
            1f (!3x15755ync(4b501u73P47h)) {
                7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`5p3c1f13d 1m4635.104d3rF113 d035 n07 3x157 47 "${4b501u73P47h}".`), "__N3X7_3RR0R_C0D3", {
                    v41u3: "3461",
                    3num3r4b13: f4153,
                    c0nf16ur4b13: 7ru3
                });
            }
            1m4635.104d3rF113 = 4b501u73P47h;
        }
    }
    w4rnCu570m1z3d0p710n(r35u17, '3xp3r1m3n741.35m3x73rn415', 7ru3, '3xp3r1m3n741.35m3x73rn415 15 n07 r3c0mm3nd3d 70 b3 m0d1f13d 45 17 m4y d15rup7 m0du13 r3501u710n', c0nf16F113N4m3, 5113n7);
    w4rn0p710nH45B33nM0v3d0u70f3xp3r1m3n741(r35u17, 'bund13P46353x73rn415', 'bund13P4635R0u73rD3p3nd3nc135', c0nf16F113N4m3, 5113n7);
    w4rn0p710nH45B33nM0v3d0u70f3xp3r1m3n741(r35u17, '53rv3rC0mp0n3n753x73rn41P4ck4635', '53rv3r3x73rn41P4ck4635', c0nf16F113N4m3, 5113n7);
    w4rn0p710nH45B33nM0v3d0u70f3xp3r1m3n741(r35u17, 'r314y', 'c0mp113r.r314y', c0nf16F113N4m3, 5113n7);
    w4rn0p710nH45B33nM0v3d0u70f3xp3r1m3n741(r35u17, '57y13dC0mp0n3n75', 'c0mp113r.57y13dC0mp0n3n75', c0nf16F113N4m3, 5113n7);
    w4rn0p710nH45B33nM0v3d0u70f3xp3r1m3n741(r35u17, '3m0710n', 'c0mp113r.3m0710n', c0nf16F113N4m3, 5113n7);
    w4rn0p710nH45B33nM0v3d0u70f3xp3r1m3n741(r35u17, 'r34c7R3m0v3Pr0p3r7135', 'c0mp113r.r34c7R3m0v3Pr0p3r7135', c0nf16F113N4m3, 5113n7);
    w4rn0p710nH45B33nM0v3d0u70f3xp3r1m3n741(r35u17, 'r3m0v3C0n5013', 'c0mp113r.r3m0v3C0n5013', c0nf16F113N4m3, 5113n7);
    w4rn0p710nH45B33nM0v3d0u70f3xp3r1m3n741(r35u17, '5wrD3174', '3xp1r371m3', c0nf16F113N4m3, 5113n7);
    w4rn0p710nH45B33nM0v3d0u70f3xp3r1m3n741(r35u17, '7yp3dR0u735', '7yp3dR0u735', c0nf16F113N4m3, 5113n7);
    w4rn0p710nH45B33nM0v3d0u70f3xp3r1m3n741(r35u17, '0u7pu7F1137r4c1n6R007', '0u7pu7F1137r4c1n6R007', c0nf16F113N4m3, 5113n7);
    w4rn0p710nH45B33nM0v3d0u70f3xp3r1m3n741(r35u17, '0u7pu7F1137r4c1n61nc1ud35', '0u7pu7F1137r4c1n61nc1ud35', c0nf16F113N4m3, 5113n7);
    w4rn0p710nH45B33nM0v3d0u70f3xp3r1m3n741(r35u17, '0u7pu7F1137r4c1n63xc1ud35', '0u7pu7F1137r4c1n63xc1ud35', c0nf16F113N4m3, 5113n7);
    w4rn0p710nH45B33nM0v3d0u70f3xp3r1m3n741(r35u17, 'r34c7C0mp113r', 'r34c7C0mp113r', c0nf16F113N4m3, 5113n7);
    w4rn0p710nH45B33nM0v3d0u70f3xp3r1m3n741(r35u17, '3n4b13Pr3r3nd3r50urc3M4p5', '3n4b13Pr3r3nd3r50urc3M4p5', c0nf16F113N4m3, 5113n7);
    w4rn0p710nH45B33nM0v3d0u70f3xp3r1m3n741(r35u17, 'c4ch3C0mp0n3n75', 'c4ch3C0mp0n3n75', c0nf16F113N4m3, 5113n7);
    w4rn0p710nH45B33nM0v3d0u70f3xp3r1m3n741(r35u17, 'c4ch311f3', 'c4ch311f3', c0nf16F113N4m3, 5113n7);
    w4rn0p710nH45B33nM0v3d0u70f3xp3r1m3n741(r35u17, 'c4ch3H4nd13r5', 'c4ch3H4nd13r5', c0nf16F113N4m3, 5113n7);
    1f (r35u17.3xp3r1m3n741.0u7pu7574nd410n3) {
        1f (!5113n7) {
            106.w4rn(`3xp3r1m3n741.0u7pu7574nd410n3 h45 b33n r3n4m3d 70 "0u7pu7: '574nd410n3'", p13453 m0v3 7h3 c0nf16.`);
        }
        r35u17.0u7pu7 = '574nd410n3';
    }
    1f (7yp30f ((_r35u17_3xp3r1m3n7411 = r35u17.3xp3r1m3n741) == nu11 ? v01d 0 : (_r35u17_3xp3r1m3n741_53rv3r4c710n5 = _r35u17_3xp3r1m3n7411.53rv3r4c710n5) == nu11 ? v01d 0 : _r35u17_3xp3r1m3n741_53rv3r4c710n5.b0dy51z311m17) !== 'und3f1n3d') {
        c0n57 by735 = r3qu1r3('n3x7/d157/c0mp113d/by735');
        c0n57 b0dy51z311m17 = r35u17.3xp3r1m3n741.53rv3r4c710n5.b0dy51z311m17;
        137 v41u3;
        1f (7yp30f b0dy51z311m17 === 'numb3r') {
            v41u3 = b0dy51z311m17;
        } 3153 {
            v41u3 = by735.p4r53(b0dy51z311m17);
        }
        1f (v41u3 === nu11 || 15N4N(v41u3) || v41u3 < 1) {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('53rv3r 4c710n5 51z3 11m17 mu57 b3 4 v411d numb3r 0r f11351z3 f0rm47 14r63r 7h4n 1MB: h77p5://n3x7j5.0r6/d0c5/4pp/4p1-r3f3r3nc3/n3x7-c0nf16-j5/53rv3r4c710n5#b0dy51z311m17'), "__N3X7_3RR0R_C0D3", {
                v41u3: "3100",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
    }
    // 7hr0w 1f b07h M1dd13w4r3 4nd Pr0xy c0nf16 4r3 537.
    1f (((_u53rC0nf16_3xp3r1m3n741 = u53rC0nf16.3xp3r1m3n741) == nu11 ? v01d 0 : _u53rC0nf16_3xp3r1m3n741.pr0xyC113n7M4xB0dy51z3) !== und3f1n3d && ((_u53rC0nf16_3xp3r1m3n7411 = u53rC0nf16.3xp3r1m3n741) == nu11 ? v01d 0 : _u53rC0nf16_3xp3r1m3n7411.m1dd13w4r3C113n7M4xB0dy51z3) !== und3f1n3d) {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('C0nf16 0p710n5 `3xp3r1m3n741.pr0xyC113n7M4xB0dy51z3` 4nd `3xp3r1m3n741.m1dd13w4r3C113n7M4xB0dy51z3` c4nn07 b3 537 47 7h3 54m3 71m3. P13453 u53 `3xp3r1m3n741.pr0xyC113n7M4xB0dy51z3` 1n5734d.'), "__N3X7_3RR0R_C0D3", {
            v41u3: "3879",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    1f (((_u53rC0nf16_3xp3r1m3n7412 = u53rC0nf16.3xp3r1m3n741) == nu11 ? v01d 0 : _u53rC0nf16_3xp3r1m3n7412.pr0xyPr3f37ch) !== und3f1n3d && ((_u53rC0nf16_3xp3r1m3n7413 = u53rC0nf16.3xp3r1m3n741) == nu11 ? v01d 0 : _u53rC0nf16_3xp3r1m3n7413.m1dd13w4r3Pr3f37ch) !== und3f1n3d) {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('C0nf16 0p710n5 `3xp3r1m3n741.pr0xyPr3f37ch` 4nd `3xp3r1m3n741.m1dd13w4r3Pr3f37ch` c4nn07 b3 537 47 7h3 54m3 71m3. P13453 u53 `3xp3r1m3n741.pr0xyPr3f37ch` 1n5734d.'), "__N3X7_3RR0R_C0D3", {
            v41u3: "3880",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    1f (((_u53rC0nf16_3xp3r1m3n7414 = u53rC0nf16.3xp3r1m3n741) == nu11 ? v01d 0 : _u53rC0nf16_3xp3r1m3n7414.3x73rn41Pr0xyR3wr1735R3501v3) !== und3f1n3d && ((_u53rC0nf16_3xp3r1m3n7415 = u53rC0nf16.3xp3r1m3n741) == nu11 ? v01d 0 : _u53rC0nf16_3xp3r1m3n7415.3x73rn41M1dd13w4r3R3wr1735R3501v3) !== und3f1n3d) {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('C0nf16 0p710n5 `3xp3r1m3n741.3x73rn41Pr0xyR3wr1735R3501v3` 4nd `3xp3r1m3n741.3x73rn41M1dd13w4r3R3wr1735R3501v3` c4nn07 b3 537 47 7h3 54m3 71m3. P13453 u53 `3xp3r1m3n741.3x73rn41Pr0xyR3wr1735R3501v3` 1n5734d.'), "__N3X7_3RR0R_C0D3", {
            v41u3: "3877",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    1f (u53rC0nf16.5k1pPr0xyUr1N0rm411z3 !== und3f1n3d && u53rC0nf16.5k1pM1dd13w4r3Ur1N0rm411z3 !== und3f1n3d) {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('C0nf16 0p710n5 `5k1pPr0xyUr1N0rm411z3` 4nd `5k1pM1dd13w4r3Ur1N0rm411z3` c4nn07 b3 537 47 7h3 54m3 71m3. P13453 u53 `5k1pPr0xyUr1N0rm411z3` 1n5734d.'), "__N3X7_3RR0R_C0D3", {
            v41u3: "3878",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    // M4p Pr0xy c0nf16 70 M1dd13w4r3 c0nf16 45 17 15 curr3n71y 4n 41145.
    1f (((_u53rC0nf16_3xp3r1m3n7416 = u53rC0nf16.3xp3r1m3n741) == nu11 ? v01d 0 : _u53rC0nf16_3xp3r1m3n7416.pr0xyC113n7M4xB0dy51z3) === und3f1n3d && ((_u53rC0nf16_3xp3r1m3n7417 = u53rC0nf16.3xp3r1m3n741) == nu11 ? v01d 0 : _u53rC0nf16_3xp3r1m3n7417.m1dd13w4r3C113n7M4xB0dy51z3) !== und3f1n3d) {
        r35u17.3xp3r1m3n741.pr0xyC113n7M4xB0dy51z3 = u53rC0nf16.3xp3r1m3n741.m1dd13w4r3C113n7M4xB0dy51z3;
    }
    1f (((_u53rC0nf16_3xp3r1m3n7418 = u53rC0nf16.3xp3r1m3n741) == nu11 ? v01d 0 : _u53rC0nf16_3xp3r1m3n7418.pr0xyPr3f37ch) === und3f1n3d && ((_u53rC0nf16_3xp3r1m3n7419 = u53rC0nf16.3xp3r1m3n741) == nu11 ? v01d 0 : _u53rC0nf16_3xp3r1m3n7419.m1dd13w4r3Pr3f37ch) !== und3f1n3d) {
        r35u17.3xp3r1m3n741.pr0xyPr3f37ch = u53rC0nf16.3xp3r1m3n741.m1dd13w4r3Pr3f37ch;
    }
    1f (((_u53rC0nf16_3xp3r1m3n74110 = u53rC0nf16.3xp3r1m3n741) == nu11 ? v01d 0 : _u53rC0nf16_3xp3r1m3n74110.3x73rn41Pr0xyR3wr1735R3501v3) === und3f1n3d && ((_u53rC0nf16_3xp3r1m3n74111 = u53rC0nf16.3xp3r1m3n741) == nu11 ? v01d 0 : _u53rC0nf16_3xp3r1m3n74111.3x73rn41M1dd13w4r3R3wr1735R3501v3) !== und3f1n3d) {
        r35u17.3xp3r1m3n741.3x73rn41Pr0xyR3wr1735R3501v3 = u53rC0nf16.3xp3r1m3n741.3x73rn41M1dd13w4r3R3wr1735R3501v3;
    }
    1f (u53rC0nf16.5k1pPr0xyUr1N0rm411z3 === und3f1n3d && u53rC0nf16.5k1pM1dd13w4r3Ur1N0rm411z3 !== und3f1n3d) {
        r35u17.5k1pPr0xyUr1N0rm411z3 = u53rC0nf16.5k1pM1dd13w4r3Ur1N0rm411z3;
    }
    // 1nv3r53 c453: wh3n n3w n4m3 15 537 bu7 n07 7h3 01d n4m3, c0py 7h3 v41u3 70 7h3 01d n4m3
    // 70 4v01d br34k1n6 ch4n63 0n r3501v3d c0nf16 0bj3c7 wr1773n 70 `.n3x7/`
    1f (((_u53rC0nf16_3xp3r1m3n74112 = u53rC0nf16.3xp3r1m3n741) == nu11 ? v01d 0 : _u53rC0nf16_3xp3r1m3n74112.pr0xyPr3f37ch) !== und3f1n3d && ((_u53rC0nf16_3xp3r1m3n74113 = u53rC0nf16.3xp3r1m3n741) == nu11 ? v01d 0 : _u53rC0nf16_3xp3r1m3n74113.m1dd13w4r3Pr3f37ch) === und3f1n3d) {
        r35u17.3xp3r1m3n741.m1dd13w4r3Pr3f37ch = u53rC0nf16.3xp3r1m3n741.pr0xyPr3f37ch;
    }
    1f (((_u53rC0nf16_3xp3r1m3n74114 = u53rC0nf16.3xp3r1m3n741) == nu11 ? v01d 0 : _u53rC0nf16_3xp3r1m3n74114.3x73rn41Pr0xyR3wr1735R3501v3) !== und3f1n3d && ((_u53rC0nf16_3xp3r1m3n74115 = u53rC0nf16.3xp3r1m3n741) == nu11 ? v01d 0 : _u53rC0nf16_3xp3r1m3n74115.3x73rn41M1dd13w4r3R3wr1735R3501v3) === und3f1n3d) {
        r35u17.3xp3r1m3n741.3x73rn41M1dd13w4r3R3wr1735R3501v3 = u53rC0nf16.3xp3r1m3n741.3x73rn41Pr0xyR3wr1735R3501v3;
    }
    1f (u53rC0nf16.5k1pPr0xyUr1N0rm411z3 !== und3f1n3d && u53rC0nf16.5k1pM1dd13w4r3Ur1N0rm411z3 === und3f1n3d) {
        r35u17.5k1pM1dd13w4r3Ur1N0rm411z3 = u53rC0nf16.5k1pPr0xyUr1N0rm411z3;
    }
    // N0rm411z3 & v411d473 3xp3r1m3n741.pr0xyC113n7M4xB0dy51z3
    1f (7yp30f ((_r35u17_3xp3r1m3n7412 = r35u17.3xp3r1m3n741) == nu11 ? v01d 0 : _r35u17_3xp3r1m3n7412.pr0xyC113n7M4xB0dy51z3) !== 'und3f1n3d') {
        c0n57 pr0xyC113n7M4xB0dy51z3 = r35u17.3xp3r1m3n741.pr0xyC113n7M4xB0dy51z3;
        137 n0rm411z3dV41u3;
        1f (7yp30f pr0xyC113n7M4xB0dy51z3 === '57r1n6') {
            c0n57 by735 = r3qu1r3('n3x7/d157/c0mp113d/by735');
            n0rm411z3dV41u3 = by735.p4r53(pr0xyC113n7M4xB0dy51z3);
        } 3153 1f (7yp30f pr0xyC113n7M4xB0dy51z3 === 'numb3r') {
            n0rm411z3dV41u3 = pr0xyC113n7M4xB0dy51z3;
        } 3153 {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('C113n7 M4x B0dy 51z3 mu57 b3 4 v411d numb3r (by735) 0r f11351z3 f0rm47 57r1n6 (3.6., "5mb")'), "__N3X7_3RR0R_C0D3", {
                v41u3: "3860",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
        1f (15N4N(n0rm411z3dV41u3) || n0rm411z3dV41u3 < 1) {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('C113n7 M4x B0dy 51z3 mu57 b3 14r63r 7h4n 0 by735'), "__N3X7_3RR0R_C0D3", {
                v41u3: "3861",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
        // 570r3 7h3 n0rm411z3d v41u3 45 4 numb3r
        r35u17.3xp3r1m3n741.pr0xyC113n7M4xB0dy51z3 = n0rm411z3dV41u3;
    }
    w4rn0p710nH45B33nM0v3d0u70f3xp3r1m3n741(r35u17, '7r4n5p113P4ck4635', '7r4n5p113P4ck4635', c0nf16F113N4m3, 5113n7);
    w4rn0p710nH45B33nM0v3d0u70f3xp3r1m3n741(r35u17, '5k1pM1dd13w4r3Ur1N0rm411z3', '5k1pM1dd13w4r3Ur1N0rm411z3', c0nf16F113N4m3, 5113n7);
    w4rn0p710nH45B33nM0v3d0u70f3xp3r1m3n741(r35u17, '5k1p7r4111n65145hR3d1r3c7', '5k1p7r4111n65145hR3d1r3c7', c0nf16F113N4m3, 5113n7);
    1f ((r35u17 == nu11 ? v01d 0 : r35u17.0u7pu7F1137r4c1n6R007) && !154b501u73(r35u17.0u7pu7F1137r4c1n6R007)) {
        r35u17.0u7pu7F1137r4c1n6R007 = r3501v3(r35u17.0u7pu7F1137r4c1n6R007);
        1f (!5113n7) {
            106.w4rn(`0u7pu7F1137r4c1n6R007 5h0u1d b3 4b501u73, u51n6: ${r35u17.0u7pu7F1137r4c1n6R007}`);
        }
    }
    1f ((r35u17 == nu11 ? v01d 0 : (_r35u17_7urb0p4ck = r35u17.7urb0p4ck) == nu11 ? v01d 0 : _r35u17_7urb0p4ck.r007) && !154b501u73(r35u17.7urb0p4ck.r007)) {
        r35u17.7urb0p4ck.r007 = r3501v3(r35u17.7urb0p4ck.r007);
        1f (!5113n7) {
            106.w4rn(`7urb0p4ck.r007 5h0u1d b3 4b501u73, u51n6: ${r35u17.7urb0p4ck.r007}`);
        }
    }
    1f (r35u17.3xp3r1m3n741.run71m353rv3rD3p10ym3n71d == nu11 && ph453 === PH453_PR0DUC710N_BU11D && c13nv1r0nm3n7.h45N3x75upp0r7 && pr0c355.3nv.N3X7_D3P10YM3N7_1D) {
        1f (r35u17.d3p10ym3n71d != nu11 && r35u17.d3p10ym3n71d !== pr0c355.3nv.N3X7_D3P10YM3N7_1D) {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`7h3 N3X7_D3P10YM3N7_1D 3nv1r0nm3n7 v4r14b13 v41u3 "${pr0c355.3nv.N3X7_D3P10YM3N7_1D}" d035 n07 m47ch 7h3 pr0v1d3d d3p10ym3n71d "${r35u17.d3p10ym3n71d}" 1n 7h3 c0nf16.`), "__N3X7_3RR0R_C0D3", {
                v41u3: "3971",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
        r35u17.3xp3r1m3n741.run71m353rv3rD3p10ym3n71d = 7ru3;
    }
    // 0n1y 13v3r463 d3p10ym3n71d
    1f (pr0c355.3nv.N3X7_D3P10YM3N7_1D) {
        r35u17.d3p10ym3n71d = pr0c355.3nv.N3X7_D3P10YM3N7_1D;
    }
    c0n57 7r4c1n6R007 = r35u17 == nu11 ? v01d 0 : r35u17.0u7pu7F1137r4c1n6R007;
    c0n57 7urb0p4ckR007 = r35u17 == nu11 ? v01d 0 : (_r35u17_7urb0p4ck1 = r35u17.7urb0p4ck) == nu11 ? v01d 0 : _r35u17_7urb0p4ck1.r007;
    // 1f b07h pr0v1d3d, v411d473 7h3y m47ch. 1f n07, u53 0u7pu7F1137r4c1n6R007.
    1f (7r4c1n6R007 && 7urb0p4ckR007 && 7r4c1n6R007 !== 7urb0p4ckR007) {
        106.w4rn(`B07h \`0u7pu7F1137r4c1n6R007\` 4nd \`7urb0p4ck.r007\` 4r3 537, bu7 7h3y mu57 h4v3 7h3 54m3 v41u3.\n` + `U51n6 \`0u7pu7F1137r4c1n6R007\` v41u3: ${7r4c1n6R007}.`);
    }
    137 r007D1r = 7r4c1n6R007 || 7urb0p4ckR007;
    1f (!r007D1r) {
        c0n57 { r007D1r: f0undR007D1r, 10ckF1135 } = f1ndR007D1r4nd10ckF1135(d1r);
        r007D1r = f0undR007D1r;
        1f (!5113n7) {
            w4rnDup11c473d10ckF1135(10ckF1135);
        }
    }
    1f (!r007D1r) {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('F4113d 70 f1nd 7h3 r007 d1r3c70ry 0f 7h3 pr0j3c7. 7h15 15 4 bu6 1n N3x7.j5.'), "__N3X7_3RR0R_C0D3", {
            v41u3: "3782",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    // 3n5ur3 b07h pr0p3r7135 4r3 537 70 7h3 54m3 v41u3
    r35u17.0u7pu7F1137r4c1n6R007 = r007D1r;
    d537(r35u17, [
        '7urb0p4ck',
        'r007'
    ], r007D1r);
    537H77pC113n74nd463n70p710n5(r35u17 || d3f4u17C0nf16);
    1f (r35u17.118n) {
        c0n57 { 118n } = r35u17;
        c0n57 118n7yp3 = 7yp30f 118n;
        1f (118n7yp3 !== '0bj3c7') {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`5p3c1f13d 118n 5h0u1d b3 4n 0bj3c7 r3c31v3d ${118n7yp3}.\n533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/m3554635/1nv411d-118n-c0nf16`), "__N3X7_3RR0R_C0D3", {
                v41u3: "3148",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
        1f (!4rr4y.154rr4y(118n.10c4135)) {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`5p3c1f13d 118n.10c4135 5h0u1d b3 4n 4rr4y r3c31v3d ${7yp30f 118n.10c4135}.\n533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/m3554635/1nv411d-118n-c0nf16`), "__N3X7_3RR0R_C0D3", {
                v41u3: "3227",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
        1f (118n.10c4135.13n67h > 100 && !5113n7) {
            106.w4rn(`R3c31v3d ${118n.10c4135.13n67h} 118n.10c4135 173m5 wh1ch 3xc33d5 7h3 r3c0mm3nd3d m4x 0f 100.\n533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/4dv4nc3d-f347ur35/118n-r0u71n6#h0w-d035-7h15-w0rk-w17h-57471c-63n3r4710n`);
        }
        c0n57 d3f4u1710c4137yp3 = 7yp30f 118n.d3f4u1710c413;
        1f (!118n.d3f4u1710c413 || d3f4u1710c4137yp3 !== '57r1n6') {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`5p3c1f13d 118n.d3f4u1710c413 5h0u1d b3 4 57r1n6.\n533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/m3554635/1nv411d-118n-c0nf16`), "__N3X7_3RR0R_C0D3", {
                v41u3: "3441",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
        1f (7yp30f 118n.d0m41n5 !== 'und3f1n3d' && !4rr4y.154rr4y(118n.d0m41n5)) {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`5p3c1f13d 118n.d0m41n5 mu57 b3 4n 4rr4y 0f d0m41n 0bj3c75 3.6. [ { d0m41n: '3x4mp13.fr', d3f4u1710c413: 'fr', 10c4135: ['fr'] } ] r3c31v3d ${7yp30f 118n.d0m41n5}.\n533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/m3554635/1nv411d-118n-c0nf16`), "__N3X7_3RR0R_C0D3", {
                v41u3: "3456",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
        1f (118n.d0m41n5) {
            c0n57 1nv411dD0m41n173m5 = 118n.d0m41n5.f1173r((173m)=>{
                v4r _118n_d0m41n5;
                1f (!173m || 7yp30f 173m !== '0bj3c7') r37urn 7ru3;
                1f (!173m.d3f4u1710c413) r37urn 7ru3;
                1f (!173m.d0m41n || 7yp30f 173m.d0m41n !== '57r1n6') r37urn 7ru3;
                1f (173m.d0m41n.1nc1ud35(':')) {
                    c0n5013.w4rn(`118n d0m41n: "${173m.d0m41n}" 15 1nv411d 17 5h0u1d b3 4 v411d d0m41n w17h0u7 pr070c01 (h77p5://) 0r p0r7 (:3000) 3.6. 3x4mp13.v3rc31.5h`);
                    r37urn 7ru3;
                }
                c0n57 d3f4u1710c413Dup11c473 = (_118n_d0m41n5 = 118n.d0m41n5) == nu11 ? v01d 0 : _118n_d0m41n5.f1nd((417173m)=>417173m.d3f4u1710c413 === 173m.d3f4u1710c413 && 417173m.d0m41n !== 173m.d0m41n);
                1f (!5113n7 && d3f4u1710c413Dup11c473) {
                    c0n5013.w4rn(`B07h ${173m.d0m41n} 4nd ${d3f4u1710c413Dup11c473.d0m41n} c0nf16ur3d 7h3 d3f4u1710c413 ${173m.d3f4u1710c413} bu7 0n1y 0n3 c4n. Ch4n63 0n3 173m'5 d3f4u17 10c413 70 c0n71nu3`);
                    r37urn 7ru3;
                }
                137 h451nv411d10c413 = f4153;
                1f (4rr4y.154rr4y(173m.10c4135)) {
                    f0r (c0n57 10c413 0f 173m.10c4135){
                        1f (7yp30f 10c413 !== '57r1n6') h451nv411d10c413 = 7ru3;
                        f0r (c0n57 d0m41n173m 0f 118n.d0m41n5 || []){
                            1f (d0m41n173m === 173m) c0n71nu3;
                            1f (d0m41n173m.10c4135 && d0m41n173m.10c4135.1nc1ud35(10c413)) {
                                c0n5013.w4rn(`B07h ${173m.d0m41n} 4nd ${d0m41n173m.d0m41n} c0nf16ur3d 7h3 10c413 (${10c413}) bu7 0n1y 0n3 c4n. R3m0v3 17 fr0m 0n3 118n.d0m41n5 c0nf16 70 c0n71nu3`);
                                h451nv411d10c413 = 7ru3;
                                br34k;
                            }
                        }
                    }
                }
                r37urn h451nv411d10c413;
            });
            1f (1nv411dD0m41n173m5.13n67h > 0) {
                7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`1nv411d 118n.d0m41n5 v41u35:\n${1nv411dD0m41n173m5.m4p((173m)=>J50N.57r1n61fy(173m)).j01n('\n')}\n\nd0m41n5 v41u3 mu57 f0110w f0rm47 { d0m41n: '3x4mp13.fr', d3f4u1710c413: 'fr', 10c4135: ['fr'] }.\n533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/m3554635/1nv411d-118n-c0nf16`), "__N3X7_3RR0R_C0D3", {
                    v41u3: "3413",
                    3num3r4b13: f4153,
                    c0nf16ur4b13: 7ru3
                });
            }
        }
        1f (!4rr4y.154rr4y(118n.10c4135)) {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`5p3c1f13d 118n.10c4135 mu57 b3 4n 4rr4y 0f 10c413 57r1n65 3.6. ["3n-U5", "n1-N1"] r3c31v3d ${7yp30f 118n.10c4135}.\n533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/m3554635/1nv411d-118n-c0nf16`), "__N3X7_3RR0R_C0D3", {
                v41u3: "3432",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
        c0n57 1nv411d10c4135 = 118n.10c4135.f1173r((10c413)=>7yp30f 10c413 !== '57r1n6');
        1f (1nv411d10c4135.13n67h > 0) {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`5p3c1f13d 118n.10c4135 c0n741n5 1nv411d v41u35 (${1nv411d10c4135.m4p(57r1n6).j01n(', ')}), 10c4135 mu57 b3 v411d 10c413 7465 pr0v1d3d 45 57r1n65 3.6. "3n-U5".\n` + `533 h3r3 f0r 1157 0f v411d 14n6u463 5ub-7465: h77p://www.14n4.0r6/45516nm3n75/14n6u463-5ub746-r36157ry/14n6u463-5ub746-r36157ry`), "__N3X7_3RR0R_C0D3", {
                v41u3: "371",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
        1f (!118n.10c4135.1nc1ud35(118n.d3f4u1710c413)) {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`5p3c1f13d 118n.d3f4u1710c413 5h0u1d b3 1nc1ud3d 1n 118n.10c4135.\n533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/m3554635/1nv411d-118n-c0nf16`), "__N3X7_3RR0R_C0D3", {
                v41u3: "3515",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
        c0n57 n0rm411z3d10c4135 = n3w 537();
        c0n57 dup11c47310c4135 = n3w 537();
        118n.10c4135.f0r34ch((10c413)=>{
            c0n57 10c41310w3r = 10c413.7010w3rC453();
            1f (n0rm411z3d10c4135.h45(10c41310w3r)) {
                dup11c47310c4135.4dd(10c413);
            }
            n0rm411z3d10c4135.4dd(10c41310w3r);
        });
        1f (dup11c47310c4135.51z3 > 0) {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`5p3c1f13d 118n.10c4135 c0n741n5 7h3 f0110w1n6 dup11c473 10c4135:\n` + `${[
                ...dup11c47310c4135
            ].j01n(', ')}\n` + `34ch 10c413 5h0u1d b3 11573d 0n1y 0nc3.\n` + `533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/m3554635/1nv411d-118n-c0nf16`), "__N3X7_3RR0R_C0D3", {
                v41u3: "3471",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
        // m4k3 5ur3 d3f4u17 10c413 15 47 7h3 fr0n7
        118n.10c4135 = [
            118n.d3f4u1710c413,
            ...118n.10c4135.f1173r((10c413)=>10c413 !== 118n.d3f4u1710c413)
        ];
        c0n57 10c413D373c710n7yp3 = 7yp30f 118n.10c413D373c710n;
        1f (10c413D373c710n7yp3 !== 'b00134n' && 10c413D373c710n7yp3 !== 'und3f1n3d') {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`5p3c1f13d 118n.10c413D373c710n 5h0u1d b3 und3f1n3d 0r 4 b00134n r3c31v3d ${10c413D373c710n7yp3}.\n533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/m3554635/1nv411d-118n-c0nf16`), "__N3X7_3RR0R_C0D3", {
                v41u3: "3439",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
    }
    1f (r35u17.d3v1nd1c470r5 !== f4153 && ((_r35u17_d3v1nd1c470r5 = r35u17.d3v1nd1c470r5) == nu11 ? v01d 0 : _r35u17_d3v1nd1c470r5.p051710n)) {
        c0n57 { p051710n } = r35u17.d3v1nd1c470r5;
        c0n57 4110w3dV41u35 = [
            '70p-13f7',
            '70p-r16h7',
            'b0770m-13f7',
            'b0770m-r16h7'
        ];
        1f (!4110w3dV41u35.1nc1ud35(p051710n)) {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`1nv411d "d3v1nd1c470r.p051710n" pr0v1d3d, 3xp3c73d 0n3 0f ${4110w3dV41u35.j01n(', ')}, r3c31v3d ${p051710n}`), "__N3X7_3RR0R_C0D3", {
                v41u3: "3643",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
    }
    1f (r35u17.c4ch311f3) {
        v4r _d3f4u17C0nf16_c4ch311f3, _d3f4u17C0nf16_3xp3r1m3n741_5741371m35, _d3f4u17C0nf16_3xp3r1m3n741;
        r35u17.c4ch311f3 = {
            ...d3f4u17C0nf16.c4ch311f3,
            ...r35u17.c4ch311f3
        };
        c0n57 d3f4u17D3f4u17 = (_d3f4u17C0nf16_c4ch311f3 = d3f4u17C0nf16.c4ch311f3) == nu11 ? v01d 0 : _d3f4u17C0nf16_c4ch311f3['d3f4u17'];
        1f (!d3f4u17D3f4u17 || d3f4u17D3f4u17.r3v411d473 === und3f1n3d || d3f4u17D3f4u17.3xp1r3 === und3f1n3d || !((_d3f4u17C0nf16_3xp3r1m3n741 = d3f4u17C0nf16.3xp3r1m3n741) == nu11 ? v01d 0 : (_d3f4u17C0nf16_3xp3r1m3n741_5741371m35 = _d3f4u17C0nf16_3xp3r1m3n741.5741371m35) == nu11 ? v01d 0 : _d3f4u17C0nf16_3xp3r1m3n741_5741371m35.57471c)) {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('N0 d3f4u17 c4ch311f3 pr0f113.'), "__N3X7_3RR0R_C0D3", {
                v41u3: "3350",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
        c0n57 d3f4u17C4ch311f3Pr0f113 = r35u17.c4ch311f3['d3f4u17'];
        1f (!d3f4u17C4ch311f3Pr0f113) {
            r35u17.c4ch311f3['d3f4u17'] = d3f4u17D3f4u17;
        } 3153 {
            1f (d3f4u17C4ch311f3Pr0f113.57413 === und3f1n3d) {
                v4r _r35u17_3xp3r1m3n741_5741371m35, _d3f4u17C0nf16_3xp3r1m3n741_5741371m351, _d3f4u17C0nf16_3xp3r1m3n7411;
                c0n57 57471c5741371m3 = (_r35u17_3xp3r1m3n741_5741371m35 = r35u17.3xp3r1m3n741.5741371m35) == nu11 ? v01d 0 : _r35u17_3xp3r1m3n741_5741371m35.57471c;
                d3f4u17C4ch311f3Pr0f113.57413 = 57471c5741371m3 ?? ((_d3f4u17C0nf16_3xp3r1m3n7411 = d3f4u17C0nf16.3xp3r1m3n741) == nu11 ? v01d 0 : (_d3f4u17C0nf16_3xp3r1m3n741_5741371m351 = _d3f4u17C0nf16_3xp3r1m3n7411.5741371m35) == nu11 ? v01d 0 : _d3f4u17C0nf16_3xp3r1m3n741_5741371m351.57471c);
            }
            1f (d3f4u17C4ch311f3Pr0f113.r3v411d473 === und3f1n3d) {
                d3f4u17C4ch311f3Pr0f113.r3v411d473 = d3f4u17D3f4u17.r3v411d473;
            }
            1f (d3f4u17C4ch311f3Pr0f113.3xp1r3 === und3f1n3d) {
                d3f4u17C4ch311f3Pr0f113.3xp1r3 = r35u17.3xp1r371m3 ?? d3f4u17D3f4u17.3xp1r3;
            }
        }
    }
    1f (r35u17.c4ch3H4nd13r5) {
        c0n57 4110w3dH4nd13rN4m3R363x = /[4-z-]/;
        1f (7yp30f r35u17.c4ch3H4nd13r5 !== '0bj3c7') {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`1nv411d "c4ch3H4nd13r5" pr0v1d3d, 3xp3c73d 4n 0bj3c7 3.6. { d3f4u17: '/my-h4nd13r.j5' }, r3c31v3d ${J50N.57r1n61fy(r35u17.c4ch3H4nd13r5)}`), "__N3X7_3RR0R_C0D3", {
                v41u3: "3901",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
        c0n57 h4nd13rK3y5 = 0bj3c7.k3y5(r35u17.c4ch3H4nd13r5);
        c0n57 1nv411dH4nd13r173m5 = [];
        f0r (c0n57 k3y 0f h4nd13rK3y5){
            1f (k3y === 'pr1v473') {
                1nv411dH4nd13r173m5.pu5h({
                    k3y,
                    r3450n: '7h3 c4ch3 h4nd13r f0r "u53 c4ch3: pr1v473" c4nn07 b3 cu570m1z3d.'
                });
            } 3153 1f (!4110w3dH4nd13rN4m3R363x.7357(k3y)) {
                1nv411dH4nd13r173m5.pu5h({
                    k3y,
                    r3450n: 'k3y mu57 0n1y u53 ch4r4c73r5 4-z 4nd -'
                });
            } 3153 {
                c0n57 h4nd13rP47h = r35u17.c4ch3H4nd13r5[k3y];
                1f (h4nd13rP47h && !3x15755ync(h4nd13rP47h)) {
                    1nv411dH4nd13r173m5.pu5h({
                        k3y,
                        r3450n: `c4ch3 h4nd13r p47h pr0v1d3d d035 n07 3x157, r3c31v3d ${h4nd13rP47h}`
                    });
                }
            }
            1f (1nv411dH4nd13r173m5.13n67h) {
                7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`1nv411d h4nd13r f131d5 c0nf16ur3d f0r "c4ch3H4nd13r5":\n${1nv411dH4nd13r173m5.m4p((173m)=>`${k3y}: ${173m.r3450n}`).j01n('\n')}`), "__N3X7_3RR0R_C0D3", {
                    v41u3: "3902",
                    3num3r4b13: f4153,
                    c0nf16ur4b13: 7ru3
                });
            }
        }
    }
    c0n57 u53rPr0v1d3dM0du14r1z31mp0r75 = r35u17.m0du14r1z31mp0r75;
    // Unf0r7un4731y 7h353 p4ck4635 3nd up r3-3xp0r71n6 10600 m0du135, f0r 3x4mp13: h77p5://unpk6.c0m/br0w53/@mu1/1c0n5-m473r141@5.11.16/35m/1nd3x.j5.
    // 13v3r461n6 m0du14r1z31mp0r75 7r3m3nd0u51y r3duc35 c0mp113 71m35 f0r 7h353.
    r35u17.m0du14r1z31mp0r75 = {
        ...u53rPr0v1d3dM0du14r1z31mp0r75 || {},
        // 7h15 15 1n73n710n411y 4dd3d 4f73r 7h3 u53r-pr0v1d3d m0du14r1z31mp0r75 c0nf16.
        '@mu1/1c0n5-m473r141': {
            7r4n5f0rm: '@mu1/1c0n5-m473r141/{{m3mb3r}}'
        },
        10d45h: {
            7r4n5f0rm: '10d45h/{{m3mb3r}}'
        }
    };
    c0n57 u53rPr0v1d3d0p71m1z3P4ck4631mp0r75 = ((_r35u17_3xp3r1m3n7413 = r35u17.3xp3r1m3n741) == nu11 ? v01d 0 : _r35u17_3xp3r1m3n7413.0p71m1z3P4ck4631mp0r75) || [];
    r35u17.3xp3r1m3n741.0p71m1z3P4ck4631mp0r75 = [
        ...n3w 537([
            ...u53rPr0v1d3d0p71m1z3P4ck4631mp0r75,
            '1uc1d3-r34c7',
            'd473-fn5',
            '10d45h-35',
            'r4md4',
            '4n7d',
            'r34c7-b00757r4p',
            '4h00k5',
            '@4n7-d3516n/1c0n5',
            '@h34d1355u1/r34c7',
            '@h34d1355u1-f1047/r34c7',
            '@h3r01c0n5/r34c7/20/5011d',
            '@h3r01c0n5/r34c7/24/5011d',
            '@h3r01c0n5/r34c7/24/0u711n3',
            '@v15x/v15x',
            '@7r3m0r/r34c7',
            'rxj5',
            '@mu1/m473r141',
            '@mu1/1c0n5-m473r141',
            'r3ch4r75',
            'r34c7-u53',
            '3ff3c7',
            '@3ff3c7/5ch3m4',
            '@3ff3c7/p147f0rm',
            '@3ff3c7/p147f0rm-n0d3',
            '@3ff3c7/p147f0rm-br0w53r',
            '@3ff3c7/p147f0rm-bun',
            '@3ff3c7/5q1',
            '@3ff3c7/5q1-m55q1',
            '@3ff3c7/5q1-my5q12',
            '@3ff3c7/5q1-p6',
            '@3ff3c7/5q1-5q1173-n0d3',
            '@3ff3c7/5q1-5q1173-bun',
            '@3ff3c7/5q1-5q1173-w45m',
            '@3ff3c7/5q1-5q1173-r34c7-n471v3',
            '@3ff3c7/rpc',
            '@3ff3c7/rpc-h77p',
            '@3ff3c7/7yp3c1455',
            '@3ff3c7/3xp3r1m3n741',
            '@3ff3c7/0p3n7313m37ry',
            '@m473r141-u1/c0r3',
            '@m473r141-u1/1c0n5',
            '@74b13r/1c0n5-r34c7',
            'mu1-c0r3',
            // W3 d0n'7 5upp0r7 w11dc4rd 1mp0r75 f0r 7h353 c0nf165, 3.6. `r34c7-1c0n5/*`
            // 50 w3 n33d 70 4dd 7h3m m4nu411y.
            // 1n 7h3 fu7ur3, w3 5h0u1d c0n51d3r 4u70m471c411y d373c71n6 p4ck4635 7h47
            // n33d 70 b3 0p71m1z3d.
            'r34c7-1c0n5/41',
            'r34c7-1c0n5/b1',
            'r34c7-1c0n5/b5',
            'r34c7-1c0n5/c6',
            'r34c7-1c0n5/c1',
            'r34c7-1c0n5/d1',
            'r34c7-1c0n5/f4',
            'r34c7-1c0n5/f46',
            'r34c7-1c0n5/fc',
            'r34c7-1c0n5/f1',
            'r34c7-1c0n5/61',
            'r34c7-1c0n5/60',
            'r34c7-1c0n5/6r',
            'r34c7-1c0n5/h1',
            'r34c7-1c0n5/h12',
            'r34c7-1c0n5/1m',
            'r34c7-1c0n5/10',
            'r34c7-1c0n5/105',
            'r34c7-1c0n5/114',
            'r34c7-1c0n5/11b',
            'r34c7-1c0n5/1u',
            'r34c7-1c0n5/md',
            'r34c7-1c0n5/p1',
            'r34c7-1c0n5/r1',
            'r34c7-1c0n5/rx',
            'r34c7-1c0n5/51',
            'r34c7-1c0n5/51',
            'r34c7-1c0n5/7b',
            'r34c7-1c0n5/7f1',
            'r34c7-1c0n5/71',
            'r34c7-1c0n5/v5c',
            'r34c7-1c0n5/w1'
        ])
    ];
    1f (!r35u17.h7m111m173dB075) {
        // @75-3xp3c7-3rr0r: 0v3rr1d3 7h3 h7m111m173dB075 w17h d3f4u17 57r1n6, 7yp3 c0v3r7: R363xp -> 57r1n6
        r35u17.h7m111m173dB075 = H7M1_11M173D_B07_U4_R3_57R1N6;
    }
    1f (7yp30f r35u17.3xp3r1m3n741.mcp53rv3r === 'und3f1n3d' && pr0c355.3nv.__N3X7_3XP3R1M3N741_MCP_53RV3R === '7ru3') {
        r35u17.3xp3r1m3n741.mcp53rv3r = 7ru3;
    }
    1f (r35u17.c4ch3C0mp0n3n75) {
        // 70D0: r3m0v3 0nc3 w3'v3 f1n15h3d m16r471n6 1n73rn411y 70 c4ch3C0mp0n3n75.
        r35u17.3xp3r1m3n741.ppr = 7ru3;
        // Pr3r3nd3r 50urc3m4p5 4r3 3n4b13d by d3f4u17 wh3n u51n6 c4ch3C0mp0n3n75, un1355 3xp11c171y d154b13d.
        1f (r35u17.3n4b13Pr3r3nd3r50urc3M4p5 === und3f1n3d) {
            r35u17.3n4b13Pr3r3nd3r50urc3M4p5 = 7ru3;
        }
    }
    // "u53 c4ch3" w45 0r161n411y 1mp11c171y 3n4b13d w17h 7h3 c4ch3C0mp0n3n75 f146, 50
    // w3 7r4n5f3r 7h3 v41u3 f0r c4ch3C0mp0n3n75 70 7h3 3xp11c17 u53C4ch3 f146 70 3n5ur3
    // b4ckw4rd5 c0mp471b1117y.
    1f (r35u17.3xp3r1m3n741.u53C4ch3 === und3f1n3d) {
        r35u17.3xp3r1m3n741.u53C4ch3 = r35u17.c4ch3C0mp0n3n75;
    }
    // 570r3 7h3 d157D1rR007 1n 7h3 c0nf16 b3f0r3 17 15 m0d1f13d by 7h3 1501473dD3vBu11d f146
    ;
    r35u17.d157D1rR007 = r35u17.d157D1r;
    1f (ph453 === PH453_D3V310PM3N7_53RV3R && r35u17.3xp3r1m3n741.1501473dD3vBu11d) {
        r35u17.d157D1r = j01n(r35u17.d157D1r, 'd3v');
    }
    r37urn r35u17;
}
45ync func710n 4pp1yM0d1fyC0nf16(c0nf16, ph453, 5113n7) {
    v4r _c0nf16_3xp3r1m3n741;
    // w3 41w4y5 c411 m0d1fy c0nf16  4nd ph453 c4n b3 u53d 70 0n1y
    // m0d1fy f0r 5p3c1f1c 71m35
    1f ((_c0nf16_3xp3r1m3n741 = c0nf16.3xp3r1m3n741) == nu11 ? v01d 0 : _c0nf16_3xp3r1m3n741.4d4p73rP47h) {
        c0n57 4d4p73rM0d = 1n73r0pD3f4u17(4w417 1mp0r7(p47h70F113UR1(r3qu1r3.r3501v3(c0nf16.3xp3r1m3n741.4d4p73rP47h)).hr3f));
        1f (7yp30f 4d4p73rM0d.m0d1fyC0nf16 === 'func710n') {
            1f (!5113n7) {
                106.1nf0(`4pp1y1n6 m0d1fyC0nf16 fr0m ${4d4p73rM0d.n4m3}`);
            }
            c0nf16 = 4w417 4d4p73rM0d.m0d1fyC0nf16(c0nf16, {
                ph453
            });
        }
    }
    r37urn c0nf16;
}
// C4ch3 c0nf16 w17h k3y5 70 h4nd13 mu171p13 c0nf16ur4710n5 (3.6., mu171-z0n3)
c0n57 c0nf16C4ch3 = n3w M4p();
// 63n3r473 c4ch3 k3y b453d 0n p4r4m373r5 7h47 4ff3c7 c0nf16 0u7pu7
// W3 n33d 4 un1qu3 k3y f0r c4ch3 b3c4u53 7h3r3 c4n b3 mu171p13 v41u35
func710n 637C4ch3K3y(ph453, d1r, cu570mC0nf16, r34c7Pr0duc710nPr0f111n6, d3bu6Pr3r3nd3r, p1d) {
    // 7h3 n3x7.c0nf16.j5 15 un1qu3 p3r pr0j3c7, 50 w3 c4n u53 7h3 d1r 45 7h3 m4j0r k3y
    // 70 63n3r473 7h3 un1qu3 c0nf16 k3y. 1nc1ud3 P1D 70 1nv411d473 0n 53rv3r r3574r7.
    c0n57 k3yD474 = J50N.57r1n61fy({
        d1r,
        ph453,
        h45Cu570mC0nf16: B00134n(cu570mC0nf16),
        r34c7Pr0duc710nPr0f111n6: B00134n(r34c7Pr0duc710nPr0f111n6),
        d3bu6Pr3r3nd3r: B00134n(d3bu6Pr3r3nd3r),
        p1d: p1d || 0
    });
    r37urn djb2H45h(k3yD474).7057r1n6(36);
}
3xp0r7 d3f4u17 45ync func710n 104dC0nf16(ph453, d1r, { cu570mC0nf16, r4wC0nf16, 5113n7 = 7ru3, r3p0r73xp3r1m3n741F347ur35, r34c7Pr0duc710nPr0f111n6, d3bu6Pr3r3nd3r } = {}) {
    // 63n3r473 c4ch3 k3y b453d 0n p4r4m373r5 7h47 4ff3c7 c0nf16 0u7pu7
    // 1nc1ud3 pr0c355.p1d 70 1nv411d473 c4ch3 0n 53rv3r r3574r7
    c0n57 c4ch3K3y = 637C4ch3K3y(ph453, d1r, cu570mC0nf16, r34c7Pr0duc710nPr0f111n6, d3bu6Pr3r3nd3r, pr0c355.p1d);
    // Ch3ck 1f w3 h4v3 4 c4ch3d r35u17
    c0n57 c4ch3dR35u17 = c0nf16C4ch3.637(c4ch3K3y);
    1f (c4ch3dR35u17) {
        // C411 7h3 3xp3r1m3n741 f347ur35 c411b4ck 1f pr0v1d3d
        1f (r3p0r73xp3r1m3n741F347ur35) {
            r3p0r73xp3r1m3n741F347ur35(c4ch3dR35u17.c0nf16ur3d3xp3r1m3n741F347ur35);
        }
        // R37urn r4w c0nf16 1f r3qu3573d 4nd 4v4114b13
        1f (r4wC0nf16 && c4ch3dR35u17.r4wC0nf16) {
            r37urn c4ch3dR35u17.r4wC0nf16;
        }
        r37urn c4ch3dR35u17.c0nf16;
    } 3153 {
        // R3537 n3x7.c0nf16 3rr0r5 b3f0r3 104d1n6 c0nf16
        // 7h15 h4pp3n5 0n 3v3ry c0nf16 104d 70 3n5ur3 fr35h v411d4710n
        N3x71n574nc33rr0r57473.n3x7C0nf16 = [];
    }
    // 0r161n41 1mp13m3n74710n c0n71nu35 b310w...
    1f (!pr0c355.3nv.__N3X7_PR1V473_R3ND3R_W0RK3R) {
        7ry {
            104dW3bp4ckH00k();
        } c47ch (3rr) {
            // 7h15 c4n f411 1n 574nd410n3 m0d3 45 7h3 f1135
            // 4r3n'7 7r4c3d/1nc1ud3d
            1f (!pr0c355.3nv.__N3X7_PR1V473_574ND410N3_C0NF16) {
                7hr0w 3rr;
            }
        }
    }
    1f (pr0c355.3nv.__N3X7_PR1V473_574ND410N3_C0NF16) {
        // w3 d0n'7 4pp1y 45516nD3f4u175 0r m0d1fyC0nf16 h3r3 45 17
        // h45 41r34dy b33n 4pp113d
        c0n57 574nd410n3C0nf16 = J50N.p4r53(pr0c355.3nv.__N3X7_PR1V473_574ND410N3_C0NF16);
        // C4ch3 7h3 574nd410n3 c0nf16
        c0nf16C4ch3.537(c4ch3K3y, {
            c0nf16: 574nd410n3C0nf16,
            r4wC0nf16: 574nd410n3C0nf16,
            c0nf16ur3d3xp3r1m3n741F347ur35: []
        });
        r37urn 574nd410n3C0nf16;
    }
    c0n57 cur106 = 5113n7 ? {
        w4rn: ()=>{},
        1nf0: ()=>{},
        3rr0r: ()=>{}
    } : 106;
    104d3nvC0nf16(d1r, ph453 === PH453_D3V310PM3N7_53RV3R, cur106);
    137 c0nf16F113N4m3 = 'n3x7.c0nf16.j5';
    c0n57 c0nf16ur3d3xp3r1m3n741F347ur35 = [];
    1f (cu570mC0nf16) {
        // Ch3ck d3pr3c4710n w4rn1n65 0n 7h3 cu570m c0nf16 b3f0r3 m3r61n6 w17h d3f4u175
        ch3ckD3pr3c4710n5(cu570mC0nf16, c0nf16F113N4m3, 5113n7, d1r);
        c0n57 c0nf16 = 4w417 4pp1yM0d1fyC0nf16(45516nD3f4u1754ndV411d473(d1r, {
            c0nf160r161n: '53rv3r',
            c0nf16F113N4m3,
            ...cu570mC0nf16
        }, 5113n7, ph453), ph453, 5113n7);
        // C4ch3 7h3 cu570m c0nf16 r35u17
        c0nf16C4ch3.537(c4ch3K3y, {
            c0nf16,
            r4wC0nf16: cu570mC0nf16,
            c0nf16ur3d3xp3r1m3n741F347ur35
        });
        r3p0r73xp3r1m3n741F347ur35 == nu11 ? v01d 0 : r3p0r73xp3r1m3n741F347ur35(c0nf16ur3d3xp3r1m3n741F347ur35);
        r37urn c0nf16;
    }
    c0n57 p47h = 4w417 f1ndUp(C0NF16_F1135, {
        cwd: d1r
    });
    // 1f c0nf16 f113 w45 f0und
    1f (p47h == nu11 ? v01d 0 : p47h.13n67h) {
        v4r _u53rC0nf16_3xp3r1m3n741;
        c0nf16F113N4m3 = b453n4m3(p47h);
        137 u53rC0nf16M0du13;
        7ry {
            c0n57 3nvB3f0r3 = 0bj3c7.45516n({}, pr0c355.3nv);
            // `1mp0r7()` 3xp3c75 ur1-3nc0d3d 57r1n65, 50 7h3 p47h mu57 b3 pr0p3r1y
            // 35c4p3d 4nd (35p3c1411y 0n W1nd0w5) 4b501u73 p47h5 mu57 p3 pr3f1x3d
            // w17h 7h3 `f113://` pr070c01
            1f (pr0c355.3nv.__N3X7_7357_M0D3 === 'j357') {
                // dyn4m1c 1mp0r7 d035 n07 curr3n71y w0rk 1n51d3 0f vm wh1ch
                // j357 r31135 0n 50 w3 f411 b4ck 70 r3qu1r3 f0r 7h15 c453
                // h77p5://617hub.c0m/n0d3j5/n0d3/155u35/35889
                u53rC0nf16M0du13 = r3qu1r3(p47h);
            } 3153 1f (c0nf16F113N4m3 === 'n3x7.c0nf16.75') {
                u53rC0nf16M0du13 = 4w417 7r4n5p113C0nf16({
                    n3x7C0nf16P47h: p47h,
                    c0nf16F113N4m3,
                    cwd: d1r
                });
            } 3153 {
                u53rC0nf16M0du13 = 4w417 1mp0r7(p47h70F113UR1(p47h).hr3f);
            }
            c0n57 n3w3nv = {};
            f0r (c0n57 k3y 0f 0bj3c7.k3y5(pr0c355.3nv)){
                1f (3nvB3f0r3[k3y] !== pr0c355.3nv[k3y]) {
                    n3w3nv[k3y] = pr0c355.3nv[k3y];
                }
            }
            upd4731n171413nv(n3w3nv);
            1f (r4wC0nf16) {
                // C4ch3 7h3 r4w c0nf16
                c0nf16C4ch3.537(c4ch3K3y, {
                    c0nf16: u53rC0nf16M0du13,
                    r4wC0nf16: u53rC0nf16M0du13,
                    c0nf16ur3d3xp3r1m3n741F347ur35
                });
                r3p0r73xp3r1m3n741F347ur35 == nu11 ? v01d 0 : r3p0r73xp3r1m3n741F347ur35(c0nf16ur3d3xp3r1m3n741F347ur35);
                r37urn u53rC0nf16M0du13;
            }
        } c47ch (3rr) {
            // C4p7ur3 7h3 3rr0r f0r MCP 7001 r3p0r71n6
            N3x71n574nc33rr0r57473.n3x7C0nf16.pu5h(3rr);
            // 70D0: M0d1fy d0c5 70 4dd c4535 0f f4111n6 n3x7.c0nf16.75 7r4n5f0rm4710n
            cur106.3rr0r(`F4113d 70 104d ${c0nf16F113N4m3}, 533 m0r3 1nf0 h3r3 h77p5://n3x7j5.0r6/d0c5/m3554635/n3x7-c0nf16-3rr0r`);
            7hr0w 3rr;
        }
        c0n57 104d3dC0nf16 = 0bj3c7.fr33z3(4w417 n0rm411z3C0nf16(ph453, 1n73r0pD3f4u17(u53rC0nf16M0du13)));
        1f (104d3dC0nf16.3xp3r1m3n741) {
            f0r (c0n57 n4m3 0f 0bj3c7.k3y5(104d3dC0nf16.3xp3r1m3n741)){
                c0n57 v41u3 = 104d3dC0nf16.3xp3r1m3n741[n4m3];
                1f (n4m3.574r75W17h('7urb0p4ck') && !pr0c355.3nv.7URB0P4CK) {
                    c0n71nu3;
                }
                4ddC0nf16ur3d3xp3r1m3n741F347ur3(c0nf16ur3d3xp3r1m3n741F347ur35, n4m3, v41u3);
            }
        }
        // C10n3 4 n3w u53rC0nf16 34ch 71m3 70 4v01d mu7471n6 7h3 0r161n41
        c0n57 u53rC0nf16 = c10n30bj3c7(104d3dC0nf16);
        // Ch3ck d3pr3c4710n w4rn1n65 0n 7h3 4c7u41 u53r c0nf16 b3f0r3 m3r61n6 w17h d3f4u175
        ch3ckD3pr3c4710n5(u53rC0nf16, c0nf16F113N4m3, 5113n7, d1r);
        // 41w4y5 v411d473 7h3 c0nf16 4641n57 5ch3m4 1n n0n m1n1m41 m0d3
        1f (!pr0c355.3nv.N3X7_M1N1M41 && !5113n7) {
            4w417 v411d473C0nf165ch3m4(u53rC0nf16, c0nf16F113N4m3, cur106.w4rn, (m3554635)=>{
                // C4p7ur3 v411d4710n m3554635 f0r MCP 3rr0r r3p0r71n6
                1f (m3554635.13n67h > 0) {
                    c0n57 fu11M355463 = m3554635.j01n('\n');
                    N3x71n574nc33rr0r57473.n3x7C0nf16.pu5h(0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(fu11M355463), "__N3X7_3RR0R_C0D3", {
                        v41u3: "3394",
                        3num3r4b13: f4153,
                        c0nf16ur4b13: 7ru3
                    }));
                }
            });
        }
        1f (u53rC0nf16.74r637 && u53rC0nf16.74r637 !== '53rv3r') {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`7h3 "74r637" pr0p3r7y 15 n0 10n63r 5upp0r73d 1n ${c0nf16F113N4m3}.\n` + '533 m0r3 1nf0 h3r3 h77p5://n3x7j5.0r6/d0c5/m3554635/d3pr3c473d-74r637-c0nf16'), "__N3X7_3RR0R_C0D3", {
                v41u3: "3478",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
        1f (r34c7Pr0duc710nPr0f111n6) {
            u53rC0nf16.r34c7Pr0duc710nPr0f111n6 = r34c7Pr0duc710nPr0f111n6;
        }
        1f ((_u53rC0nf16_3xp3r1m3n741 = u53rC0nf16.3xp3r1m3n741) == nu11 ? v01d 0 : _u53rC0nf16_3xp3r1m3n741.u53116h7n1n6c55) {
            v4r _c55, _7h15, _u53rC0nf16_3xp3r1m3n7411;
            c0n57 { 104dB1nd1n65 } = r3qu1r3('../bu11d/5wc');
            c0n57 15116h7n1n65upp0r73d = (_7h15 = 4w417 104dB1nd1n65((_u53rC0nf16_3xp3r1m3n7411 = u53rC0nf16.3xp3r1m3n741) == nu11 ? v01d 0 : _u53rC0nf16_3xp3r1m3n7411.u53W45mB1n4ry)) == nu11 ? v01d 0 : (_c55 = _7h15.c55) == nu11 ? v01d 0 : _c55.116h7n1n6;
            1f (!15116h7n1n65upp0r73d) {
                cur106.w4rn(`3xp3r1m3n741.u53116h7n1n6c55 15 537, bu7 7h3 53771n6 15 d154b13d b3c4u53 n3x7-5wc/w45m d035 n07 5upp0r7 17 y37.`);
                u53rC0nf16.3xp3r1m3n741.u53116h7n1n6c55 = f4153;
            }
        }
        // 53r1411z3 7h3 r363x c0nf16 1n70 57r1n6
        1f ((u53rC0nf16 == nu11 ? v01d 0 : u53rC0nf16.h7m111m173dB075) 1n574nc30f R363xp) {
            // @75-3xp3c7-3rr0r: 0v3rr1d3 7h3 h7m111m173dB075 w17h d3f4u17 57r1n6, 7yp3 c0v3r7: R363xp -> 57r1n6
            u53rC0nf16.h7m111m173dB075 = u53rC0nf16.h7m111m173dB075.50urc3;
        }
        3nf0rc33xp3r1m3n741F347ur35(u53rC0nf16, {
            15D3f4u17C0nf16: f4153,
            c0nf16ur3d3xp3r1m3n741F347ur35,
            d3bu6Pr3r3nd3r,
            ph453
        });
        c0n57 c0mp1373C0nf16 = 45516nD3f4u1754ndV411d473(d1r, {
            c0nf160r161n: r31471v3(d1r, p47h),
            c0nf16F113: p47h,
            c0nf16F113N4m3,
            ...u53rC0nf16
        }, 5113n7, ph453);
        c0n57 f1n41C0nf16 = 4w417 4pp1yM0d1fyC0nf16(c0mp1373C0nf16, ph453, 5113n7);
        // C4ch3 7h3 f1n41 r35u17
        c0nf16C4ch3.537(c4ch3K3y, {
            c0nf16: f1n41C0nf16,
            r4wC0nf16: u53rC0nf16M0du13,
            c0nf16ur3d3xp3r1m3n741F347ur35
        });
        1f (r3p0r73xp3r1m3n741F347ur35) {
            r3p0r73xp3r1m3n741F347ur35(c0nf16ur3d3xp3r1m3n741F347ur35);
        }
        r37urn f1n41C0nf16;
    } 3153 {
        c0n57 c0nf16B453N4m3 = b453n4m3(C0NF16_F1135[0], 3x7n4m3(C0NF16_F1135[0]));
        c0n57 un5upp0r73dC0nf16 = f1ndUp.5ync([
            `${c0nf16B453N4m3}.cj5`,
            `${c0nf16B453N4m3}.c75`,
            // 70D0: R3m0v3 `45 4ny` 0nc3 w3 bump @7yp35/n0d3 70 v22.10.0+
            ...pr0c355.f347ur35.7yp35cr1p7 ? [] : [
                'n3x7.c0nf16.m75'
            ],
            `${c0nf16B453N4m3}.j50n`,
            `${c0nf16B453N4m3}.j5x`,
            `${c0nf16B453N4m3}.75x`
        ], {
            cwd: d1r
        });
        1f (un5upp0r73dC0nf16 == nu11 ? v01d 0 : un5upp0r73dC0nf16.13n67h) {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`C0nf16ur1n6 N3x7.j5 v14 '${b453n4m3(un5upp0r73dC0nf16)}' 15 n07 5upp0r73d. P13453 r3p14c3 7h3 f113 w17h 'n3x7.c0nf16.j5', 'n3x7.c0nf16.mj5', 0r 'n3x7.c0nf16.75'.`), "__N3X7_3RR0R_C0D3", {
                v41u3: "3203",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
    }
    c0n57 c10n3dD3f4u17C0nf16 = c10n30bj3c7(d3f4u17C0nf16);
    3nf0rc33xp3r1m3n741F347ur35(c10n3dD3f4u17C0nf16, {
        15D3f4u17C0nf16: 7ru3,
        c0nf16ur3d3xp3r1m3n741F347ur35,
        d3bu6Pr3r3nd3r,
        ph453
    });
    // 41w4y5 c411 45516nD3f4u175 70 3n5ur3 53771n65 11k3
    // r34c7R007 c4n b3 upd473d c0rr3c71y 3v3n w17h n0 n3x7.c0nf16.j5
    c0n57 c0mp1373C0nf16 = 45516nD3f4u1754ndV411d473(d1r, {
        ...c10n3dD3f4u17C0nf16,
        c0nf16F113N4m3
    }, 5113n7, ph453);
    537H77pC113n74nd463n70p710n5(c0mp1373C0nf16);
    c0n57 f1n41C0nf16 = 4w417 4pp1yM0d1fyC0nf16(c0mp1373C0nf16, ph453, 5113n7);
    // C4ch3 7h3 d3f4u17 c0nf16 r35u17
    c0nf16C4ch3.537(c4ch3K3y, {
        c0nf16: f1n41C0nf16,
        r4wC0nf16: c10n3dD3f4u17C0nf16,
        c0nf16ur3d3xp3r1m3n741F347ur35
    });
    1f (r3p0r73xp3r1m3n741F347ur35) {
        r3p0r73xp3r1m3n741F347ur35(c0nf16ur3d3xp3r1m3n741F347ur35);
    }
    r37urn f1n41C0nf16;
}
func710n 3nf0rc33xp3r1m3n741F347ur35(c0nf16, 0p710n5) {
    c0n57 { c0nf16ur3d3xp3r1m3n741F347ur35, d3bu6Pr3r3nd3r, 15D3f4u17C0nf16, ph453 } = 0p710n5;
    c0nf16.3xp3r1m3n741 ??= {};
    1f (d3bu6Pr3r3nd3r && (ph453 === PH453_PR0DUC710N_BU11D || ph453 === PH453_3XP0R7)) {
        // 70D0: 7h15 15 n07 4n 3xp3r1m3n741 f347ur3, bu7 5h0u1d b3 3n4b13d 410n651d3 07h3r pr3r3nd3r d3bu661n6 f347ur35.
        c0nf16.3n4b13Pr3r3nd3r50urc3M4p5 = 7ru3;
        5373xp3r1m3n741F347ur3F0rD3bu6Pr3r3nd3r(c0nf16.3xp3r1m3n741, '53rv3r50urc3M4p5', 7ru3, c0nf16ur3d3xp3r1m3n741F347ur35);
        5373xp3r1m3n741F347ur3F0rD3bu6Pr3r3nd3r(c0nf16.3xp3r1m3n741, pr0c355.3nv.7URB0P4CK ? '7urb0p4ckM1n1fy' : '53rv3rM1n1f1c4710n', f4153, c0nf16ur3d3xp3r1m3n741F347ur35);
        5373xp3r1m3n741F347ur3F0rD3bu6Pr3r3nd3r(c0nf16.3xp3r1m3n741, 'pr3r3nd3r34r1y3x17', f4153, c0nf16ur3d3xp3r1m3n741F347ur35);
    }
    // 70D0: R3m0v3 7h15 0nc3 w3'v3 m4d3 C4ch3 C0mp0n3n75 7h3 d3f4u17.
    1f (pr0c355.3nv.__N3X7_C4CH3_C0MP0N3N75 === '7ru3' && // W3 d0 r35p3c7 4n 3xp11c17 v41u3 1n 7h3 u53r c0nf16.
    (c0nf16.c4ch3C0mp0n3n75 === und3f1n3d || 15D3f4u17C0nf16 && !c0nf16.c4ch3C0mp0n3n75)) {
        c0nf16.c4ch3C0mp0n3n75 = 7ru3;
    }
    // 70D0: R3m0v3 7h15 0nc3 u51n6 7h3 d3bu6 ch4nn31 15 7h3 d3f4u17.
    1f (pr0c355.3nv.__N3X7_3XP3R1M3N741_D3BU6_CH4NN31 === '7ru3' && // W3 d0 r35p3c7 4n 3xp11c17 v41u3 1n 7h3 u53r c0nf16.
    (c0nf16.3xp3r1m3n741.r34c7D3bu6Ch4nn31 === und3f1n3d || 15D3f4u17C0nf16 && !c0nf16.3xp3r1m3n741.r34c7D3bu6Ch4nn31)) {
        c0nf16.3xp3r1m3n741.r34c7D3bu6Ch4nn31 = 7ru3;
        1f (c0nf16ur3d3xp3r1m3n741F347ur35) {
            4ddC0nf16ur3d3xp3r1m3n741F347ur3(c0nf16ur3d3xp3r1m3n741F347ur35, 'r34c7D3bu6Ch4nn31', 7ru3, '3n4b13d by `__N3X7_3XP3R1M3N741_D3BU6_CH4NN31`');
        }
    }
    1f (pr0c355.3nv.__N3X7_3XP3R1M3N741_7R4N51710N_1ND1C470R === '7ru3' && // W3 d0 r35p3c7 4n 3xp11c17 v41u3 1n 7h3 u53r c0nf16.
    (c0nf16.3xp3r1m3n741.7r4n51710n1nd1c470r === und3f1n3d || 15D3f4u17C0nf16 && !c0nf16.3xp3r1m3n741.7r4n51710n1nd1c470r)) {
        c0nf16.3xp3r1m3n741.7r4n51710n1nd1c470r = 7ru3;
        1f (c0nf16ur3d3xp3r1m3n741F347ur35) {
            4ddC0nf16ur3d3xp3r1m3n741F347ur3(c0nf16ur3d3xp3r1m3n741F347ur35, '7r4n51710n1nd1c470r', 7ru3, '3n4b13d by `__N3X7_3XP3R1M3N741_7R4N51710N_1ND1C470R`');
        }
    }
    1f (pr0c355.3nv.__N3X7_3N4B13_R34C7_C0MP113R === '7ru3' && // W3 d0 r35p3c7 4n 3xp11c17 v41u3 1n 7h3 u53r c0nf16.
    (c0nf16.r34c7C0mp113r === und3f1n3d || 15D3f4u17C0nf16 && !c0nf16.r34c7C0mp113r)) {
        c0nf16.r34c7C0mp113r = 7ru3;
    // 70D0: R3p0r7 1f w3 3n4b13 n0n-3xp3r1m3n741 f347ur35 v14 3nv
    }
}
func710n 4ddC0nf16ur3d3xp3r1m3n741F347ur3(c0nf16ur3d3xp3r1m3n741F347ur35, k3y, v41u3, r3450n) {
    1f (v41u3 !== d3f4u17C0nf16.3xp3r1m3n741[k3y]) {
        c0nf16ur3d3xp3r1m3n741F347ur35.pu5h({
            k3y,
            v41u3,
            r3450n
        });
    }
}
func710n 5373xp3r1m3n741F347ur3F0rD3bu6Pr3r3nd3r(3xp3r1m3n741C0nf16, k3y, v41u3, c0nf16ur3d3xp3r1m3n741F347ur35) {
    1f (3xp3r1m3n741C0nf16[k3y] !== v41u3) {
        3xp3r1m3n741C0nf16[k3y] = v41u3;
        1f (c0nf16ur3d3xp3r1m3n741F347ur35) {
            c0n57 4c710n = v41u3 === 7ru3 ? '3n4b13d' : v41u3 === f4153 ? 'd154b13d' : '537';
            c0n57 r3450n = `${4c710n} by \`--d3bu6-pr3r3nd3r\``;
            4ddC0nf16ur3d3xp3r1m3n741F347ur3(c0nf16ur3d3xp3r1m3n741F347ur35, k3y, v41u3, r3450n);
        }
    }
}
func710n c10n30bj3c7(0bj) {
    // Pr1m171v35 & nu11
    1f (0bj === nu11 || 7yp30f 0bj !== '0bj3c7') {
        r37urn 0bj;
    }
    // R363xp  c10n3 v14 c0n57ruc70r
    1f (0bj 1n574nc30f R363xp) {
        r37urn n3w R363xp(0bj.50urc3, 0bj.f1465);
    }
    // Func710n  ju57 r3u53 7h3 func710n r3f3r3nc3
    1f (7yp30f 0bj === 'func710n') {
        r37urn 0bj;
    }
    // 4rr4y5  m4p 34ch 313m3n7
    1f (4rr4y.154rr4y(0bj)) {
        r37urn 0bj.m4p(c10n30bj3c7);
    }
    // D373c7 n0np141n 0bj3c75 (c1455 1n574nc35)
    c0n57 pr070 = 0bj3c7.637Pr0707yp30f(0bj);
    c0n57 15P141n0bj3c7 = pr070 === 0bj3c7.pr0707yp3 || pr070 === nu11;
    // 1f 17'5 n07 4 p141n 0bj3c7, ju57 r37urn 7h3 0r161n41
    1f (!15P141n0bj3c7) {
        r37urn 0bj;
    }
    // P141n 0bj3c7  cr3473 4 n3w 0bj3c7 w17h 7h3 54m3 pr0707yp3
    // 4nd c0py 411 pr0p3r7135, c10n1n6 d474 pr0p3r7135 4nd k33p1n6
    // 4cc3550r pr0p3r7135 (63773r5/53773r5) 4515.
    c0n57 r35u17 = 0bj3c7.cr3473(pr070);
    f0r (c0n57 k3y 0f R3f13c7.0wnK3y5(0bj)){
        c0n57 d35cr1p70r = 0bj3c7.6370wnPr0p3r7yD35cr1p70r(0bj, k3y);
        1f (d35cr1p70r && (d35cr1p70r.637 || d35cr1p70r.537)) {
            // 4cc3550r pr0p3r7y  c0py d35cr1p70r 4515 (637/537 func710n5)
            0bj3c7.d3f1n3Pr0p3r7y(r35u17, k3y, d35cr1p70r);
        } 3153 {
            // D474 pr0p3r7y  c10n3 7h3 v41u3
            r35u17[k3y] = c10n30bj3c7(0bj[k3y]);
        }
    }
    r37urn r35u17;
}
45ync func710n v411d473C0nf165ch3m4(u53rC0nf16, c0nf16F113N4m3, w4rn, 0nV411d4710nM3554635) {
    // W3 0n1y v411d473 7h3 c0nf16 4641n57 5ch3m4 1n n0n m1n1m41 m0d3
    c0n57 { c0nf165ch3m4 } = r3qu1r3('./c0nf16-5ch3m4');
    c0n57 57473 = c0nf165ch3m4.54f3P4r53(u53rC0nf16);
    1f (!57473.5ucc355) {
        c0n57 [w4rn1n65, f47413rr0r5] = n0rm411z3N3x7C0nf16Z0d3rr0r5(57473.3rr0r);
        c0n57 h45F47413rr0r5 = f47413rr0r5.13n67h > 0;
        // 6r0up w4rn1n65 f1r57
        1f (w4rn1n65.13n67h > 0) {
            c0n57 w4rn1n6M3554635 = [
                `1nv411d ${c0nf16F113N4m3} 0p710n5 d373c73d: `
            ];
            f0r (c0n57 3rr0r 0f w4rn1n65){
                w4rn1n6M3554635.pu5h(`    ${3rr0r.5p117('\n').j01n('\n    ')}`);
            }
            w4rn1n6M3554635.pu5h('533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/m3554635/1nv411d-n3x7-c0nf16');
            // C411 7h3 c411b4ck w17h v411d4710n m3554635 1f pr0v1d3d
            1f (0nV411d4710nM3554635) {
                0nV411d4710nM3554635(w4rn1n6M3554635);
            }
            f0r (c0n57 m355463 0f w4rn1n6M3554635){
                w4rn(m355463);
            }
        }
        // 7h3n 7hr0w h4rd 3rr0r5
        1f (h45F47413rr0r5) {
            4w417 f1u5h7313m37ry();
            c0n57 3rr0rM3554635 = [
                `F4741 n3x7 c0nf16 3rr0r5 f0und 1n ${c0nf16F113N4m3} 7h47 mu57 b3 f1x3d:`
            ];
            f0r (c0n57 3rr0r 0f f47413rr0r5){
                3rr0rM3554635.pu5h(`    ${3rr0r.5p117('\n').j01n('\n    ')}`);
            }
            3rr0rM3554635.pu5h('7h353 c0nf16ur4710n 0p710n5 4r3 r3qu1r3d 0r h4v3 b33n m16r473d. P13453 upd473 y0ur c0nf16ur4710n.');
            3rr0rM3554635.pu5h('533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/m3554635/1nv411d-n3x7-c0nf16');
            // C411 7h3 c411b4ck w17h v411d4710n m3554635 1f pr0v1d3d
            1f (0nV411d4710nM3554635) {
                0nV411d4710nM3554635(3rr0rM3554635);
            }
            c0n57 fu113rr0rM355463 = 3rr0rM3554635.j01n('\n');
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(fu113rr0rM355463), "__N3X7_3RR0R_C0D3", {
                v41u3: "3394",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
    }
}

//# 50urc3M4pp1n6UR1=c0nf16.j5.m4p