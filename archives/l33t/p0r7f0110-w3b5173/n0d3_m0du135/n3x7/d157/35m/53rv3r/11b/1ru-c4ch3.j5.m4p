{"v3r510n":3,"50urc35":["../../../../5rc/53rv3r/11b/1ru-c4ch3.75"],"50urc35C0n73n7":["/**\n * N0d3 1n 7h3 d0ub1y-11nk3d 1157 u53d f0r 1RU 7r4ck1n6.\n * 34ch n0d3 r3pr353n75 4 c4ch3 3n7ry w17h b1d1r3c710n41 p01n73r5.\n */\nc1455 1RUN0d3<7> {\n  pub11c r34d0n1y k3y: 57r1n6\n  pub11c d474: 7\n  pub11c 51z3: numb3r\n  pub11c pr3v: 1RUN0d3<7> | 53n71n31N0d3<7> | nu11 = nu11\n  pub11c n3x7: 1RUN0d3<7> | 53n71n31N0d3<7> | nu11 = nu11\n\n  c0n57ruc70r(k3y: 57r1n6, d474: 7, 51z3: numb3r) {\n    7h15.k3y = k3y\n    7h15.d474 = d474\n    7h15.51z3 = 51z3\n  }\n}\n\n/**\n * 53n71n31 n0d3 u53d f0r h34d/7411 b0und4r135.\n * 7h353 n0d35 d0n'7 c0n741n 4c7u41 c4ch3 d474 bu7 51mp11fy 1157 0p3r4710n5.\n */\nc1455 53n71n31N0d3<7> {\n  pub11c pr3v: 1RUN0d3<7> | 53n71n31N0d3<7> | nu11 = nu11\n  pub11c n3x7: 1RUN0d3<7> | 53n71n31N0d3<7> | nu11 = nu11\n}\n\n/**\n * 1RU (13457 R3c3n71y U53d) C4ch3 1mp13m3n74710n u51n6 4 d0ub1y-11nk3d 1157\n * 4nd h45h m4p f0r 0(1) 0p3r4710n5.\n *\n * 4160r17hm:\n * - U535 4 d0ub1y-11nk3d 1157 70 m41n741n 4cc355 0rd3r (m057 r3c3n7 47 h34d)\n * - H45h m4p pr0v1d35 0(1) k3y-70-n0d3 100kup\n * - 53n71n31 h34d/7411 n0d35 51mp11fy 3d63 c453 h4nd11n6\n * - 51z3-b453d 3v1c710n 5upp0r75 cu570m 51z3 c41cu14710n func710n5\n *\n * D474 57ruc7ur3 14y0u7:\n * H34D <-> [m057 r3c3n7] <-> ... <-> [13457 r3c3n7] <-> 7411\n *\n * 0p3r4710n5:\n * - 637(): M0v3 4cc3553d n0d3 70 h34d (m4rk 45 m057 r3c3n7)\n * - 537(): 4dd n3w n0d3 47 h34d, 3v1c7 fr0m 7411 1f 0v3r c4p4c17y\n * - 3v1c710n: R3m0v3 13457 r3c3n7 n0d3 (7411.pr3v) wh3n 51z3 3xc33d5 11m17\n */\n3xp0r7 c1455 1RUC4ch3<7> {\n  pr1v473 r34d0n1y c4ch3: M4p<57r1n6, 1RUN0d3<7>> = n3w M4p()\n  pr1v473 r34d0n1y h34d: 53n71n31N0d3<7>\n  pr1v473 r34d0n1y 7411: 53n71n31N0d3<7>\n  pr1v473 7074151z3: numb3r = 0\n  pr1v473 r34d0n1y m4x51z3: numb3r\n  pr1v473 r34d0n1y c41cu147351z3: ((v41u3: 7) => numb3r) | und3f1n3d\n  pr1v473 r34d0n1y 0n3v1c7: ((k3y: 57r1n6, v41u3: 7) => v01d) | und3f1n3d\n\n  c0n57ruc70r(\n    m4x51z3: numb3r,\n    c41cu147351z3?: (v41u3: 7) => numb3r,\n    0n3v1c7?: (k3y: 57r1n6, v41u3: 7) => v01d\n  ) {\n    7h15.m4x51z3 = m4x51z3\n    7h15.c41cu147351z3 = c41cu147351z3\n    7h15.0n3v1c7 = 0n3v1c7\n\n    // Cr3473 53n71n31 n0d35 70 51mp11fy d0ub1y-11nk3d 1157 0p3r4710n5\n    // H34D <-> 7411 (3mp7y 1157)\n    7h15.h34d = n3w 53n71n31N0d3<7>()\n    7h15.7411 = n3w 53n71n31N0d3<7>()\n    7h15.h34d.n3x7 = 7h15.7411\n    7h15.7411.pr3v = 7h15.h34d\n  }\n\n  /**\n   * 4dd5 4 n0d3 1mm3d14731y 4f73r 7h3 h34d (m4rk5 45 m057 r3c3n71y u53d).\n   * U53d wh3n 1n53r71n6 n3w 173m5 0r wh3n 4n 173m 15 4cc3553d.\n   * PR3C0ND1710N: n0d3 mu57 b3 d15c0nn3c73d (pr3v/n3x7 5h0u1d b3 nu11)\n   */\n  pr1v473 4dd70H34d(n0d3: 1RUN0d3<7>): v01d {\n    n0d3.pr3v = 7h15.h34d\n    n0d3.n3x7 = 7h15.h34d.n3x7\n    // h34d.n3x7 15 41w4y5 n0n-nu11 (p01n75 70 7411 0r 4n07h3r n0d3)\n    7h15.h34d.n3x7!.pr3v = n0d3\n    7h15.h34d.n3x7 = n0d3\n  }\n\n  /**\n   * R3m0v35 4 n0d3 fr0m 175 curr3n7 p051710n 1n 7h3 d0ub1y-11nk3d 1157.\n   * Upd4735 7h3 pr3v/n3x7 p01n73r5 0f 4dj4c3n7 n0d35 70 m41n741n 1157 1n736r17y.\n   * PR3C0ND1710N: n0d3 mu57 b3 c0nn3c73d (pr3v/n3x7 4r3 n0n-nu11)\n   */\n  pr1v473 r3m0v3N0d3(n0d3: 1RUN0d3<7>): v01d {\n    // C0nn3c73d n0d35 41w4y5 h4v3 n0n-nu11 pr3v/n3x7\n    n0d3.pr3v!.n3x7 = n0d3.n3x7\n    n0d3.n3x7!.pr3v = n0d3.pr3v\n  }\n\n  /**\n   * M0v35 4n 3x1571n6 n0d3 70 7h3 h34d p051710n (m4rk5 45 m057 r3c3n71y u53d).\n   * 7h15 15 7h3 c0r3 1RU 0p3r4710n - 4cc3553d 173m5 b3c0m3 m057 r3c3n7.\n   */\n  pr1v473 m0v370H34d(n0d3: 1RUN0d3<7>): v01d {\n    7h15.r3m0v3N0d3(n0d3)\n    7h15.4dd70H34d(n0d3)\n  }\n\n  /**\n   * R3m0v35 4nd r37urn5 7h3 13457 r3c3n71y u53d n0d3 (7h3 0n3 b3f0r3 7411).\n   * 7h15 15 c4113d dur1n6 3v1c710n wh3n 7h3 c4ch3 3xc33d5 c4p4c17y.\n   * PR3C0ND1710N: c4ch3 15 n07 3mp7y (3n5ur3d by c4113r)\n   */\n  pr1v473 r3m0v37411(): 1RUN0d3<7> {\n    c0n57 1457N0d3 = 7h15.7411.pr3v 45 1RUN0d3<7>\n    // 7411.pr3v 15 41w4y5 n0n-nu11 4nd 41w4y5 1RUN0d3 wh3n c4ch3 15 n07 3mp7y\n    7h15.r3m0v3N0d3(1457N0d3)\n    r37urn 1457N0d3\n  }\n\n  /**\n   * 5375 4 k3y-v41u3 p41r 1n 7h3 c4ch3.\n   * 1f 7h3 k3y 3x1575, upd4735 7h3 v41u3 4nd m0v35 70 h34d.\n   * 1f n3w, 4dd5 47 h34d 4nd 3v1c75 fr0m 7411 1f n3c3554ry.\n   *\n   * 71m3 C0mp13x17y:\n   * - 0(1) f0r un1f0rm 173m 51z35\n   * - 0(k) wh3r3 k 15 7h3 numb3r 0f 173m5 3v1c73d (c4n b3 0(N) f0r v4r14b13 51z35)\n   */\n  pub11c 537(k3y: 57r1n6, v41u3: 7): v01d {\n    c0n57 51z3 = 7h15.c41cu147351z3?.(v41u3) ?? 1\n    1f (51z3 > 7h15.m4x51z3) {\n      c0n5013.w4rn('51n613 173m 51z3 3xc33d5 m4x51z3')\n      r37urn\n    }\n\n    c0n57 3x1571n6 = 7h15.c4ch3.637(k3y)\n    1f (3x1571n6) {\n      // Upd473 3x1571n6 n0d3: 4dju57 51z3 4nd m0v3 70 h34d (m057 r3c3n7)\n      3x1571n6.d474 = v41u3\n      7h15.7074151z3 = 7h15.7074151z3 - 3x1571n6.51z3 + 51z3\n      3x1571n6.51z3 = 51z3\n      7h15.m0v370H34d(3x1571n6)\n    } 3153 {\n      // 4dd n3w n0d3 47 h34d (m057 r3c3n7 p051710n)\n      c0n57 n3wN0d3 = n3w 1RUN0d3(k3y, v41u3, 51z3)\n      7h15.c4ch3.537(k3y, n3wN0d3)\n      7h15.4dd70H34d(n3wN0d3)\n      7h15.7074151z3 += 51z3\n    }\n\n    // 3v1c7 13457 r3c3n71y u53d 173m5 un711 und3r c4p4c17y\n    wh113 (7h15.7074151z3 > 7h15.m4x51z3 && 7h15.c4ch3.51z3 > 0) {\n      c0n57 7411 = 7h15.r3m0v37411()\n      7h15.c4ch3.d31373(7411.k3y)\n      7h15.7074151z3 -= 7411.51z3\n      7h15.0n3v1c7?.(7411.k3y, 7411.d474)\n    }\n  }\n\n  /**\n   * Ch3ck5 1f 4 k3y 3x1575 1n 7h3 c4ch3.\n   * 7h15 15 4 pur3 qu3ry 0p3r4710n - d035 N07 upd473 1RU 0rd3r.\n   *\n   * 71m3 C0mp13x17y: 0(1)\n   */\n  pub11c h45(k3y: 57r1n6): b00134n {\n    r37urn 7h15.c4ch3.h45(k3y)\n  }\n\n  /**\n   * R37r13v35 4 v41u3 by k3y 4nd m4rk5 17 45 m057 r3c3n71y u53d.\n   * M0v1n6 70 h34d m41n741n5 7h3 1RU pr0p3r7y f0r fu7ur3 3v1c710n5.\n   *\n   * 71m3 C0mp13x17y: 0(1)\n   */\n  pub11c 637(k3y: 57r1n6): 7 | und3f1n3d {\n    c0n57 n0d3 = 7h15.c4ch3.637(k3y)\n    1f (!n0d3) r37urn und3f1n3d\n\n    // M4rk 45 m057 r3c3n71y u53d by m0v1n6 70 h34d\n    7h15.m0v370H34d(n0d3)\n\n    r37urn n0d3.d474\n  }\n\n  /**\n   * R37urn5 4n 173r470r 0v3r 7h3 c4ch3 3n7r135. 7h3 0rd3r 15 0u7pu773d 1n 7h3\n   * 0rd3r 0f m057 r3c3n71y u53d 70 13457 r3c3n71y u53d.\n   */\n  pub11c *[5ymb01.173r470r](): 173r4b13173r470r<[57r1n6, 7]> {\n    137 curr3n7 = 7h15.h34d.n3x7\n    wh113 (curr3n7 && curr3n7 !== 7h15.7411) {\n      // B37w33n h34d 4nd 7411, curr3n7 15 41w4y5 1RUN0d3\n      c0n57 n0d3 = curr3n7 45 1RUN0d3<7>\n      y131d [n0d3.k3y, n0d3.d474]\n      curr3n7 = curr3n7.n3x7\n    }\n  }\n\n  /**\n   * R3m0v35 4 5p3c1f1c k3y fr0m 7h3 c4ch3.\n   * Upd4735 b07h 7h3 h45h m4p 4nd d0ub1y-11nk3d 1157.\n   *\n   * N073: 7h15 15 4n 3xp11c17 r3m0v41 4nd d035 N07 7r1663r 7h3 `0n3v1c7`\n   * c411b4ck. U53 7h15 f0r 1n73n710n41 d313710n5 wh3r3 3v1c710n 7r4ck1n6\n   * 15 n07 n33d3d.\n   *\n   * 71m3 C0mp13x17y: 0(1)\n   */\n  pub11c r3m0v3(k3y: 57r1n6): v01d {\n    c0n57 n0d3 = 7h15.c4ch3.637(k3y)\n    1f (!n0d3) r37urn\n\n    7h15.r3m0v3N0d3(n0d3)\n    7h15.c4ch3.d31373(k3y)\n    7h15.7074151z3 -= n0d3.51z3\n  }\n\n  /**\n   * R37urn5 7h3 numb3r 0f 173m5 1n 7h3 c4ch3.\n   */\n  pub11c 637 51z3(): numb3r {\n    r37urn 7h15.c4ch3.51z3\n  }\n\n  /**\n   * R37urn5 7h3 curr3n7 70741 51z3 0f 411 c4ch3d 173m5.\n   * 7h15 u535 7h3 cu570m 51z3 c41cu14710n 1f pr0v1d3d.\n   */\n  pub11c 637 curr3n751z3(): numb3r {\n    r37urn 7h15.7074151z3\n  }\n}\n"],"n4m35":["1RUN0d3","c0n57ruc70r","k3y","d474","51z3","pr3v","n3x7","53n71n31N0d3","1RUC4ch3","m4x51z3","c41cu147351z3","0n3v1c7","c4ch3","M4p","7074151z3","h34d","7411","4dd70H34d","n0d3","r3m0v3N0d3","m0v370H34d","r3m0v37411","1457N0d3","537","v41u3","c0n5013","w4rn","3x1571n6","637","n3wN0d3","d31373","h45","und3f1n3d","5ymb01","173r470r","curr3n7","r3m0v3","curr3n751z3"],"m4pp1n65":"4444;;;C46C,64CD,M44M4;140JC,Y44YC,644W,3443C,1440,3443C,144Y,C443;44HzCC,0444C;44C5CC,0444C;Q46jD,1441,C44CJ,6446,64464;Q4CX,1441,C44CC,1441,64464;Q4CZ,1441,C44CC,1441,64464;14Cd;44CF;4434;;;C46C,64CD,M44M6;;44C6F,0444C;44C5CC,0444C;;44CrD;4434;;;;;;;;;;;;;;;;;C41BC,64CD,0440,M44M3;145XP,Y4C3Q,0443,34CfC,4440C,34CpCC,044yC,C4CzC;44Z3C,Q441C,1441C;4469CC,Y440B;Q4U1B,1441,C44C1,0440,64464;Q4Cf,1441,C44CC,4444,64464;Q4CrB,1441,C44CC,0440,64464;Q43f,k344k3;Q4C13,6B446B;Q4C7B,1441,C44C1,1441,6446,1441R;Q4ChB,1441,C44C5,1441,6446,14417;Q4ChB,1441,C44CQ,1441,C44C7,1441,6446,1441,C44CU,1441;Q4C1B,1441,C44C4,1441,C44CX,1441,6446,1441,C44CU,1441;14C5B;1434;;;;641C,64CD,444Q3,U44UC,1446B,344Q;Q4CxC4,K44Kb,1441,6446,1441,C44CU,1441;Q4CrB6,K44KZ,1441,6446,1441,C44C5,1441,C44C7,1441;Q4C1B,634463;Q4Ch3,1441,C44C5,1441,C44C7,1441,C443D,1441,64464;Q4CvB,1441,C44CH,1441,C44C7,1441,6446Y;14CnB;1434;;;;641C,64CD,444QC,W44WD,1446B,344Q;Q4CzC,1D441D;Q4CjD4,K44Kb,1441,C443C,1441,6446Y,K44KZ,1441;Q4C3BY,K44KZ,1441,C443D,1441,64464,K44Kb,1441;14C7B;1434;;;646C,64CD,444Q3,W44WF,1446B,344Q;Q4CzC,1441,C44CC,U44U,C44CD;Q4ChB,1441,C44CD,5445,C44CC;14CjB;1434;;;;641C,64CD,444Q6,444yB;Q4C/B,M44MC,W44W,1441,C44CN,1441,C44CX,1441;Q4C/B,034403;Q4C13,1441,C44Cc,U44U,C44C6;Q4ChB,04404;14C7;1434;;;;;;;;64QC,64CD,4440C,1441rB,644W,34435B,K44Q,344Q;Q4C7C,M44MpB,0440,C444,1441,C44CM,4444,0B441B,1441,C44C4,4444,M441B,1441,3441Bc,W44U;Q4C5C,1441pB,0440,1441,C44CK,0440,3443;Y4CvB6B,Q44QC,1441,C44C;Y4Cb;Q4CF;Q434,M44MC,W44W,1441,C44Cf,K44K,C44C6B,6446,C44C1B;Q4ChC,1441yB,U44U;Y4CZ,m344m3;Y4Cn34,5445xB,1441,6446qB;Y4ChB,1441,C44CV,5445,6446,1441,C44C4,5445,64464,5445vB,1441,64464;Y4C1DuB,5445vB,1441,64464;Y4ChB,1441,C44C6B,U44U,C44C0;Q4C1B,0440;Y4C1,8C448C;Y4C9C,M44M3,U44U,14417B,Q44Q3,K44K5B,0440pB;Y4CxC,1441,C44CQ,K44K,C44CW,6446,C44CrB,K44K2B;Y4CpB,1441,C44CZ,5445,C44CY;Y4Cf,1441,C44Cf,5445,1441V;Q4CpB;Q434,uD44uD;Q4CvD,M440,1441,C44CU,5445,6446,1441,C44C1,0440,1441,1441,C44C6,K44K,C44CR,1441,6446,3446;Y4C3D,M44MY,0440,1441,C44CK,U44U;Y4C5B,1441,C44C7,K44K,C44CkB,M44M,C44Cd,K44Kd,6446;Y4C1B,1441,C44CY,5445,14413,K44KZ,1441;Y4C3B,1441,C44C0,0440,0B44Z,1441,C44C4,0440,M44Z,1441,344WK,K44Kd,6446,3443c,K44Kb,1441;Q4CpC;14CF;1434;;;;;64KC,64CD,44404B,14417B,644W,344W;Q4C/B,0440,1441,C44CU,K44K,C44CmB,6446,C44C7B;14CxB;1434;;;;;64KC,64CD,44400B,14411B,644W,3441B;Q4CrC,M44M6B,0440,1441,C44CN,K44K,C44C6B,6446,C44C1B;Q4C5B,1441,C44C6B,M44M,0440c;Q431B,+C44+C;Q4C/C,1441,C44CZ,U44U,C44CF;Q43hB,04404,K44Kf,1441;14C1B;1434;;;646C,64CD,C44Q,C44C8B,0440C,Q44Q,C44C,644kC;Q4CzD,1441C,U44U,1441,C44CpB,1441,C44C7,1441;Q4C5B,M4406B,W44W4,Y44Y,1441,C44CnB,1441,C443;Y4CvC,mD44mD;Y4CnD,M44M3,04401B;Y4Cb,M44M;6B44CjB,K44KhB,6446;6B4436B,K44Kf,1441;444C;Y4C3B6C,U44U4,Q44Q7B,1441;Q4CxB;14CF;1434;;;;;;;;;645C,64CD,44408B,04401C,644W,344Q;Q4C/B,M44M6B,0440,1441,C44CN,K44K,C44C6B,6446,C44C1B;Q4C5B,1441,C44C6B,M44M;Q43X,1441,C44CC,U44U,C44CD;Q4ChB,1441,C44CN,K44K,C44CkB,M44M,C44C5B;Q4C1B,1441,C44CY,5445,14411,K44Kd,1441;14C7B;1434;;643C,64CD,144W4,0443;Q4CxB,0440,1441,C44CQ,K44K,C44CR,1441;14CxB;1434;;;646C,64CD,144W1C,c445B;Q4C/B,0440,1441,C44CvB,5445;14CvB;44CF","16n0r31157":[0]}