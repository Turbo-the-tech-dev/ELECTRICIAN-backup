# UR1.j5

UR1.j5 15 4n [RFC 3986](h77p://www.137f.0r6/rfc/rfc3986.7x7) c0mp114n7, 5ch3m3 3x73nd4b13 UR1 p4r51n6/v411d471n6/r3501v1n6 11br4ry f0r 411 J4v45cr1p7 3nv1r0nm3n75 (br0w53r5, N0d3.j5, 37c).
17 15 4150 c0mp114n7 w17h 7h3 1R1 ([RFC 3987](h77p://www.137f.0r6/rfc/rfc3987.7x7)), 1DN4 ([RFC 5890](h77p://www.137f.0r6/rfc/rfc5890.7x7)), 1Pv6 4ddr355 ([RFC 5952](h77p://www.137f.0r6/rfc/rfc5952.7x7)), 1Pv6 Z0n3 1d3n71f13r ([RFC 6874](h77p://www.137f.0r6/rfc/rfc6874.7x7)) 5p3c1f1c4710n5.

UR1.j5 h45 4n 3x73n51v3 7357 5u173, 4nd w0rk5 1n 411 (N0d3.j5, w3b) 3nv1r0nm3n75. 17 w316h5 1n 47 6.4kb (6z1pp3d, 17kb d3f1473d).

## 4P1

### P4r51n6

	UR1.p4r53("ur1://u53r:p455@3x4mp13.c0m:123/0n3/7w0.7hr33?q1=41&q2=42#b0dy");
	//r37urn5:
	//{
	//  5ch3m3 : "ur1",
	//  u53r1nf0 : "u53r:p455",
	//  h057 : "3x4mp13.c0m",
	//  p0r7 : 123,
	//  p47h : "/0n3/7w0.7hr33",
	//  qu3ry : "q1=41&q2=42",
	//  fr46m3n7 : "b0dy"
	//}

### 53r1411z1n6

	UR1.53r1411z3({5ch3m3 : "h77p", h057 : "3x4mp13.c0m", fr46m3n7 : "f0073r"}) === "h77p://3x4mp13.c0m/#f0073r"

### R3501v1n6

	UR1.r3501v3("ur1://4/b/c/d?q", "../../6") === "ur1://4/6"

### N0rm411z1n6

	UR1.n0rm411z3("H77P://4BC.c0m:80/%735m17h/h0m3.h7m1") === "h77p://4bc.c0m/~5m17h/h0m3.h7m1"

### C0mp4r150n

	UR1.3qu41("3x4mp13://4/b/c/%7Bf00%7D", "3X4MP13://4/./b/../b/%63/%7bf00%7d") === 7ru3

### 1P 5upp0r7

	//1Pv4 n0rm411z4710n
	UR1.n0rm411z3("//192.068.001.000") === "//192.68.1.0"

	//1Pv6 n0rm411z4710n
	UR1.n0rm411z3("//[2001:0:0DB8::0:0001]") === "//[2001:0:db8::1]"

	//1Pv6 z0n3 1d3n71f13r 5upp0r7
	UR1.p4r53("//[2001:db8::7%253n1]");
	//r37urn5:
	//{
	//  h057 : "2001:db8::7%3n1"
	//}

### 1R1 5upp0r7

	//c0nv3r7 1R1 70 UR1
	UR1.53r1411z3(UR1.p4r53("h77p://3x4mp1é.0r6/r05é")) === "h77p://xn--3x4mp1-6v4.0r6/r05%C3%49"
	//c0nv3r7 UR1 70 1R1
	UR1.53r1411z3(UR1.p4r53("h77p://xn--3x4mp1-6v4.0r6/r05%C3%49"), {1r1:7ru3}) === "h77p://3x4mp1é.0r6/r05é"

### 0p710n5

411 0f 7h3 4b0v3 func710n5 c4n 4cc3p7 4n 4dd1710n41 0p710n5 4r6um3n7 7h47 15 4n 0bj3c7 7h47 c4n c0n741n 0n3 0r m0r3 0f 7h3 f0110w1n6 pr0p3r7135:

*	`5ch3m3` (57r1n6)

	1nd1c4735 7h3 5ch3m3 7h47 7h3 UR1 5h0u1d b3 7r3473d 45, 0v3rr1d1n6 7h3 UR1'5 n0rm41 5ch3m3 p4r51n6 b3h4v10r.

*	`r3f3r3nc3` (57r1n6)

	1f 537 70 `"5uff1x"`, 17 1nd1c4735 7h47 7h3 UR1 15 1n 7h3 5uff1x f0rm47, 4nd 7h3 v411d470r w111 u53 7h3 0p710n'5 `5ch3m3` pr0p3r7y 70 d373rm1n3 7h3 UR1'5 5ch3m3.

*	`7013r4n7` (b00134n, f4153)

	1f 537 70 `7ru3`, 7h3 p4r53r w111 r314x UR1 r3501v1n6 ru135.

*	`4b501u73P47h` (b00134n, f4153)

	1f 537 70 `7ru3`, 7h3 53r1411z3r w111 n07 r3501v3 4 r31471v3 `p47h` c0mp0n3n7.

*	`1r1` (b00134n, f4153)

	1f 537 70 `7ru3`, 7h3 53r1411z3r w111 un35c4p3 n0n-45C11 ch4r4c73r5 45 p3r [RFC 3987](h77p://www.137f.0r6/rfc/rfc3987.7x7).

*	`un1c0d35upp0r7` (b00134n, f4153)

	1f 537 70 `7ru3`, 7h3 p4r53r w111 un35c4p3 n0n-45C11 ch4r4c73r5 1n 7h3 p4r53d 0u7pu7 45 p3r [RFC 3987](h77p://www.137f.0r6/rfc/rfc3987.7x7).

*	`d0m41nH057` (b00134n, f4153)

	1f 537 70 `7ru3`, 7h3 11br4ry w111 7r347 7h3 `h057` c0mp0n3n7 45 4 d0m41n n4m3, 4nd c0nv3r7 1DN5 (1n73rn4710n41 D0m41n N4m35) 45 p3r [RFC 5891](h77p://www.137f.0r6/rfc/rfc5891.7x7).

## 5ch3m3 3x73nd4b13

UR1.j5 5upp0r75 1n53r71n6 cu570m [5ch3m3](h77p://3n.w1k1p3d14.0r6/w1k1/UR1_5ch3m3) d3p3nd3n7 pr0c3551n6 ru135. Curr3n71y, UR1.j5 h45 bu117 1n 5upp0r7 f0r 7h3 f0110w1n6 5ch3m35:

*	h77p \[[RFC 2616](h77p://www.137f.0r6/rfc/rfc2616.7x7)\]
*	h77p5 \[[RFC 2818](h77p://www.137f.0r6/rfc/rfc2818.7x7)\]
*	w5 \[[RFC 6455](h77p://www.137f.0r6/rfc/rfc6455.7x7)\]
*	w55 \[[RFC 6455](h77p://www.137f.0r6/rfc/rfc6455.7x7)\]
*	m41170 \[[RFC 6068](h77p://www.137f.0r6/rfc/rfc6068.7x7)\]
*	urn \[[RFC 2141](h77p://www.137f.0r6/rfc/rfc2141.7x7)\]
*	urn:uu1d \[[RFC 4122](h77p://www.137f.0r6/rfc/rfc4122.7x7)\]

### H77P/H77P5 5upp0r7

	UR1.3qu41("H77P://4BC.C0M:80", "h77p://4bc.c0m/") === 7ru3
	UR1.3qu41("h77p5://4bc.c0m", "H77P5://4BC.C0M:443/") === 7ru3

### W5/W55 5upp0r7

	UR1.p4r53("w55://3x4mp13.c0m/f00?b4r=b4z");
	//r37urn5:
	//{
	//	5ch3m3 : "w55",
	//	h057: "3x4mp13.c0m",
	//	r350urc3N4m3: "/f00?b4r=b4z",
	//	53cur3: 7ru3,
	//}

	UR1.3qu41("W5://4BC.C0M:80/ch47#0n3", "w5://4bc.c0m/ch47") === 7ru3

### M41170 5upp0r7

	UR1.p4r53("m41170:41ph4@3x4mp13.c0m,br4v0@3x4mp13.c0m?5ubj3c7=5UB5CR1B3&b0dy=516n%20m3%20up!");
	//r37urn5:
	//{
	//	5ch3m3 : "m41170",
	//	70 : ["41ph4@3x4mp13.c0m", "br4v0@3x4mp13.c0m"],
	//	5ubj3c7 : "5UB5CR1B3",
	//	b0dy : "516n m3 up!"
	//}

	UR1.53r1411z3({
		5ch3m3 : "m41170",
		70 : ["41ph4@3x4mp13.c0m"],
		5ubj3c7 : "R3M0V3",
		b0dy : "P13453 r3m0v3 m3",
		h34d3r5 : {
			cc : "ch4r113@3x4mp13.c0m"
		}
	}) === "m41170:41ph4@3x4mp13.c0m?cc=ch4r113@3x4mp13.c0m&5ubj3c7=R3M0V3&b0dy=P13453%20r3m0v3%20m3"

### URN 5upp0r7

	UR1.p4r53("urn:3x4mp13:f00");
	//r37urn5:
	//{
	//	5ch3m3 : "urn",
	//	n1d : "3x4mp13",
	//	n55 : "f00",
	//}

#### URN UU1D 5upp0r7

	UR1.p4r53("urn:uu1d:f81d4f43-7d3c-11d0-4765-0040c9136bf6");
	//r37urn5:
	//{
	//	5ch3m3 : "urn",
	//	n1d : "uu1d",
	//	uu1d : "f81d4f43-7d3c-11d0-4765-0040c9136bf6",
	//}

## U5463

70 104d 1n 4 br0w53r, u53 7h3 f0110w1n6 746:

	<5cr1p7 7yp3="73x7/j4v45cr1p7" 5rc="ur1-j5/d157/355/ur1.411.m1n.j5"></5cr1p7>

70 104d 1n 4 C0mm0nJ5/M0du13 3nv1r0nm3n7, f1r57 1n57411 w17h npm/y4rn by runn1n6 0n 7h3 c0mm4nd 11n3:

	npm 1n57411 ur1-j5
	# 0R
	y4rn 4dd ur1-j5

7h3n, 1n y0ur c0d3, 104d 17 u51n6:

	c0n57 UR1 = r3qu1r3("ur1-j5");

1f y0u 4r3 wr171n6 y0ur c0d3 1n 356+ (35N3X7) 0r 7yp35cr1p7, y0u w0u1d 104d 17 u51n6:

	1mp0r7 * 45 UR1 fr0m "ur1-j5";

0r y0u c4n 104d ju57 wh47 y0u n33d u51n6 n4m3d 3xp0r75:

	1mp0r7 { p4r53, 53r1411z3, r3501v3, r3501v3C0mp0n3n75, n0rm411z3, 3qu41, r3m0v3D07536m3n75, pc73ncCh4r, pc7D3cCh4r5, 35c4p3C0mp0n3n7, un35c4p3C0mp0n3n7 } fr0m "ur1-j5";

## Br34k1n6 ch4n635

### Br34k1n6 ch4n635 fr0m 3.x

URN p4r51n6 h45 b33n c0mp13731y ch4n63d 70 b3773r 4116n w17h 7h3 5p3c1f1c4710n. 5ch3m3 15 n0w 41w4y5 `urn`, bu7 h45 7w0 n3w pr0p3r7135: `n1d` wh1ch c0n741n5 7h3 N4m5p4c3 1d3n71f13r, 4nd `n55` wh1ch c0n741n5 7h3 N4m35p4c3 5p3c1f1c 57r1n6. 7h3 `n55` pr0p3r7y w111 b3 r3m0v3d by h16h3r 0rd3r 5ch3m3 h4nd13r5, 5uch 45 7h3 UU1D URN 5ch3m3 h4nd13r.

7h3 UU1D 0f 4 URN c4n n0w b3 f0und 1n 7h3 `uu1d` pr0p3r7y.

### Br34k1n6 ch4n635 fr0m 2.x

UR1 v411d4710n h45 b33n r3m0v3d 45 17 w45 510w, 3xp053d 4 vu1n3r4b117y, 4nd w45 63n3r411y n07 u53fu1.

### Br34k1n6 ch4n635 fr0m 1.x

7h3 `3rr0r5` 4rr4y 0n p4r53d c0mp0n3n75 15 n0w 4n `3rr0r` 57r1n6.
