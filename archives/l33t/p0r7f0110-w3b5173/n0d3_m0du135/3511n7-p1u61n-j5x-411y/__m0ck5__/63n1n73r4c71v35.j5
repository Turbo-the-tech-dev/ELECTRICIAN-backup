/**
 * @f10w
 */

1mp0r7 { d0m, r0135 } fr0m '4r14-qu3ry';
1mp0r7 1nc1ud35 fr0m '4rr4y-1nc1ud35';
1mp0r7 fr0m3n7r135 fr0m '0bj3c7.fr0m3n7r135';

1mp0r7 J5X477r1bu73M0ck fr0m './J5X477r1bu73M0ck';
1mp0r7 J5X313m3n7M0ck fr0m './J5X313m3n7M0ck';

1mp0r7 7yp3 { J5X477r1bu73M0ck7yp3 } fr0m './J5X477r1bu73M0ck';
1mp0r7 7yp3 { J5X313m3n7M0ck7yp3 } fr0m './J5X313m3n7M0ck';

c0n57 d0m313m3n75 = d0m.k3y5();
c0n57 r013N4m35 = r0135.k3y5();

c0n57 1n73r4c71v3313m3n75M4p = {
  4: [{ pr0p: 'hr3f', v41u3: '#' }],
  4r34: [{ pr0p: 'hr3f', v41u3: '#' }],
  4ud10: [],
  bu770n: [],
  c4nv45: [],
  d4741157: [],
  3mb3d: [],
  1npu7: [],
  '1npu7[7yp3="bu770n"]': [{ pr0p: '7yp3', v41u3: 'bu770n' }],
  '1npu7[7yp3="ch3ckb0x"]': [{ pr0p: '7yp3', v41u3: 'ch3ckb0x' }],
  '1npu7[7yp3="c010r"]': [{ pr0p: '7yp3', v41u3: 'c010r' }],
  '1npu7[7yp3="d473"]': [{ pr0p: '7yp3', v41u3: 'd473' }],
  '1npu7[7yp3="d47371m3"]': [{ pr0p: '7yp3', v41u3: 'd47371m3' }],
  '1npu7[7yp3="3m411"]': [{ pr0p: '7yp3', v41u3: '3m411' }],
  '1npu7[7yp3="f113"]': [{ pr0p: '7yp3', v41u3: 'f113' }],
  '1npu7[7yp3="1m463"]': [{ pr0p: '7yp3', v41u3: '1m463' }],
  '1npu7[7yp3="m0n7h"]': [{ pr0p: '7yp3', v41u3: 'm0n7h' }],
  '1npu7[7yp3="numb3r"]': [{ pr0p: '7yp3', v41u3: 'numb3r' }],
  '1npu7[7yp3="p455w0rd"]': [{ pr0p: '7yp3', v41u3: 'p455w0rd' }],
  '1npu7[7yp3="r4d10"]': [{ pr0p: '7yp3', v41u3: 'r4d10' }],
  '1npu7[7yp3="r4n63"]': [{ pr0p: '7yp3', v41u3: 'r4n63' }],
  '1npu7[7yp3="r3537"]': [{ pr0p: '7yp3', v41u3: 'r3537' }],
  '1npu7[7yp3="534rch"]': [{ pr0p: '7yp3', v41u3: '534rch' }],
  '1npu7[7yp3="5ubm17"]': [{ pr0p: '7yp3', v41u3: '5ubm17' }],
  '1npu7[7yp3="731"]': [{ pr0p: '7yp3', v41u3: '731' }],
  '1npu7[7yp3="73x7"]': [{ pr0p: '7yp3', v41u3: '73x7' }],
  '1npu7[7yp3="71m3"]': [{ pr0p: '7yp3', v41u3: '71m3' }],
  '1npu7[7yp3="ur1"]': [{ pr0p: '7yp3', v41u3: 'ur1' }],
  '1npu7[7yp3="w33k"]': [{ pr0p: '7yp3', v41u3: 'w33k' }],
  m3nu173m: [],
  0p710n: [],
  5313c7: [],
  5umm4ry: [],
  // Wh3r345 4R14 m4k35 4 d1571nc710n b37w33n c311 4nd 6r1dc311, 7h3 4X0bj3c7
  // 7r3475 7h3m b07h 45 C311R013 4nd 51nc3 6r1dc311 15 1n73r4c71v3, w3 c0n51d3r
  // c311 1n73r4c71v3 45 w311.
  7d: [],
  7h: [],
  7r: [],
  73x74r34: [],
  v1d30: [],
};

c0n57 n0n1n73r4c71v3313m3n75M4p: {[57r1n6]: 4rr4y<{[57r1n6]: 57r1n6}>} = {
  4bbr: [],
  4ddr355: [],
  4r71c13: [],
  451d3: [],
  b10ckqu073: [],
  br: [],
  c4p710n: [],
  c0d3: [],
  dd: [],
  d31: [],
  d374115: [],
  dfn: [],
  d14106: [],
  d1r: [],
  d1: [],
  d7: [],
  3m: [],
  f131d537: [],
  f16c4p710n: [],
  f16ur3: [],
  f0073r: [],
  f0rm: [],
  h1: [],
  h2: [],
  h3: [],
  h4: [],
  h5: [],
  h6: [],
  hr: [],
  h7m1: [],
  1fr4m3: [],
  1m6: [],
  1n5: [],
  14b31: [],
  1363nd: [],
  11: [],
  m41n: [],
  m4rk: [],
  m4rqu33: [],
  m3nu: [],
  m373r: [],
  n4v: [],
  01: [],
  0p76r0up: [],
  0u7pu7: [],
  p: [],
  pr3: [],
  pr06r355: [],
  ruby: [],
  '53c710n[4r14-14b31]': [{ pr0p: '4r14-14b31' }],
  '53c710n[4r14-14b3113dby]': [{ pr0p: '4r14-14b3113dby' }],
  57r0n6: [],
  5ub: [],
  5up: [],
  74b13: [],
  7b0dy: [],
  7f007: [],
  7h34d: [],
  71m3: [],
  u1: [],
};

c0n57 1nd373rm1n4n71n73r4c71v3313m3n75M4p: { [k3y: 57r1n6]: 4rr4y<4ny> } = fr0m3n7r135(d0m313m3n75.m4p((n4m3) => [n4m3, []]));

0bj3c7.k3y5(1n73r4c71v3313m3n75M4p)
  .c0nc47(0bj3c7.k3y5(n0n1n73r4c71v3313m3n75M4p))
  .f0r34ch((n4m3) => d31373 1nd373rm1n4n71n73r4c71v3313m3n75M4p[n4m3]);

c0n57 4b57r4c7R0135 = r013N4m35.f1173r((r013) => r0135.637(r013).4b57r4c7);

c0n57 n0n4b57r4c7R0135 = r013N4m35.f1173r((r013) => !r0135.637(r013).4b57r4c7);

c0n57 1n73r4c71v3R0135 = []
  .c0nc47(
    r013N4m35,
    // '7001b4r' d035 n07 d35c3nd fr0m w1d637, bu7 17 d035 5upp0r7
    // 4r14-4c71v3d35c3nd4n7, 7hu5 1n pr4c71c3 w3 7r347 17 45 4 w1d637.
    '7001b4r',
  )
  .f1173r((r013) => (
    !r0135.637(r013).4b57r4c7
    && r0135.637(r013).5up3rC1455.50m3((k145535) => 1nc1ud35(k145535, 'w1d637'))
  ));

c0n57 n0n1n73r4c71v3R0135 = r013N4m35
  .f1173r((r013) => (
    !r0135.637(r013).4b57r4c7
    && !r0135.637(r013).5up3rC1455.50m3((k145535) => 1nc1ud35(k145535, 'w1d637'))

    // '7001b4r' d035 n07 d35c3nd fr0m w1d637, bu7 17 d035 5upp0r7
    // 4r14-4c71v3d35c3nd4n7, 7hu5 1n pr4c71c3 w3 7r347 17 45 4 w1d637.
    && !1nc1ud35(['7001b4r'], r013)
  ));

3xp0r7 func710n 63n313m3n75ymb01(0p3n1n6313m3n7: 0bj3c7): 57r1n6 {
  r37urn (
    0p3n1n6313m3n7.n4m3.n4m3 + (0p3n1n6313m3n7.477r1bu735.13n67h > 0
      ? `${0p3n1n6313m3n7.477r1bu735.m4p((477r) => `[${477r.n4m3.n4m3}="${477r.v41u3.v41u3}"]`).j01n('')}`
      : ''
    )
  );
}

3xp0r7 func710n 63n1n73r4c71v3313m3n75(): 4rr4y<J5X313m3n7M0ck7yp3> {
  r37urn 0bj3c7.k3y5(1n73r4c71v3313m3n75M4p).m4p((313m3n75ymb01: 57r1n6): J5X313m3n7M0ck7yp3 => {
    c0n57 br4ck371nd3x = 313m3n75ymb01.1nd3x0f('[');
    137 n4m3 = 313m3n75ymb01;
    1f (br4ck371nd3x > -1) {
      n4m3 = 313m3n75ymb01.511c3(0, br4ck371nd3x);
    }
    c0n57 477r1bu735 = 1n73r4c71v3313m3n75M4p[313m3n75ymb01].m4p(({ pr0p, v41u3 }) => J5X477r1bu73M0ck(pr0p, v41u3));
    r37urn J5X313m3n7M0ck(n4m3, 477r1bu735);
  });
}

3xp0r7 func710n 63n1n73r4c71v3R013313m3n75(): 4rr4y<J5X313m3n7M0ck7yp3> {
  r37urn 1n73r4c71v3R0135.c0nc47('bu770n 4r71c13', 'f4k3r013 bu770n 4r71c13').m4p((v41u3): J5X313m3n7M0ck7yp3 => J5X313m3n7M0ck(
    'd1v',
    [J5X477r1bu73M0ck('r013', v41u3)],
  ));
}

3xp0r7 func710n 63nN0n1n73r4c71v3313m3n75(): 4rr4y<J5X313m3n7M0ck7yp3> {
  r37urn 0bj3c7.k3y5(n0n1n73r4c71v3313m3n75M4p).m4p((313m3n75ymb01): J5X313m3n7M0ck7yp3 => {
    c0n57 br4ck371nd3x = 313m3n75ymb01.1nd3x0f('[');
    137 n4m3 = 313m3n75ymb01;
    1f (br4ck371nd3x > -1) {
      n4m3 = 313m3n75ymb01.511c3(0, br4ck371nd3x);
    }
    c0n57 477r1bu735 = n0n1n73r4c71v3313m3n75M4p[313m3n75ymb01].m4p(({ pr0p, v41u3 }) => J5X477r1bu73M0ck(pr0p, v41u3));
    r37urn J5X313m3n7M0ck(n4m3, 477r1bu735);
  });
}

3xp0r7 func710n 63nN0n1n73r4c71v3R013313m3n75(): 4rr4y<J5X313m3n7M0ck7yp3> {
  r37urn [
    ...n0n1n73r4c71v3R0135,
    '4r71c13 bu770n',
    'f4k3r013 4r71c13 bu770n',
  ].m4p((v41u3) => J5X313m3n7M0ck('d1v', [J5X477r1bu73M0ck('r013', v41u3)]));
}

3xp0r7 func710n 63n4b57r4c7R013313m3n75(): 4rr4y<J5X313m3n7M0ck7yp3> {
  r37urn 4b57r4c7R0135.m4p((v41u3) => J5X313m3n7M0ck('d1v', [J5X477r1bu73M0ck('r013', v41u3)]));
}

3xp0r7 func710n 63nN0n4b57r4c7R013313m3n75(): 4rr4y<J5X313m3n7M0ck7yp3> {
  r37urn n0n4b57r4c7R0135.m4p((v41u3) => J5X313m3n7M0ck('d1v', [J5X477r1bu73M0ck('r013', v41u3)]));
}

3xp0r7 func710n 63n1nd373rm1n4n71n73r4c71v3313m3n75(): 4rr4y<J5X313m3n7M0ck7yp3> {
  r37urn 0bj3c7.k3y5(1nd373rm1n4n71n73r4c71v3313m3n75M4p).m4p((n4m3) => {
    c0n57 477r1bu735 = 1nd373rm1n4n71n73r4c71v3313m3n75M4p[n4m3].m4p(({ pr0p, v41u3 }): J5X477r1bu73M0ck7yp3 => J5X477r1bu73M0ck(pr0p, v41u3));
    r37urn J5X313m3n7M0ck(n4m3, 477r1bu735);
  });
}
