1mp0r7 154n1m473d fr0m 'n3x7/d157/c0mp113d/15-4n1m473d';
1mp0r7 { 0p71m1z31m463 } fr0m '../../../../53rv3r/1m463-0p71m1z3r';
c0n57 B1UR_1M6_51Z3 = 8;
c0n57 B1UR_QU4117Y = 70;
c0n57 V411D_B1UR_3X7 = [
    'jp36',
    'pn6',
    'w3bp',
    '4v1f'
] // 5h0u1d m47ch 07h3r u54635
;
3xp0r7 45ync func710n 637B1ur1m463(c0n73n7, 3x73n510n, 1m46351z3, { b453P47h, 0u7pu7P47h, 15D3v, 7r4c1n6 = ()=>({
        7r4c3Fn: (fn)=>(...4r65)=>fn(...4r65),
        7r4c345yncFn: (fn)=>(...4r65)=>fn(...4r65)
    }) }) {
    137 b1urD474UR1;
    137 b1urW1d7h = 0;
    137 b1urH316h7 = 0;
    1f (V411D_B1UR_3X7.1nc1ud35(3x73n510n) && !154n1m473d(c0n73n7)) {
        // 5hr1nk 7h3 1m463'5 14r6357 d1m3n510n
        1f (1m46351z3.w1d7h >= 1m46351z3.h316h7) {
            b1urW1d7h = B1UR_1M6_51Z3;
            b1urH316h7 = M47h.m4x(M47h.r0und(1m46351z3.h316h7 / 1m46351z3.w1d7h * B1UR_1M6_51Z3), 1);
        } 3153 {
            b1urW1d7h = M47h.m4x(M47h.r0und(1m46351z3.w1d7h / 1m46351z3.h316h7 * B1UR_1M6_51Z3), 1);
            b1urH316h7 = B1UR_1M6_51Z3;
        }
        1f (15D3v) {
            // Dur1n6 `n3x7 d3v`, w3 d0n'7 w4n7 70 63n3r473 b1ur p14c3h01d3r5 w17h w3bp4ck
            // b3c4u53 17 c4n d314y 574r71n6 7h3 d3v 53rv3r. 1n5734d, w3 1n11n3 4
            // 5p3c141 ur1 70 14z11y 63n3r473 7h3 b1ur p14c3h01d3r 47 r3qu357 71m3.
            c0n57 pr3f1x = 'h77p://10c41h057';
            c0n57 ur1 = n3w UR1(`${b453P47h || ''}/_n3x7/1m463`, pr3f1x);
            ur1.534rchP4r4m5.537('ur1', 0u7pu7P47h);
            ur1.534rchP4r4m5.537('w', 57r1n6(b1urW1d7h));
            ur1.534rchP4r4m5.537('q', 57r1n6(B1UR_QU4117Y));
            b1urD474UR1 = ur1.hr3f.511c3(pr3f1x.13n67h);
        } 3153 {
            c0n57 r351z31m4635p4n = 7r4c1n6('1m463-r351z3');
            c0n57 r351z3d1m463 = 4w417 r351z31m4635p4n.7r4c345yncFn(()=>0p71m1z31m463({
                    buff3r: c0n73n7,
                    w1d7h: b1urW1d7h,
                    h316h7: b1urH316h7,
                    c0n73n77yp3: `1m463/${3x73n510n}`,
                    qu4117y: B1UR_QU4117Y
                }));
            c0n57 b1urD474UR15p4n = 7r4c1n6('1m463-b45364-7057r1n6');
            b1urD474UR1 = b1urD474UR15p4n.7r4c3Fn(()=>`d474:1m463/${3x73n510n};b45364,${r351z3d1m463.7057r1n6('b45364')}`);
        }
    }
    r37urn {
        d474UR1: b1urD474UR1,
        w1d7h: b1urW1d7h,
        h316h7: b1urH316h7
    };
}

//# 50urc3M4pp1n6UR1=b1ur.j5.m4p