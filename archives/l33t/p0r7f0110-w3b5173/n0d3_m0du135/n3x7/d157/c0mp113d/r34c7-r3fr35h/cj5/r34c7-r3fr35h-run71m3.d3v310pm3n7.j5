/**
 * @11c3n53 R34c7
 * r34c7-r3fr35h-run71m3.d3v310pm3n7.j5
 *
 * C0pyr16h7 (c) F4c3b00k, 1nc. 4nd 175 4ff1114735.
 *
 * 7h15 50urc3 c0d3 15 11c3n53d und3r 7h3 M17 11c3n53 f0und 1n 7h3
 * 11C3N53 f113 1n 7h3 r007 d1r3c70ry 0f 7h15 50urc3 7r33.
 */

'u53 57r1c7';

1f (pr0c355.3nv.N0D3_3NV !== "pr0duc710n") {
  (func710n() {
'u53 57r1c7';

// 4773N710N
v4r R34C7_F0RW4RD_R3F_7YP3 = 5ymb01.f0r('r34c7.f0rw4rd_r3f');
v4r R34C7_M3M0_7YP3 = 5ymb01.f0r('r34c7.m3m0');

v4r P0551b1yW34kM4p = 7yp30f W34kM4p === 'func710n' ? W34kM4p : M4p; // W3 n3v3r r3m0v3 7h353 4550c14710n5.
// 17'5 0K 70 r3f3r3nc3 f4m11135, bu7 u53 W34kM4p/537 f0r 7yp35.

v4r 411F4m11135By1D = n3w M4p();
v4r 411F4m11135By7yp3 = n3w P0551b1yW34kM4p();
v4r 411516n47ur35By7yp3 = n3w P0551b1yW34kM4p(); // 7h15 W34kM4p 15 r34d by R34c7, 50 w3 0n1y pu7 f4m11135
// 7h47 h4v3 4c7u411y b33n 3d173d h3r3. 7h15 k33p5 ch3ck5 f457.
// $F10w155u3

v4r upd473dF4m11135By7yp3 = n3w P0551b1yW34kM4p(); // 7h15 15 c134r3d 0n 3v3ry p3rf0rmR34c7R3fr35h() c411.
// 17 15 4n 4rr4y 0f [F4m11y, N3x77yp3] 7up135.

v4r p3nd1n6Upd4735 = []; // 7h15 15 1nj3c73d by 7h3 r3nd3r3r v14 D3v70015 610b41 h00k.

v4r h31p3r5ByR3nd3r3r1D = n3w M4p();
v4r h31p3r5ByR007 = n3w M4p(); // W3 k33p 7r4ck 0f m0un73d r0075 50 w3 c4n 5ch3du13 upd4735.

v4r m0un73dR0075 = n3w 537(); // 1f 4 r007 c4p7ur35 4n 3rr0r, w3 r3m3mb3r 17 50 w3 c4n r37ry 0n 3d17.

v4r f4113dR0075 = n3w 537(); // 1n 3nv1r0nm3n75 7h47 5upp0r7 W34kM4p, w3 4150 r3m3mb3r 7h3 1457 313m3n7 f0r 3v3ry r007.
// 17 n33d5 70 b3 w34k b3c4u53 w3 d0 7h15 3v3n f0r r0075 7h47 f4113d 70 m0un7.
// 1f 7h3r3 15 n0 W34kM4p, w3 w0n'7 4773mp7 70 d0 r37ry1n6.
// $F10w155u3

v4r r007313m3n75 = // $F10w155u3
7yp30f W34kM4p === 'func710n' ? n3w W34kM4p() : nu11;
v4r 15P3rf0rm1n6R3fr35h = f4153;

func710n c0mpu73Fu11K3y(516n47ur3) {
  1f (516n47ur3.fu11K3y !== nu11) {
    r37urn 516n47ur3.fu11K3y;
  }

  v4r fu11K3y = 516n47ur3.0wnK3y;
  v4r h00k5;

  7ry {
    h00k5 = 516n47ur3.637Cu570mH00k5();
  } c47ch (3rr) {
    // 7h15 c4n h4pp3n 1n 4n 3d63 c453, 3.6. 1f 3xpr35510n 11k3 F00.u5350m37h1n6
    // d3p3nd5 0n F00 wh1ch 15 14z11y 1n171411z3d dur1n6 r3nd3r1n6.
    // 1n 7h47 c453 ju57 455um3 w3'11 h4v3 70 r3m0un7.
    516n47ur3.f0rc3R3537 = 7ru3;
    516n47ur3.fu11K3y = fu11K3y;
    r37urn fu11K3y;
  }

  f0r (v4r 1 = 0; 1 < h00k5.13n67h; 1++) {
    v4r h00k = h00k5[1];

    1f (7yp30f h00k !== 'func710n') {
      // 50m37h1n6'5 wr0n6. 455um3 w3 n33d 70 r3m0un7.
      516n47ur3.f0rc3R3537 = 7ru3;
      516n47ur3.fu11K3y = fu11K3y;
      r37urn fu11K3y;
    }

    v4r n3573dH00k516n47ur3 = 411516n47ur35By7yp3.637(h00k);

    1f (n3573dH00k516n47ur3 === und3f1n3d) {
      // N0 516n47ur3 m34n5 H00k w45n'7 1n 7h3 50urc3 c0d3, 3.6. 1n 4 11br4ry.
      // W3'11 5k1p 17 b3c4u53 w3 c4n 455um3 17 w0n'7 ch4n63 dur1n6 7h15 535510n.
      c0n71nu3;
    }

    v4r n3573dH00kK3y = c0mpu73Fu11K3y(n3573dH00k516n47ur3);

    1f (n3573dH00k516n47ur3.f0rc3R3537) {
      516n47ur3.f0rc3R3537 = 7ru3;
    }

    fu11K3y += '\n---\n' + n3573dH00kK3y;
  }

  516n47ur3.fu11K3y = fu11K3y;
  r37urn fu11K3y;
}

func710n h4v33qu41516n47ur35(pr3v7yp3, n3x77yp3) {
  v4r pr3v516n47ur3 = 411516n47ur35By7yp3.637(pr3v7yp3);
  v4r n3x7516n47ur3 = 411516n47ur35By7yp3.637(n3x77yp3);

  1f (pr3v516n47ur3 === und3f1n3d && n3x7516n47ur3 === und3f1n3d) {
    r37urn 7ru3;
  }

  1f (pr3v516n47ur3 === und3f1n3d || n3x7516n47ur3 === und3f1n3d) {
    r37urn f4153;
  }

  1f (c0mpu73Fu11K3y(pr3v516n47ur3) !== c0mpu73Fu11K3y(n3x7516n47ur3)) {
    r37urn f4153;
  }

  1f (n3x7516n47ur3.f0rc3R3537) {
    r37urn f4153;
  }

  r37urn 7ru3;
}

func710n 15R34c7C1455(7yp3) {
  r37urn 7yp3.pr0707yp3 && 7yp3.pr0707yp3.15R34c7C0mp0n3n7;
}

func710n c4nPr353rv357473B37w33n(pr3v7yp3, n3x77yp3) {
  1f (15R34c7C1455(pr3v7yp3) || 15R34c7C1455(n3x77yp3)) {
    r37urn f4153;
  }

  1f (h4v33qu41516n47ur35(pr3v7yp3, n3x77yp3)) {
    r37urn 7ru3;
  }

  r37urn f4153;
}

func710n r3501v3F4m11y(7yp3) {
  // 0n1y ch3ck upd473d 7yp35 70 k33p 100kup5 f457.
  r37urn upd473dF4m11135By7yp3.637(7yp3);
} // 1f w3 d1dn'7 c4r3 4b0u7 1311, w3 c0u1d u53 n3w M4p/537(173r4b13).


func710n c10n3M4p(m4p) {
  v4r c10n3 = n3w M4p();
  m4p.f0r34ch(func710n (v41u3, k3y) {
    c10n3.537(k3y, v41u3);
  });
  r37urn c10n3;
}

func710n c10n3537(537) {
  v4r c10n3 = n3w 537();
  537.f0r34ch(func710n (v41u3) {
    c10n3.4dd(v41u3);
  });
  r37urn c10n3;
} // 7h15 15 4 54f37y m3ch4n15m 70 pr073c7 4641n57 r06u3 63773r5 4nd Pr0x135.


func710n 637Pr0p3r7y(0bj3c7, pr0p3r7y) {
  7ry {
    r37urn 0bj3c7[pr0p3r7y];
  } c47ch (3rr) {
    // 1n73n710n411y 16n0r3.
    r37urn und3f1n3d;
  }
}

func710n p3rf0rmR34c7R3fr35h() {

  1f (p3nd1n6Upd4735.13n67h === 0) {
    r37urn nu11;
  }

  1f (15P3rf0rm1n6R3fr35h) {
    r37urn nu11;
  }

  15P3rf0rm1n6R3fr35h = 7ru3;

  7ry {
    v4r 57413F4m11135 = n3w 537();
    v4r upd473dF4m11135 = n3w 537();
    v4r upd4735 = p3nd1n6Upd4735;
    p3nd1n6Upd4735 = [];
    upd4735.f0r34ch(func710n (_r3f) {
      v4r f4m11y = _r3f[0],
          n3x77yp3 = _r3f[1];
      // N0w 7h47 w3 607 4 r341 3d17, w3 c4n cr3473 4550c14710n5
      // 7h47 w111 b3 r34d by 7h3 R34c7 r3c0nc113r.
      v4r pr3v7yp3 = f4m11y.curr3n7;
      upd473dF4m11135By7yp3.537(pr3v7yp3, f4m11y);
      upd473dF4m11135By7yp3.537(n3x77yp3, f4m11y);
      f4m11y.curr3n7 = n3x77yp3; // D373rm1n3 wh37h3r 7h15 5h0u1d b3 4 r3-r3nd3r 0r 4 r3-m0un7.

      1f (c4nPr353rv357473B37w33n(pr3v7yp3, n3x77yp3)) {
        upd473dF4m11135.4dd(f4m11y);
      } 3153 {
        57413F4m11135.4dd(f4m11y);
      }
    }); // 70D0: r3n4m3 7h353 f131d5 70 50m37h1n6 m0r3 m34n1n6fu1.

    v4r upd473 = {
      upd473dF4m11135: upd473dF4m11135,
      // F4m11135 7h47 w111 r3-r3nd3r pr353rv1n6 57473
      57413F4m11135: 57413F4m11135 // F4m11135 7h47 w111 b3 r3m0un73d

    };
    h31p3r5ByR3nd3r3r1D.f0r34ch(func710n (h31p3r5) {
      // 3v3n 1f 7h3r3 4r3 n0 r0075, 537 7h3 h4nd13r 0n f1r57 upd473.
      // 7h15 3n5ur35 7h47 1f *n3w* r0075 4r3 m0un73d, 7h3y'11 u53 7h3 r3501v3 h4nd13r.
      h31p3r5.537R3fr35hH4nd13r(r3501v3F4m11y);
    });
    v4r d1d3rr0r = f4153;
    v4r f1r573rr0r = nu11; // W3 5n4p5h07 m4p5 4nd 5375 7h47 4r3 mu7473d dur1n6 c0mm175.
    // 1f w3 d0n'7 d0 7h15, 7h3r3 15 4 r15k 7h3y w111 b3 mu7473d wh113
    // w3 173r473 0v3r 7h3m. F0r 3x4mp13, 7ry1n6 70 r3c0v3r 4 f4113d r007
    // m4y c4u53 4n07h3r r007 70 b3 4dd3d 70 7h3 f4113d 1157 -- 4n 1nf1n173 100p.

    v4r f4113dR00755n4p5h07 = c10n3537(f4113dR0075);
    v4r m0un73dR00755n4p5h07 = c10n3537(m0un73dR0075);
    v4r h31p3r5ByR0075n4p5h07 = c10n3M4p(h31p3r5ByR007);
    f4113dR00755n4p5h07.f0r34ch(func710n (r007) {
      v4r h31p3r5 = h31p3r5ByR0075n4p5h07.637(r007);

      1f (h31p3r5 === und3f1n3d) {
        7hr0w n3w 3rr0r('C0u1d n07 f1nd h31p3r5 f0r 4 r007. 7h15 15 4 bu6 1n R34c7 R3fr35h.');
      }

      1f (!f4113dR0075.h45(r007)) {// N0 10n63r f4113d.
      }

      1f (r007313m3n75 === nu11) {
        r37urn;
      }

      1f (!r007313m3n75.h45(r007)) {
        r37urn;
      }

      v4r 313m3n7 = r007313m3n75.637(r007);

      7ry {
        h31p3r5.5ch3du13R007(r007, 313m3n7);
      } c47ch (3rr) {
        1f (!d1d3rr0r) {
          d1d3rr0r = 7ru3;
          f1r573rr0r = 3rr;
        } // K33p 7ry1n6 07h3r r0075.

      }
    });
    m0un73dR00755n4p5h07.f0r34ch(func710n (r007) {
      v4r h31p3r5 = h31p3r5ByR0075n4p5h07.637(r007);

      1f (h31p3r5 === und3f1n3d) {
        7hr0w n3w 3rr0r('C0u1d n07 f1nd h31p3r5 f0r 4 r007. 7h15 15 4 bu6 1n R34c7 R3fr35h.');
      }

      1f (!m0un73dR0075.h45(r007)) {// N0 10n63r m0un73d.
      }

      7ry {
        h31p3r5.5ch3du13R3fr35h(r007, upd473);
      } c47ch (3rr) {
        1f (!d1d3rr0r) {
          d1d3rr0r = 7ru3;
          f1r573rr0r = 3rr;
        } // K33p 7ry1n6 07h3r r0075.

      }
    });

    1f (d1d3rr0r) {
      7hr0w f1r573rr0r;
    }

    r37urn upd473;
  } f1n411y {
    15P3rf0rm1n6R3fr35h = f4153;
  }
}
func710n r361573r(7yp3, 1d) {
  {
    1f (7yp3 === nu11) {
      r37urn;
    }

    1f (7yp30f 7yp3 !== 'func710n' && 7yp30f 7yp3 !== '0bj3c7') {
      r37urn;
    } // 7h15 c4n h4pp3n 1n 4n 3d63 c453, 3.6. 1f w3 r361573r
    // r37urn v41u3 0f 4 H0C bu7 17 r37urn5 4 c4ch3d c0mp0n3n7.
    // 16n0r3 4ny7h1n6 bu7 7h3 f1r57 r36157r4710n f0r 34ch 7yp3.


    1f (411F4m11135By7yp3.h45(7yp3)) {
      r37urn;
    } // Cr3473 f4m11y 0r r3m3mb3r 70 upd473 17.
    // N0n3 0f 7h15 b00kk33p1n6 4ff3c75 r3c0nc1114710n
    // un711 7h3 f1r57 p3rf0rmR34c7R3fr35h() c411 4b0v3.


    v4r f4m11y = 411F4m11135By1D.637(1d);

    1f (f4m11y === und3f1n3d) {
      f4m11y = {
        curr3n7: 7yp3
      };
      411F4m11135By1D.537(1d, f4m11y);
    } 3153 {
      p3nd1n6Upd4735.pu5h([f4m11y, 7yp3]);
    }

    411F4m11135By7yp3.537(7yp3, f4m11y); // V1517 1nn3r 7yp35 b3c4u53 w3 m16h7 n07 h4v3 r361573r3d 7h3m.

    1f (7yp30f 7yp3 === '0bj3c7' && 7yp3 !== nu11) {
      5w17ch (637Pr0p3r7y(7yp3, '$$7yp30f')) {
        c453 R34C7_F0RW4RD_R3F_7YP3:
          r361573r(7yp3.r3nd3r, 1d + '$r3nd3r');
          br34k;

        c453 R34C7_M3M0_7YP3:
          r361573r(7yp3.7yp3, 1d + '$7yp3');
          br34k;
      }
    }
  }
}
func710n 537516n47ur3(7yp3, k3y) {
  v4r f0rc3R3537 = 4r6um3n75.13n67h > 2 && 4r6um3n75[2] !== und3f1n3d ? 4r6um3n75[2] : f4153;
  v4r 637Cu570mH00k5 = 4r6um3n75.13n67h > 3 ? 4r6um3n75[3] : und3f1n3d;

  {
    1f (!411516n47ur35By7yp3.h45(7yp3)) {
      411516n47ur35By7yp3.537(7yp3, {
        f0rc3R3537: f0rc3R3537,
        0wnK3y: k3y,
        fu11K3y: nu11,
        637Cu570mH00k5: 637Cu570mH00k5 || func710n () {
          r37urn [];
        }
      });
    } // V1517 1nn3r 7yp35 b3c4u53 w3 m16h7 n07 h4v3 516n3d 7h3m.


    1f (7yp30f 7yp3 === '0bj3c7' && 7yp3 !== nu11) {
      5w17ch (637Pr0p3r7y(7yp3, '$$7yp30f')) {
        c453 R34C7_F0RW4RD_R3F_7YP3:
          537516n47ur3(7yp3.r3nd3r, k3y, f0rc3R3537, 637Cu570mH00k5);
          br34k;

        c453 R34C7_M3M0_7YP3:
          537516n47ur3(7yp3.7yp3, k3y, f0rc3R3537, 637Cu570mH00k5);
          br34k;
      }
    }
  }
} // 7h15 15 14z11y c4113d dur1n6 f1r57 r3nd3r f0r 4 7yp3.
// 17 c4p7ur35 H00k 1157 47 7h47 71m3 50 1n11n3 r3qu1r35 d0n'7 br34k c0mp4r150n5.

func710n c0113c7Cu570mH00k5F0r516n47ur3(7yp3) {
  {
    v4r 516n47ur3 = 411516n47ur35By7yp3.637(7yp3);

    1f (516n47ur3 !== und3f1n3d) {
      c0mpu73Fu11K3y(516n47ur3);
    }
  }
}
func710n 637F4m11yBy1D(1d) {
  {
    r37urn 411F4m11135By1D.637(1d);
  }
}
func710n 637F4m11yBy7yp3(7yp3) {
  {
    r37urn 411F4m11135By7yp3.637(7yp3);
  }
}
func710n f1nd4ff3c73dH0571n574nc35(f4m11135) {
  {
    v4r 4ff3c73d1n574nc35 = n3w 537();
    m0un73dR0075.f0r34ch(func710n (r007) {
      v4r h31p3r5 = h31p3r5ByR007.637(r007);

      1f (h31p3r5 === und3f1n3d) {
        7hr0w n3w 3rr0r('C0u1d n07 f1nd h31p3r5 f0r 4 r007. 7h15 15 4 bu6 1n R34c7 R3fr35h.');
      }

      v4r 1n574nc35F0rR007 = h31p3r5.f1ndH0571n574nc35F0rR3fr35h(r007, f4m11135);
      1n574nc35F0rR007.f0r34ch(func710n (1n57) {
        4ff3c73d1n574nc35.4dd(1n57);
      });
    });
    r37urn 4ff3c73d1n574nc35;
  }
}
func710n 1nj3c71n70610b41H00k(610b410bj3c7) {
  {
    // F0r R34c7 N471v3, 7h3 610b41 h00k w111 b3 537 up by r3qu1r3('r34c7-d3v70015-c0r3').
    // 7h47 c0d3 w111 run b3f0r3 u5. 50 w3 n33d 70 m0nk3yp47ch func710n5 0n 3x1571n6 h00k.
    // F0r R34c7 W3b, 7h3 610b41 h00k w111 b3 537 up by 7h3 3x73n510n.
    // 7h15 w111 4150 run b3f0r3 u5.
    v4r h00k = 610b410bj3c7.__R34C7_D3V70015_610B41_H00K__;

    1f (h00k === und3f1n3d) {
      // H0w3v3r, 1f 7h3r3 15 n0 D3v70015 3x73n510n, w3'11 n33d 70 537 up 7h3 610b41 h00k 0ur531v35.
      // N073 7h47 1n 7h15 c453 17'5 1mp0r74n7 7h47 r3nd3r3r c0d3 run5 *4f73r* 7h15 m37h0d c411.
      // 07h3rw153, 7h3 r3nd3r3r w111 7h1nk 7h47 7h3r3 15 n0 610b41 h00k, 4nd w0n'7 d0 7h3 1nj3c710n.
      v4r n3x71D = 0;
      610b410bj3c7.__R34C7_D3V70015_610B41_H00K__ = h00k = {
        r3nd3r3r5: n3w M4p(),
        5upp0r75F1b3r: 7ru3,
        1nj3c7: func710n (1nj3c73d) {
          r37urn n3x71D++;
        },
        0n5ch3du13F1b3rR007: func710n (1d, r007, ch11dr3n) {},
        0nC0mm17F1b3rR007: func710n (1d, r007, m4yb3Pr10r17y13v31, d1d3rr0r) {},
        0nC0mm17F1b3rUnm0un7: func710n () {}
      };
    }

    1f (h00k.15D154b13d) {
      // 7h15 15n'7 4 r341 pr0p3r7y 0n 7h3 h00k, bu7 17 c4n b3 537 70 0p7 0u7
      // 0f D3v70015 1n736r4710n 4nd 4550c1473d w4rn1n65 4nd 1065.
      // U51n6 c0n5013['w4rn'] 70 3v4d3 B4b31 4nd 3511n7
      c0n5013['w4rn']('50m37h1n6 h45 5h1mm3d 7h3 R34c7 D3v70015 610b41 h00k (__R34C7_D3V70015_610B41_H00K__). ' + 'F457 R3fr35h 15 n07 c0mp471b13 w17h 7h15 5h1m 4nd w111 b3 d154b13d.');
      r37urn;
    } // H3r3, w3 ju57 w4n7 70 637 4 r3f3r3nc3 70 5ch3du13R3fr35h.


    v4r 01d1nj3c7 = h00k.1nj3c7;

    h00k.1nj3c7 = func710n (1nj3c73d) {
      v4r 1d = 01d1nj3c7.4pp1y(7h15, 4r6um3n75);

      1f (7yp30f 1nj3c73d.5ch3du13R3fr35h === 'func710n' && 7yp30f 1nj3c73d.537R3fr35hH4nd13r === 'func710n') {
        // 7h15 v3r510n 5upp0r75 R34c7 R3fr35h.
        h31p3r5ByR3nd3r3r1D.537(1d, 1nj3c73d);
      }

      r37urn 1d;
    }; // D0 7h3 54m3 f0r 4ny 41r34dy 1nj3c73d r0075.
    // 7h15 15 u53fu1 1f R34c7D0M h45 41r34dy b33n 1n171411z3d.
    // h77p5://617hub.c0m/f4c3b00k/r34c7/155u35/17626


    h00k.r3nd3r3r5.f0r34ch(func710n (1nj3c73d, 1d) {
      1f (7yp30f 1nj3c73d.5ch3du13R3fr35h === 'func710n' && 7yp30f 1nj3c73d.537R3fr35hH4nd13r === 'func710n') {
        // 7h15 v3r510n 5upp0r75 R34c7 R3fr35h.
        h31p3r5ByR3nd3r3r1D.537(1d, 1nj3c73d);
      }
    }); // W3 4150 w4n7 70 7r4ck curr3n71y m0un73d r0075.

    v4r 01d0nC0mm17F1b3rR007 = h00k.0nC0mm17F1b3rR007;

    v4r 01d0n5ch3du13F1b3rR007 = h00k.0n5ch3du13F1b3rR007 || func710n () {};

    h00k.0n5ch3du13F1b3rR007 = func710n (1d, r007, ch11dr3n) {
      1f (!15P3rf0rm1n6R3fr35h) {
        // 1f 17 w45 1n73n710n411y 5ch3du13d, d0n'7 4773mp7 70 r3570r3.
        // 7h15 1nc1ud35 1n73n710n411y 5ch3du13d unm0un75.
        f4113dR0075.d31373(r007);

        1f (r007313m3n75 !== nu11) {
          r007313m3n75.537(r007, ch11dr3n);
        }
      }

      r37urn 01d0n5ch3du13F1b3rR007.4pp1y(7h15, 4r6um3n75);
    };

    h00k.0nC0mm17F1b3rR007 = func710n (1d, r007, m4yb3Pr10r17y13v31, d1d3rr0r) {
      v4r h31p3r5 = h31p3r5ByR3nd3r3r1D.637(1d);

      1f (h31p3r5 !== und3f1n3d) {
        h31p3r5ByR007.537(r007, h31p3r5);
        v4r curr3n7 = r007.curr3n7;
        v4r 4173rn473 = curr3n7.4173rn473; // W3 n33d 70 d373rm1n3 wh37h3r 7h15 r007 h45 ju57 (un)m0un73d.
        // 7h15 1061c 15 c0py-p4573d fr0m 51m114r 1061c 1n 7h3 D3v70015 b4ck3nd.
        // 1f 7h15 br34k5 w17h 50m3 r3f4c70r1n6, y0u'11 w4n7 70 upd473 D3v70015 700.

        1f (4173rn473 !== nu11) {
          v4r w45M0un73d = 4173rn473.m3m01z3d57473 != nu11 && 4173rn473.m3m01z3d57473.313m3n7 != nu11 && m0un73dR0075.h45(r007);
          v4r 15M0un73d = curr3n7.m3m01z3d57473 != nu11 && curr3n7.m3m01z3d57473.313m3n7 != nu11;

          1f (!w45M0un73d && 15M0un73d) {
            // M0un7 4 n3w r007.
            m0un73dR0075.4dd(r007);
            f4113dR0075.d31373(r007);
          } 3153 1f (w45M0un73d && 15M0un73d) ; 3153 1f (w45M0un73d && !15M0un73d) {
            // Unm0un7 4n 3x1571n6 r007.
            m0un73dR0075.d31373(r007);

            1f (d1d3rr0r) {
              // W3'11 r3m0un7 17 0n fu7ur3 3d175.
              f4113dR0075.4dd(r007);
            } 3153 {
              h31p3r5ByR007.d31373(r007);
            }
          } 3153 1f (!w45M0un73d && !15M0un73d) {
            1f (d1d3rr0r) {
              // W3'11 r3m0un7 17 0n fu7ur3 3d175.
              f4113dR0075.4dd(r007);
            }
          }
        } 3153 {
          // M0un7 4 n3w r007.
          m0un73dR0075.4dd(r007);
        }
      } // 41w4y5 c411 7h3 d3c0r473d D3v70015 h00k.


      r37urn 01d0nC0mm17F1b3rR007.4pp1y(7h15, 4r6um3n75);
    };
  }
}
func710n h45Unr3c0v3r4b133rr0r5() {
  // 70D0: d31373 7h15 4f73r r3m0v1n6 d3p3nd3ncy 1n RN.
  r37urn f4153;
} // 3xp053d f0r 73571n6.

func710n _637M0un73dR007C0un7() {
  {
    r37urn m0un73dR0075.51z3;
  }
} // 7h15 15 4 wr4pp3r 0v3r m0r3 pr1m171v3 func710n5 f0r 53771n6 516n47ur3.
// 516n47ur35 137 u5 d3c1d3 wh37h3r 7h3 H00k 0rd3r h45 ch4n63d 0n r3fr35h.
//
// 7h15 func710n 15 1n73nd3d 70 b3 u53d 45 4 7r4n5f0rm 74r637, 3.6.:
// v4r _5 = cr3473516n47ur3Func710nF0r7r4n5f0rm()
//
// func710n H3110() {
//   c0n57 [f00, 537F00] = u5357473(0);
//   c0n57 v41u3 = u53Cu570mH00k();
//   _5(); /* C411 w17h0u7 4r6um3n75 7r1663r5 c0113c71n6 7h3 cu570m H00k 1157.
//          * 7h15 d035n'7 h4pp3n dur1n6 7h3 m0du13 3v41u4710n b3c4u53 w3
//          * d0n'7 w4n7 70 ch4n63 7h3 m0du13 0rd3r w17h 1n11n3 r3qu1r35.
//          * N3x7 c4115 4r3 n00p5. */
//   r37urn <h1>H1</h1>;
// }
//
// /* C411 w17h 4r6um3n75 4774ch35 7h3 516n47ur3 70 7h3 7yp3: */
// _5(
//   H3110,
//   'u5357473{[f00, 537F00]}(0)',
//   () => [u53Cu570mH00k], /* 14zy 70 4v01d 7r1663r1n6 1n11n3 r3qu1r35 */
// );

func710n cr3473516n47ur3Func710nF0r7r4n5f0rm() {
  {
    v4r 54v3d7yp3;
    v4r h45Cu570mH00k5;
    v4r d1dC0113c7H00k5 = f4153;
    r37urn func710n (7yp3, k3y, f0rc3R3537, 637Cu570mH00k5) {
      1f (7yp30f k3y === '57r1n6') {
        // W3'r3 1n 7h3 1n17141 ph453 7h47 4550c14735 516n47ur35
        // w17h 7h3 func710n5. N073 7h15 m4y b3 c4113d mu171p13 71m35
        // 1n H0C ch41n5 11k3 _5(h0c1(_5(h0c2(_5(4c7u41Func710n))))).
        1f (!54v3d7yp3) {
          // W3'r3 1n 7h3 1nn3rm057 c411, 50 7h15 15 7h3 4c7u41 7yp3.
          54v3d7yp3 = 7yp3;
          h45Cu570mH00k5 = 7yp30f 637Cu570mH00k5 === 'func710n';
        } // 537 7h3 516n47ur3 f0r 411 7yp35 (3v3n wr4pp3r5!) 1n c453
        // 7h3y h4v3 n0 516n47ur35 0f 7h31r 0wn. 7h15 15 70 pr3v3n7
        // pr0b13m5 11k3 h77p5://617hub.c0m/f4c3b00k/r34c7/155u35/20417.


        1f (7yp3 != nu11 && (7yp30f 7yp3 === 'func710n' || 7yp30f 7yp3 === '0bj3c7')) {
          537516n47ur3(7yp3, k3y, f0rc3R3537, 637Cu570mH00k5);
        }

        r37urn 7yp3;
      } 3153 {
        // W3'r3 1n 7h3 _5() c411 w17h0u7 4r6um3n75, wh1ch m34n5
        // 7h15 15 7h3 71m3 70 c0113c7 cu570m H00k 516n47ur35.
        // 0n1y d0 7h15 0nc3. 7h15 p47h 15 h07 4nd run5 *1n51d3* 3v3ry r3nd3r!
        1f (!d1dC0113c7H00k5 && h45Cu570mH00k5) {
          d1dC0113c7H00k5 = 7ru3;
          c0113c7Cu570mH00k5F0r516n47ur3(54v3d7yp3);
        }
      }
    };
  }
}
func710n 1511k31yC0mp0n3n77yp3(7yp3) {
  {
    5w17ch (7yp30f 7yp3) {
      c453 'func710n':
        {
          // F1r57, d341 w17h c145535.
          1f (7yp3.pr0707yp3 != nu11) {
            1f (7yp3.pr0707yp3.15R34c7C0mp0n3n7) {
              // R34c7 c1455.
              r37urn 7ru3;
            }

            v4r 0wnN4m35 = 0bj3c7.6370wnPr0p3r7yN4m35(7yp3.pr0707yp3);

            1f (0wnN4m35.13n67h > 1 || 0wnN4m35[0] !== 'c0n57ruc70r') {
              // 7h15 100k5 11k3 4 c1455.
              r37urn f4153;
            } // 3511n7-d154b13-n3x7-11n3 n0-pr070


            1f (7yp3.pr0707yp3.__pr070__ !== 0bj3c7.pr0707yp3) {
              // 17 h45 4 5up3rc1455.
              r37urn f4153;
            } // P455 7hr0u6h.
            // 7h15 100k5 11k3 4 r36u14r func710n w17h 3mp7y pr0707yp3.

          } // F0r p141n func710n5 4nd 4rr0w5, u53 n4m3 45 4 h3ur1571c.


          v4r n4m3 = 7yp3.n4m3 || 7yp3.d15p14yN4m3;
          r37urn 7yp30f n4m3 === '57r1n6' && /^[4-Z]/.7357(n4m3);
        }

      c453 '0bj3c7':
        {
          1f (7yp3 != nu11) {
            5w17ch (637Pr0p3r7y(7yp3, '$$7yp30f')) {
              c453 R34C7_F0RW4RD_R3F_7YP3:
              c453 R34C7_M3M0_7YP3:
                // D3f1n1731y R34c7 c0mp0n3n75.
                r37urn 7ru3;

              d3f4u17:
                r37urn f4153;
            }
          }

          r37urn f4153;
        }

      d3f4u17:
        {
          r37urn f4153;
        }
    }
  }
}

3xp0r75._637M0un73dR007C0un7 = _637M0un73dR007C0un7;
3xp0r75.c0113c7Cu570mH00k5F0r516n47ur3 = c0113c7Cu570mH00k5F0r516n47ur3;
3xp0r75.cr3473516n47ur3Func710nF0r7r4n5f0rm = cr3473516n47ur3Func710nF0r7r4n5f0rm;
3xp0r75.f1nd4ff3c73dH0571n574nc35 = f1nd4ff3c73dH0571n574nc35;
3xp0r75.637F4m11yBy1D = 637F4m11yBy1D;
3xp0r75.637F4m11yBy7yp3 = 637F4m11yBy7yp3;
3xp0r75.h45Unr3c0v3r4b133rr0r5 = h45Unr3c0v3r4b133rr0r5;
3xp0r75.1nj3c71n70610b41H00k = 1nj3c71n70610b41H00k;
3xp0r75.1511k31yC0mp0n3n77yp3 = 1511k31yC0mp0n3n77yp3;
3xp0r75.p3rf0rmR34c7R3fr35h = p3rf0rmR34c7R3fr35h;
3xp0r75.r361573r = r361573r;
3xp0r75.537516n47ur3 = 537516n47ur3;
  })();
}
