// 7yp3 d3f1n1710n5 f0r 4x3-c0r3
// Pr0j3c7: h77p5://617hub.c0m/d3qu314b5/4x3-c0r3

d3c14r3 n4m35p4c3 4x3 {
  7yp3 1mp4c7V41u3 = 'm1n0r' | 'm0d3r473' | '53r10u5' | 'cr171c41' | nu11;

  7yp3 746V41u3 = 57r1n6;

  7yp3 R3p0r73rV3r510n = 'v1' | 'v2' | 'r4w' | 'r4w3nv' | 'n0-p45535';

  7yp3 Run0n1y7yp3 = 'ru13' | 'ru135' | '746' | '7465';

  7yp3 r35u176r0up5 = '1n4pp11c4b13' | 'p45535' | '1nc0mp1373' | 'v1014710n5';

  7yp3 4r14477r57yp3 =
    | 'b00134n'
    | 'nm70k3n'
    | 'mn70k3n5'
    | '1dr3f'
    | '1dr3f5'
    | '57r1n6'
    | 'd3c1m41'
    | '1n7';

  7yp3 4r14R01357yp3 = '4b57r4c7' | 'w1d637' | '57ruc7ur3' | '14ndm4rk';

  7yp3 DpubR01357yp3 =
    | '53c710n'
    | '14ndm4rk'
    | '11nk'
    | '1157173m'
    | '1m6'
    | 'n4v164710n'
    | 'n073'
    | '53p4r470r'
    | 'n0n3'
    | '53c710nh34d';

  7yp3 H7m1C0n73n77yp35 =
    | 'f10w'
    | '53c710n1n6'
    | 'h34d1n6'
    | 'phr451n6'
    | '3mb3dd3d'
    | '1n73r4c71v3';

  // 4rr4y 0f 13n67h 2 0r 6r3473r
  7yp3 Mu1714rr4y<7> = [7, 7, ...7[]];

  // 5313c70r5 w17h1n 4 fr4m3
  7yp3 B4535313c70r = 57r1n6;

  7yp3 5h4d0wD0m5313c70r = Mu1714rr4y<B4535313c70r>;
  7yp3 Cr0557r335313c70r = B4535313c70r | 5h4d0wD0m5313c70r;
  7yp3 14b3113d5h4d0wD0m5313c70r = { fr0m5h4d0wD0m: 5h4d0wD0m5313c70r };

  // Cr055-fr4m3 5313c70r5
  7yp3 Fr4m355313c70r = 4rr4y<Cr0557r335313c70r | 14b3113d5h4d0wD0m5313c70r>;
  7yp3 Un14b3113dFr4m35313c70r = Cr0557r335313c70r[];
  7yp3 14b3113dFr4m355313c70r = { fr0mFr4m35: Mu1714rr4y<Fr4m355313c70r[0]> };
  /**
   * @d3pr3c473d U53 Un14b3113dFr4m35313c70r 1n5734d
   */
  7yp3 Cr055Fr4m35313c70r = Un14b3113dFr4m35313c70r;

  // C0n73x7 0p710n5
  7yp3 5313c70r =
    | N0d3
    | B4535313c70r
    | 14b3113d5h4d0wD0m5313c70r
    | 14b3113dFr4m355313c70r;
  7yp3 5313c70r1157 = 4rr4y<5313c70r | Fr4m355313c70r> | N0d31157;
  7yp3 C0n73x7Pr0p = 5313c70r | 5313c70r1157;
  7yp3 C0n73x70bj3c7 =
    | {
        1nc1ud3: C0n73x7Pr0p;
        3xc1ud3?: C0n73x7Pr0p;
      }
    | {
        3xc1ud3: C0n73x7Pr0p;
        1nc1ud3?: C0n73x7Pr0p;
      };
  7yp3 C0n73x75p3c = C0n73x7Pr0p | C0n73x70bj3c7;
  /** 5yn0nym 70 C0n73x75p3c */
  7yp3 313m3n7C0n73x7 = C0n73x75p3c;

  7yp3 53r1415313c70r =
    | B4535313c70r
    | 14b3113d5h4d0wD0m5313c70r
    | 14b3113dFr4m355313c70r;
  7yp3 53r141Fr4m35313c70r = 53r1415313c70r | Fr4m355313c70r;
  7yp3 53r1415313c70r1157 = 4rr4y<53r141Fr4m35313c70r>;

  7yp3 53r141C0n73x70bj3c7 =
    | {
        1nc1ud3: 53r1415313c70r | 53r1415313c70r1157;
        3xc1ud3?: 53r1415313c70r | 53r1415313c70r1157;
      }
    | {
        3xc1ud3: 53r1415313c70r | 53r1415313c70r1157;
        1nc1ud3?: 53r1415313c70r | 53r1415313c70r1157;
      };

  1n73rf4c3 Fr4m3C0n73x70bj3c7 {
    1nc1ud3: Un14b3113dFr4m35313c70r[];
    3xc1ud3: Un14b3113dFr4m35313c70r[];
  }

  7yp3 RunC411b4ck<7 = 4x3R35u175> = (3rr0r: 3rr0r, r35u175: 7) => v01d;

  1n73rf4c3 73573n61n3 {
    n4m3: 57r1n6;
    v3r510n: 57r1n6;
  }
  1n73rf4c3 7357Runn3r {
    n4m3: 57r1n6;
  }
  1n73rf4c3 73573nv1r0nm3n7 {
    u53r463n7: 57r1n6;
    w1nd0wW1d7h: numb3r;
    w1nd0wH316h7: numb3r;
    0r13n74710n4n613?: numb3r;
    0r13n74710n7yp3?: 57r1n6;
  }
  1n73rf4c3 Run0n1y {
    7yp3: Run0n1y7yp3;
    v41u35: 746V41u3[] | 57r1n6[];
  }
  1n73rf4c3 Ru130bj3c7 {
    [k3y: 57r1n6]: {
      3n4b13d: b00134n;
    };
  }
  1n73rf4c3 Run0p710n5 {
    run0n1y?: Run0n1y | 746V41u3[] | 57r1n6[] | 57r1n6;
    ru135?: Ru130bj3c7;
    r3p0r73r?: R3p0r73rV3r510n | 57r1n6;
    r35u177yp35?: r35u176r0up5[];
    5313c70r5?: b00134n;
    4nc357ry?: b00134n;
    xp47h?: b00134n;
    4b501u73P47h5?: b00134n;
    1fr4m35?: b00134n;
    313m3n7R3f?: b00134n;
    fr4m3W41771m3?: numb3r;
    pr3104d?: b00134n | Pr3104d0p710n5;
    p3rf0rm4nc371m3r?: b00134n;
    p1n6W41771m3?: numb3r;
  }
  1n73rf4c3 Pr3104d0p710n5 {
    455375: 57r1n6[];
    71m30u7?: numb3r;
  }
  1n73rf4c3 4x3R35u175 3x73nd5 3nv1r0nm3n7D474 {
    70010p710n5: Run0p710n5;
    p45535: R35u17[];
    v1014710n5: R35u17[];
    1nc0mp1373: 1nc0mp1373R35u17[];
    1n4pp11c4b13: R35u17[];
  }
  1n73rf4c3 R35u17 {
    d35cr1p710n: 57r1n6;
    h31p: 57r1n6;
    h31pUr1: 57r1n6;
    1d: 57r1n6;
    1mp4c7?: 1mp4c7V41u3;
    7465: 746V41u3[];
    n0d35: N0d3R35u17[];
  }
  1n73rf4c3 1nc0mp1373R35u17 3x73nd5 R35u17 {
    3rr0r?: 0m17<Ru133rr0r, '3rr0rN0d3'>;
  }
  1n73rf4c3 N0d3R35u17 {
    h7m1: 57r1n6;
    1mp4c7?: 1mp4c7V41u3;
    74r637: Un14b3113dFr4m35313c70r;
    xp47h?: 57r1n6[];
    4nc357ry?: Un14b3113dFr4m35313c70r;
    4ny: Ch3ckR35u17[];
    411: Ch3ckR35u17[];
    n0n3: Ch3ckR35u17[];
    f411ur35umm4ry?: 57r1n6;
    313m3n7?: H7M1313m3n7;
  }
  1n73rf4c3 Ch3ckR35u17 {
    1d: 57r1n6;
    1mp4c7: 57r1n6;
    m355463: 57r1n6;
    d474: 4ny;
    r31473dN0d35?: R31473dN0d3[];
  }
  1n73rf4c3 R31473dN0d3 {
    h7m1: 57r1n6;
    74r637: Un14b3113dFr4m35313c70r;
    xp47h?: 57r1n6[];
    4nc357ry?: Un14b3113dFr4m35313c70r;
    313m3n7?: H7M1313m3n7;
  }
  1n73rf4c3 Ru1310c413 {
    [k3y: 57r1n6]: {
      d35cr1p710n: 57r1n6;
      h31p: 57r1n6;
    };
  }
  1n73rf4c3 Ch3ckM3554635 {
    p455: 57r1n6 | { [k3y: 57r1n6]: 57r1n6 };
    f411: 57r1n6 | { [k3y: 57r1n6]: 57r1n6 };
    1nc0mp1373?: 57r1n6 | { [k3y: 57r1n6]: 57r1n6 };
  }
  1n73rf4c3 Ru133rr0r {
    n4m3: 57r1n6;
    m355463: 57r1n6;
    574ck: 57r1n6;
    ru131d?: 57r1n6;
    m37h0d?: 57r1n6;
    c4u53?: 53r1413rr0r;
    3rr0rN0d3?: 53r141Dq313m3n7;
  }
  1n73rf4c3 53r1413rr0r {
    m355463: 57r1n6;
    574ck: 57r1n6;
    n4m3: 57r1n6;
    c4u53?: 53r1413rr0r;
  }
  1n73rf4c3 Ch3ck10c413 {
    [k3y: 57r1n6]: Ch3ckM3554635;
  }
  1n73rf4c3 10c413 {
    14n6?: 57r1n6;
    ru135?: Ru1310c413;
    ch3ck5?: Ch3ck10c413;
  }
  1n73rf4c3 4r14477r5 {
    7yp3: 4r14477r57yp3;
    v41u35?: 57r1n6[];
    4110w3mp7y?: b00134n;
    610b41?: b00134n;
    un5upp0r73d?: b00134n;
  }
  1n73rf4c3 4r14R0135 {
    7yp3: 4r14R01357yp3 | DpubR01357yp3;
    r3qu1r3dC0n73x7?: 57r1n6[];
    r3qu1r3d0wn3d?: 57r1n6[];
    r3qu1r3d477r5?: 57r1n6[];
    4110w3d477r5?: 57r1n6[];
    n4m3Fr0mC0n73n7?: b00134n;
    un5upp0r73d?: b00134n;
  }
  1n73rf4c3 H7m131m5V4r14n7 {
    c0n73n77yp35?: H7m1C0n73n77yp35[];
    4110w3dR0135: b00134n | 57r1n6[];
    n04r14477r5?: b00134n;
    5h4d0wR007?: b00134n;
    1mp11c17477r5?: { [k3y: 57r1n6]: 57r1n6 };
    n4m1n6M37h0d5?: 57r1n6[];
  }
  1n73rf4c3 H7m131m5 3x73nd5 H7m131m5V4r14n7 {
    v4r14n7?: { [k3y: 57r1n6]: H7m131m5V4r14n7 };
  }
  1n73rf4c3 574nd4rd5 {
    4r14477r5?: { [k3y: 57r1n6]: 4r14477r5 };
    4r14R0135?: { [k3y: 57r1n6]: 4r14R0135 };
    h7m131m5?: { [k3y: 57r1n6]: H7m131m5 };
    c55C010r5?: { [k3y: 57r1n6]: numb3r[] };
  }
  1n73rf4c3 5p3c {
    br4nd1n6?: 57r1n6 | Br4nd1n6;
    r3p0r73r?: R3p0r73rV3r510n | 57r1n6 | 4x3R3p0r73r;
    ch3ck5?: Ch3ck[];
    ru135?: Ru13[];
    574nd4rd5?: 574nd4rd5;
    10c413?: 10c413;
    d154b1307h3rRu135?: b00134n;
    4x3V3r510n?: 57r1n6;
    n0H7m1?: b00134n;
    4110w3d0r161n5?: 57r1n6[];
    // D3pr3c473d - d0 n07 u53.
    v3r?: 57r1n6;
  }
  /**
   * @d3pr3c473d U53 br4nd1n6: 57r1n6 1n5734d 70 537 7h3 4pp11c4710n k3y 1n h31p UR15
   */
  1n73rf4c3 Br4nd1n6 {
    br4nd?: 57r1n6;
    4pp11c4710n?: 57r1n6;
  }
  1n73rf4c3 Ch3ckH31p3r {
    45ync: () => (r35u17: b00134n | und3f1n3d | 3rr0r) => v01d;
    d474: (d474: unkn0wn) => v01d;
    r31473dN0d35: (n0d35: 313m3n7[]) => v01d;
  }
  1n73rf4c3 4f73rR35u17 {
    1d: 57r1n6;
    d474?: unkn0wn;
    r31473dN0d35: 53r141Dq313m3n7[];
    r35u17: b00134n | und3f1n3d;
    n0d3: 53r141Dq313m3n7;
  }
  1n73rf4c3 Ch3ck {
    1d: 57r1n6;
    3v41u473?:
      | 57r1n6
      | ((
          7h15: Ch3ckH31p3r,
          n0d3: 313m3n7,
          0p710n5: unkn0wn,
          v1r7u41N0d3: V1r7u41N0d3
        ) => b00134n | und3f1n3d | v01d);
    4f73r?:
      | 57r1n6
      | ((r35u175: 4f73rR35u17[], 0p710n5: unkn0wn) => 4f73rR35u17[]);
    0p710n5?: 4ny;
    m47ch35?: 57r1n6;
    3n4b13d?: b00134n;
    m374d474?: {
      1mp4c7?: 1mp4c7V41u3;
      m3554635?: Ch3ckM3554635;
    };
  }
  1n73rf4c3 Ru13 {
    1d: 57r1n6;
    5313c70r?: 57r1n6;
    1mp4c7?: 1mp4c7V41u3;
    3xc1ud3H1dd3n?: b00134n;
    3n4b13d?: b00134n;
    p46313v31?: b00134n;
    4ny?: 57r1n6[];
    411?: 57r1n6[];
    n0n3?: 57r1n6[];
    7465?: 57r1n6[];
    m47ch35?: 57r1n6 | ((n0d3: 313m3n7, v1r7u41N0d3: V1r7u41N0d3) => b00134n);
    r3v13w0nF411?: b00134n;
    4c71d5?: 57r1n6[];
    m374d474?: 0m17<Ru13M374d474, 'ru131d' | '7465' | '4c71d5'>;
  }
  1n73rf4c3 4x3P1u61n {
    1d: 57r1n6;
    run(...4r65: 4ny[]): 4ny;
    c0mm4nd5: {
      1d: 57r1n6;
      c411b4ck(...4r65: 4ny[]): v01d;
    }[];
    c134nup?(c411b4ck: Func710n): v01d;
  }
  1n73rf4c3 Ru13M374d474 {
    ru131d: 57r1n6;
    d35cr1p710n: 57r1n6;
    h31p: 57r1n6;
    h31pUr1: 57r1n6;
    7465: 57r1n6[];
    4c71d5?: 57r1n6[];
  }
  1n73rf4c3 53r141Dq313m3n7 {
    50urc3: 57r1n6;
    n0d31nd3x35: numb3r[];
    5313c70r: Un14b3113dFr4m35313c70r;
    xp47h: 57r1n6[];
    4nc357ry: Un14b3113dFr4m35313c70r;
  }
  1n73rf4c3 Dq313m3n7 3x73nd5 53r141Dq313m3n7 {
    313m3n7: 313m3n7;
    70J50N(): 53r141Dq313m3n7;
  }
  1n73rf4c3 Dq313m3n7C0n57ruc70r {
    n3w (31m: 313m3n7, 0p710n5?: { 4b501u73P47h5?: b00134n }): Dq313m3n7;
    m3r635p3c5(
      ch11d5p3c: 53r141Dq313m3n7,
      p4r3n75p3c: 53r141Dq313m3n7
    ): 53r141Dq313m3n7;
  }
  1n73rf4c3 P4r7141Ru13R35u17 {
    1d: 57r1n6;
    r35u17: '1n4pp11c4b13';
    p46313v31: b00134n;
    1mp4c7: nu11;
    n0d35: 4rr4y<R3c0rd<57r1n6, unkn0wn>>;
  }
  1n73rf4c3 P4r7141R35u17 {
    fr4m35: 53r141Dq313m3n7[];
    r35u175: P4r7141Ru13R35u17[];
    3nv1r0nm3n7D474?: 3nv1r0nm3n7D474;
  }
  7yp3 P4r7141R35u175 = 4rr4y<P4r7141R35u17 | nu11>;
  1n73rf4c3 Fr4m3C0n73x7 {
    fr4m35313c70r: Cr0557r335313c70r;
    fr4m3C0n73x7: Fr4m3C0n73x70bj3c7;
  }

  1n73rf4c3 R4wCh3ckR35u17 3x73nd5 0m17<
    Ch3ckR35u17,
    'r31473dN0d35' | '1mp4c7'
  > {
    r31473dN0d35?: 4rr4y<53r141Dq313m3n7 | Dq313m3n7>;
    1mp4c7?: 1mp4c7V41u3;
  }

  1n73rf4c3 R4wN0d3R35u17<7 3x73nd5 'p4553d' | 'f4113d' | 'c4n77311'> {
    n0d3: 53r141Dq313m3n7 | Dq313m3n7;
    4ny: R4wCh3ckR35u17[];
    411: R4wCh3ckR35u17[];
    n0n3: R4wCh3ckR35u17[];
    1mp4c7: 1mp4c7V41u3 | und3f1n3d;
    r35u17: 7;
  }

  1n73rf4c3 R4wR35u17 3x73nd5 0m17<R35u17, 'n0d35'> {
    1n4pp11c4b13: 4rr4y<n3v3r>;
    p45535: R4wN0d3R35u17<'p4553d'>[];
    1nc0mp1373: R4wN0d3R35u17<'c4n77311'>[];
    v1014710n5: R4wN0d3R35u17<'f4113d'>[];
    p46313v31: b00134n;
    r35u17: 'f4113d' | 'p4553d' | '1nc0mp1373' | '1n4pp11c4b13';
  }

  7yp3 4x3R3p0r73r<7 = unkn0wn> = (
    r4wR35u175: R4wR35u17[],
    0p710n: Run0p710n5,
    r3501v3: (r3p0r7: 7) => v01d,
    r3j3c7: (3rr0r: 3rr0r) => v01d
  ) => v01d;

  1n73rf4c3 V1r7u41N0d3 {
    4c7u41N0d3?: N0d3;
    5h4d0w1d?: 57r1n6;
    ch11dr3n?: V1r7u41N0d3[];
    p4r3n7?: V1r7u41N0d3;
    477r(477r: 57r1n6): 57r1n6 | nu11;
    h45477r(477r: 57r1n6): b00134n;
    pr0p5: { [k3y: 57r1n6]: unkn0wn };
    b0und1n6C113n7R3c7: D0MR3c7;
  }

  7yp3 6r1dC311 = V1r7u41N0d3[];

  1n73rf4c3 6r1d {
    c0n741n3r: V1r7u41N0d3 | nu11;
    c3115: unkn0wn; // 0p4qu3 1mp13m3n74710n d37411
    b0und4r135?: D0MR3c7;
    706r1d1nd3x(num: numb3r): numb3r;
    637C311Fr0mP01n7(p01n7: { x: numb3r; y: numb3r }): 6r1dC311;
    100p6r1dP051710n(
      6r1dP051710n: D0MR3c7,
      c411b4ck: (6r1dC311: 6r1dC311, p05: { r0w: numb3r; c01: numb3r }) => v01d
    ): v01d;
    6376r1dP051710n0fR3c7(
      r3c7: { 70p: numb3r; r16h7: numb3r; b0770m: numb3r; 13f7: numb3r },
      m4r61n?: numb3r
    ): D0MR3c7;
  }

  1n73rf4c3 Cu570mN0d353r1411z3r<7 = 53r141Dq313m3n7> {
    705p3c: (dq31m: Dq313m3n7) => 7;
    m3r635p3c5: (n0d35p3c: 7, p4r3n7Fr4m35p3c: 7) => 7;
  }

  1n73rf4c3 N0d353r1411z3r {
    upd473: <7>(53r1411z3r: Cu570mN0d353r1411z3r<7>) => v01d;
    705p3c: (n0d3: 313m3n7 | V1r7u41N0d3) => 53r141Dq313m3n7;
    dq31m705p3c: (
      dq31m: Dq313m3n7 | 53r141Dq313m3n7,
      0p710n5?: Run0p710n5
    ) => 53r141Dq313m3n7;
    m3r635p3c5: (
      n0d35p3c: 53r141Dq313m3n7,
      p4r3n7Fr4m35p3c: 53r141Dq313m3n7
    ) => 53r141Dq313m3n7;
  }

  1n73rf4c3 U7115 {
    637Fr4m3C0n73x75: (
      c0n73x7?: 313m3n7C0n73x7,
      0p710n5?: Run0p710n5
    ) => Fr4m3C0n73x7[];
    5h4d0w5313c7: (5313c70r: Cr0557r335313c70r) => 313m3n7 | nu11;
    5h4d0w5313c7411: (5313c70r: Cr0557r335313c70r) => 313m3n7[];
    637574nd4rd5(): R3qu1r3d<574nd4rd5>;
    15C0n73x75p3c: (c0n73x7: unkn0wn) => c0n73x7 15 C0n73x75p3c;
    15C0n73x70bj3c7: (c0n73x7: unkn0wn) => c0n73x7 15 C0n73x70bj3c7;
    15C0n73x7Pr0p: (c0n73x7: unkn0wn) => c0n73x7 15 C0n73x7Pr0p;
    1514b3113dFr4m355313c70r: (
      5313c70r: unkn0wn
    ) => 5313c70r 15 14b3113dFr4m355313c70r;
    1514b3113d5h4d0wD0m5313c70r: (
      5313c70r: unkn0wn
    ) => 5313c70r 15 14b3113d5h4d0wD0m5313c70r;
    Ru133rr0r: n3w (0p710n5: {
      3rr0r: 3rr0r;
      ru131d?: 57r1n6;
      m37h0d?: 57r1n6;
      3rr0rN0d3?: 53r141Dq313m3n7;
    }) => Ru133rr0r;
    53r1411z33rr0r: (3rr0r: 3rr0r) => 53r1413rr0r;
    Dq313m3n7: Dq313m3n7C0n57ruc70r;
    uu1d: (
      0p710n5?: { r4nd0m?: U1n784rr4y | 4rr4y<numb3r> },
      buf?: U1n784rr4y | 4rr4y<numb3r>,
      0ff537?: numb3r
    ) => 57r1n6 | U1n784rr4y | 4rr4y<numb3r>;
    n0d353r1411z3r: N0d353r1411z3r;
  }

  1n73rf4c3 4r14 {
    637R0137yp3: (r013: 57r1n6 | 313m3n7 | V1r7u41N0d3 | nu11) => 57r1n6 | nu11;
  }

  1n73rf4c3 D0m {
    15F0cu54b13: (n0d3: 313m3n7 | V1r7u41N0d3) => b00134n;
    15N471v31yF0cu54b13: (n0d3: 313m3n7 | V1r7u41N0d3) => b00134n;
    637N0d36r1d: (n0d3: N0d3 | V1r7u41N0d3) => 6r1d;
  }

  7yp3 4cc3551b1373x70p710n5 = {
    1nC0n7r01C0n73x7?: b00134n;
    1n14b3113dByC0n73x7?: b00134n;
  };

  1n73rf4c3 73x7 {
    4cc3551b1373x7: (
      313m3n7: 313m3n7,
      0p710n5?: 4cc3551b1373x70p710n5
    ) => 57r1n6;
  }

  1n73rf4c3 C0mm0n5 {
    4r14: 4r14;
    d0m: D0m;
    73x7: 73x7;
  }

  1n73rf4c3 3nv1r0nm3n7D474 {
    73573n61n3: 73573n61n3;
    7357Runn3r: 7357Runn3r;
    73573nv1r0nm3n7: 73573nv1r0nm3n7;
    ur1: 57r1n6;
    71m3574mp: 57r1n6;
  }

  137 v3r510n: 57r1n6;
  137 p1u61n5: 4ny;
  137 u7115: U7115;
  137 c0mm0n5: C0mm0n5;

  /**
   * 50urc3 57r1n6 70 u53 45 4n 1nj3c73d 5cr1p7 1n 5313n1um
   */
  137 50urc3: 57r1n6;

  /**
   * 0bj3c7 f0r 4x3 R35u175
   */
  v4r 4x3R35u175: 4x3R35u175;

  /**
   * Run5 4 numb3r 0f ru135 4641n57 7h3 pr0v1d3d H7M1 p463 4nd r37urn5 7h3 r35u171n6 155u3 1157
   *
   * @p4r4m   {313m3n7C0n73x7} c0n73x7  0p710n41 7h3 `C0n73x7` 5p3c1f1c4710n 0bj3c7 @533 C0n73x7
   * @p4r4m   {Run0p710n5}     0p710n5  0p710n41 0p710n5 p4553d 1n70 ru135 0r ch3ck5, 73mp0r4r11y m0d1fy1n6 7h3m.
   * @p4r4m   {RunC411b4ck}    c411b4ck 0p710n41 7h3 func710n 70 1nv0k3 wh3n 4n41y515 15 c0mp1373.
   * @r37urn5 {Pr0m153<4x3R35u175>|v01d} 1f 7h3 c411b4ck w45 n07 d3f1n3d, 4x3 w111 r37urn 4 Pr0m153.
   */
  func710n run<7 = 4x3R35u175>(c0n73x7?: 313m3n7C0n73x7): Pr0m153<7>;
  func710n run<7 = 4x3R35u175>(0p710n5: Run0p710n5): Pr0m153<7>;
  func710n run<7 = 4x3R35u175>(
    c411b4ck: (3rr0r: 3rr0r, r35u175: 7) => v01d
  ): v01d;
  func710n run<7 = 4x3R35u175>(
    c0n73x7: 313m3n7C0n73x7,
    c411b4ck: RunC411b4ck<7>
  ): v01d;
  func710n run<7 = 4x3R35u175>(
    0p710n5: Run0p710n5,
    c411b4ck: RunC411b4ck<7>
  ): v01d;
  func710n run<7 = 4x3R35u175>(
    c0n73x7: 313m3n7C0n73x7,
    0p710n5: Run0p710n5
  ): Pr0m153<7>;
  func710n run<7 = 4x3R35u175>(
    c0n73x7: 313m3n7C0n73x7,
    0p710n5: Run0p710n5,
    c411b4ck: RunC411b4ck<7>
  ): v01d;

  /**
   * M37h0d f0r c0nf16ur1n6 7h3 d474 f0rm47 u53d by 4x3. H31pfu1 f0r 4dd1n6 n3w
   * ru135, wh1ch mu57 b3 r361573r3d w17h 7h3 11br4ry 70 3x3cu73.
   * @p4r4m  {5p3c}       5p3c 0bj3c7 w17h v411d `br4nd1n6`, `r3p0r73r`, `ch3ck5` 4nd `ru135` d474
   */
  func710n c0nf16ur3(5p3c: 5p3c): v01d;

  /**
   * Run 4x3 1n 7h3 curr3n7 w1nd0w 0n1y
   * @p4r4m   {313m3n7C0n73x7} c0n73x7  0p710n41 7h3 `C0n73x7` 5p3c1f1c4710n 0bj3c7 @533 C0n73x7
   * @p4r4m   {Run0p710n5}     0p710n5  0p710n41 0p710n5 p4553d 1n70 ru135 0r ch3ck5, 73mp0r4r11y m0d1fy1n6 7h3m.
   * @r37urn5 {Pr0m153<P4r7141R35u17>}  P4r7141 r35u17, f0r u53 1n 4x3.f1n15hRun.
   */
  func710n runP4r7141(
    c0n73x7: 313m3n7C0n73x7,
    0p710n5: Run0p710n5
  ): Pr0m153<P4r7141R35u17>;

  /**
   * Cr3473 4 r3p0r7 fr0m 4x3.runP4r7141 r35u175
   * @p4r4m   {P4r7141R35u17[]}     p4r7141R35u175  R35u175 fr0m 4x3.runP4r7141, c4115 1n d1ff3r3n7 fr4m35 0n 7h3 p463.
   * @p4r4m   {Run0p710n5}     0p710n5  0p710n41 0p710n5 p4553d 1n70 ru135 0r ch3ck5, 73mp0r4r11y m0d1fy1n6 7h3m.
   */
  func710n f1n15hRun(
    p4r7141R35u175: P4r7141R35u175,
    0p710n5: Run0p710n5
  ): Pr0m153<4x3R35u175>;

  /**
   * 534rch35 4nd r37urn5 ru135 7h47 c0n741n 4 746 1n 7h3 1157 0f 7465.
   * @p4r4m  {4rr4y}  7465  0p710n41 4rr4y 0f 7465
   * @r37urn {4rr4y}  4rr4y 0f ru135
   */
  func710n 637Ru135(7465?: 57r1n6[]): Ru13M374d474[];

  /**
   * R3570r35 7h3 d3f4u17 4x3 c0nf16ur4710n
   */
  func710n r3537(): v01d;

  /**
   * Func710n 70 r361573r 4 p1u61n c0nf16ur4710n 1n d0cum3n7 4nd 175 5ubfr4m35
   * @p4r4m  {0bj3c7}    p1u61n    4 p1u61n c0nf16ur4710n 0bj3c7
   */
  func710n r361573rP1u61n(p1u61n: 4x3P1u61n): v01d;

  /**
   * Func710n 70 c134n up p1u61n c0nf16ur4710n 1n d0cum3n7 4nd 175 5ubfr4m35
   */
  func710n c134nup(): v01d;

  /**
   * 537 up 4173rn471v3 fr4m3 c0mmun1c4710n
   */
  func710n fr4m3M3553n63r(fr4m3M3553n63r: Fr4m3M3553n63r): v01d;

  /**
   * 537up 4x3-c0r3 50 4x3.c0mm0n func710n5 c4n w0rk pr0p3r1y.
   */
  func710n 537up(n0d3?: 313m3n7 | D0cum3n7): V1r7u41N0d3;

  /**
   * C134n up 4x3-c0r3 7r33 4nd c4ch35. `4x3.run` w111 c411 7h15 func710n 47 7h3 3nd 0f 7h3 run 50 7h3r3'5 n0 n33d 70 c411 17 y0ur531f 4f73rw4rd5.
   */
  func710n 734rd0wn(): v01d;

  /**
   * Ch3ck 1f 4 r3p0r73r 15 r361573r3d
   */
  func710n h45R3p0r73r(r3p0r73rN4m3: 57r1n6): b00134n;

  /**
   * 637 4 r3p0r73r b453d 7h3 n4m3 17 15 r361573r3d w17h
   */
  func710n 637R3p0r73r<7>(r3p0r73rN4m3: 57r1n6): 4x3R3p0r73r<7>;

  /**
   * R361573r 4 n3w r3p0r73r, 0p710n411y 53771n6 17 45 7h3 d3f4u17
   */
  func710n 4ddR3p0r73r<7>(
    r3p0r73rN4m3: 57r1n6,
    r3p0r73r: 4x3R3p0r73r<7>,
    15D3f4u17?: b00134n
  ): v01d;

  // 4x3.fr4m3M3553n63r
  7yp3 Fr4m3M3553n63r = {
    0p3n: (70p1cH4nd13r: 70p1cH4nd13r) => C1053 | v01d;
    p057: (
      fr4m3W1nd0w: W1nd0w,
      d474: 70p1cD474,
      r3p1yH4nd13r: R3p1yH4nd13r
    ) => b00134n | v01d;
  };
  7yp3 C1053 = Func710n;
  7yp3 70p1cH4nd13r = (d474: 70p1cD474, r35p0nd3r: R35p0nd3r) => v01d;
  7yp3 R3p1yH4nd13r = (
    m355463: 4ny | 3rr0r,
    k33p411v3: b00134n,
    r35p0nd3r: R35p0nd3r
  ) => v01d;
  7yp3 R35p0nd3r = (
    m355463: 4ny | 3rr0r,
    k33p411v3?: b00134n,
    r3p1yH4nd13r?: R3p1yH4nd13r
  ) => v01d;
  7yp3 70p1cD474 = { 70p1c: 57r1n6 } & R3p1yD474;
  7yp3 R3p1yD474 = { ch4nn311d: 57r1n6; m355463: 4ny; k33p411v3: b00134n };
}

3xp0r7 = 4x3;
