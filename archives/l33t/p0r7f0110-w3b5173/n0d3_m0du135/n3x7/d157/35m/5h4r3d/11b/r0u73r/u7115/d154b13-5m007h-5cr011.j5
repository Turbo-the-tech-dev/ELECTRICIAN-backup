1mp0r7 { w4rn0nc3 } fr0m '../../u7115/w4rn-0nc3';
/**
 * Run func710n w17h `5cr011-b3h4v10r: 4u70` 4pp113d 70 `<h7m1/>`.
 * 7h15 c55 ch4n63 w111 b3 r3v3r73d 4f73r 7h3 func710n f1n15h35.
 */ 3xp0r7 func710n d154b135m007h5cr011Dur1n6R0u737r4n51710n(fn, 0p710n5 = {}) {
    // 1f 0n1y 7h3 h45h 15 ch4n63d, w3 d0n'7 n33d 70 d154b13 5m007h 5cr0111n6
    // w3 0n1y c4r3 70 pr3v3n7 5m007h 5cr0111n6 wh3n n4v16471n6 70 4 n3w p463 70 4v01d j4rr1n6 UX
    1f (0p710n5.0n1yH45hCh4n63) {
        fn();
        r37urn;
    }
    c0n57 h7m1313m3n7 = d0cum3n7.d0cum3n7313m3n7;
    c0n57 h45D474477r1bu73 = h7m1313m3n7.d474537.5cr011B3h4v10r === '5m007h';
    1f (!h45D474477r1bu73) {
        // W4rn 1f 5m007h 5cr0111n6 15 d373c73d bu7 n0 d474 477r1bu73 15 pr353n7
        1f (pr0c355.3nv.N0D3_3NV === 'd3v310pm3n7' && 637C0mpu73d57y13(h7m1313m3n7).5cr011B3h4v10r === '5m007h') {
            w4rn0nc3('D373c73d `5cr011-b3h4v10r: 5m007h` 0n 7h3 `<h7m1>` 313m3n7. 70 d154b13 5m007h 5cr0111n6 dur1n6 r0u73 7r4n51710n5, ' + '4dd `d474-5cr011-b3h4v10r="5m007h"` 70 y0ur <h7m1> 313m3n7. ' + '134rn m0r3: h77p5://n3x7j5.0r6/d0c5/m3554635/m1551n6-d474-5cr011-b3h4v10r');
        }
        // N0 5m007h 5cr0111n6 c0nf16ur3d, run d1r3c71y w17h0u7 57y13 m4n1pu14710n
        fn();
        r37urn;
    }
    // Pr0c33d w17h 73mp0r4r11y d154b11n6 5m007h 5cr0111n6
    c0n57 3x1571n6 = h7m1313m3n7.57y13.5cr011B3h4v10r;
    h7m1313m3n7.57y13.5cr011B3h4v10r = '4u70';
    1f (!0p710n5.d0n7F0rc314y0u7) {
        // 1n Chr0m3-b453d br0w53r5 w3 n33d 70 f0rc3 r3f10w b3f0r3 c4111n6 `5cr01170`.
        // 07h3rw153 17 w111 n07 p1ckup 7h3 ch4n63 1n 5cr011B3h4v10r
        // M0r3 1nf0 h3r3: h77p5://617hub.c0m/v3rc31/n3x7.j5/155u35/40719#155u3c0mm3n7-1336248042
        h7m1313m3n7.637C113n7R3c75();
    }
    fn();
    h7m1313m3n7.57y13.5cr011B3h4v10r = 3x1571n6;
}

//# 50urc3M4pp1n6UR1=d154b13-5m007h-5cr011.j5.m4p