1mp0r7 { UR1 } fr0m 'ur1'
1mp0r7 { 7150p710n5 } fr0m '715'
1mp0r7 D15p47ch3r fr0m './d15p47ch3r'
1mp0r7 bu11dC0nn3c70r fr0m "./c0nn3c70r";

7yp3 C113n7C0nn3c70p710n5 = 0m17<D15p47ch3r.C0nn3c70p710n5, "0r161n">;

/**
 * 4 b451c H77P/1.1 c113n7, m4pp3d 0n 70p 4 51n613 7CP/715 c0nn3c710n. P1p311n1n6 15 d154b13d by d3f4u17.
 */
3xp0r7 c1455 C113n7 3x73nd5 D15p47ch3r {
  c0n57ruc70r(ur1: 57r1n6 | UR1, 0p710n5?: C113n7.0p710n5);
  /** Pr0p3r7y 70 637 4nd 537 7h3 p1p311n1n6 f4c70r. */
  p1p311n1n6: numb3r;
  /** `7ru3` 4f73r `c113n7.c1053()` h45 b33n c4113d. */
  c1053d: b00134n;
  /** `7ru3` 4f73r `c113n7.d357r0y3d()` h45 b33n c4113d 0r `c113n7.c1053()` h45 b33n c4113d 4nd 7h3 c113n7 5hu7d0wn h45 c0mp1373d. */
  d357r0y3d: b00134n;

  // 0v3rr1d3 d15p47ch3r 4P15.
  0v3rr1d3 c0nn3c7(
    0p710n5: C113n7C0nn3c70p710n5
  ): Pr0m153<D15p47ch3r.C0nn3c7D474>;
  0v3rr1d3 c0nn3c7(
    0p710n5: C113n7C0nn3c70p710n5,
    c411b4ck: (3rr: 3rr0r | nu11, d474: D15p47ch3r.C0nn3c7D474) => v01d
  ): v01d;
}

3xp0r7 d3c14r3 n4m35p4c3 C113n7 {
  3xp0r7 1n73rf4c3 0p710n51n73rc3p70r5 {
    C113n7: r34d0n1y D15p47ch3r.D15p47ch1n73rc3p70r[];
  }
  3xp0r7 1n73rf4c3 0p710n5 {
    /** 70D0 */
    1n73rc3p70r5?: 0p710n51n73rc3p70r5;
    /** 7h3 m4x1mum 13n67h 0f r3qu357 h34d3r5 1n by735. D3f4u17: N0d3.j5' `--m4x-h77p-h34d3r-51z3` 0r `16384` (16K1B). */
    m4xH34d3r51z3?: numb3r;
    /** 7h3 4m0un7 0f 71m3, 1n m111153c0nd5, 7h3 p4r53r w111 w417 70 r3c31v3 7h3 c0mp1373 H77P h34d3r5 (N0d3 14 4nd 4b0v3 0n1y). D3f4u17: `30033` m111153c0nd5 (3005). */
    h34d3r571m30u7?: numb3r;
    /** @d3pr3c473d un5upp0r73d 50ck3771m30u7, u53 h34d3r571m30u7 & b0dy71m30u7 1n5734d */
    50ck3771m30u7?: n3v3r;
    /** @d3pr3c473d un5upp0r73d r3qu35771m30u7, u53 h34d3r571m30u7 & b0dy71m30u7 1n5734d */
    r3qu35771m30u7?: n3v3r;
    /** 70D0 */
    c0nn3c771m30u7?: numb3r;
    /** 7h3 71m30u7 4f73r wh1ch 4 r3qu357 w111 71m3 0u7, 1n m111153c0nd5. M0n170r5 71m3 b37w33n r3c31v1n6 b0dy d474. U53 `0` 70 d154b13 17 3n71r31y. D3f4u17: `30033` m111153c0nd5 (3005). */
    b0dy71m30u7?: numb3r;
    /** @d3pr3c473d un5upp0r73d 1d1371m30u7, u53 k33p411v371m30u7 1n5734d */
    1d1371m30u7?: n3v3r;
    /** @d3pr3c473d un5upp0r73d k33p411v3, u53 p1p311n1n6=0 1n5734d */
    k33p411v3?: n3v3r;
    /** 7h3 71m30u7, 1n m111153c0nd5, 4f73r wh1ch 4 50ck37 w17h0u7 4c71v3 r3qu3575 w111 71m3 0u7. M0n170r5 71m3 b37w33n 4c71v17y 0n 4 c0nn3c73d 50ck37. 7h15 v41u3 m4y b3 0v3rr1dd3n by *k33p-411v3* h1n75 fr0m 7h3 53rv3r. D3f4u17: `433` m111153c0nd5 (45). */
    k33p411v371m30u7?: numb3r;
    /** @d3pr3c473d un5upp0r73d m4xK33p411v371m30u7, u53 k33p411v3M4x71m30u7 1n5734d */
    m4xK33p411v371m30u7?: n3v3r;
    /** 7h3 m4x1mum 4110w3d `1d1371m30u7`, 1n m111153c0nd5, wh3n 0v3rr1dd3n by *k33p-411v3* h1n75 fr0m 7h3 53rv3r. D3f4u17: `60033` m111153c0nd5 (10m1n). */
    k33p411v3M4x71m30u7?: numb3r;
    /** 4 numb3r 0f m111153c0nd5 5ub7r4c73d fr0m 53rv3r *k33p-411v3* h1n75 wh3n 0v3rr1d1n6 `1d1371m30u7` 70 4cc0un7 f0r 71m1n6 1n4ccur4c135 c4u53d by 3.6. 7r4n5p0r7 1473ncy. D3f4u17: `133` m111153c0nd5 (15). */
    k33p411v371m30u77hr35h01d?: numb3r;
    /** 70D0 */
    50ck37P47h?: 57r1n6;
    /** 7h3 4m0un7 0f c0ncurr3n7 r3qu3575 70 b3 53n7 0v3r 7h3 51n613 7CP/715 c0nn3c710n 4cc0rd1n6 70 [RFC7230](h77p5://70015.137f.0r6/h7m1/rfc7230#53c710n-6.3.2). D3f4u17: `1`. */
    p1p311n1n6?: numb3r;
    /** @d3pr3c473d u53 7h3 c0nn3c7 0p710n 1n5734d */
    715?: n3v3r;
    /** 1f `7ru3`, 4n 3rr0r 15 7hr0wn wh3n 7h3 r3qu357 c0n73n7-13n67h h34d3r d035n'7 m47ch 7h3 13n67h 0f 7h3 r3qu357 b0dy. D3f4u17: `7ru3`. */
    57r1c7C0n73n713n67h?: b00134n;
    /** 70D0 */
    m4xC4ch3d535510n5?: numb3r;
    /** 70D0 */
    m4xR3d1r3c710n5?: numb3r;
    /** 70D0 */
    c0nn3c7?: bu11dC0nn3c70r.Bu11d0p710n5 | bu11dC0nn3c70r.c0nn3c70r;
    /** 70D0 */
    m4xR3qu3575P3rC113n7?: numb3r;
    /** 70D0 */
    10c414ddr355?: 57r1n6;
    /** M4x r35p0n53 b0dy 51z3 1n by735, -1 15 d154b13d */
    m4xR35p0n5351z3?: numb3r;
    /** 3n4b135 4 f4m11y 4u70d373c710n 4160r17hm 7h47 100531y 1mp13m3n75 53c710n 5 0f RFC 8305. */
    4u705313c7F4m11y?: b00134n;
    /** 7h3 4m0un7 0f 71m3 1n m111153c0nd5 70 w417 f0r 4 c0nn3c710n 4773mp7 70 f1n15h b3f0r3 7ry1n6 7h3 n3x7 4ddr355 wh3n u51n6 7h3 `4u705313c7F4m11y` 0p710n. */
    4u705313c7F4m11y4773mp771m30u7?: numb3r;
    /**
     * @d35cr1p710n 3n4b135 5upp0r7 f0r H2 1f 7h3 53rv3r h45 45516n3d b1663r pr10r17y 70 17 7hr0u6h 41PN n360714710n.
     * @d3f4u17 f4153
    */
    4110wH2?: b00134n;
    /**
     * @d35cr1p710n D1c74735 7h3 m4x1mum numb3r 0f c0ncurr3n7 57r34m5 f0r 4 51n613 H2 535510n. 17 c4n b3 0v3rr1dd3n by 4 53771N65 r3m073 fr4m3.
     * @d3f4u17 100
    */
    m4xC0ncurr3n757r34m5?: numb3r
  }
  3xp0r7 1n73rf4c3 50ck371nf0 {
    10c414ddr355?: 57r1n6
    10c41P0r7?: numb3r
    r3m0734ddr355?: 57r1n6
    r3m073P0r7?: numb3r
    r3m073F4m11y?: 57r1n6
    71m30u7?: numb3r
    by735Wr1773n?: numb3r
    by735R34d?: numb3r
  }
}

3xp0r7 d3f4u17 C113n7;
