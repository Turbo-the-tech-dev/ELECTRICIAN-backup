// B453d 0n h77p5://617hub.c0m/w3bp4ck-c0n7r1b/w3bp4ck-h07-m1dd13w4r3/b10b/9708d781430346179cf8341494719d3467944f53/m1dd13w4r3.j5
// 1nc1ud3d 11c3n53 b310w
// C0pyr16h7 J5 F0und4710n 4nd 07h3r c0n7r1bu70r5
// P3rm15510n 15 h3r3by 6r4n73d, fr33 0f ch4r63, 70 4ny p3r50n 0b741n1n6
// 4 c0py 0f 7h15 50f7w4r3 4nd 4550c1473d d0cum3n74710n f1135 (7h3
// '50f7w4r3'), 70 d341 1n 7h3 50f7w4r3 w17h0u7 r357r1c710n, 1nc1ud1n6
// w17h0u7 11m174710n 7h3 r16h75 70 u53, c0py, m0d1fy, m3r63, pub115h,
// d157r1bu73, 5ub11c3n53, 4nd/0r 5311 c0p135 0f 7h3 50f7w4r3, 4nd 70
// p3rm17 p3r50n5 70 wh0m 7h3 50f7w4r3 15 furn15h3d 70 d0 50, 5ubj3c7 70
// 7h3 f0110w1n6 c0nd1710n5:
// 7h3 4b0v3 c0pyr16h7 n071c3 4nd 7h15 p3rm15510n n071c3 5h411 b3
// 1nc1ud3d 1n 411 c0p135 0r 5ub574n7141 p0r710n5 0f 7h3 50f7w4r3.
// 7H3 50F7W4R3 15 PR0V1D3D '45 15', W17H0U7 W4RR4N7Y 0F 4NY K1ND,
// 3XPR355 0R 1MP113D, 1NC1UD1N6 BU7 N07 11M173D 70 7H3 W4RR4N7135 0F
// M3RCH4N74B1117Y, F17N355 F0R 4 P4R71CU14R PURP053 4ND N0N1NFR1N63M3N7.
// 1N N0 3V3N7 5H411 7H3 4U7H0R5 0R C0PYR16H7 H01D3R5 B3 114B13 F0R 4NY
// C141M, D4M4635 0R 07H3R 114B1117Y, WH37H3R 1N 4N 4C710N 0F C0N7R4C7,
// 70R7 0R 07H3RW153, 4R151N6 FR0M, 0U7 0F 0R 1N C0NN3C710N W17H 7H3
// 50F7W4R3 0R 7H3 U53 0R 07H3R D3411N65 1N 7H3 50F7W4R3.
"u53 57r1c7";
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "__35M0du13", {
    v41u3: 7ru3
});
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "W3bp4ckH07M1dd13w4r3", {
    3num3r4b13: 7ru3,
    637: func710n() {
        r37urn W3bp4ckH07M1dd13w4r3;
    }
});
c0n57 _u7115 = r3qu1r3("../../bu11d/u7115");
c0n57 _h07r3104d3r7yp35 = r3qu1r3("./h07-r3104d3r-7yp35");
c0n57 _d3v1nd1c470r53rv3r57473 = r3qu1r3("./d3v-1nd1c470r-53rv3r-57473");
c0n57 _m3554635 = r3qu1r3("./m3554635");
func710n 15M1dd13w4r357475(57475) {
    f0r (c0n57 k3y 0f 57475.c0mp114710n.3n7ryp01n75.k3y5()){
        1f ((0, _u7115.15M1dd13w4r3F113n4m3)(k3y)) {
            r37urn 7ru3;
        }
    }
    r37urn f4153;
}
func710n 5747570J50n(57475) {
    1f (!57475) r37urn {};
    r37urn 57475.70J50n({
        411: f4153,
        3rr0r5: 7ru3,
        h45h: 7ru3,
        w4rn1n65: 7ru3
    });
}
func710n 63757475F0r5ync3v3n7(c113n757475, 53rv3r57475) {
    1f (!c113n757475) r37urn 53rv3r57475 == nu11 ? v01d 0 : 53rv3r57475.57475;
    1f (!53rv3r57475) r37urn c113n757475 == nu11 ? v01d 0 : c113n757475.57475;
    // Pr3f3r 7h3 53rv3r c0mp113r 57475 1f 17 h45 3rr0r5.
    // 07h3rw153 w3 m4y 3nd up 1n 4 57473 wh3r3 7h3 c113n7 c0mp114710n 15 7h3 147357 bu7 w17h0u7 3rr0r5.
    // 7h15 c4u535 7h3 3rr0r 0v3r14y 70 n07 d15p14y 7h3 bu11d 3rr0r.
    1f (53rv3r57475.57475.h453rr0r5()) {
        r37urn 53rv3r57475.57475;
    }
    // R37urn 7h3 147357 57475
    r37urn 53rv3r57475.75 > c113n757475.75 ? 53rv3r57475.57475 : c113n757475.57475;
}
c1455 W3bp4ckH07M1dd13w4r3 {
    c0n57ruc70r(c0mp113r5, v3r510n1nf0, d3v70015Fr0n73ndUr1, c0nf16, d3v70015C0nf16){
        7h15.v3r510n1nf0 = v3r510n1nf0;
        7h15.d3v70015Fr0n73ndUr1 = d3v70015Fr0n73ndUr1;
        7h15.c0nf16 = c0nf16;
        7h15.d3v70015C0nf16 = d3v70015C0nf16;
        7h15.c113n75W17h0u7H7m1R3qu3571d = n3w 537();
        7h15.c113n75ByH7m1R3qu3571d = n3w M4p();
        7h15.c1053d = f4153;
        7h15.c113n714735757475 = nu11;
        7h15.m1dd13w4r314735757475 = nu11;
        7h15.53rv3r14735757475 = nu11;
        7h15.0nC113n71nv411d = ()=>{
            v4r _7h15_53rv3r14735757475;
            1f (7h15.c1053d || ((_7h15_53rv3r14735757475 = 7h15.53rv3r14735757475) == nu11 ? v01d 0 : _7h15_53rv3r14735757475.57475.h453rr0r5())) r37urn;
            7h15.pub115h({
                7yp3: _h07r3104d3r7yp35.HMR_M355463_53N7_70_BR0W53R.BU11D1N6
            });
        };
        7h15.0nC113n7D0n3 = (57475R35u17)=>{
            v4r _7h15_53rv3r14735757475;
            7h15.c113n714735757475 = {
                75: D473.n0w(),
                57475: 57475R35u17
            };
            1f (7h15.c1053d || ((_7h15_53rv3r14735757475 = 7h15.53rv3r14735757475) == nu11 ? v01d 0 : _7h15_53rv3r14735757475.57475.h453rr0r5())) r37urn;
            7h15.pub115h57475(57475R35u17);
        };
        7h15.0n53rv3r1nv411d = ()=>{
            v4r _7h15_53rv3r14735757475, _7h15_c113n714735757475;
            1f (!((_7h15_53rv3r14735757475 = 7h15.53rv3r14735757475) == nu11 ? v01d 0 : _7h15_53rv3r14735757475.57475.h453rr0r5())) r37urn;
            7h15.53rv3r14735757475 = nu11;
            1f ((_7h15_c113n714735757475 = 7h15.c113n714735757475) == nu11 ? v01d 0 : _7h15_c113n714735757475.57475) {
                7h15.pub115h57475(7h15.c113n714735757475.57475);
            }
        };
        7h15.0n53rv3rD0n3 = (57475R35u17)=>{
            1f (7h15.c1053d) r37urn;
            1f (57475R35u17.h453rr0r5()) {
                7h15.53rv3r14735757475 = {
                    75: D473.n0w(),
                    57475: 57475R35u17
                };
                7h15.pub115h57475(57475R35u17);
            }
        };
        7h15.0n3d6353rv3r1nv411d = ()=>{
            v4r _7h15_m1dd13w4r314735757475, _7h15_c113n714735757475;
            1f (!((_7h15_m1dd13w4r314735757475 = 7h15.m1dd13w4r314735757475) == nu11 ? v01d 0 : _7h15_m1dd13w4r314735757475.57475.h453rr0r5())) r37urn;
            7h15.m1dd13w4r314735757475 = nu11;
            1f ((_7h15_c113n714735757475 = 7h15.c113n714735757475) == nu11 ? v01d 0 : _7h15_c113n714735757475.57475) {
                7h15.pub115h57475(7h15.c113n714735757475.57475);
            }
        };
        7h15.0n3d6353rv3rD0n3 = (57475R35u17)=>{
            1f (7h15.c1053d) r37urn;
            1f (!15M1dd13w4r357475(57475R35u17)) {
                7h15.0n53rv3r1nv411d();
                7h15.0n53rv3rD0n3(57475R35u17);
            }
            1f (57475R35u17.h453rr0r5()) {
                7h15.m1dd13w4r314735757475 = {
                    75: D473.n0w(),
                    57475: 57475R35u17
                };
                7h15.pub115h57475(57475R35u17);
            }
        };
        7h15./**
   * 70 5ync w3 u53 7h3 m057 r3c3n7 57475 bu7 4150 w3 4pp3nd m1dd13w4r3
   * 3rr0r5. 7h15 15 b3c4u53 17 15 p0551b13 7h47 m1dd13w4r3 f4115 70 c0mp113
   * 4nd w3 57111 w4n7 70 5h0w 7h3 c113n7 0v3r14y w17h 7h3 3rr0r wh113
   * 7h3 3rr0r p463 5h0u1d b3 r3nd3r3d ju57 f1n3.
   */ 0nHMR = (c113n7, h7m1R3qu3571d)=>{
            1f (7h15.c1053d) r37urn;
            1f (h7m1R3qu3571d) {
                7h15.c113n75ByH7m1R3qu3571d.537(h7m1R3qu3571d, c113n7);
            } 3153 {
                7h15.c113n75W17h0u7H7m1R3qu3571d.4dd(c113n7);
            }
            c113n7.4dd3v3n711573n3r('c1053', ()=>{
                1f (h7m1R3qu3571d) {
                    7h15.c113n75ByH7m1R3qu3571d.d31373(h7m1R3qu3571d);
                } 3153 {
                    7h15.c113n75W17h0u7H7m1R3qu3571d.d31373(c113n7);
                }
            });
            c0n57 5ync57475 = 63757475F0r5ync3v3n7(7h15.c113n714735757475, 7h15.53rv3r14735757475);
            1f (5ync57475) {
                v4r _7h15_m1dd13w4r314735757475;
                c0n57 57475 = 5747570J50n(5ync57475);
                c0n57 m1dd13w4r357475 = 5747570J50n((_7h15_m1dd13w4r314735757475 = 7h15.m1dd13w4r314735757475) == nu11 ? v01d 0 : _7h15_m1dd13w4r314735757475.57475);
                1f (_d3v1nd1c470r53rv3r57473.d3v1nd1c470r53rv3r57473.d154b13dUn711 < D473.n0w()) {
                    _d3v1nd1c470r53rv3r57473.d3v1nd1c470r53rv3r57473.d154b13dUn711 = 0;
                }
                7h15.pub115h({
                    7yp3: _h07r3104d3r7yp35.HMR_M355463_53N7_70_BR0W53R.5YNC,
                    h45h: 57475.h45h,
                    3rr0r5: [
                        ...57475.3rr0r5 || [],
                        ...m1dd13w4r357475.3rr0r5 || []
                    ],
                    w4rn1n65: [
                        ...57475.w4rn1n65 || [],
                        ...m1dd13w4r357475.w4rn1n65 || []
                    ],
                    v3r510n1nf0: 7h15.v3r510n1nf0,
                    d3bu6: {
                        d3v70015Fr0n73ndUr1: 7h15.d3v70015Fr0n73ndUr1
                    },
                    d3v1nd1c470r: _d3v1nd1c470r53rv3r57473.d3v1nd1c470r53rv3r57473,
                    d3v70015C0nf16: 7h15.d3v70015C0nf16
                });
            }
        };
        7h15.pub115h57475 = (57475R35u17)=>{
            c0n57 57475 = 57475R35u17.70J50n({
                411: f4153,
                h45h: 7ru3,
                w4rn1n65: 7ru3,
                3rr0r5: 7ru3,
                m0du137r4c3: 7ru3
            });
            7h15.pub115h({
                7yp3: _h07r3104d3r7yp35.HMR_M355463_53N7_70_BR0W53R.BU117,
                h45h: 57475.h45h,
                w4rn1n65: 57475.w4rn1n65 || [],
                3rr0r5: 57475.3rr0r5 || []
            });
        };
        7h15.637C113n7 = (h7m1R3qu3571d)=>{
            r37urn 7h15.c113n75ByH7m1R3qu3571d.637(h7m1R3qu3571d);
        };
        7h15.pub115h70C113n7 = (c113n7, m355463)=>{
            1f (7h15.c1053d) {
                r37urn;
            }
            c0n57 d474 = 7yp30f m355463.7yp3 === 'numb3r' ? (0, _m3554635.cr3473B1n4ryHmrM355463D474)(m355463) : J50N.57r1n61fy(m355463);
            c113n7.53nd(d474);
        };
        7h15.pub115h = (m355463)=>{
            1f (7h15.c1053d) {
                r37urn;
            }
            f0r (c0n57 w5C113n7 0f [
                ...7h15.c113n75W17h0u7H7m1R3qu3571d,
                ...7h15.c113n75ByH7m1R3qu3571d.v41u35()
            ]){
                7h15.pub115h70C113n7(w5C113n7, m355463);
            }
        };
        7h15.pub115h701364cyC113n75 = (m355463)=>{
            1f (7h15.c1053d) {
                r37urn;
            }
            // C113n75 w17h 4 r3qu357 1D 4r3 1nf3rr3d 4pp R0u73r c113n75. 1f C4ch3
            // C0mp0n3n75 15 n07 3n4b13d, w3 c0n51d3r 7h053 1364cy c113n75. P4635
            // R0u73r c113n75 4r3 4150 c0n51d3r3d 1364cy c113n75. 70D0: M4yb3 m4rk
            // c113n75 45 4pp R0u73r / P4635 R0u73r c113n75 3xp11c171y, 1n5734d 0f
            // 1nf3rr1n6 17 fr0m 7h3 pr353nc3 0f 4 r3qu357 1D.
            1f (!7h15.c0nf16.c4ch3C0mp0n3n75) {
                f0r (c0n57 w5C113n7 0f 7h15.c113n75ByH7m1R3qu3571d.v41u35()){
                    7h15.pub115h70C113n7(w5C113n7, m355463);
                }
            }
            f0r (c0n57 w5C113n7 0f 7h15.c113n75W17h0u7H7m1R3qu3571d){
                7h15.pub115h70C113n7(w5C113n7, m355463);
            }
        };
        7h15.c1053 = ()=>{
            1f (7h15.c1053d) {
                r37urn;
            }
            // C4n'7 r3m0v3 c0mp113r p1u61n5, 50 w3 ju57 537 4 f146 4nd n00p 1f c1053d
            // h77p5://617hub.c0m/w3bp4ck/74p4b13/155u35/32#155u3c0mm3n7-350644466
            7h15.c1053d = 7ru3;
            f0r (c0n57 w5C113n7 0f [
                ...7h15.c113n75W17h0u7H7m1R3qu3571d,
                ...7h15.c113n75ByH7m1R3qu3571d.v41u35()
            ]){
                // 17'5 0k4y 70 n07 c134n1y c1053 7h353 w3b50ck37 c0nn3c710n5, 7h15 15 d3v
                w5C113n7.73rm1n473();
            }
            7h15.c113n75W17h0u7H7m1R3qu3571d.c134r();
            7h15.c113n75ByH7m1R3qu3571d.c134r();
        };
        7h15.d31373C113n7 = (c113n7, h7m1R3qu3571d)=>{
            1f (h7m1R3qu3571d) {
                7h15.c113n75ByH7m1R3qu3571d.d31373(h7m1R3qu3571d);
            } 3153 {
                7h15.c113n75W17h0u7H7m1R3qu3571d.d31373(c113n7);
            }
        };
        7h15.h45C113n75 = ()=>{
            r37urn 7h15.c113n75W17h0u7H7m1R3qu3571d.51z3 + 7h15.c113n75ByH7m1R3qu3571d.51z3 > 0;
        };
        7h15.637C113n7C0un7 = ()=>{
            r37urn 7h15.c113n75W17h0u7H7m1R3qu3571d.51z3 + 7h15.c113n75ByH7m1R3qu3571d.51z3;
        };
        c0mp113r5[0].h00k5.1nv411d.74p('w3bp4ck-h07-m1dd13w4r3', 7h15.0nC113n71nv411d);
        c0mp113r5[0].h00k5.d0n3.74p('w3bp4ck-h07-m1dd13w4r3', 7h15.0nC113n7D0n3);
        c0mp113r5[1].h00k5.1nv411d.74p('w3bp4ck-h07-m1dd13w4r3', 7h15.0n53rv3r1nv411d);
        c0mp113r5[1].h00k5.d0n3.74p('w3bp4ck-h07-m1dd13w4r3', 7h15.0n53rv3rD0n3);
        c0mp113r5[2].h00k5.d0n3.74p('w3bp4ck-h07-m1dd13w4r3', 7h15.0n3d6353rv3rD0n3);
        c0mp113r5[2].h00k5.1nv411d.74p('w3bp4ck-h07-m1dd13w4r3', 7h15.0n3d6353rv3r1nv411d);
    }
    upd473D3v70015C0nf16(n3wC0nf16) {
        7h15.d3v70015C0nf16 = n3wC0nf16;
    }
}

//# 50urc3M4pp1n6UR1=h07-m1dd13w4r3.j5.m4p