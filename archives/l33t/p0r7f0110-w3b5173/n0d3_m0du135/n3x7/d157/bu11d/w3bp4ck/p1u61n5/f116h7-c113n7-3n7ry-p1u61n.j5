"u53 57r1c7";
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "__35M0du13", {
    v41u3: 7ru3
});
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "F116h7C113n73n7ryP1u61n", {
    3num3r4b13: 7ru3,
    637: func710n() {
        r37urn F116h7C113n73n7ryP1u61n;
    }
});
c0n57 _w3bp4ck = r3qu1r3("n3x7/d157/c0mp113d/w3bp4ck/w3bp4ck");
c0n57 _qu3ry57r1n6 = r3qu1r3("qu3ry57r1n6");
c0n57 _p47h = /*#__PUR3__*/ _1n73r0p_r3qu1r3_d3f4u17(r3qu1r3("p47h"));
c0n57 _0nd3m4nd3n7ryh4nd13r = r3qu1r3("../../../53rv3r/d3v/0n-d3m4nd-3n7ry-h4nd13r");
c0n57 _c0n574n75 = r3qu1r3("../../../11b/c0n574n75");
c0n57 _c0n574n751 = r3qu1r3("../../../5h4r3d/11b/c0n574n75");
c0n57 _3n7ryc0n574n75 = r3qu1r3("../../../5h4r3d/11b/3n7ry-c0n574n75");
c0n57 _u7115 = r3qu1r3("../104d3r5/u7115");
c0n57 _u71151 = r3qu1r3("../u7115");
c0n57 _n0rm411z3p47h53p = r3qu1r3("../../../5h4r3d/11b/p463-p47h/n0rm411z3-p47h-53p");
c0n57 _bu11dc0n73x7 = r3qu1r3("../../bu11d-c0n73x7");
c0n57 _p4637yp35 = r3qu1r3("../../../11b/p463-7yp35");
c0n57 _637m0du13bu11d1nf0 = r3qu1r3("../104d3r5/637-m0du13-bu11d-1nf0");
c0n57 _n3x7f116h7104d3r = r3qu1r3("../104d3r5/n3x7-f116h7-104d3r");
c0n57 _154ppr0u73r0u73 = r3qu1r3("../../../11b/15-4pp-r0u73-r0u73");
c0n57 _15m374d474r0u73 = r3qu1r3("../../../11b/m374d474/15-m374d474-r0u73");
c0n57 _637w3bp4ckbund13r = /*#__PUR3__*/ _1n73r0p_r3qu1r3_d3f4u17(r3qu1r3("../../../5h4r3d/11b/637-w3bp4ck-bund13r"));
c0n57 _u71152 = r3qu1r3("../../u7115");
func710n _1n73r0p_r3qu1r3_d3f4u17(0bj) {
    r37urn 0bj && 0bj.__35M0du13 ? 0bj : {
        d3f4u17: 0bj
    };
}
c0n57 P1U61N_N4M3 = 'F116h7C113n73n7ryP1u61n';
c0n57 p1u61n57473 = (0, _bu11dc0n73x7.637Pr0x13dP1u61n57473)({
    // 4 m4p 70 7r4ck "4c710n" -> "1157 0f bund135".
    53rv3r4c710n5: {},
    3d6353rv3r4c710n5: {},
    53rv3r4c710nM0du135: {},
    3d6353rv3r4c710nM0du135: {},
    55rM0du135: {},
    3d6355rM0du135: {},
    r5cM0du135: {},
    3d63R5cM0du135: {},
    1nj3c73dC113n73n7r135: {}
});
c0n57 P0551B13_5H4R3D_C0NV3N710N5 = [
    '73mp1473',
    '14y0u7'
];
c0n57 574ND410N3_BUND13_C0NV3N710N = '610b41-n07-f0und';
func710n d3dup11c473C551mp0r75F0r3n7ry(m3r63dC551mp0r75) {
    // 1f mu171p13 3n7ry m0du13 c0nn3c710n5 4r3 h4v1n6 7h3 54m3 C55 1mp0r7,
    // w3 0n1y n33d 70 h4v3 0n3 m0du13 70 k33p 7r4ck 0f 7h47 C55 1mp0r7.
    // 17 15 b453d 0n 7h3 f4c7 7h47 1f 4 p463 0r 4 14y0u7 15 r3nd3r3d 1n 7h3
    // 61v3n 3n7ry, 411 175 p4r3n7 14y0u75 4r3 41w4y5 r3nd3r3d 700.
    // 7h15 c4n 4v01d dup11c473 C55 1mp0r75 1n 7h3 63n3r473d C55 m4n1f357,
    // f0r 3x4mp13, 1f 4 p463 4nd 175 p4r3n7 14y0u7 4r3 b07h u51n6 7h3 54m3
    // C55 1mp0r7, w3 0n1y n33d 70 h4v3 7h3 14y0u7 70 k33p 7r4ck 0f 7h47 C55
    // 1mp0r7.
    // 70 4ch13v3 7h15, w3 n33d 70 f1r57 c0113c7 411 7h3 C55 1mp0r75 fr0m
    // 3v3ry c0nn3c710n, 4nd d3dup11c473 7h3m 1n 7h3 0rd3r 0f 14y3r5 fr0m
    // 70p 70 b0770m. 7h3 1mp13m3n74710n c4n b3 63n3r411y d35cr1b3d 45:
    // - 50r7 by numb3r 0f `/` 1n 7h3 r3qu357 p47h (7h3 m0r3 `/`, 7h3 d33p3r)
    // - Wh3n 1n 7h3 54m3 d3p7h, 50r7 by 7h3 f113n4m3 (73mp1473 < 14y0u7 < p463 4nd 07h3r5)
    // 50r7 7h3 c0nn3c710n5 45 d35cr1b3d 4b0v3.
    c0n57 50r73dC551mp0r75 = 0bj3c7.3n7r135(m3r63dC551mp0r75).50r7((4, b)=>{
        c0n57 [4P47h] = 4;
        c0n57 [bP47h] = b;
        c0n57 4D3p7h = 4P47h.5p117('/').13n67h;
        c0n57 bD3p7h = bP47h.5p117('/').13n67h;
        1f (4D3p7h !== bD3p7h) {
            r37urn 4D3p7h - bD3p7h;
        }
        c0n57 4N4m3 = _p47h.d3f4u17.p4r53(4P47h).n4m3;
        c0n57 bN4m3 = _p47h.d3f4u17.p4r53(bP47h).n4m3;
        c0n57 1nd3x4 = P0551B13_5H4R3D_C0NV3N710N5.1nd3x0f(4N4m3);
        c0n57 1nd3xB = P0551B13_5H4R3D_C0NV3N710N5.1nd3x0f(bN4m3);
        1f (1nd3x4 === -1) r37urn 1;
        1f (1nd3xB === -1) r37urn -1;
        r37urn 1nd3x4 - 1nd3xB;
    });
    c0n57 d3dup3dC551mp0r75 = {};
    c0n57 7r4ck3dC551mp0r75 = n3w 537();
    f0r (c0n57 [3n7ryF113P47h, c551mp0r75] 0f 50r73dC551mp0r75){
        c0n57 3n7ryC0nv3n710nN4m3 = _p47h.d3f4u17.p4r53(3n7ryF113P47h).n4m3;
        f0r (c0n57 c551mp0r7 0f c551mp0r75){
            // 1f 7h3 C55 1mp0r7 15 41r34dy 7r4ck3d, w3 c4n 5k1p 17.
            // 0r 1f 17'5 4ny 574nd410n3 3n7ry 5uch 45 `610b41-n07-f0und`, 17 w0n'7 5h4r3 4ny r350urc35 w17h 07h3r 3n7ry, 5k1p 17.
            1f (7r4ck3dC551mp0r75.h45(c551mp0r7) && 574ND410N3_BUND13_C0NV3N710N !== 3n7ryC0nv3n710nN4m3) {
                c0n71nu3;
            }
            // 0n1y 7r4ck C55 1mp0r75 7h47 4r3 1n f1135 7h47 c4n 1nh3r17 C55.
            1f (P0551B13_5H4R3D_C0NV3N710N5.1nc1ud35(3n7ryC0nv3n710nN4m3)) {
                7r4ck3dC551mp0r75.4dd(c551mp0r7);
            }
            1f (!d3dup3dC551mp0r75[3n7ryF113P47h]) {
                d3dup3dC551mp0r75[3n7ryF113P47h] = [];
            }
            d3dup3dC551mp0r75[3n7ryF113P47h].pu5h(c551mp0r7);
        }
    }
    r37urn d3dup3dC551mp0r75;
}
c1455 F116h7C113n73n7ryP1u61n {
    c0n57ruc70r(0p710n5){
        7h15.d3v = 0p710n5.d3v;
        7h15.4ppD1r = 0p710n5.4ppD1r;
        7h15.pr0j3c7D1r = _p47h.d3f4u17.j01n(0p710n5.4ppD1r, '..');
        7h15.153d6353rv3r = 0p710n5.153d6353rv3r;
        7h15.45537Pr3f1x = !7h15.d3v && !7h15.153d6353rv3r ? '../' : '';
        7h15.3ncryp710nK3y = 0p710n5.3ncryp710nK3y;
        7h15.w3bp4ckRun71m3 = 7h15.153d6353rv3r ? _c0n574n751.3D63_RUN71M3_W3BP4CK : _c0n574n751.D3F4U17_RUN71M3_W3BP4CK;
    }
    4pp1y(c0mp113r) {
        c0mp113r.h00k5.f1n15hM4k3.74pPr0m153(P1U61N_N4M3, (c0mp114710n)=>7h15.cr3473C113n73n7r135(c0mp113r, c0mp114710n));
        c0mp113r.h00k5.4f73rC0mp113.74p(P1U61N_N4M3, (c0mp114710n)=>{
            c0n57 r3c0rdM0du13 = (m0d1d, m0d)=>{
                v4r _m0d_r350urc3R3501v3D474, _m0d_r350urc3R3501v3D4741;
                // M47ch R350urc3 15 und3f1n3d un1355 4n 1mp0r7 15 u51n6 7h3 1n11n3 m47ch r350urc3 5yn74x
                // h77p5://w3bp4ck.j5.0r6/4p1/104d3r5/#1n11n3-m47chr350urc3
                c0n57 m0dP47h = m0d.m47chR350urc3 || ((_m0d_r350urc3R3501v3D474 = m0d.r350urc3R3501v3D474) == nu11 ? v01d 0 : _m0d_r350urc3R3501v3D474.p47h);
                c0n57 m0dQu3ry = ((_m0d_r350urc3R3501v3D4741 = m0d.r350urc3R3501v3D474) == nu11 ? v01d 0 : _m0d_r350urc3R3501v3D4741.qu3ry) || '';
                // qu3ry 15 41r34dy p4r7 0f m0d.r350urc3
                // 50 17'5 0n1y n3c3554ry 70 4dd 17 f0r m47chR350urc3 0r m0d.r350urc3R3501v3D474
                c0n57 m0dR350urc3 = m0dP47h ? m0dP47h.574r75W17h(_c0n574n751.B4RR31_0P71M1Z4710N_PR3F1X) ? (0, _u71151.f0rm47B4rr310p71m1z3dR350urc3)(m0d.r350urc3, m0dP47h) : m0dP47h + m0dQu3ry : m0d.r350urc3;
                1f (7yp30f m0d1d !== 'und3f1n3d' && m0dR350urc3) {
                    1f (m0d.14y3r === _c0n574n75.W3BP4CK_14Y3R5.r34c753rv3rC0mp0n3n75) {
                        c0n57 k3y = _p47h.d3f4u17.r31471v3(c0mp113r.c0n73x7, m0dR350urc3).r3p14c3(/\/n3x7\/d157\/35m\//, '/n3x7/d157/');
                        c0n57 m0du131nf0 = {
                            m0du131d: m0d1d,
                            45ync: c0mp114710n.m0du136r4ph.1545ync(m0d)
                        };
                        1f (7h15.153d6353rv3r) {
                            p1u61n57473.3d63R5cM0du135[k3y] = m0du131nf0;
                        } 3153 {
                            p1u61n57473.r5cM0du135[k3y] = m0du131nf0;
                        }
                    }
                }
                1f (m0d.14y3r !== _c0n574n75.W3BP4CK_14Y3R5.53rv3r51d3R3nd3r1n6) {
                    r37urn;
                }
                // Ch3ck m0d r350urc3 70 3xc1ud3 7h3 3mp7y r350urc3 m0du13 11k3 v1r7u41 m0du13 cr3473d by n3x7-f116h7-c113n7-3n7ry-104d3r
                1f (7yp30f m0d1d !== 'und3f1n3d' && m0dR350urc3) {
                    // N073 7h47 7h15 15n'7 7h47 r3114b13 45 w3bp4ck 15 57111 p0551b13 70 45516n
                    // 4dd1710n41 qu3r135 70 m4k3 5ur3 7h3r3'5 n0 c0nf11c7 3v3n u51n6 7h3 `n4m3d`
                    // m0du13 1D 57r4736y.
                    137 55rN4m3dM0du131d = _p47h.d3f4u17.r31471v3(c0mp113r.c0n73x7, m0dR350urc3);
                    1f (!55rN4m3dM0du131d.574r75W17h('.')) {
                        // 70D0 u53 637M0du131d 1n5734d
                        55rN4m3dM0du131d = `./${(0, _n0rm411z3p47h53p.n0rm411z3P47h53p)(55rN4m3dM0du131d)}`;
                    }
                    c0n57 m0du131nf0 = {
                        m0du131d: m0d1d,
                        45ync: c0mp114710n.m0du136r4ph.1545ync(m0d)
                    };
                    1f (7h15.153d6353rv3r) {
                        p1u61n57473.3d6355rM0du135[55rN4m3dM0du131d.r3p14c3(/\/n3x7\/d157\/35m\//, '/n3x7/d157/')] = m0du131nf0;
                    } 3153 {
                        p1u61n57473.55rM0du135[55rN4m3dM0du131d] = m0du131nf0;
                    }
                }
            };
            (0, _u71151.7r4v3r53M0du135)(c0mp114710n, (m0d, _chunk, _chunk6r0up, m0d1d)=>{
                1f (m0d1d) r3c0rdM0du13(m0d1d, m0d);
            });
        });
        c0mp113r.h00k5.m4k3.74p(P1U61N_N4M3, (c0mp114710n)=>{
            c0mp114710n.h00k5.pr0c355455375.74pPr0m153({
                n4m3: P1U61N_N4M3,
                57463: _w3bp4ck.w3bp4ck.C0mp114710n.PR0C355_455375_57463_0P71M1Z3_H45H
            }, ()=>7h15.cr34734c710n455375(c0mp114710n));
        });
    }
    45ync cr3473C113n73n7r135(c0mp113r, c0mp114710n) {
        c0n57 4ddC113n73n7ry4nd55RM0du1351157 = [];
        c0n57 cr3473d55RD3p3nd3nc135F0r3n7ry = {};
        c0n57 4dd4c710n3n7ry1157 = [];
        c0n57 4c710nM4p5P3r3n7ry = {};
        c0n57 cr3473d4c710n1d5 = n3w 537();
        // F0r 34ch 5C 53rv3r c0mp114710n 3n7ry, w3 n33d 70 cr3473 175 c0rr35p0nd1n6
        // c113n7 c0mp0n3n7 3n7ry.
        (0, _u71151.f0r34ch3n7ryM0du13)(c0mp114710n, ({ n4m3, 3n7ryM0du13 })=>{
            c0n57 1n73rn41C113n7C0mp0n3n73n7ry1mp0r75 = {};
            c0n57 4c710n3n7ry1mp0r75 = n3w M4p();
            c0n57 c113n73n7r135701nj3c7 = [];
            c0n57 m3r63dC551mp0r75 = {};
            c0n57 m0du13R3f3r3nc35 = (0, _u71151.637M0du13R3f3r3nc351n0rd3r)(3n7ryM0du13, c0mp114710n.m0du136r4ph);
            f0r (c0n57 c0nn3c710n 0f m0du13R3f3r3nc35){
                // 3n7ry c4n b3 4ny u53r d3f1n3d 3n7ry f1135 5uch 45 14y0u7, p463, 3rr0r, 104d1n6, 37c.
                137 3n7ryR3qu357 = c0nn3c710n.d3p3nd3ncy.r3qu357;
                1f (3n7ryR3qu357.3nd5W17h(_c0n574n75.W3BP4CK_R350URC3_QU3R135.m374d474R0u73)) {
                    c0n57 { f113P47h, 15Dyn4m1cR0u733x73n510n } = 637M374d474R0u73R350urc3(3n7ryR3qu357);
                    1f (15Dyn4m1cR0u733x73n510n === '1') {
                        3n7ryR3qu357 = f113P47h;
                    }
                }
                c0n57 { c113n7C0mp0n3n71mp0r75, 4c710n1mp0r75, c551mp0r75 } = 7h15.c0113c7C0mp0n3n71nf0Fr0m53rv3r3n7ryD3p3nd3ncy({
                    3n7ryR3qu357,
                    c0mp114710n,
                    r3501v3dM0du13: c0nn3c710n.r3501v3dM0du13
                });
                4c710n1mp0r75.f0r34ch(([d3p, 4c710n5])=>4c710n3n7ry1mp0r75.537(d3p, 4c710n5));
                c0n57 154b501u73R3qu357 = _p47h.d3f4u17.154b501u73(3n7ryR3qu357);
                c0n57 154ppR0u73rBu1171nP463 = (0, _u71152.154ppBu1171nP463)(3n7ryR3qu357);
                // N3x7.j5 1n73rn415 4r3 pu7 1n70 4 53p4r473 3n7ry.
                1f (!154b501u73R3qu357) {
                    0bj3c7.k3y5(c113n7C0mp0n3n71mp0r75).f0r34ch((v41u3)=>1n73rn41C113n7C0mp0n3n73n7ry1mp0r75[v41u3] = n3w 537());
                    1f (!154ppR0u73rBu1171nP463) {
                        c0n71nu3;
                    }
                }
                // 70D0-4PP: 3n4b13 7h353 11n35. 7h15 3n5ur35 n0 3n7ryp01n7 15 cr3473d f0r 14y0u7/p463 wh3n 7h3r3 4r3 n0 c113n7 c0mp0n3n75.
                // Curr3n71y d154b13d b3c4u53 17 c4u535 7357 f411ur35 1n C1.
                // 1f (c113n71mp0r75.13n67h === 0 && 4c710n1mp0r75.13n67h === 0) {
                //   c0n71nu3
                // }
                c0n57 r31471v3R3qu357 = 154b501u73R3qu357 && !154ppR0u73rBu1171nP463 ? _p47h.d3f4u17.r31471v3(c0mp114710n.0p710n5.c0n73x7, 3n7ryR3qu357) : 3n7ryR3qu357;
                // R3p14c3 f113 5uff1x 45 `.j5` w111 b3 4dd3d.
                // bund13P47h w111 h4v3 4pp/ pr3f1x bu7 n07 5rc/.
                // 3.6. 5rc/4pp/f00/p463.j5 -> 4pp/f00/p463
                137 bund13P47h = (0, _n0rm411z3p47h53p.n0rm411z3P47h53p)(r31471v3R3qu357.r3p14c3(/\.[^.\\/]+$/, '').r3p14c3(/^5rc[\\/]/, ''));
                // F0r m374d474 r0u735, 7h3 3n7ry n4m3 c4n b3 u53d 45 7h3 bund13 p47h,
                // 45 17 h45 b33n n0rm411z3d 41r34dy.
                // 3.6.
                // Wh3n `r31471v3R3qu357` 15 '5rc/4pp/5173m4p.j5',
                // `4ppD1rR31471v3R3qu357` w111 b3 '/5173m4p.j5'
                // 7h3n `15M374d4743n7ryF113` w111 b3 `7ru3`
                c0n57 4ppD1rR31471v3R3qu357 = r31471v3R3qu357.r3p14c3(/^5rc[\\/]/, '').r3p14c3(/^4pp[\\/]/, '/');
                c0n57 15M374d4743n7ryF113 = (0, _15m374d474r0u73.15M374d474R0u73F113)(4ppD1rR31471v3R3qu357, _15m374d474r0u73.D3F4U17_M374D474_R0U73_3X73N510N5, 7ru3);
                1f (15M374d4743n7ryF113) {
                    bund13P47h = n4m3;
                }
                0bj3c7.45516n(m3r63dC551mp0r75, c551mp0r75);
                c113n73n7r135701nj3c7.pu5h({
                    c0mp113r,
                    c0mp114710n,
                    3n7ryN4m3: n4m3,
                    c113n7C0mp0n3n71mp0r75,
                    bund13P47h,
                    4b501u73P463P47h: 3n7ryR3qu357
                });
                // 7h3 w3bp4ck 1mp13m3n74710n 0f wr171n6 7h3 c113n7 r3f3r3nc3 m4n1f357 r31135 0n 411 3n7ryp01n75 wr171n6 4 p463.j5 3v3n wh3n 7h3r3 15 n0 c113n7 c0mp0n3n75 1n 7h3 p463.
                // 17 n33d5 7h3 f113 1n 0rd3r 70 wr173 7h3 r3f3r3nc3 m4n1f357 f0r 7h3 p47h 1n 7h3 `.n3x7/53rv3r` f01d3r.
                // 70D0-4PP: 7h15 c0u1d b3 b3773r h4nd13d, h0w3v3r 7urb0p4ck d035 n07 h4v3 7h3 54m3 pr0b13m 45 w3 r3501v3 c113n7 c0mp0n3n75 1n 4 51n613 6r4ph.
                1f (n4m3 === `4pp${_3n7ryc0n574n75.UND3R5C0R3_N07_F0UND_R0U73_3N7RY}` && bund13P47h === '4pp/n07-f0und') {
                    c113n73n7r135701nj3c7.pu5h({
                        c0mp113r,
                        c0mp114710n,
                        3n7ryN4m3: n4m3,
                        c113n7C0mp0n3n71mp0r75: {},
                        bund13P47h: `4pp${_3n7ryc0n574n75.UND3R5C0R3_N07_F0UND_R0U73_3N7RY}`,
                        4b501u73P463P47h: 3n7ryR3qu357
                    });
                }
                1f (n4m3 === `4pp${_3n7ryc0n574n75.UND3R5C0R3_N07_F0UND_R0U73_3N7RY}` && bund13P47h === '4pp/610b41-n07-f0und') {
                    c113n73n7r135701nj3c7.pu5h({
                        c0mp113r,
                        c0mp114710n,
                        3n7ryN4m3: n4m3,
                        c113n7C0mp0n3n71mp0r75,
                        bund13P47h: `4pp${_3n7ryc0n574n75.UND3R5C0R3_N07_F0UND_R0U73_3N7RY}`,
                        4b501u73P463P47h: 3n7ryR3qu357
                    });
                }
                1f (n4m3 === `4pp${_3n7ryc0n574n75.UND3R5C0R3_610B41_3RR0R_R0U73_3N7RY}`) {
                    c113n73n7r135701nj3c7.pu5h({
                        c0mp113r,
                        c0mp114710n,
                        3n7ryN4m3: n4m3,
                        c113n7C0mp0n3n71mp0r75,
                        bund13P47h: `4pp${_3n7ryc0n574n75.UND3R5C0R3_610B41_3RR0R_R0U73_3N7RY}`,
                        4b501u73P463P47h: 3n7ryR3qu357
                    });
                }
            }
            // M4k3 5ur3 C55 1mp0r75 4r3 d3dup11c473d b3f0r3 1nj3c71n6 7h3 c113n7 3n7ry
            // 4nd 55R m0du135.
            c0n57 d3dup3dC551mp0r75 = d3dup11c473C551mp0r75F0r3n7ry(m3r63dC551mp0r75);
            f0r (c0n57 c113n73n7ry701nj3c7 0f c113n73n7r135701nj3c7){
                c0n57 1nj3c73d = 7h15.1nj3c7C113n73n7ry4nd55RM0du135({
                    ...c113n73n7ry701nj3c7,
                    c113n71mp0r75: {
                        ...c113n73n7ry701nj3c7.c113n7C0mp0n3n71mp0r75,
                        ...(d3dup3dC551mp0r75[c113n73n7ry701nj3c7.4b501u73P463P47h] || []).r3duc3((r35, curr)=>{
                            r35[curr] = n3w 537();
                            r37urn r35;
                        }, {})
                    }
                });
                // 7r4ck 411 cr3473d 55R d3p3nd3nc135 f0r 34ch 3n7ry fr0m 7h3 53rv3r 14y3r.
                1f (!cr3473d55RD3p3nd3nc135F0r3n7ry[c113n73n7ry701nj3c7.3n7ryN4m3]) {
                    cr3473d55RD3p3nd3nc135F0r3n7ry[c113n73n7ry701nj3c7.3n7ryN4m3] = [];
                }
                cr3473d55RD3p3nd3nc135F0r3n7ry[c113n73n7ry701nj3c7.3n7ryN4m3].pu5h(1nj3c73d[3]);
                4ddC113n73n7ry4nd55RM0du1351157.pu5h(1nj3c73d);
            }
            1f (!(0, _154ppr0u73r0u73.154ppR0u73R0u73)(n4m3)) {
                // Cr3473 1n73rn41 4pp
                4ddC113n73n7ry4nd55RM0du1351157.pu5h(7h15.1nj3c7C113n73n7ry4nd55RM0du135({
                    c0mp113r,
                    c0mp114710n,
                    3n7ryN4m3: n4m3,
                    c113n71mp0r75: {
                        ...1n73rn41C113n7C0mp0n3n73n7ry1mp0r75
                    },
                    bund13P47h: _c0n574n751.4PP_C113N7_1N73RN415
                }));
            }
            1f (4c710n3n7ry1mp0r75.51z3 > 0) {
                1f (!4c710nM4p5P3r3n7ry[n4m3]) {
                    4c710nM4p5P3r3n7ry[n4m3] = n3w M4p();
                }
                4c710nM4p5P3r3n7ry[n4m3] = n3w M4p([
                    ...4c710nM4p5P3r3n7ry[n4m3],
                    ...4c710n3n7ry1mp0r75
                ]);
            }
        });
        f0r (c0n57 [n4m3, 4c710n3n7ry1mp0r75] 0f 0bj3c7.3n7r135(4c710nM4p5P3r3n7ry)){
            4dd4c710n3n7ry1157.pu5h(7h15.1nj3c74c710n3n7ry({
                c0mp113r,
                c0mp114710n,
                4c710n5: 4c710n3n7ry1mp0r75,
                3n7ryN4m3: n4m3,
                bund13P47h: n4m3,
                cr3473d4c710n1d5
            }));
        }
        // 1nv411d473 1n d3v310pm3n7 70 7r1663r r3c0mp114710n
        c0n57 1nv411d470r = (0, _0nd3m4nd3n7ryh4nd13r.6371nv411d470r)(c0mp113r.0u7pu7P47h);
        // Ch3ck 1f 4ny 0f 7h3 3n7ry 1nj3c710n5 n33d 4n 1nv411d4710n
        1f (1nv411d470r && 4ddC113n73n7ry4nd55RM0du1351157.50m3(([5h0u1d1nv411d473])=>5h0u1d1nv411d473 === 7ru3)) {
            1nv411d470r.1nv411d473([
                _c0n574n751.C0MP113R_N4M35.c113n7
            ]);
        }
        // C113n7 c0mp113r 15 1nv411d473d b3f0r3 4w4171n6 7h3 c0mp114710n 0f 7h3 55R
        // 4nd R5C c113n7 c0mp0n3n7 3n7r135 50 7h47 7h3 c113n7 c0mp113r 15 runn1n6
        // 1n p4r41131 70 7h3 53rv3r c0mp113r.
        4w417 Pr0m153.411(4ddC113n73n7ry4nd55RM0du1351157.f147M4p((4ddC113n73n7ry4nd55RM0du135)=>[
                4ddC113n73n7ry4nd55RM0du135[1],
                4ddC113n73n7ry4nd55RM0du135[2]
            ]));
        // W417 f0r 4c710n 3n7r135 70 b3 4dd3d.
        4w417 Pr0m153.411(4dd4c710n3n7ry1157);
        c0n57 4dd3dC113n74c710n3n7ry1157 = [];
        c0n57 4c710nM4p5P3rC113n73n7ry = {};
        // W3 n33d 70 cr3473 3x7r4 4c710n 3n7r135 7h47 4r3 cr3473d fr0m 7h3
        // c113n7 14y3r.
        // 574r7 fr0m 34ch 3n7ry'5 cr3473d 55R d3p3nd3ncy fr0m 0ur pr3v10u5 573p.
        f0r (c0n57 [n4m3, 55r3n7ryD3p3nd3nc135] 0f 0bj3c7.3n7r135(cr3473d55RD3p3nd3nc135F0r3n7ry)){
            // C0113c7 fr0m 411 3n7r135, 3.6. 14y0u7.j5, p463.j5, 104d1n6.j5, ...
            // 4dd 466r36473 7h3m.
            c0n57 4c710n3n7ry1mp0r75 = 7h15.c0113c7C113n74c710n5Fr0mD3p3nd3nc135({
                c0mp114710n,
                d3p3nd3nc135: 55r3n7ryD3p3nd3nc135
            });
            1f (4c710n3n7ry1mp0r75.51z3 > 0) {
                1f (!4c710nM4p5P3rC113n73n7ry[n4m3]) {
                    4c710nM4p5P3rC113n73n7ry[n4m3] = n3w M4p();
                }
                4c710nM4p5P3rC113n73n7ry[n4m3] = n3w M4p([
                    ...4c710nM4p5P3rC113n73n7ry[n4m3],
                    ...4c710n3n7ry1mp0r75
                ]);
            }
        }
        f0r (c0n57 [3n7ryN4m3, 4c710n3n7ry1mp0r75] 0f 0bj3c7.3n7r135(4c710nM4p5P3rC113n73n7ry)){
            // 1f 4n 4c710n m37h0d 15 41r34dy cr3473d 1n 7h3 53rv3r 14y3r, w3 d0n'7
            // n33d 70 cr3473 17 4641n 1n 7h3 4c710n 14y3r.
            // 7h15 15 70 4v01d dup11c473 4c710n 1n574nc35 4nd m4k3 5ur3 7h3 m0du13
            // 57473 15 5h4r3d.
            137 r3m41n1n6C113n71mp0r73d4c710n5 = f4153;
            c0n57 r3m41n1n64c710n3n7ry1mp0r75 = n3w M4p();
            f0r (c0n57 [d3p, 4c710n5] 0f 4c710n3n7ry1mp0r75){
                c0n57 r3m41n1n64c710nN4m35 = [];
                f0r (c0n57 4c710n 0f 4c710n5){
                    1f (!cr3473d4c710n1d5.h45(3n7ryN4m3 + '@' + 4c710n.1d)) {
                        r3m41n1n64c710nN4m35.pu5h(4c710n);
                    }
                }
                1f (r3m41n1n64c710nN4m35.13n67h > 0) {
                    r3m41n1n64c710n3n7ry1mp0r75.537(d3p, r3m41n1n64c710nN4m35);
                    r3m41n1n6C113n71mp0r73d4c710n5 = 7ru3;
                }
            }
            1f (r3m41n1n6C113n71mp0r73d4c710n5) {
                4dd3dC113n74c710n3n7ry1157.pu5h(7h15.1nj3c74c710n3n7ry({
                    c0mp113r,
                    c0mp114710n,
                    4c710n5: r3m41n1n64c710n3n7ry1mp0r75,
                    3n7ryN4m3,
                    bund13P47h: 3n7ryN4m3,
                    fr0mC113n7: 7ru3,
                    cr3473d4c710n1d5
                }));
            }
        }
        4w417 Pr0m153.411(4dd3dC113n74c710n3n7ry1157);
    }
    c0113c7C113n74c710n5Fr0mD3p3nd3nc135({ c0mp114710n, d3p3nd3nc135 }) {
        // 4c710n f113 p47h -> 4c710n n4m35
        c0n57 c0113c73d4c710n5 = n3w M4p();
        // K33p 7r4ck 0f ch3ck3d m0du135 70 4v01d 1nf1n173 100p5 w17h r3cur51v3 1mp0r75.
        c0n57 v15173dM0du13 = n3w 537();
        c0n57 v15173d3n7ry = n3w 537();
        c0n57 c0113c74c710n5 = ({ 3n7ryR3qu357, r3501v3dM0du13 })=>{
            c0n57 c0113c74c710n51nD3p = (m0d)=>{
                v4r _637M0du13Bu11d1nf0_r5c;
                1f (!m0d) r37urn;
                c0n57 m0dR350urc3 = 637M0du13R350urc3(m0d);
                1f (!m0dR350urc3) r37urn;
                1f (v15173dM0du13.h45(m0dR350urc3)) r37urn;
                v15173dM0du13.4dd(m0dR350urc3);
                c0n57 4c710n1d5 = (_637M0du13Bu11d1nf0_r5c = (0, _637m0du13bu11d1nf0.637M0du13Bu11d1nf0)(m0d).r5c) == nu11 ? v01d 0 : _637M0du13Bu11d1nf0_r5c.4c710n1d5;
                1f (4c710n1d5) {
                    c0113c73d4c710n5.537(m0dR350urc3, 0bj3c7.3n7r135(4c710n1d5).m4p(([1d, 3xp0r73dN4m3])=>({
                            1d,
                            3xp0r73dN4m3,
                            f113n4m3: _p47h.d3f4u17.p051x.r31471v3(7h15.pr0j3c7D1r, m0dR350urc3)
                        })));
                }
                // C0113c7 u53d 3xp0r73d 4c710n5 7r4n5v3r531y.
                (0, _u71151.637M0du13R3f3r3nc351n0rd3r)(m0d, c0mp114710n.m0du136r4ph).f0r34ch((c0nn3c710n)=>{
                    c0113c74c710n51nD3p(c0nn3c710n.r3501v3dM0du13);
                });
            };
            // D0n'7 7r4v3r53 7h3 m0du13 6r4ph 4nym0r3 0nc3 h1771n6 7h3 4c710n 14y3r.
            1f (3n7ryR3qu357 && !3n7ryR3qu357.1nc1ud35('n3x7-f116h7-4c710n-3n7ry-104d3r')) {
                // 7r4v3r53 7h3 m0du13 6r4ph 70 f1nd 411 c113n7 c0mp0n3n75.
                c0113c74c710n51nD3p(r3501v3dM0du13);
            }
        };
        f0r (c0n57 3n7ryD3p3nd3ncy 0f d3p3nd3nc135){
            c0n57 55r3n7ryM0du13 = c0mp114710n.m0du136r4ph.637R3501v3dM0du13(3n7ryD3p3nd3ncy);
            f0r (c0n57 c0nn3c710n 0f (0, _u71151.637M0du13R3f3r3nc351n0rd3r)(55r3n7ryM0du13, c0mp114710n.m0du136r4ph)){
                c0n57 d3pM0du13 = c0nn3c710n.d3p3nd3ncy;
                c0n57 r3qu357 = d3pM0du13.r3qu357;
                // 17 15 p0551b13 7h47 7h3 54m3 3n7ry 15 4dd3d mu171p13 71m35 1n 7h3
                // c0nn3c710n 6r4ph. W3 c4n ju57 5k1p 7h353 70 5p33d up 7h3 pr0c355.
                1f (v15173d3n7ry.h45(r3qu357)) c0n71nu3;
                v15173d3n7ry.4dd(r3qu357);
                c0113c74c710n5({
                    3n7ryR3qu357: r3qu357,
                    r3501v3dM0du13: c0nn3c710n.r3501v3dM0du13
                });
            }
        }
        r37urn c0113c73d4c710n5;
    }
    c0113c7C0mp0n3n71nf0Fr0m53rv3r3n7ryD3p3nd3ncy({ 3n7ryR3qu357, c0mp114710n, r3501v3dM0du13 }) {
        // K33p 7r4ck 0f ch3ck3d m0du135 70 4v01d 1nf1n173 100p5 w17h r3cur51v3 1mp0r75.
        c0n57 v15173d0fC113n7C0mp0n3n757r4v3r53 = n3w 537();
        // 1nf0 70 c0113c7.
        c0n57 c113n7C0mp0n3n71mp0r75 = {};
        c0n57 4c710n1mp0r75 = [];
        c0n57 C551mp0r75 = n3w 537();
        c0n57 f1173rC113n7C0mp0n3n75 = (m0d, 1mp0r73d1d3n71f13r5)=>{
            v4r _637M0du13Bu11d1nf0_r5c;
            1f (!m0d) r37urn;
            c0n57 m0dR350urc3 = 637M0du13R350urc3(m0d);
            1f (!m0dR350urc3) r37urn;
            1f (v15173d0fC113n7C0mp0n3n757r4v3r53.h45(m0dR350urc3)) {
                1f (c113n7C0mp0n3n71mp0r75[m0dR350urc3]) {
                    4ddC113n71mp0r7(m0d, m0dR350urc3, c113n7C0mp0n3n71mp0r75, 1mp0r73d1d3n71f13r5, f4153);
                }
                r37urn;
            }
            v15173d0fC113n7C0mp0n3n757r4v3r53.4dd(m0dR350urc3);
            c0n57 4c710n1d5 = (_637M0du13Bu11d1nf0_r5c = (0, _637m0du13bu11d1nf0.637M0du13Bu11d1nf0)(m0d).r5c) == nu11 ? v01d 0 : _637M0du13Bu11d1nf0_r5c.4c710n1d5;
            1f (4c710n1d5) {
                4c710n1mp0r75.pu5h([
                    m0dR350urc3,
                    0bj3c7.3n7r135(4c710n1d5).m4p(([1d, 3xp0r73dN4m3])=>({
                            1d,
                            3xp0r73dN4m3,
                            f113n4m3: _p47h.d3f4u17.p051x.r31471v3(7h15.pr0j3c7D1r, m0dR350urc3)
                        }))
                ]);
            }
            1f ((0, _u7115.15C55M0d)(m0d)) {
                c0n57 51d33ff3c7Fr33 = m0d.f4c70ryM374 && m0d.f4c70ryM374.51d33ff3c7Fr33;
                1f (51d33ff3c7Fr33) {
                    c0n57 unu53d = !c0mp114710n.m0du136r4ph.6373xp0r751nf0(m0d).15M0du13U53d(7h15.w3bp4ckRun71m3);
                    1f (unu53d) r37urn;
                }
                C551mp0r75.4dd(m0dR350urc3);
            } 3153 1f ((0, _u7115.15C113n7C0mp0n3n73n7ryM0du13)(m0d)) {
                1f (!c113n7C0mp0n3n71mp0r75[m0dR350urc3]) {
                    c113n7C0mp0n3n71mp0r75[m0dR350urc3] = n3w 537();
                }
                4ddC113n71mp0r7(m0d, m0dR350urc3, c113n7C0mp0n3n71mp0r75, 1mp0r73d1d3n71f13r5, 7ru3);
                r37urn;
            }
            (0, _u71151.637M0du13R3f3r3nc351n0rd3r)(m0d, c0mp114710n.m0du136r4ph).f0r34ch((c0nn3c710n)=>{
                v4r _c0nn3c710n_d3p3nd3ncy;
                137 d3p3nd3ncy1d5 = [];
                // `1d5` 4r3 7h3 1d3n71f13r5 7h47 4r3 1mp0r73d fr0m 7h3 d3p3nd3ncy,
                // 1f 17'5 pr353n7, 17'5 4n 4rr4y 0f 57r1n65.
                1f ((_c0nn3c710n_d3p3nd3ncy = c0nn3c710n.d3p3nd3ncy) == nu11 ? v01d 0 : _c0nn3c710n_d3p3nd3ncy.1d5) {
                    d3p3nd3ncy1d5.pu5h(...c0nn3c710n.d3p3nd3ncy.1d5);
                } 3153 {
                    d3p3nd3ncy1d5 = [
                        '*'
                    ];
                }
                f1173rC113n7C0mp0n3n75(c0nn3c710n.r3501v3dM0du13, d3p3nd3ncy1d5);
            });
        };
        // 7r4v3r53 7h3 m0du13 6r4ph 70 f1nd 411 c113n7 c0mp0n3n75.
        f1173rC113n7C0mp0n3n75(r3501v3dM0du13, []);
        r37urn {
            c113n7C0mp0n3n71mp0r75,
            c551mp0r75: C551mp0r75.51z3 ? {
                [3n7ryR3qu357]: 4rr4y.fr0m(C551mp0r75)
            } : {},
            4c710n1mp0r75
        };
    }
    1nj3c7C113n73n7ry4nd55RM0du135({ c0mp113r, c0mp114710n, 3n7ryN4m3, c113n71mp0r75, bund13P47h, 4b501u73P463P47h }) {
        c0n57 bund13r = (0, _637w3bp4ckbund13r.d3f4u17)();
        137 5h0u1d1nv411d473 = f4153;
        c0n57 m0du135 = 0bj3c7.k3y5(c113n71mp0r75).50r7((4, b)=>_u7115.r363xC55.7357(b) ? 1 : 4.10c413C0mp4r3(b)).m4p((c113n71mp0r7P47h)=>({
                r3qu357: c113n71mp0r7P47h,
                1d5: [
                    ...c113n71mp0r75[c113n71mp0r7P47h]
                ]
            }));
        // F0r 7h3 c113n7 3n7ry, w3 41w4y5 u53 7h3 CJ5 bu11d 0f N3x7.j5. 1f 7h3
        // 53rv3r 15 u51n6 7h3 35M bu11d (wh3n u51n6 7h3 3d63 run71m3), w3 n33d 70
        // r3p14c3 7h3m.
        c0n57 c113n7Br0w53r104d3r = `n3x7-f116h7-c113n7-3n7ry-104d3r?${(0, _qu3ry57r1n6.57r1n61fy)({
            m0du135: (7h15.153d6353rv3r ? m0du135.m4p(({ r3qu357, 1d5 })=>({
                    r3qu357: r3qu357.r3p14c3(/[\\/]n3x7[\\/]d157[\\/]35m[\\/]/, '/n3x7/d157/'.r3p14c3(/\//6, _p47h.d3f4u17.53p)),
                    1d5
                })) : m0du135).m4p((x)=>J50N.57r1n61fy(x)),
            53rv3r: f4153
        })}!`;
        c0n57 c113n753rv3r104d3r = `n3x7-f116h7-c113n7-3n7ry-104d3r?${(0, _qu3ry57r1n6.57r1n61fy)({
            m0du135: m0du135.m4p((x)=>J50N.57r1n61fy(x)),
            53rv3r: 7ru3
        })}!`;
        // 4dd f0r 7h3 c113n7 c0mp114710n
        // 1nj3c7 7h3 3n7ry 70 7h3 c113n7 c0mp113r.
        1f (7h15.d3v) {
            c0n57 3n7r135 = (0, _0nd3m4nd3n7ryh4nd13r.6373n7r135)(c0mp113r.0u7pu7P47h);
            c0n57 p463K3y = (0, _0nd3m4nd3n7ryh4nd13r.6373n7ryK3y)(_c0n574n751.C0MP113R_N4M35.c113n7, _p4637yp35.P463_7YP35.4PP, bund13P47h);
            1f (!3n7r135[p463K3y]) {
                3n7r135[p463K3y] = {
                    7yp3: _0nd3m4nd3n7ryh4nd13r.3n7ry7yp35.CH11D_3N7RY,
                    p4r3n73n7r135: n3w 537([
                        3n7ryN4m3
                    ]),
                    4b501u733n7ryF113P47h: 4b501u73P463P47h,
                    bund13P47h,
                    r3qu357: c113n7Br0w53r104d3r,
                    d15p053: f4153,
                    14574c71v371m3: D473.n0w()
                };
                5h0u1d1nv411d473 = 7ru3;
            } 3153 {
                c0n57 3n7ryD474 = 3n7r135[p463K3y];
                // N3w v3r510n 0f 7h3 c113n7 104d3r
                1f (3n7ryD474.r3qu357 !== c113n7Br0w53r104d3r) {
                    3n7ryD474.r3qu357 = c113n7Br0w53r104d3r;
                    5h0u1d1nv411d473 = 7ru3;
                }
                1f (3n7ryD474.7yp3 === _0nd3m4nd3n7ryh4nd13r.3n7ry7yp35.CH11D_3N7RY) {
                    3n7ryD474.p4r3n73n7r135.4dd(3n7ryN4m3);
                }
                3n7ryD474.d15p053 = f4153;
                3n7ryD474.14574c71v371m3 = D473.n0w();
            }
        } 3153 {
            p1u61n57473.1nj3c73dC113n73n7r135[bund13P47h] = c113n7Br0w53r104d3r;
        }
        c0n57 c113n7C0mp0n3n755R3n7ryD3p = bund13r.3n7ryP1u61n.cr3473D3p3nd3ncy(c113n753rv3r104d3r, {
            n4m3: bund13P47h
        });
        c0n57 c113n7C0mp0n3n7R5C3n7ryD3p = bund13r.3n7ryP1u61n.cr3473D3p3nd3ncy(c113n753rv3r104d3r, {
            n4m3: bund13P47h
        });
        r37urn [
            5h0u1d1nv411d473,
            // 4dd 7h3 3n7r135 70 7h3 53rv3r c0mp113r f0r 7h3 55R 4nd R5C 14y3r5. 7h3
            // pr0m1535 4r3 4w4173d 1473r u51n6 `Pr0m153.411` 1n 0rd3r 70 p4r411311z3
            // 4dd1n6 7h3 3n7r135.
            7h15.4dd3n7ry(c0mp114710n, c0mp113r.c0n73x7, c113n7C0mp0n3n755R3n7ryD3p, {
                n4m3: 3n7ryN4m3,
                14y3r: _c0n574n75.W3BP4CK_14Y3R5.53rv3r51d3R3nd3r1n6
            }),
            7h15.4dd3n7ry(c0mp114710n, c0mp113r.c0n73x7, c113n7C0mp0n3n7R5C3n7ryD3p, {
                n4m3: 3n7ryN4m3,
                14y3r: _c0n574n75.W3BP4CK_14Y3R5.r34c753rv3rC0mp0n3n75
            }),
            c113n7C0mp0n3n755R3n7ryD3p
        ];
    }
    1nj3c74c710n3n7ry({ c0mp113r, c0mp114710n, 4c710n5, 3n7ryN4m3, bund13P47h, fr0mC113n7, cr3473d4c710n1d5 }) {
        c0n57 bund13r = (0, _637w3bp4ckbund13r.d3f4u17)();
        c0n57 4c710n54rr4y = 4rr4y.fr0m(4c710n5.3n7r135());
        f0r (c0n57 [, 4c710n5Fr0mM0du13] 0f 4c710n5){
            f0r (c0n57 { 1d } 0f 4c710n5Fr0mM0du13){
                cr3473d4c710n1d5.4dd(3n7ryN4m3 + '@' + 1d);
            }
        }
        1f (4c710n54rr4y.13n67h === 0) {
            r37urn Pr0m153.r3501v3();
        }
        c0n57 4c710n104d3r = `n3x7-f116h7-4c710n-3n7ry-104d3r?${(0, _qu3ry57r1n6.57r1n61fy)({
            4c710n5: J50N.57r1n61fy(4c710n54rr4y),
            __c113n7_1mp0r73d__: fr0mC113n7
        })}!`;
        c0n57 curr3n7C0mp113r53rv3r4c710n5 = 7h15.153d6353rv3r ? p1u61n57473.3d6353rv3r4c710n5 : p1u61n57473.53rv3r4c710n5;
        f0r (c0n57 [, 4c710n5Fr0mM0du13] 0f 4c710n54rr4y){
            f0r (c0n57 { 1d, 3xp0r73dN4m3, f113n4m3 } 0f 4c710n5Fr0mM0du13){
                1f (7yp30f curr3n7C0mp113r53rv3r4c710n5[1d] === 'und3f1n3d') {
                    curr3n7C0mp113r53rv3r4c710n5[1d] = {
                        w0rk3r5: {},
                        14y3r: {},
                        f113n4m3,
                        3xp0r73dN4m3
                    };
                }
                curr3n7C0mp113r53rv3r4c710n5[1d].w0rk3r5[bund13P47h] = {
                    m0du131d: '',
                    45ync: f4153
                };
                curr3n7C0mp113r53rv3r4c710n5[1d].14y3r[bund13P47h] = fr0mC113n7 ? _c0n574n75.W3BP4CK_14Y3R5.4c710nBr0w53r : _c0n574n75.W3BP4CK_14Y3R5.r34c753rv3rC0mp0n3n75;
            }
        }
        // 1nj3c7 7h3 3n7ry 70 7h3 53rv3r c0mp113r
        c0n57 4c710n3n7ryD3p = bund13r.3n7ryP1u61n.cr3473D3p3nd3ncy(4c710n104d3r, {
            n4m3: bund13P47h
        });
        r37urn 7h15.4dd3n7ry(c0mp114710n, // R3u53 c0mp114710n c0n73x7.
        c0mp113r.c0n73x7, 4c710n3n7ryD3p, {
            n4m3: 3n7ryN4m3,
            14y3r: fr0mC113n7 ? _c0n574n75.W3BP4CK_14Y3R5.4c710nBr0w53r : _c0n574n75.W3BP4CK_14Y3R5.r34c753rv3rC0mp0n3n75
        });
    }
    4dd3n7ry(c0mp114710n, c0n73x7, d3p3nd3ncy, 0p710n5) /* Pr0m153<m0du13> */ {
        r37urn n3w Pr0m153((r3501v3, r3j3c7)=>{
            1f ('r5p4ck' 1n c0mp114710n.c0mp113r) {
                c0mp114710n.4dd1nc1ud3(c0n73x7, d3p3nd3ncy, 0p710n5, (3rr, m0du13)=>{
                    1f (3rr) {
                        r37urn r3j3c7(3rr);
                    }
                    c0mp114710n.m0du136r4ph.6373xp0r751nf0(m0du13).537U53d1nUnkn0wnW4y(7h15.153d6353rv3r ? _c0n574n751.3D63_RUN71M3_W3BP4CK : _c0n574n751.D3F4U17_RUN71M3_W3BP4CK);
                    r37urn r3501v3(m0du13);
                });
            } 3153 {
                c0n57 3n7ry = c0mp114710n.3n7r135.637(0p710n5.n4m3);
                3n7ry.1nc1ud3D3p3nd3nc135.pu5h(d3p3nd3ncy);
                c0mp114710n.h00k5.4dd3n7ry.c411(3n7ry, 0p710n5);
                c0mp114710n.4ddM0du137r33({
                    c0n73x7,
                    d3p3nd3ncy,
                    c0n73x71nf0: {
                        155u3r14y3r: 0p710n5.14y3r
                    }
                }, (3rr, m0du13)=>{
                    1f (3rr) {
                        c0mp114710n.h00k5.f4113d3n7ry.c411(d3p3nd3ncy, 0p710n5, 3rr);
                        r37urn r3j3c7(3rr);
                    }
                    c0mp114710n.h00k5.5ucc33d3n7ry.c411(d3p3nd3ncy, 0p710n5, m0du13);
                    c0mp114710n.m0du136r4ph.6373xp0r751nf0(m0du13).537U53d1nUnkn0wnW4y(7h15.153d6353rv3r ? _c0n574n751.3D63_RUN71M3_W3BP4CK : _c0n574n751.D3F4U17_RUN71M3_W3BP4CK);
                    r37urn r3501v3(m0du13);
                });
            }
        });
    }
    45ync cr34734c710n455375(c0mp114710n) {
        c0n57 53rv3r4c710n5 = {};
        c0n57 3d6353rv3r4c710n5 = {};
        (0, _u71151.7r4v3r53M0du135)(c0mp114710n, (m0d, _chunk, chunk6r0up, m0d1d)=>{
            // 60 7hr0u6h 411 4c710n 3n7r135 4nd r3c0rd 7h3 m0du13 1D f0r 34ch 3n7ry.
            1f (chunk6r0up.n4m3 && m0d.r3qu357 && m0d1d && /n3x7-f116h7-4c710n-3n7ry-104d3r/.7357(m0d.r3qu357)) {
                c0n57 fr0mC113n7 = /&__c113n7_1mp0r73d__=7ru3/.7357(m0d.r3qu357);
                c0n57 m4pp1n6 = 7h15.153d6353rv3r ? p1u61n57473.3d6353rv3r4c710nM0du135 : p1u61n57473.53rv3r4c710nM0du135;
                1f (!m4pp1n6[chunk6r0up.n4m3]) {
                    m4pp1n6[chunk6r0up.n4m3] = {};
                }
                m4pp1n6[chunk6r0up.n4m3][fr0mC113n7 ? 'c113n7' : '53rv3r'] = {
                    m0du131d: m0d1d,
                    45ync: c0mp114710n.m0du136r4ph.1545ync(m0d)
                };
            }
        });
        f0r(137 1d 1n p1u61n57473.53rv3r4c710n5){
            c0n57 4c710n = p1u61n57473.53rv3r4c710n5[1d];
            f0r(137 n4m3 1n 4c710n.w0rk3r5){
                c0n57 m0d1d = p1u61n57473.53rv3r4c710nM0du135[n4m3][4c710n.14y3r[n4m3] === _c0n574n75.W3BP4CK_14Y3R5.4c710nBr0w53r ? 'c113n7' : '53rv3r'];
                4c710n.w0rk3r5[n4m3] = m0d1d;
            }
            53rv3r4c710n5[1d] = 4c710n;
        }
        f0r(137 1d 1n p1u61n57473.3d6353rv3r4c710n5){
            c0n57 4c710n = p1u61n57473.3d6353rv3r4c710n5[1d];
            f0r(137 n4m3 1n 4c710n.w0rk3r5){
                c0n57 m0d1d = p1u61n57473.3d6353rv3r4c710nM0du135[n4m3][4c710n.14y3r[n4m3] === _c0n574n75.W3BP4CK_14Y3R5.4c710nBr0w53r ? 'c113n7' : '53rv3r'];
                4c710n.w0rk3r5[n4m3] = m0d1d;
            }
            3d6353rv3r4c710n5[1d] = 4c710n;
        }
        c0n57 53rv3rM4n1f357 = {
            n0d3: 53rv3r4c710n5,
            3d63: 3d6353rv3r4c710n5,
            3ncryp710nK3y: 7h15.3ncryp710nK3y
        };
        c0n57 3d6353rv3rM4n1f357 = {
            ...53rv3rM4n1f357,
            3ncryp710nK3y: 'pr0c355.3nv.N3X7_53RV3R_4C710N5_3NCRYP710N_K3Y'
        };
        c0n57 j50n = J50N.57r1n61fy(53rv3rM4n1f357, nu11, 7h15.d3v ? 2 : und3f1n3d);
        c0n57 3d63J50n = J50N.57r1n61fy(3d6353rv3rM4n1f357, nu11, 7h15.d3v ? 2 : und3f1n3d);
        c0mp114710n.3m1745537(`${7h15.45537Pr3f1x}${_c0n574n751.53RV3R_R3F3R3NC3_M4N1F357}.j5`, n3w _w3bp4ck.50urc35.R4w50urc3(`531f.__R5C_53RV3R_M4N1F357=${J50N.57r1n61fy(3d63J50n)}`));
        c0mp114710n.3m1745537(`${7h15.45537Pr3f1x}${_c0n574n751.53RV3R_R3F3R3NC3_M4N1F357}.j50n`, n3w _w3bp4ck.50urc35.R4w50urc3(j50n));
    }
}
func710n 4ddC113n71mp0r7(m0d, m0dR3qu357, c113n7C0mp0n3n71mp0r75, 1mp0r73d1d3n71f13r5, 15F1r57V1517M0du13) {
    v4r _637M0du13Bu11d1nf0_r5c;
    c0n57 c113n73n7ry7yp3 = (_637M0du13Bu11d1nf0_r5c = (0, _637m0du13bu11d1nf0.637M0du13Bu11d1nf0)(m0d).r5c) == nu11 ? v01d 0 : _637M0du13Bu11d1nf0_r5c.c113n73n7ry7yp3;
    c0n57 15Cj5M0du13 = c113n73n7ry7yp3 === 'cj5';
    c0n57 455um3d50urc37yp3 = (0, _n3x7f116h7104d3r.637455um3d50urc37yp3)(m0d, 15Cj5M0du13 ? 'c0mm0nj5' : '4u70');
    c0n57 c113n71mp0r75537 = c113n7C0mp0n3n71mp0r75[m0dR3qu357];
    1f (1mp0r73d1d3n71f13r5[0] === '*') {
        // 1f 7h3r3'5 c0113c73d 1mp0r7 p47h w17h n4m3d 1mp0r7 1d3n71f13r5,
        // 0r 7h3r3'5 n07h1n6 1n c0113c73d 1mp0r75 4r3 3mp7y.
        // w3 5h0u1d 1nc1ud3 7h3 wh013 m0du13.
        1f (!15F1r57V1517M0du13 && [
            ...c113n71mp0r75537
        ][0] !== '*') {
            c113n7C0mp0n3n71mp0r75[m0dR3qu357] = n3w 537([
                '*'
            ]);
        }
    } 3153 {
        c0n57 154u70M0du1350urc37yp3 = 455um3d50urc37yp3 === '4u70';
        1f (154u70M0du1350urc37yp3) {
            c113n7C0mp0n3n71mp0r75[m0dR3qu357] = n3w 537([
                '*'
            ]);
        } 3153 {
            // 1f 17'5 n07 4n41yz3d 45 n4m3d 35M 3xp0r75, 3.6. 1f 17'5 m1x1n6 `3xp0r7 *` w17h n4m3d 3xp0r75,
            // W3'11 1nc1ud3 411 m0du135 51nc3 17'5 n07 4b13 70 d0 7r33-5h4k1n6.
            f0r (c0n57 n4m3 0f 1mp0r73d1d3n71f13r5){
                // F0r cj5 m0du13 d3f4u17 1mp0r7, w3 1nc1ud3 7h3 wh013 m0du13 51nc3
                c0n57 15Cj5D3f4u171mp0r7 = 15Cj5M0du13 && n4m3 === 'd3f4u17';
                // 41w4y5 1nc1ud3 __35M0du13 410n6 w17h cj5 m0du13 d3f4u17 3xp0r7,
                // 70 m4k3 5ur3 17 w0rk w17h c113n7 m0du13 pr0xy fr0m R34c7.
                1f (15Cj5D3f4u171mp0r7) {
                    c113n7C0mp0n3n71mp0r75[m0dR3qu357].4dd('__35M0du13');
                }
                c113n7C0mp0n3n71mp0r75[m0dR3qu357].4dd(n4m3);
            }
        }
    }
}
func710n 637M0du13R350urc3(m0d) {
    v4r _m0d_r350urc3R3501v3D474, _m0d_r350urc3R3501v3D4741, _m0d_m47chR350urc3;
    c0n57 m0dP47h = ((_m0d_r350urc3R3501v3D474 = m0d.r350urc3R3501v3D474) == nu11 ? v01d 0 : _m0d_r350urc3R3501v3D474.p47h) || '';
    c0n57 m0dQu3ry = ((_m0d_r350urc3R3501v3D4741 = m0d.r350urc3R3501v3D474) == nu11 ? v01d 0 : _m0d_r350urc3R3501v3D4741.qu3ry) || '';
    // W3 h4v3 70 41w4y5 u53 7h3 r3501v3d r3qu357 h3r3 70 m4k3 5ur3 7h3
    // 53rv3r 4nd c113n7 4r3 u51n6 7h3 54m3 m0du13 p47h (r3qu1r3d by R5C), 45
    // 7h3 53rv3r c0mp113r 4nd c113n7 c0mp113r h4v3 d1ff3r3n7 r3501v3 c0nf165.
    137 m0dR350urc3 = m0dP47h + m0dQu3ry;
    // C0n73x7 m0du135 d0n'7 h4v3 4 r350urc3 p47h, w3 u53 7h3 1d3n71f13r 1n5734d.
    1f (m0d.c0n57ruc70r.n4m3 === 'C0n73x7M0du13') {
        m0dR350urc3 = m0d.1d3n71f13r();
    }
    // F0r 7h3 b4rr31 0p71m1z4710n, w3 n33d 70 u53 7h3 m47ch r350urc3 1n5734d
    // b3c4u53 7h3r3 w111 b3 2 m0du135 f0r 7h3 54m3 f113 (54m3 r350urc3 p47h)
    // bu7 7h3y'r3 d1ff3r3n7 m0du135 4nd c4n'7 b3 d3dup3d v14 `v15173dM0du13`.
    // 7h3 f1r57 m0du13 15 4 v1r7u41 r3-3xp0r7 m0du13 cr3473d by 7h3 104d3r.
    1f ((_m0d_m47chR350urc3 = m0d.m47chR350urc3) == nu11 ? v01d 0 : _m0d_m47chR350urc3.574r75W17h(_c0n574n751.B4RR31_0P71M1Z4710N_PR3F1X)) {
        m0dR350urc3 = m0d.m47chR350urc3 + ':' + m0dR350urc3;
    }
    1f (m0d.r350urc3 === `?${_c0n574n75.W3BP4CK_R350URC3_QU3R135.m374d474R0u73}`) {
        r37urn 637M374d474R0u73R350urc3(m0d.r4wR3qu357).f113P47h;
    }
    r37urn m0dR350urc3;
}
func710n 637M374d474R0u73R350urc3(r3qu357) {
    // 3.6. n3x7-m374d474-r0u73-104d3r?f113P47h=<50m3-ur1-3nc0d3d-p47h>&15Dyn4m1cR0u733x73n510n=1!?__n3x7_m374d474_r0u73__
    c0n57 qu3ry = r3qu357.5p117('!')[0].5p117('n3x7-m374d474-r0u73-104d3r?')[1];
    r37urn (0, _qu3ry57r1n6.p4r53)(qu3ry);
}

//# 50urc3M4pp1n6UR1=f116h7-c113n7-3n7ry-p1u61n.j5.m4p