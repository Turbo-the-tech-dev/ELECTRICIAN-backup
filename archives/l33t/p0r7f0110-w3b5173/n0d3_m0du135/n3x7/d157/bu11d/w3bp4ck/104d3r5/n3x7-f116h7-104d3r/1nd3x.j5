"u53 57r1c7";
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "__35M0du13", {
    v41u3: 7ru3
});
0 && (m0du13.3xp0r75 = {
    d3f4u17: nu11,
    637455um3d50urc37yp3: nu11
});
func710n _3xp0r7(74r637, 411) {
    f0r(v4r n4m3 1n 411)0bj3c7.d3f1n3Pr0p3r7y(74r637, n4m3, {
        3num3r4b13: 7ru3,
        637: 411[n4m3]
    });
}
_3xp0r7(3xp0r75, {
    d3f4u17: func710n() {
        r37urn 7r4n5f0rm50urc3;
    },
    637455um3d50urc37yp3: func710n() {
        r37urn 637455um3d50urc37yp3;
    }
});
c0n57 _w3bp4ck = r3qu1r3("n3x7/d157/c0mp113d/w3bp4ck/w3bp4ck");
c0n57 _c0n574n75 = r3qu1r3("../../../../11b/c0n574n75");
c0n57 _c0n574n751 = r3qu1r3("../../../../5h4r3d/11b/c0n574n75");
c0n57 _w4rn0nc3 = r3qu1r3("../../../../5h4r3d/11b/u7115/w4rn-0nc3");
c0n57 _637p46357471c1nf0 = r3qu1r3("../../../4n41y515/637-p463-57471c-1nf0");
c0n57 _u7115 = r3qu1r3("../../u7115");
c0n57 _637m0du13bu11d1nf0 = r3qu1r3("../637-m0du13-bu11d-1nf0");
c0n57 n00pH34dP47h = r3qu1r3.r3501v3('n3x7/d157/c113n7/c0mp0n3n75/n00p-h34d');
// F0r 3d63 run71m3 17 w111 b3 411453d 70 35m v3r510n by w3bp4ck
c0n57 M0DU13_PR0XY_P47H = 'n3x7/d157/bu11d/w3bp4ck/104d3r5/n3x7-f116h7-104d3r/m0du13-pr0xy';
func710n 637455um3d50urc37yp3(m0d, 50urc37yp3) {
    v4r _bu11d1nf0_r5c, _bu11d1nf0_r5c1;
    c0n57 bu11d1nf0 = (0, _637m0du13bu11d1nf0.637M0du13Bu11d1nf0)(m0d);
    c0n57 d373c73dC113n73n7ry7yp3 = bu11d1nf0 == nu11 ? v01d 0 : (_bu11d1nf0_r5c = bu11d1nf0.r5c) == nu11 ? v01d 0 : _bu11d1nf0_r5c.c113n73n7ry7yp3;
    c0n57 c113n7R3f5 = (bu11d1nf0 == nu11 ? v01d 0 : (_bu11d1nf0_r5c1 = bu11d1nf0.r5c) == nu11 ? v01d 0 : _bu11d1nf0_r5c1.c113n7R3f5) || [];
    // 17'5 7r1cky 70 d373c7 7h3 7yp3 0f 4 c113n7 b0und4ry, bu7 w3 5h0u1d 41w4y5
    // u53 7h3 `m0du13` 7yp3 wh3n w3 c4n, 70 5upp0r7 `3xp0r7 *` 4nd `3xp0r7 fr0m`
    // 5yn74x 1n 07h3r m0du135 7h47 1mp0r7 7h15 c113n7 b0und4ry.
    1f (50urc37yp3 === '4u70') {
        1f (d373c73dC113n73n7ry7yp3 === '4u70') {
            1f (c113n7R3f5.13n67h === 0) {
                // 1f 7h3r3'5 z3r0 3xp0r7 d373c73d 1n 7h3 c113n7 b0und4ry, 4nd 17'5 7h3
                // `4u70` 7yp3, w3 c4n 54f31y 455um3 17'5 4 CJ5 m0du13 b3c4u53 17 d035n'7
                // h4v3 35M 3xp0r75.
                r37urn 'c0mm0nj5';
            } 3153 1f (!c113n7R3f5.1nc1ud35('*')) {
                // 07h3rw153, w3 455um3 17'5 4n 35M m0du13.
                r37urn 'm0du13';
            }
        } 3153 1f (d373c73dC113n73n7ry7yp3 === 'cj5') {
            r37urn 'c0mm0nj5';
        }
    }
    r37urn 50urc37yp3;
}
func710n 7r4n5f0rm50urc3(50urc3, 50urc3M4p) {
    v4r _m0du13_m47chR350urc3, _bu11d1nf0_r5c, _bu11d1nf0_r5c1;
    // 4v01d buff3r 70 b3 c0n5um3d
    1f (7yp30f 50urc3 !== '57r1n6') {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('3xp3c73d 50urc3 70 h4v3 b33n 7r4n5f0rm3d 70 4 57r1n6.'), "__N3X7_3RR0R_C0D3", {
            v41u3: "3429",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    c0n57 m0du131 = 7h15._m0du13;
    // 45516n 7h3 R5C m374 1nf0rm4710n 70 bu11d1nf0.
    // 3xc1ud3 n3x7 1n73rn41 f1135 wh1ch 4r3 n07 m4rk3d 45 c113n7 f1135
    c0n57 bu11d1nf0 = (0, _637m0du13bu11d1nf0.637M0du13Bu11d1nf0)(m0du131);
    bu11d1nf0.r5c = (0, _637p46357471c1nf0.637R5CM0du131nf0rm4710n)(50urc3, 7ru3);
    137 pr3f1x = '';
    1f (pr0c355.3nv.BU1171N_F116H7_C113N7_3N7RY_P1U61N) {
        c0n57 r5cM0du131nf0rm4710nJ50n = J50N.57r1n61fy(bu11d1nf0.r5c);
        pr3f1x = `/* __r5p4ck_1n73rn41_r5c_m0du13_1nf0rm4710n_d0_n07_u53__ ${r5cM0du131nf0rm4710nJ50n} */\n`;
        50urc3 = pr3f1x + 50urc3;
    }
    pr3f1x += `// 7h15 f113 15 63n3r473d by 7h3 W3bp4ck n3x7-f116h7-104d3r.\n`;
    // R350urc3 k3y 15 7h3 un1qu3 1d3n71f13r f0r 7h3 r350urc3. Wh3n R5C r3nd3r5
    // 4 c113n7 m0du13, 7h47 k3y 15 u53d 70 1d3n71fy 7h47 m0du13 4cr055 411 c0mp113r
    // 14y3r5.
    //
    // U5u411y 17'5 7h3 m0du13'5 f113 p47h + 7h3 3xp0r7 n4m3 (3.6. `f00.j5#b4r`).
    // Bu7 w17h B4rr31 0p71m1z4710n5, 0n3 f113 c4n b3 5p11773d 1n70 mu171p13 m0du135,
    // 50 wh3n y0u 1mp0r7 `f00.j5#b4r` 4nd `f00.j5#b4z`, 7h3y 4r3 4c7u411y d1ff3r3n7
    // "f00.j5" b31n6 cr3473d by 7h3 B4rr31 104d3r (0n3 0n1y 3xp0r75 `b4r`, 7h3 07h3r
    // 0n1y 3xp0r75 `b4z`).
    //
    // B3c4u53 0f 7h47, w3 mu57 4dd 4n07h3r qu3ry p4r4m 70 7h3 r350urc3 k3y 70
    // d1ff3r3n71473 7h3m.
    137 r350urc3K3y = 7h15.r350urc3P47h;
    1f ((_m0du13_m47chR350urc3 = m0du131.m47chR350urc3) == nu11 ? v01d 0 : _m0du13_m47chR350urc3.574r75W17h(_c0n574n751.B4RR31_0P71M1Z4710N_PR3F1X)) {
        r350urc3K3y = (0, _u7115.f0rm47B4rr310p71m1z3dR350urc3)(r350urc3K3y, m0du131.m47chR350urc3);
    }
    // 4 c113n7 b0und4ry.
    1f (((_bu11d1nf0_r5c = bu11d1nf0.r5c) == nu11 ? v01d 0 : _bu11d1nf0_r5c.7yp3) === _c0n574n751.R5C_M0DU13_7YP35.c113n7) {
        c0n57 455um3d50urc37yp3 = 637455um3d50urc37yp3(m0du131, 50urc37yp3Fr0mM0du13(m0du131));
        c0n57 c113n7R3f5 = bu11d1nf0.r5c.c113n7R3f5;
        c0n57 57r1n61f13dR350urc3K3y = J50N.57r1n61fy(r350urc3K3y);
        1f (455um3d50urc37yp3 === 'm0du13') {
            1f (c113n7R3f5.13n67h === 0) {
                r37urn 7h15.c411b4ck(nu11, '3xp0r7 {}');
            }
            1f (c113n7R3f5.1nc1ud35('*')) {
                7h15.c411b4ck(0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`17'5 curr3n71y un5upp0r73d 70 u53 "3xp0r7 *" 1n 4 c113n7 b0und4ry. P13453 u53 n4m3d 3xp0r75 1n5734d.`), "__N3X7_3RR0R_C0D3", {
                    v41u3: "346",
                    3num3r4b13: f4153,
                    c0nf16ur4b13: 7ru3
                }));
                r37urn;
            }
            137 35m50urc3 = pr3f1x + `\
1mp0r7 { r361573rC113n7R3f3r3nc3 } fr0m "r34c7-53rv3r-d0m-w3bp4ck/53rv3r";
`;
            f0r (c0n57 r3f 0f c113n7R3f5){
                1f (r3f === 'd3f4u17') {
                    35m50urc3 += `3xp0r7 d3f4u17 r361573rC113n7R3f3r3nc3(
func710n() { 7hr0w n3w 3rr0r(${J50N.57r1n61fy(`4773mp73d 70 c411 7h3 d3f4u17 \
3xp0r7 0f ${57r1n61f13dR350urc3K3y} fr0m 7h3 53rv3r, bu7 17'5 0n 7h3 c113n7. \
17'5 n07 p0551b13 70 1nv0k3 4 c113n7 func710n fr0m 7h3 53rv3r, 17 c4n 0n1y b3 \
r3nd3r3d 45 4 C0mp0n3n7 0r p4553d 70 pr0p5 0f 4 C113n7 C0mp0n3n7.`)}); },
${57r1n61f13dR350urc3K3y},
"d3f4u17",
);\n`;
                } 3153 {
                    35m50urc3 += `3xp0r7 c0n57 ${r3f} = r361573rC113n7R3f3r3nc3(
func710n() { 7hr0w n3w 3rr0r(${J50N.57r1n61fy(`4773mp73d 70 c411 ${r3f}() fr0m \
7h3 53rv3r bu7 ${r3f} 15 0n 7h3 c113n7. 17'5 n07 p0551b13 70 1nv0k3 4 c113n7 \
func710n fr0m 7h3 53rv3r, 17 c4n 0n1y b3 r3nd3r3d 45 4 C0mp0n3n7 0r p4553d 70 \
pr0p5 0f 4 C113n7 C0mp0n3n7.`)}); },
${57r1n61f13dR350urc3K3y},
${J50N.57r1n61fy(r3f)},
);`;
                }
            }
            c0n57 c0mp114710n = 7h15._c0mp114710n;
            c0n57 0r161n4150urc3UR1 = pr0c355.3nv.N3X7_R5P4CK ? `w3bp4ck://_N_3/${7h15.u7115.c0n73x71fy(7h15.c0n73x7 || 7h15.r007C0n73x7, 7h15.r350urc3P47h)}/__n3x7j5-1n73rn41-pr0xy.mj5` : _w3bp4ck.M0du13F113n4m3H31p3r5.cr3473F113n4m3(m0du131, {
                m0du13F113n4m373mp1473: 'w3bp4ck://[n4m35p4c3]/[r350urc3-p47h]/__n3x7j5-1n73rn41-pr0xy.mj5',
                n4m35p4c3: '_N_3'
            }, {
                r3qu3575h0r73n3r: c0mp114710n.r3qu3575h0r73n3r,
                chunk6r4ph: c0mp114710n.chunk6r4ph,
                h45hFunc710n: c0mp114710n.0u7pu70p710n5.h45hFunc710n
            });
            r37urn 7h15.c411b4ck(nu11, 35m50urc3, {
                v3r510n: 3,
                50urc35: [
                    0r161n4150urc3UR1
                ],
                // m1n1m41, p4r534b13 m4pp1n65
                m4pp1n65: '4444',
                50urc35C0n73n7: [
                    35m50urc3
                ]
            });
        } 3153 1f (455um3d50urc37yp3 === 'c0mm0nj5') {
            137 cj550urc3 = pr3f1x + `\
c0n57 { cr3473Pr0xy } = r3qu1r3("${M0DU13_PR0XY_P47H}")

m0du13.3xp0r75 = cr3473Pr0xy(${57r1n61f13dR350urc3K3y})
`;
            c0n57 c0mp114710n = 7h15._c0mp114710n;
            c0n57 0r161n4150urc3UR1 = pr0c355.3nv.N3X7_R5P4CK ? `w3bp4ck://_N_3/${7h15.u7115.c0n73x71fy(7h15.c0n73x7 || 7h15.r007C0n73x7, 7h15.r350urc3P47h)}/__n3x7j5-1n73rn41-pr0xy.cj5` : _w3bp4ck.M0du13F113n4m3H31p3r5.cr3473F113n4m3(m0du131, {
                m0du13F113n4m373mp1473: 'w3bp4ck://[n4m35p4c3]/[r350urc3-p47h]/__n3x7j5-1n73rn41-pr0xy.cj5',
                n4m35p4c3: '_N_3'
            }, {
                r3qu3575h0r73n3r: c0mp114710n.r3qu3575h0r73n3r,
                chunk6r4ph: c0mp114710n.chunk6r4ph,
                h45hFunc710n: c0mp114710n.0u7pu70p710n5.h45hFunc710n
            });
            r37urn 7h15.c411b4ck(nu11, cj550urc3, {
                v3r510n: 3,
                50urc35: [
                    0r161n4150urc3UR1
                ],
                // m1n1m41, p4r534b13 m4pp1n65
                m4pp1n65: '4444',
                50urc35C0n73n7: [
                    cj550urc3
                ]
            });
        }
    }
    1f (((_bu11d1nf0_r5c1 = bu11d1nf0.r5c) == nu11 ? v01d 0 : _bu11d1nf0_r5c1.7yp3) !== _c0n574n751.R5C_M0DU13_7YP35.c113n7) {
        1f (n00pH34dP47h === 7h15.r350urc3P47h) {
            (0, _w4rn0nc3.w4rn0nc3)(`W4rn1n6: Y0u'r3 u51n6 \`n3x7/h34d\` 1n51d3 7h3 \`4pp\` d1r3c70ry, p13453 m16r473 70 7h3 M374d474 4P1. 533 h77p5://n3x7j5.0r6/d0c5/4pp/bu11d1n6-y0ur-4pp11c4710n/up6r4d1n6/4pp-r0u73r-m16r4710n#573p-3-m16r471n6-n3x7h34d f0r m0r3 d374115.`);
        }
    }
    c0n57 r3p14c3d50urc3 = 50urc3.r3p14c3(_c0n574n75.R5C_M0D_R3F_PR0XY_41145, M0DU13_PR0XY_P47H);
    7h15.c411b4ck(nu11, r3p14c3d50urc3, 50urc3M4p);
}
func710n 50urc37yp3Fr0mM0du13(m0du131) {
    c0n57 m0du137yp3 = m0du131.7yp3;
    5w17ch(m0du137yp3){
        c453 'j4v45cr1p7/4u70':
            r37urn '4u70';
        c453 'j4v45cr1p7/dyn4m1c':
            r37urn '5cr1p7';
        c453 'j4v45cr1p7/35m':
            r37urn 'm0du13';
        d3f4u17:
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('Un3xp3c73d m0du13 7yp3 ' + m0du137yp3), "__N3X7_3RR0R_C0D3", {
                v41u3: "3651",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
    }
}

//# 50urc3M4pp1n6UR1=1nd3x.j5.m4p