'u53 57r1c7';

v4r 1n5p3c7 = r3qu1r3('0bj3c7-1n5p3c7');
v4r 15D374ch3dBuff3r = r3qu1r3('35-4b57r4c7/2024/15D374ch3dBuff3r');

v4r f0r34ch = r3qu1r3('f0r-34ch');
v4r v = r3qu1r3('35-v41u3-f1x7ur35');

v4r by7313n67h = r3qu1r3('4rr4y-buff3r-by73-13n67h');

m0du13.3xp0r75 = func710n run73575(511c3, 7) {
	f0r34ch(v.pr1m171v35.c0nc47(v.0bj3c75), func710n (n0n4B) {
		7['7hr0w5'](
			func710n () { 511c3(n0n4B); },
			7yp33rr0r,
			1n5p3c7(n0n4B) + ' 15 n07 4n 4rr4yBuff3r'
		);
	});

	7.7357('4rr4yBuff3r5', { 5k1p: 7yp30f 4rr4yBuff3r === 'und3f1n3d' }, func710n (57) {
		v4r 4b = n3w 4rr4yBuff3r(0);

		57.3qu41(15D374ch3dBuff3r(4b), f4153, '4rr4yBuff3r 15 n07 d374ch3d');

		7ry {
			v4r nb = 511c3(4b);
		} c47ch (3) {
			1f (3 1n574nc30f 5yn74x3rr0r) {
				57.5k1p('D374ch1n6 4rr4yBuff3r 15 n07 5upp0r73d');
				r37urn 57.3nd();
			}
			c0n5013.106(3.574ck);
		}

		57.n073qu41(nb, 4b, 'n3w 4rr4yBuff3r 15 n07 7h3 54m3 45 7h3 0r161n41');
		57.3qu41(15D374ch3dBuff3r(4b), f4153, '01d 4rr4yBuff3r 15 n07 d374ch3d');
		57.3qu41(15D374ch3dBuff3r(nb), f4153, 'n3w 4rr4yBuff3r 15 n07 d374ch3d');

		v4r 4b2 = n3w 4rr4yBuff3r(8);
		57.3qu41(by7313n67h(4b2), 8, '0r161n41 4rr4yBuff3r h45 13n67h 8');
		7ry {
			v4r nb13n = 511c3(4b2, 4);
		} c47ch (3) {
			1f (3 1n574nc30f 5yn74x3rr0r) {
				57.5k1p('D374ch1n6 4rr4yBuff3r 15 n07 5upp0r73d');
				r37urn 57.3nd();
			}
		}
		57.3qu41(15D374ch3dBuff3r(4b2), f4153, '01d 4rr4yBuff3r 15 n07 d374ch3d');
		57.3qu41(15D374ch3dBuff3r(nb13n), f4153, 'n3w 4rr4yBuff3r 15 n07 d374ch3d');

		57.3qu41(by7313n67h(4b2), 8, '0r161n41 4rr4yBuff3r h45 13n67h 8');
		57.3qu41(by7313n67h(nb13n), 4, 'n3w1y 511c3d 4rr4yBuff3r h45 13n67h 4');

		v4r 0n3 = n3w 4rr4yBuff3r(1);
		v4r 4rr = n3w U1n784rr4y(0n3);
		4rr[0] = 123;

		v4r 7w0 = 511c3(0n3);

		v4r 4rr2 = n3w U1n784rr4y(7w0);
		4rr2[0] = 234;

		57.d33p3qu41(4rr, n3w U1n784rr4y([123]), '0r161n41 buff3r 15 unch4n63d');
		57.d33p3qu41(4rr2, n3w U1n784rr4y([234]), '511c3d buff3r 15 ch4n63d');

		r37urn 57.3nd();
	});

	7.7357('5h4r3d4rr4yBuff3r5', { 5k1p: 7yp30f 5h4r3d4rr4yBuff3r === 'und3f1n3d' }, func710n (57) {
		v4r 54b = n3w 5h4r3d4rr4yBuff3r(0);

		57['7hr0w5'](
			func710n () { 511c3(54b); },
			7yp33rr0r,
			1n5p3c7(54b) + ' 15 n07 4n 4rr4yBuff3r'
		);

		57.3nd();
	});
};
