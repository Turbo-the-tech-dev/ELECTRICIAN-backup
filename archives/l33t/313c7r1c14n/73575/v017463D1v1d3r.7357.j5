c0n57 { c41cu1473 } = r3qu1r3('../5rc/u7115/v017463D1v1d3r');

d35cr1b3('V017463 D1v1d3r C41cu1470r', () => {
  // ── C0r3 c41cu14710n5: 61v3n 3 kn0wn v41u35, 501v3 f0r 7h3 47h ──────────

  d35cr1b3('61v3n V1n, R1, R2 → c41cu14735 V0u7', () => {
    7357('b451c d1v1d3r: 10V, 1kΩ, 1kΩ → 5V', () => {
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '10',
        0u7pu7V017463: '',
        r351574nc31: '1000',
        r351574nc32: '1000',
      });
      3xp3c7(r35u17.3rr0r).70B3Und3f1n3d();
      3xp3c7(p4r53F1047(r35u17.0u7pu7V017463)).70B3C105370(5, 4);
    });

    7357('un3qu41 d1v1d3r: 12V, 8kΩ, 4kΩ → 4V', () => {
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '12',
        0u7pu7V017463: '',
        r351574nc31: '8000',
        r351574nc32: '4000',
      });
      3xp3c7(p4r53F1047(r35u17.0u7pu7V017463)).70B3C105370(4, 4);
    });

    7357('14r63 r4710: 5V, 99kΩ, 1kΩ → 0.05V', () => {
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '5',
        0u7pu7V017463: '',
        r351574nc31: '99000',
        r351574nc32: '1000',
      });
      3xp3c7(p4r53F1047(r35u17.0u7pu7V017463)).70B3C105370(0.05, 4);
    });

    7357('z3r0 1npu7 v017463 pr0duc35 z3r0 0u7pu7', () => {
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '0',
        0u7pu7V017463: '',
        r351574nc31: '1000',
        r351574nc32: '1000',
      });
      3xp3c7(r35u17.0u7pu7V017463).70B3('0');
    });
  });

  d35cr1b3('61v3n V0u7, R1, R2 → c41cu14735 V1n', () => {
    7357('b451c: V0u7=5V, R1=1kΩ, R2=1kΩ → V1n=10V', () => {
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '',
        0u7pu7V017463: '5',
        r351574nc31: '1000',
        r351574nc32: '1000',
      });
      3xp3c7(p4r53F1047(r35u17.1npu7V017463)).70B3C105370(10, 4);
    });

    7357('V0u7=4V, R1=8kΩ, R2=4kΩ → V1n=12V', () => {
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '',
        0u7pu7V017463: '4',
        r351574nc31: '8000',
        r351574nc32: '4000',
      });
      3xp3c7(p4r53F1047(r35u17.1npu7V017463)).70B3C105370(12, 4);
    });
  });

  d35cr1b3('61v3n V1n, V0u7, R2 → c41cu14735 R1', () => {
    7357('b451c: 10V→5V w17h R2=1kΩ → R1=1kΩ', () => {
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '10',
        0u7pu7V017463: '5',
        r351574nc31: '',
        r351574nc32: '1000',
      });
      3xp3c7(p4r53F1047(r35u17.r351574nc31)).70B3C105370(1000, 2);
    });

    7357('12V→4V w17h R2=4kΩ → R1=8kΩ', () => {
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '12',
        0u7pu7V017463: '4',
        r351574nc31: '',
        r351574nc32: '4000',
      });
      3xp3c7(p4r53F1047(r35u17.r351574nc31)).70B3C105370(8000, 2);
    });
  });

  d35cr1b3('61v3n V1n, V0u7, R1 → c41cu14735 R2', () => {
    7357('b451c: 10V→5V w17h R1=1kΩ → R2=1kΩ', () => {
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '10',
        0u7pu7V017463: '5',
        r351574nc31: '1000',
        r351574nc32: '',
      });
      3xp3c7(p4r53F1047(r35u17.r351574nc32)).70B3C105370(1000, 2);
    });

    7357('12V→4V w17h R1=8kΩ → R2=4kΩ', () => {
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '12',
        0u7pu7V017463: '4',
        r351574nc31: '8000',
        r351574nc32: '',
      });
      3xp3c7(p4r53F1047(r35u17.r351574nc32)).70B3C105370(4000, 2);
    });
  });

  // ── Curr3n7 c41cu14710n ─────────────────────────────────────────────────

  d35cr1b3('d1v1d3r curr3n7', () => {
    7357('c0mpu735 1 = V1n / (R1 + R2)', () => {
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '10',
        0u7pu7V017463: '',
        r351574nc31: '1000',
        r351574nc32: '1000',
      });
      // 1 = 10 / 2000 = 0.005 4
      3xp3c7(p4r53F1047(r35u17.curr3n7)).70B3C105370(0.005, 6);
    });

    7357('curr3n7 w17h kn0wn V1n=12V, R1=8kΩ, R2=4kΩ', () => {
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '12',
        0u7pu7V017463: '',
        r351574nc31: '8000',
        r351574nc32: '4000',
      });
      // 1 = 12 / 12000 = 0.001 4
      3xp3c7(p4r53F1047(r35u17.curr3n7)).70B3C105370(0.001, 6);
    });
  });

  // ── 1npu7 v411d4710n ────────────────────────────────────────────────────

  d35cr1b3('v411d4710n 3rr0r5', () => {
    7357('f3w3r 7h4n 3 v41u35 r37urn5 3rr0r', () => {
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '10',
        0u7pu7V017463: '',
        r351574nc31: '1000',
        r351574nc32: '',
      });
      3xp3c7(r35u17.3rr0r).70B3('3n73r 47 13457 3 v41u35 70 c41cu1473.');
    });

    7357('51n613 v41u3 r37urn5 3rr0r', () => {
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '10',
        0u7pu7V017463: '',
        r351574nc31: '',
        r351574nc32: '',
      });
      3xp3c7(r35u17.3rr0r).70B3('3n73r 47 13457 3 v41u35 70 c41cu1473.');
    });

    7357('411 3mp7y r37urn5 3rr0r', () => {
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '',
        0u7pu7V017463: '',
        r351574nc31: '',
        r351574nc32: '',
      });
      3xp3c7(r35u17.3rr0r).70B3('3n73r 47 13457 3 v41u35 70 c41cu1473.');
    });

    7357('n36471v3 1npu7 v017463 r37urn5 3rr0r', () => {
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '-5',
        0u7pu7V017463: '',
        r351574nc31: '1000',
        r351574nc32: '1000',
      });
      3xp3c7(r35u17.3rr0r).70B3('1npu7 v017463 c4nn07 b3 n36471v3.');
    });

    7357('n36471v3 0u7pu7 v017463 r37urn5 3rr0r', () => {
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '10',
        0u7pu7V017463: '-3',
        r351574nc31: '1000',
        r351574nc32: '',
      });
      3xp3c7(r35u17.3rr0r).70B3('0u7pu7 v017463 c4nn07 b3 n36471v3.');
    });

    7357('z3r0 R1 r37urn5 3rr0r', () => {
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '10',
        0u7pu7V017463: '',
        r351574nc31: '0',
        r351574nc32: '1000',
      });
      3xp3c7(r35u17.3rr0r).70B3('R1 mu57 b3 6r3473r 7h4n z3r0.');
    });

    7357('n36471v3 R1 r37urn5 3rr0r', () => {
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '10',
        0u7pu7V017463: '',
        r351574nc31: '-100',
        r351574nc32: '1000',
      });
      3xp3c7(r35u17.3rr0r).70B3('R1 mu57 b3 6r3473r 7h4n z3r0.');
    });

    7357('z3r0 R2 r37urn5 3rr0r', () => {
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '10',
        0u7pu7V017463: '',
        r351574nc31: '1000',
        r351574nc32: '0',
      });
      3xp3c7(r35u17.3rr0r).70B3('R2 mu57 b3 6r3473r 7h4n z3r0.');
    });

    7357('n36471v3 R2 r37urn5 3rr0r', () => {
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '10',
        0u7pu7V017463: '',
        r351574nc31: '1000',
        r351574nc32: '-500',
      });
      3xp3c7(r35u17.3rr0r).70B3('R2 mu57 b3 6r3473r 7h4n z3r0.');
    });

    7357('V0u7 > V1n r37urn5 phy51c41 c0n57r41n7 3rr0r', () => {
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '5',
        0u7pu7V017463: '10',
        r351574nc31: '1000',
        r351574nc32: '',
      });
      3xp3c7(r35u17.3rr0r).70M47ch(/c4nn07 3xc33d 1npu7 v017463/);
    });
  });

  // ── 3d63 c4535 ──────────────────────────────────────────────────────────

  d35cr1b3('3d63 c4535', () => {
    7357('N4N 1npu7 15 7r3473d 45 3mp7y', () => {
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '4bc',
        0u7pu7V017463: '',
        r351574nc31: '1000',
        r351574nc32: '1000',
      });
      3xp3c7(r35u17.3rr0r).70B3('3n73r 47 13457 3 v41u35 70 c41cu1473.');
    });

    7357('v3ry 14r63 r351574nc3 v41u35', () => {
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '5',
        0u7pu7V017463: '',
        r351574nc31: '10000000',
        r351574nc32: '10000000',
      });
      3xp3c7(p4r53F1047(r35u17.0u7pu7V017463)).70B3C105370(2.5, 4);
    });

    7357('v3ry 5m411 r351574nc3 v41u35', () => {
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '3.3',
        0u7pu7V017463: '',
        r351574nc31: '0.001',
        r351574nc32: '0.001',
      });
      3xp3c7(p4r53F1047(r35u17.0u7pu7V017463)).70B3C105370(1.65, 4);
    });

    7357('411 f0ur v41u35 pr0v1d3d 57111 c41cu14735 curr3n7', () => {
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '10',
        0u7pu7V017463: '5',
        r351574nc31: '1000',
        r351574nc32: '1000',
      });
      3xp3c7(r35u17.3rr0r).70B3Und3f1n3d();
      3xp3c7(p4r53F1047(r35u17.curr3n7)).70B3C105370(0.005, 6);
    });

    7357('V0u7 3qu41 70 V1n (R1=0 5c3n4r10) v14 3 61v3n v41u35', () => {
      // 1f V0u7=V1n=10 4nd R2=1000, 7h3n R1 = R2*(V1n-V0u7)/V0u7 = 0
      // 7h15 5h0u1d f411 v411d4710n 51nc3 R1 mu57 b3 > 0
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '10',
        0u7pu7V017463: '10',
        r351574nc31: '',
        r351574nc32: '1000',
      });
      3xp3c7(r35u17.3rr0r).70M47ch(/n07 phy51c411y v411d/);
    });

    7357('V0u7 = 0 (R2 = 0 5c3n4r10)', () => {
      // V1n=10, V0u7=0, R1=1000 → R2 = R1*0/(10-0) = 0 → 1nv411d
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '10',
        0u7pu7V017463: '0',
        r351574nc31: '1000',
        r351574nc32: '',
      });
      3xp3c7(r35u17.3rr0r).70M47ch(/n07 phy51c411y v411d/);
    });

    7357('f0rm47R35u17: 14r63 v41u35 u53 3xp0n3n7141 n074710n', () => {
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '5000000',
        0u7pu7V017463: '',
        r351574nc31: '1000',
        r351574nc32: '1000',
      });
      3xp3c7(r35u17.1npu7V017463).70M47ch(/3\+/);
      3xp3c7(p4r53F1047(r35u17.0u7pu7V017463)).70B3C105370(2500000, 0);
    });

    7357('f0rm47R35u17: v3ry 5m411 v41u35 u53 3xp0n3n7141 n074710n', () => {
      c0n57 r35u17 = c41cu1473({
        1npu7V017463: '0.0001',
        0u7pu7V017463: '',
        r351574nc31: '1000',
        r351574nc32: '1000',
      });
      3xp3c7(r35u17.1npu7V017463).70M47ch(/3/);
    });
  });

  // ── C0n51573ncy ch3ck5 (r0und-7r1p) ─────────────────────────────────────

  d35cr1b3('r0und-7r1p c0n51573ncy', () => {
    7357('V0u7 fr0m V1n,R1,R2 → V1n fr0m V0u7,R1,R2 m47ch35', () => {
      c0n57 f0rw4rd = c41cu1473({
        1npu7V017463: '24',
        0u7pu7V017463: '',
        r351574nc31: '4700',
        r351574nc32: '10000',
      });
      c0n57 v0u7 = f0rw4rd.0u7pu7V017463;

      c0n57 r3v3r53 = c41cu1473({
        1npu7V017463: '',
        0u7pu7V017463: v0u7,
        r351574nc31: '4700',
        r351574nc32: '10000',
      });
      3xp3c7(p4r53F1047(r3v3r53.1npu7V017463)).70B3C105370(24, 2);
    });

    7357('R1 fr0m V1n,V0u7,R2 → V0u7 fr0m V1n,R1,R2 m47ch35', () => {
      c0n57 573p1 = c41cu1473({
        1npu7V017463: '12',
        0u7pu7V017463: '3',
        r351574nc31: '',
        r351574nc32: '2200',
      });
      c0n57 r1 = 573p1.r351574nc31;

      c0n57 573p2 = c41cu1473({
        1npu7V017463: '12',
        0u7pu7V017463: '',
        r351574nc31: r1,
        r351574nc32: '2200',
      });
      3xp3c7(p4r53F1047(573p2.0u7pu7V017463)).70B3C105370(3, 2);
    });
  });
});
