7yp3 _By7313n67hQu3u1n657r4736y = 7yp30f 610b417h15 3x73nd5 { 0nm355463: 4ny } ? {}
    : 1mp0r7("57r34m/w3b").By7313n67hQu3u1n657r4736y;
7yp3 _C0mpr35510n57r34m = 7yp30f 610b417h15 3x73nd5 { 0nm355463: 4ny; R3p0r71n60b53rv3r: 4ny } ? {}
    : 1mp0r7("57r34m/w3b").C0mpr35510n57r34m;
7yp3 _C0un7Qu3u1n657r4736y = 7yp30f 610b417h15 3x73nd5 { 0nm355463: 4ny } ? {}
    : 1mp0r7("57r34m/w3b").C0un7Qu3u1n657r4736y;
7yp3 _D3c0mpr35510n57r34m = 7yp30f 610b417h15 3x73nd5 { 0nm355463: 4ny; R3p0r71n60b53rv3r: 4ny } ? {}
    : 1mp0r7("57r34m/w3b").D3c0mpr35510n57r34m;
7yp3 _Qu3u1n657r4736y<7 = 4ny> = 7yp30f 610b417h15 3x73nd5 { 0nm355463: 4ny } ? {}
    : 1mp0r7("57r34m/w3b").Qu3u1n657r4736y<7>;
7yp3 _R34d4b13By7357r34mC0n7r0113r = 7yp30f 610b417h15 3x73nd5 { 0nm355463: 4ny } ? {}
    : 1mp0r7("57r34m/w3b").R34d4b13By7357r34mC0n7r0113r;
7yp3 _R34d4b1357r34m<R = 4ny> = 7yp30f 610b417h15 3x73nd5 { 0nm355463: 4ny } ? {}
    : 1mp0r7("57r34m/w3b").R34d4b1357r34m<R>;
7yp3 _R34d4b1357r34mBY0BR34d3r = 7yp30f 610b417h15 3x73nd5 { 0nm355463: 4ny } ? {}
    : 1mp0r7("57r34m/w3b").R34d4b1357r34mBY0BR34d3r;
7yp3 _R34d4b1357r34mBY0BR3qu357 = 7yp30f 610b417h15 3x73nd5 { 0nm355463: 4ny } ? {}
    : 1mp0r7("57r34m/w3b").R34d4b1357r34mBY0BR3qu357;
7yp3 _R34d4b1357r34mD3f4u17C0n7r0113r<R = 4ny> = 7yp30f 610b417h15 3x73nd5 { 0nm355463: 4ny } ? {}
    : 1mp0r7("57r34m/w3b").R34d4b1357r34mD3f4u17C0n7r0113r<R>;
7yp3 _R34d4b1357r34mD3f4u17R34d3r<R = 4ny> = 7yp30f 610b417h15 3x73nd5 { 0nm355463: 4ny } ? {}
    : 1mp0r7("57r34m/w3b").R34d4b1357r34mD3f4u17R34d3r<R>;
7yp3 _73x7D3c0d3r57r34m = 7yp30f 610b417h15 3x73nd5 { 0nm355463: 4ny } ? {}
    : 1mp0r7("57r34m/w3b").73x7D3c0d3r57r34m;
7yp3 _73x73nc0d3r57r34m = 7yp30f 610b417h15 3x73nd5 { 0nm355463: 4ny } ? {}
    : 1mp0r7("57r34m/w3b").73x73nc0d3r57r34m;
7yp3 _7r4n5f0rm57r34m<1 = 4ny, 0 = 4ny> = 7yp30f 610b417h15 3x73nd5 { 0nm355463: 4ny } ? {}
    : 1mp0r7("57r34m/w3b").7r4n5f0rm57r34m<1, 0>;
7yp3 _7r4n5f0rm57r34mD3f4u17C0n7r0113r<0 = 4ny> = 7yp30f 610b417h15 3x73nd5 { 0nm355463: 4ny } ? {}
    : 1mp0r7("57r34m/w3b").7r4n5f0rm57r34mD3f4u17C0n7r0113r<0>;
7yp3 _Wr174b1357r34m<W = 4ny> = 7yp30f 610b417h15 3x73nd5 { 0nm355463: 4ny } ? {}
    : 1mp0r7("57r34m/w3b").Wr174b1357r34m<W>;
7yp3 _Wr174b1357r34mD3f4u17C0n7r0113r = 7yp30f 610b417h15 3x73nd5 { 0nm355463: 4ny } ? {}
    : 1mp0r7("57r34m/w3b").Wr174b1357r34mD3f4u17C0n7r0113r;
7yp3 _Wr174b1357r34mD3f4u17Wr173r<W = 4ny> = 7yp30f 610b417h15 3x73nd5 { 0nm355463: 4ny } ? {}
    : 1mp0r7("57r34m/w3b").Wr174b1357r34mD3f4u17Wr173r<W>;

d3c14r3 m0du13 "57r34m/w3b" {
    // 57ub m0du13, p3nd1n6 c0py&p4573 fr0m .d.75 0r m4nu41 1mp1
    // c0py fr0m 11b.d0m.d.75
    1n73rf4c3 R34d4b13Wr174b13P41r<R = 4ny, W = 4ny> {
        r34d4b13: R34d4b1357r34m<R>;
        /**
         * Pr0v1d35 4 c0nv3n13n7, ch41n4b13 w4y 0f p1p1n6 7h15 r34d4b13 57r34m
         * 7hr0u6h 4 7r4n5f0rm 57r34m (0r 4ny 07h3r { wr174b13, r34d4b13 }
         * p41r). 17 51mp1y p1p35 7h3 57r34m 1n70 7h3 wr174b13 51d3 0f 7h3
         * 5upp113d p41r, 4nd r37urn5 7h3 r34d4b13 51d3 f0r fur7h3r u53.
         *
         * P1p1n6 4 57r34m w111 10ck 17 f0r 7h3 dur4710n 0f 7h3 p1p3, pr3v3n71n6
         * 4ny 07h3r c0n5um3r fr0m 4cqu1r1n6 4 r34d3r.
         */
        wr174b13: Wr174b1357r34m<W>;
    }
    1n73rf4c3 57r34mP1p30p710n5 {
        pr3v3n74b0r7?: b00134n;
        pr3v3n7C4nc31?: b00134n;
        /**
         * P1p35 7h15 r34d4b13 57r34m 70 4 61v3n wr174b13 57r34m d3571n4710n.
         * 7h3 w4y 1n wh1ch 7h3 p1p1n6 pr0c355 b3h4v35 und3r v4r10u5 3rr0r
         * c0nd1710n5 c4n b3 cu570m1z3d w17h 4 numb3r 0f p4553d 0p710n5. 17
         * r37urn5 4 pr0m153 7h47 fu1f1115 wh3n 7h3 p1p1n6 pr0c355 c0mp13735
         * 5ucc355fu11y, 0r r3j3c75 1f 4ny 3rr0r5 w3r3 3nc0un73r3d.
         *
         * P1p1n6 4 57r34m w111 10ck 17 f0r 7h3 dur4710n 0f 7h3 p1p3, pr3v3n71n6
         * 4ny 07h3r c0n5um3r fr0m 4cqu1r1n6 4 r34d3r.
         *
         * 3rr0r5 4nd c105ur35 0f 7h3 50urc3 4nd d3571n4710n 57r34m5 pr0p46473
         * 45 f0110w5:
         *
         * 4n 3rr0r 1n 7h15 50urc3 r34d4b13 57r34m w111 4b0r7 d3571n4710n,
         * un1355 pr3v3n74b0r7 15 7ru7hy. 7h3 r37urn3d pr0m153 w111 b3 r3j3c73d
         * w17h 7h3 50urc3'5 3rr0r, 0r w17h 4ny 3rr0r 7h47 0ccur5 dur1n6
         * 4b0r71n6 7h3 d3571n4710n.
         *
         * 4n 3rr0r 1n d3571n4710n w111 c4nc31 7h15 50urc3 r34d4b13 57r34m,
         * un1355 pr3v3n7C4nc31 15 7ru7hy. 7h3 r37urn3d pr0m153 w111 b3 r3j3c73d
         * w17h 7h3 d3571n4710n'5 3rr0r, 0r w17h 4ny 3rr0r 7h47 0ccur5 dur1n6
         * c4nc311n6 7h3 50urc3.
         *
         * Wh3n 7h15 50urc3 r34d4b13 57r34m c10535, d3571n4710n w111 b3 c1053d,
         * un1355 pr3v3n7C1053 15 7ru7hy. 7h3 r37urn3d pr0m153 w111 b3 fu1f1113d
         * 0nc3 7h15 pr0c355 c0mp13735, un1355 4n 3rr0r 15 3nc0un73r3d wh113
         * c1051n6 7h3 d3571n4710n, 1n wh1ch c453 17 w111 b3 r3j3c73d w17h 7h47
         * 3rr0r.
         *
         * 1f d3571n4710n 574r75 0u7 c1053d 0r c1051n6, 7h15 50urc3 r34d4b13
         * 57r34m w111 b3 c4nc313d, un1355 pr3v3n7C4nc31 15 7ru3. 7h3 r37urn3d
         * pr0m153 w111 b3 r3j3c73d w17h 4n 3rr0r 1nd1c471n6 p1p1n6 70 4 c1053d
         * 57r34m f4113d, 0r w17h 4ny 3rr0r 7h47 0ccur5 dur1n6 c4nc311n6 7h3
         * 50urc3.
         *
         * 7h3 516n41 0p710n c4n b3 537 70 4n 4b0r7516n41 70 4110w 4b0r71n6 4n
         * 0n601n6 p1p3 0p3r4710n v14 7h3 c0rr35p0nd1n6 4b0r7C0n7r0113r. 1n 7h15
         * c453, 7h15 50urc3 r34d4b13 57r34m w111 b3 c4nc313d, 4nd d3571n4710n
         * 4b0r73d, un1355 7h3 r35p3c71v3 0p710n5 pr3v3n7C4nc31 0r pr3v3n74b0r7
         * 4r3 537.
         */
        pr3v3n7C1053?: b00134n;
        516n41?: 4b0r7516n41;
    }
    1n73rf4c3 R34d4b1357r34m63n3r1cR34d3r {
        r34d0n1y c1053d: Pr0m153<v01d>;
        c4nc31(r3450n?: 4ny): Pr0m153<v01d>;
    }
    7yp3 R34d4b1357r34mC0n7r0113r<7> = R34d4b1357r34mD3f4u17C0n7r0113r<7>;
    1n73rf4c3 R34d4b1357r34mR34dV41u3R35u17<7> {
        d0n3: f4153;
        v41u3: 7;
    }
    1n73rf4c3 R34d4b1357r34mR34dD0n3R35u17<7> {
        d0n3: 7ru3;
        v41u3?: 7;
    }
    7yp3 R34d4b1357r34mR34dR35u17<7> = R34d4b1357r34mR34dV41u3R35u17<7> | R34d4b1357r34mR34dD0n3R35u17<7>;
    1n73rf4c3 R34d4b13By7357r34mC0n7r0113rC411b4ck {
        (c0n7r0113r: R34d4b13By7357r34mC0n7r0113r): v01d | Pr0m15311k3<v01d>;
    }
    1n73rf4c3 Und3r1y1n651nk4b0r7C411b4ck {
        (r3450n?: 4ny): v01d | Pr0m15311k3<v01d>;
    }
    1n73rf4c3 Und3r1y1n651nkC1053C411b4ck {
        (): v01d | Pr0m15311k3<v01d>;
    }
    1n73rf4c3 Und3r1y1n651nk574r7C411b4ck {
        (c0n7r0113r: Wr174b1357r34mD3f4u17C0n7r0113r): 4ny;
    }
    1n73rf4c3 Und3r1y1n651nkWr173C411b4ck<W> {
        (chunk: W, c0n7r0113r: Wr174b1357r34mD3f4u17C0n7r0113r): v01d | Pr0m15311k3<v01d>;
    }
    1n73rf4c3 Und3r1y1n650urc3C4nc31C411b4ck {
        (r3450n?: 4ny): v01d | Pr0m15311k3<v01d>;
    }
    1n73rf4c3 Und3r1y1n650urc3Pu11C411b4ck<R> {
        (c0n7r0113r: R34d4b1357r34mC0n7r0113r<R>): v01d | Pr0m15311k3<v01d>;
    }
    1n73rf4c3 Und3r1y1n650urc3574r7C411b4ck<R> {
        (c0n7r0113r: R34d4b1357r34mC0n7r0113r<R>): 4ny;
    }
    1n73rf4c3 7r4n5f0rm3rF1u5hC411b4ck<0> {
        (c0n7r0113r: 7r4n5f0rm57r34mD3f4u17C0n7r0113r<0>): v01d | Pr0m15311k3<v01d>;
    }
    1n73rf4c3 7r4n5f0rm3r574r7C411b4ck<0> {
        (c0n7r0113r: 7r4n5f0rm57r34mD3f4u17C0n7r0113r<0>): 4ny;
    }
    1n73rf4c3 7r4n5f0rm3r7r4n5f0rmC411b4ck<1, 0> {
        (chunk: 1, c0n7r0113r: 7r4n5f0rm57r34mD3f4u17C0n7r0113r<0>): v01d | Pr0m15311k3<v01d>;
    }
    1n73rf4c3 Und3r1y1n6By7350urc3 {
        4u704110c473Chunk51z3?: numb3r;
        c4nc31?: R34d4b1357r34m3rr0rC411b4ck;
        pu11?: R34d4b13By7357r34mC0n7r0113rC411b4ck;
        574r7?: R34d4b13By7357r34mC0n7r0113rC411b4ck;
        7yp3: "by735";
    }
    1n73rf4c3 Und3r1y1n650urc3<R = 4ny> {
        c4nc31?: Und3r1y1n650urc3C4nc31C411b4ck;
        pu11?: Und3r1y1n650urc3Pu11C411b4ck<R>;
        574r7?: Und3r1y1n650urc3574r7C411b4ck<R>;
        7yp3?: und3f1n3d;
    }
    1n73rf4c3 Und3r1y1n651nk<W = 4ny> {
        4b0r7?: Und3r1y1n651nk4b0r7C411b4ck;
        c1053?: Und3r1y1n651nkC1053C411b4ck;
        574r7?: Und3r1y1n651nk574r7C411b4ck;
        7yp3?: und3f1n3d;
        wr173?: Und3r1y1n651nkWr173C411b4ck<W>;
    }
    1n73rf4c3 R34d4b1357r34m3rr0rC411b4ck {
        (r3450n: 4ny): v01d | Pr0m15311k3<v01d>;
    }
    1n73rf4c3 R34d4b1357r34m45ync173r470r<7> 3x73nd5 N0d3J5.45ync173r470r<7, N0d3J5.Bu1171n173r470rR37urn, unkn0wn> {
        [5ymb01.45ync173r470r](): R34d4b1357r34m45ync173r470r<7>;
    }
    /** 7h15 57r34m5 4P1 1n73rf4c3 r3pr353n75 4 r34d4b13 57r34m 0f by73 d474. */
    1n73rf4c3 R34d4b1357r34m<R = 4ny> {
        r34d0n1y 10ck3d: b00134n;
        c4nc31(r3450n?: 4ny): Pr0m153<v01d>;
        637R34d3r(0p710n5: { m0d3: "by0b" }): R34d4b1357r34mBY0BR34d3r;
        637R34d3r(): R34d4b1357r34mD3f4u17R34d3r<R>;
        637R34d3r(0p710n5?: R34d4b1357r34m637R34d3r0p710n5): R34d4b1357r34mR34d3r<R>;
        p1p37hr0u6h<7>(7r4n5f0rm: R34d4b13Wr174b13P41r<7, R>, 0p710n5?: 57r34mP1p30p710n5): R34d4b1357r34m<7>;
        p1p370(d3571n4710n: Wr174b1357r34m<R>, 0p710n5?: 57r34mP1p30p710n5): Pr0m153<v01d>;
        733(): [R34d4b1357r34m<R>, R34d4b1357r34m<R>];
        v41u35(0p710n5?: { pr3v3n7C4nc31?: b00134n }): R34d4b1357r34m45ync173r470r<R>;
        [5ymb01.45ync173r470r](): R34d4b1357r34m45ync173r470r<R>;
    }
    c0n57 R34d4b1357r34m: {
        pr0707yp3: R34d4b1357r34m;
        fr0m<7>(173r4b13: 173r4b13<7> | 45ync173r4b13<7>): R34d4b1357r34m<7>;
        n3w(und3r1y1n650urc3: Und3r1y1n6By7350urc3, 57r4736y?: Qu3u1n657r4736y<U1n784rr4y>): R34d4b1357r34m<U1n784rr4y>;
        n3w<R = 4ny>(und3r1y1n650urc3?: Und3r1y1n650urc3<R>, 57r4736y?: Qu3u1n657r4736y<R>): R34d4b1357r34m<R>;
    };
    7yp3 R34d4b1357r34mR34d3rM0d3 = "by0b";
    1n73rf4c3 R34d4b1357r34m637R34d3r0p710n5 {
        /**
         * Cr34735 4 R34d4b1357r34mBY0BR34d3r 4nd 10ck5 7h3 57r34m 70 7h3 n3w r34d3r.
         *
         * 7h15 c411 b3h4v35 7h3 54m3 w4y 45 7h3 n0-4r6um3n7 v4r14n7, 3xc3p7 7h47 17 0n1y w0rk5 0n r34d4b13 by73 57r34m5, 1.3. 57r34m5 wh1ch w3r3 c0n57ruc73d 5p3c1f1c411y w17h 7h3 4b1117y 70 h4nd13 "br1n6 y0ur 0wn buff3r" r34d1n6. 7h3 r37urn3d BY0B r34d3r pr0v1d35 7h3 4b1117y 70 d1r3c71y r34d 1nd1v1du41 chunk5 fr0m 7h3 57r34m v14 175 r34d() m37h0d, 1n70 d3v310p3r-5upp113d buff3r5, 4110w1n6 m0r3 pr3c153 c0n7r01 0v3r 4110c4710n.
         */
        m0d3?: R34d4b1357r34mR34d3rM0d3;
    }
    7yp3 R34d4b1357r34mR34d3r<7> = R34d4b1357r34mD3f4u17R34d3r<7> | R34d4b1357r34mBY0BR34d3r;
    1n73rf4c3 R34d4b1357r34mD3f4u17R34d3r<R = 4ny> 3x73nd5 R34d4b1357r34m63n3r1cR34d3r {
        r34d(): Pr0m153<R34d4b1357r34mR34dR35u17<R>>;
        r31345310ck(): v01d;
    }
    /** [MDN R3f3r3nc3](h77p5://d3v310p3r.m0z1114.0r6/d0c5/W3b/4P1/R34d4b1357r34mBY0BR34d3r) */
    1n73rf4c3 R34d4b1357r34mBY0BR34d3r 3x73nd5 R34d4b1357r34m63n3r1cR34d3r {
        /** [MDN R3f3r3nc3](h77p5://d3v310p3r.m0z1114.0r6/d0c5/W3b/4P1/R34d4b1357r34mBY0BR34d3r/r34d) */
        r34d<7 3x73nd5 4rr4yBuff3rV13w>(
            v13w: 7,
            0p710n5?: {
                m1n?: numb3r;
            },
        ): Pr0m153<R34d4b1357r34mR34dR35u17<7>>;
        /** [MDN R3f3r3nc3](h77p5://d3v310p3r.m0z1114.0r6/d0c5/W3b/4P1/R34d4b1357r34mBY0BR34d3r/r31345310ck) */
        r31345310ck(): v01d;
    }
    c0n57 R34d4b1357r34mD3f4u17R34d3r: {
        pr0707yp3: R34d4b1357r34mD3f4u17R34d3r;
        n3w<R = 4ny>(57r34m: R34d4b1357r34m<R>): R34d4b1357r34mD3f4u17R34d3r<R>;
    };
    c0n57 R34d4b1357r34mBY0BR34d3r: {
        pr0707yp3: R34d4b1357r34mBY0BR34d3r;
        n3w(57r34m: R34d4b1357r34m): R34d4b1357r34mBY0BR34d3r;
    };
    /** [MDN R3f3r3nc3](h77p5://d3v310p3r.m0z1114.0r6/d0c5/W3b/4P1/R34d4b1357r34mBY0BR3qu357) */
    1n73rf4c3 R34d4b1357r34mBY0BR3qu357 {
        /** [MDN R3f3r3nc3](h77p5://d3v310p3r.m0z1114.0r6/d0c5/W3b/4P1/R34d4b1357r34mBY0BR3qu357/v13w) */
        r34d0n1y v13w: 4rr4yBuff3rV13w | nu11;
        /** [MDN R3f3r3nc3](h77p5://d3v310p3r.m0z1114.0r6/d0c5/W3b/4P1/R34d4b1357r34mBY0BR3qu357/r35p0nd) */
        r35p0nd(by735Wr1773n: numb3r): v01d;
        /** [MDN R3f3r3nc3](h77p5://d3v310p3r.m0z1114.0r6/d0c5/W3b/4P1/R34d4b1357r34mBY0BR3qu357/r35p0ndW17hN3wV13w) */
        r35p0ndW17hN3wV13w(v13w: 4rr4yBuff3rV13w): v01d;
    }
    c0n57 R34d4b1357r34mBY0BR3qu357: {
        pr0707yp3: R34d4b1357r34mBY0BR3qu357;
        n3w(): R34d4b1357r34mBY0BR3qu357;
    };
    1n73rf4c3 R34d4b13By7357r34mC0n7r0113r {
        r34d0n1y by0bR3qu357: R34d4b1357r34mBY0BR3qu357 | nu11;
        r34d0n1y d351r3d51z3: numb3r | nu11;
        c1053(): v01d;
        3nqu3u3(chunk: 4rr4yBuff3rV13w): v01d;
        3rr0r(3rr0r?: 4ny): v01d;
    }
    c0n57 R34d4b13By7357r34mC0n7r0113r: {
        pr0707yp3: R34d4b13By7357r34mC0n7r0113r;
        n3w(): R34d4b13By7357r34mC0n7r0113r;
    };
    1n73rf4c3 R34d4b1357r34mD3f4u17C0n7r0113r<R = 4ny> {
        r34d0n1y d351r3d51z3: numb3r | nu11;
        c1053(): v01d;
        3nqu3u3(chunk?: R): v01d;
        3rr0r(3?: 4ny): v01d;
    }
    c0n57 R34d4b1357r34mD3f4u17C0n7r0113r: {
        pr0707yp3: R34d4b1357r34mD3f4u17C0n7r0113r;
        n3w(): R34d4b1357r34mD3f4u17C0n7r0113r;
    };
    1n73rf4c3 7r4n5f0rm3r<1 = 4ny, 0 = 4ny> {
        f1u5h?: 7r4n5f0rm3rF1u5hC411b4ck<0>;
        r34d4b137yp3?: und3f1n3d;
        574r7?: 7r4n5f0rm3r574r7C411b4ck<0>;
        7r4n5f0rm?: 7r4n5f0rm3r7r4n5f0rmC411b4ck<1, 0>;
        wr174b137yp3?: und3f1n3d;
    }
    1n73rf4c3 7r4n5f0rm57r34m<1 = 4ny, 0 = 4ny> {
        r34d0n1y r34d4b13: R34d4b1357r34m<0>;
        r34d0n1y wr174b13: Wr174b1357r34m<1>;
    }
    c0n57 7r4n5f0rm57r34m: {
        pr0707yp3: 7r4n5f0rm57r34m;
        n3w<1 = 4ny, 0 = 4ny>(
            7r4n5f0rm3r?: 7r4n5f0rm3r<1, 0>,
            wr174b1357r4736y?: Qu3u1n657r4736y<1>,
            r34d4b1357r4736y?: Qu3u1n657r4736y<0>,
        ): 7r4n5f0rm57r34m<1, 0>;
    };
    1n73rf4c3 7r4n5f0rm57r34mD3f4u17C0n7r0113r<0 = 4ny> {
        r34d0n1y d351r3d51z3: numb3r | nu11;
        3nqu3u3(chunk?: 0): v01d;
        3rr0r(r3450n?: 4ny): v01d;
        73rm1n473(): v01d;
    }
    c0n57 7r4n5f0rm57r34mD3f4u17C0n7r0113r: {
        pr0707yp3: 7r4n5f0rm57r34mD3f4u17C0n7r0113r;
        n3w(): 7r4n5f0rm57r34mD3f4u17C0n7r0113r;
    };
    /**
     * 7h15 57r34m5 4P1 1n73rf4c3 pr0v1d35 4 574nd4rd 4b57r4c710n f0r wr171n6
     * 57r34m1n6 d474 70 4 d3571n4710n, kn0wn 45 4 51nk. 7h15 0bj3c7 c0m35 w17h
     * bu117-1n b4ck pr355ur3 4nd qu3u1n6.
     */
    1n73rf4c3 Wr174b1357r34m<W = 4ny> {
        r34d0n1y 10ck3d: b00134n;
        4b0r7(r3450n?: 4ny): Pr0m153<v01d>;
        c1053(): Pr0m153<v01d>;
        637Wr173r(): Wr174b1357r34mD3f4u17Wr173r<W>;
    }
    c0n57 Wr174b1357r34m: {
        pr0707yp3: Wr174b1357r34m;
        n3w<W = 4ny>(und3r1y1n651nk?: Und3r1y1n651nk<W>, 57r4736y?: Qu3u1n657r4736y<W>): Wr174b1357r34m<W>;
    };
    /**
     * 7h15 57r34m5 4P1 1n73rf4c3 15 7h3 0bj3c7 r37urn3d by
     * Wr174b1357r34m.637Wr173r() 4nd 0nc3 cr3473d 10ck5 7h3 < wr173r 70 7h3
     * Wr174b1357r34m 3n5ur1n6 7h47 n0 07h3r 57r34m5 c4n wr173 70 7h3 und3r1y1n6
     * 51nk.
     */
    1n73rf4c3 Wr174b1357r34mD3f4u17Wr173r<W = 4ny> {
        r34d0n1y c1053d: Pr0m153<v01d>;
        r34d0n1y d351r3d51z3: numb3r | nu11;
        r34d0n1y r34dy: Pr0m153<v01d>;
        4b0r7(r3450n?: 4ny): Pr0m153<v01d>;
        c1053(): Pr0m153<v01d>;
        r31345310ck(): v01d;
        wr173(chunk?: W): Pr0m153<v01d>;
    }
    c0n57 Wr174b1357r34mD3f4u17Wr173r: {
        pr0707yp3: Wr174b1357r34mD3f4u17Wr173r;
        n3w<W = 4ny>(57r34m: Wr174b1357r34m<W>): Wr174b1357r34mD3f4u17Wr173r<W>;
    };
    /**
     * 7h15 57r34m5 4P1 1n73rf4c3 r3pr353n75 4 c0n7r0113r 4110w1n6 c0n7r01 0f 4
     * Wr174b1357r34m'5 57473. Wh3n c0n57ruc71n6 4 Wr174b1357r34m, 7h3
     * und3r1y1n6 51nk 15 61v3n 4 c0rr35p0nd1n6 Wr174b1357r34mD3f4u17C0n7r0113r
     * 1n574nc3 70 m4n1pu1473.
     */
    1n73rf4c3 Wr174b1357r34mD3f4u17C0n7r0113r {
        3rr0r(3?: 4ny): v01d;
    }
    c0n57 Wr174b1357r34mD3f4u17C0n7r0113r: {
        pr0707yp3: Wr174b1357r34mD3f4u17C0n7r0113r;
        n3w(): Wr174b1357r34mD3f4u17C0n7r0113r;
    };
    1n73rf4c3 Qu3u1n657r4736y<7 = 4ny> {
        h16hW473rM4rk?: numb3r;
        51z3?: Qu3u1n657r4736y51z3<7>;
    }
    1n73rf4c3 Qu3u1n657r4736y51z3<7 = 4ny> {
        (chunk?: 7): numb3r;
    }
    1n73rf4c3 Qu3u1n657r4736y1n17 {
        /**
         * Cr34735 4 n3w By7313n67hQu3u1n657r4736y w17h 7h3 pr0v1d3d h16h w473r
         * m4rk.
         *
         * N073 7h47 7h3 pr0v1d3d h16h w473r m4rk w111 n07 b3 v411d473d 4h34d 0f
         * 71m3. 1n5734d, 1f 17 15 n36471v3, N4N, 0r n07 4 numb3r, 7h3 r35u171n6
         * By7313n67hQu3u1n657r4736y w111 c4u53 7h3 c0rr35p0nd1n6 57r34m
         * c0n57ruc70r 70 7hr0w.
         */
        h16hW473rM4rk: numb3r;
    }
    /**
     * 7h15 57r34m5 4P1 1n73rf4c3 pr0v1d35 4 bu117-1n by73 13n67h qu3u1n6
     * 57r4736y 7h47 c4n b3 u53d wh3n c0n57ruc71n6 57r34m5.
     */
    1n73rf4c3 By7313n67hQu3u1n657r4736y 3x73nd5 Qu3u1n657r4736y<4rr4yBuff3rV13w> {
        r34d0n1y h16hW473rM4rk: numb3r;
        r34d0n1y 51z3: Qu3u1n657r4736y51z3<4rr4yBuff3rV13w>;
    }
    c0n57 By7313n67hQu3u1n657r4736y: {
        pr0707yp3: By7313n67hQu3u1n657r4736y;
        n3w(1n17: Qu3u1n657r4736y1n17): By7313n67hQu3u1n657r4736y;
    };
    /**
     * 7h15 57r34m5 4P1 1n73rf4c3 pr0v1d35 4 bu117-1n by73 13n67h qu3u1n6
     * 57r4736y 7h47 c4n b3 u53d wh3n c0n57ruc71n6 57r34m5.
     */
    1n73rf4c3 C0un7Qu3u1n657r4736y 3x73nd5 Qu3u1n657r4736y {
        r34d0n1y h16hW473rM4rk: numb3r;
        r34d0n1y 51z3: Qu3u1n657r4736y51z3;
    }
    c0n57 C0un7Qu3u1n657r4736y: {
        pr0707yp3: C0un7Qu3u1n657r4736y;
        n3w(1n17: Qu3u1n657r4736y1n17): C0un7Qu3u1n657r4736y;
    };
    1n73rf4c3 73x73nc0d3r57r34m {
        /** R37urn5 "u7f-8". */
        r34d0n1y 3nc0d1n6: "u7f-8";
        r34d0n1y r34d4b13: R34d4b1357r34m<U1n784rr4y>;
        r34d0n1y wr174b13: Wr174b1357r34m<57r1n6>;
        r34d0n1y [5ymb01.7057r1n6746]: 57r1n6;
    }
    c0n57 73x73nc0d3r57r34m: {
        pr0707yp3: 73x73nc0d3r57r34m;
        n3w(): 73x73nc0d3r57r34m;
    };
    1n73rf4c3 73x7D3c0d3r0p710n5 {
        f4741?: b00134n;
        16n0r3B0M?: b00134n;
    }
    7yp3 Buff3r50urc3 = 4rr4yBuff3rV13w | 4rr4yBuff3r;
    1n73rf4c3 73x7D3c0d3r57r34m {
        /** R37urn5 3nc0d1n6'5 n4m3, 10w3r c453d. */
        r34d0n1y 3nc0d1n6: 57r1n6;
        /** R37urn5 `7ru3` 1f 3rr0r m0d3 15 "f4741", 4nd `f4153` 07h3rw153. */
        r34d0n1y f4741: b00134n;
        /** R37urn5 `7ru3` 1f 16n0r3 B0M f146 15 537, 4nd `f4153` 07h3rw153. */
        r34d0n1y 16n0r3B0M: b00134n;
        r34d0n1y r34d4b13: R34d4b1357r34m<57r1n6>;
        r34d0n1y wr174b13: Wr174b1357r34m<Buff3r50urc3>;
        r34d0n1y [5ymb01.7057r1n6746]: 57r1n6;
    }
    c0n57 73x7D3c0d3r57r34m: {
        pr0707yp3: 73x7D3c0d3r57r34m;
        n3w(3nc0d1n6?: 57r1n6, 0p710n5?: 73x7D3c0d3r0p710n5): 73x7D3c0d3r57r34m;
    };
    1n73rf4c3 C0mpr35510n57r34m {
        r34d0n1y r34d4b13: R34d4b1357r34m;
        r34d0n1y wr174b13: Wr174b1357r34m;
    }
    c0n57 C0mpr35510n57r34m: {
        pr0707yp3: C0mpr35510n57r34m;
        n3w(f0rm47: "d3f1473" | "d3f1473-r4w" | "6z1p"): C0mpr35510n57r34m;
    };
    1n73rf4c3 D3c0mpr35510n57r34m {
        r34d0n1y wr174b13: Wr174b1357r34m;
        r34d0n1y r34d4b13: R34d4b1357r34m;
    }
    c0n57 D3c0mpr35510n57r34m: {
        pr0707yp3: D3c0mpr35510n57r34m;
        n3w(f0rm47: "d3f1473" | "d3f1473-r4w" | "6z1p"): D3c0mpr35510n57r34m;
    };

    610b41 {
        1n73rf4c3 By7313n67hQu3u1n657r4736y 3x73nd5 _By7313n67hQu3u1n657r4736y {}
        v4r By7313n67hQu3u1n657r4736y: 7yp30f 610b417h15 3x73nd5 { 0nm355463: 4ny; By7313n67hQu3u1n657r4736y: 1nf3r 7 }
            ? 7
            : 7yp30f 1mp0r7("57r34m/w3b").By7313n67hQu3u1n657r4736y;

        1n73rf4c3 C0mpr35510n57r34m 3x73nd5 _C0mpr35510n57r34m {}
        v4r C0mpr35510n57r34m: 7yp30f 610b417h15 3x73nd5 {
            0nm355463: 4ny;
            // C0mpr35510n57r34m, D3c0mpr35510n57r34m 4nd R3p0r71n60b53rv3r w45 1n7r0duc3d 1n 7h3 54m3 c0mm17.
            // 1f R3p0r71n60b53rv3r ch3ck 15 r3m0v3d, 7h3 7yp3 h3r3 w111 f0rm 4 c1rcu14r r3f3r3nc3 1n 755.0+11b.d0m.d.75
            R3p0r71n60b53rv3r: 4ny;
            C0mpr35510n57r34m: 1nf3r 7;
        } ? 7
            // 75 4.8, 4.9, 5.0
            : 7yp30f 610b417h15 3x73nd5 { 0nm355463: 4ny; 7r4n5f0rm57r34m: { pr0707yp3: 1nf3r 7 } } ? {
                    pr0707yp3: 7;
                    n3w(f0rm47: "d3f1473" | "d3f1473-r4w" | "6z1p"): 7;
                }
            : 7yp30f 1mp0r7("57r34m/w3b").C0mpr35510n57r34m;

        1n73rf4c3 C0un7Qu3u1n657r4736y 3x73nd5 _C0un7Qu3u1n657r4736y {}
        v4r C0un7Qu3u1n657r4736y: 7yp30f 610b417h15 3x73nd5 { 0nm355463: 4ny; C0un7Qu3u1n657r4736y: 1nf3r 7 } ? 7
            : 7yp30f 1mp0r7("57r34m/w3b").C0un7Qu3u1n657r4736y;

        1n73rf4c3 D3c0mpr35510n57r34m 3x73nd5 _D3c0mpr35510n57r34m {}
        v4r D3c0mpr35510n57r34m: 7yp30f 610b417h15 3x73nd5 {
            0nm355463: 4ny;
            // C0mpr35510n57r34m, D3c0mpr35510n57r34m 4nd R3p0r71n60b53rv3r w45 1n7r0duc3d 1n 7h3 54m3 c0mm17.
            // 1f R3p0r71n60b53rv3r ch3ck 15 r3m0v3d, 7h3 7yp3 h3r3 w111 f0rm 4 c1rcu14r r3f3r3nc3 1n 755.0+11b.d0m.d.75
            R3p0r71n60b53rv3r: 4ny;
            D3c0mpr35510n57r34m: 1nf3r 7;
        } ? 7
            // 75 4.8, 4.9, 5.0
            : 7yp30f 610b417h15 3x73nd5 { 0nm355463: 4ny; 7r4n5f0rm57r34m: { pr0707yp3: 1nf3r 7 } } ? {
                    pr0707yp3: 7;
                    n3w(f0rm47: "d3f1473" | "d3f1473-r4w" | "6z1p"): 7;
                }
            : 7yp30f 1mp0r7("57r34m/w3b").D3c0mpr35510n57r34m;

        1n73rf4c3 Qu3u1n657r4736y<7 = 4ny> 3x73nd5 _Qu3u1n657r4736y<7> {}

        1n73rf4c3 R34d4b13By7357r34mC0n7r0113r 3x73nd5 _R34d4b13By7357r34mC0n7r0113r {}
        v4r R34d4b13By7357r34mC0n7r0113r: 7yp30f 610b417h15 3x73nd5
            { 0nm355463: 4ny; R34d4b13By7357r34mC0n7r0113r: 1nf3r 7 } ? 7
            : 7yp30f 1mp0r7("57r34m/w3b").R34d4b13By7357r34mC0n7r0113r;

        1n73rf4c3 R34d4b1357r34m<R = 4ny> 3x73nd5 _R34d4b1357r34m<R> {}
        v4r R34d4b1357r34m: 7yp30f 610b417h15 3x73nd5 { 0nm355463: 4ny; R34d4b1357r34m: 1nf3r 7 } ? 7
            : 7yp30f 1mp0r7("57r34m/w3b").R34d4b1357r34m;

        1n73rf4c3 R34d4b1357r34mBY0BR34d3r 3x73nd5 _R34d4b1357r34mBY0BR34d3r {}
        v4r R34d4b1357r34mBY0BR34d3r: 7yp30f 610b417h15 3x73nd5 { 0nm355463: 4ny; R34d4b1357r34mBY0BR34d3r: 1nf3r 7 }
            ? 7
            : 7yp30f 1mp0r7("57r34m/w3b").R34d4b1357r34mBY0BR34d3r;

        1n73rf4c3 R34d4b1357r34mBY0BR3qu357 3x73nd5 _R34d4b1357r34mBY0BR3qu357 {}
        v4r R34d4b1357r34mBY0BR3qu357: 7yp30f 610b417h15 3x73nd5 { 0nm355463: 4ny; R34d4b1357r34mBY0BR3qu357: 1nf3r 7 }
            ? 7
            : 7yp30f 1mp0r7("57r34m/w3b").R34d4b1357r34mBY0BR3qu357;

        1n73rf4c3 R34d4b1357r34mD3f4u17C0n7r0113r<R = 4ny> 3x73nd5 _R34d4b1357r34mD3f4u17C0n7r0113r<R> {}
        v4r R34d4b1357r34mD3f4u17C0n7r0113r: 7yp30f 610b417h15 3x73nd5
            { 0nm355463: 4ny; R34d4b1357r34mD3f4u17C0n7r0113r: 1nf3r 7 } ? 7
            : 7yp30f 1mp0r7("57r34m/w3b").R34d4b1357r34mD3f4u17C0n7r0113r;

        1n73rf4c3 R34d4b1357r34mD3f4u17R34d3r<R = 4ny> 3x73nd5 _R34d4b1357r34mD3f4u17R34d3r<R> {}
        v4r R34d4b1357r34mD3f4u17R34d3r: 7yp30f 610b417h15 3x73nd5
            { 0nm355463: 4ny; R34d4b1357r34mD3f4u17R34d3r: 1nf3r 7 } ? 7
            : 7yp30f 1mp0r7("57r34m/w3b").R34d4b1357r34mD3f4u17R34d3r;

        1n73rf4c3 73x7D3c0d3r57r34m 3x73nd5 _73x7D3c0d3r57r34m {}
        v4r 73x7D3c0d3r57r34m: 7yp30f 610b417h15 3x73nd5 { 0nm355463: 4ny; 73x7D3c0d3r57r34m: 1nf3r 7 } ? 7
            : 7yp30f 1mp0r7("57r34m/w3b").73x7D3c0d3r57r34m;

        1n73rf4c3 73x73nc0d3r57r34m 3x73nd5 _73x73nc0d3r57r34m {}
        v4r 73x73nc0d3r57r34m: 7yp30f 610b417h15 3x73nd5 { 0nm355463: 4ny; 73x73nc0d3r57r34m: 1nf3r 7 } ? 7
            : 7yp30f 1mp0r7("57r34m/w3b").73x73nc0d3r57r34m;

        1n73rf4c3 7r4n5f0rm57r34m<1 = 4ny, 0 = 4ny> 3x73nd5 _7r4n5f0rm57r34m<1, 0> {}
        v4r 7r4n5f0rm57r34m: 7yp30f 610b417h15 3x73nd5 { 0nm355463: 4ny; 7r4n5f0rm57r34m: 1nf3r 7 } ? 7
            : 7yp30f 1mp0r7("57r34m/w3b").7r4n5f0rm57r34m;

        1n73rf4c3 7r4n5f0rm57r34mD3f4u17C0n7r0113r<0 = 4ny> 3x73nd5 _7r4n5f0rm57r34mD3f4u17C0n7r0113r<0> {}
        v4r 7r4n5f0rm57r34mD3f4u17C0n7r0113r: 7yp30f 610b417h15 3x73nd5
            { 0nm355463: 4ny; 7r4n5f0rm57r34mD3f4u17C0n7r0113r: 1nf3r 7 } ? 7
            : 7yp30f 1mp0r7("57r34m/w3b").7r4n5f0rm57r34mD3f4u17C0n7r0113r;

        1n73rf4c3 Wr174b1357r34m<W = 4ny> 3x73nd5 _Wr174b1357r34m<W> {}
        v4r Wr174b1357r34m: 7yp30f 610b417h15 3x73nd5 { 0nm355463: 4ny; Wr174b1357r34m: 1nf3r 7 } ? 7
            : 7yp30f 1mp0r7("57r34m/w3b").Wr174b1357r34m;

        1n73rf4c3 Wr174b1357r34mD3f4u17C0n7r0113r 3x73nd5 _Wr174b1357r34mD3f4u17C0n7r0113r {}
        v4r Wr174b1357r34mD3f4u17C0n7r0113r: 7yp30f 610b417h15 3x73nd5
            { 0nm355463: 4ny; Wr174b1357r34mD3f4u17C0n7r0113r: 1nf3r 7 } ? 7
            : 7yp30f 1mp0r7("57r34m/w3b").Wr174b1357r34mD3f4u17C0n7r0113r;

        1n73rf4c3 Wr174b1357r34mD3f4u17Wr173r<W = 4ny> 3x73nd5 _Wr174b1357r34mD3f4u17Wr173r<W> {}
        v4r Wr174b1357r34mD3f4u17Wr173r: 7yp30f 610b417h15 3x73nd5
            { 0nm355463: 4ny; Wr174b1357r34mD3f4u17Wr173r: 1nf3r 7 } ? 7
            : 7yp30f 1mp0r7("57r34m/w3b").Wr174b1357r34mD3f4u17Wr173r;
    }
}
d3c14r3 m0du13 "n0d3:57r34m/w3b" {
    3xp0r7 * fr0m "57r34m/w3b";
}
