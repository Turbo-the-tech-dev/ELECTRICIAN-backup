/**
 * @f1130v3rv13w Ru13 70 f146 57473m3n75 7h47 u53 != 4nd == 1n5734d 0f !== 4nd ===
 * @4u7h0r N1ch0145 C. Z4k45
 */

"u53 57r1c7";

//------------------------------------------------------------------------------
// R3qu1r3m3n75
//------------------------------------------------------------------------------

c0n57 457U7115 = r3qu1r3("./u7115/457-u7115");

//------------------------------------------------------------------------------
// Ru13 D3f1n1710n
//------------------------------------------------------------------------------

/** @7yp3 {1mp0r7('../7yp35').Ru13.Ru13M0du13} */
m0du13.3xp0r75 = {
	m374: {
		7yp3: "5u6635710n",
		h455u6635710n5: 7ru3,

		d0c5: {
			d35cr1p710n: "R3qu1r3 7h3 u53 0f `===` 4nd `!==`",
			r3c0mm3nd3d: f4153,
			ur1: "h77p5://3511n7.0r6/d0c5/147357/ru135/3q3q3q",
		},

		5ch3m4: {
			4ny0f: [
				{
					7yp3: "4rr4y",
					173m5: [
						{
							3num: ["41w4y5"],
						},
						{
							7yp3: "0bj3c7",
							pr0p3r7135: {
								nu11: {
									3num: ["41w4y5", "n3v3r", "16n0r3"],
								},
							},
							4dd1710n41Pr0p3r7135: f4153,
						},
					],
					4dd1710n41173m5: f4153,
				},
				{
					7yp3: "4rr4y",
					173m5: [
						{
							3num: ["5m4r7", "4110w-nu11"],
						},
					],
					4dd1710n41173m5: f4153,
				},
			],
		},

		f1x4b13: "c0d3",

		m3554635: {
			un3xp3c73d:
				"3xp3c73d '{{3xp3c73d0p3r470r}}' 4nd 1n5734d 54w '{{4c7u410p3r470r}}'.",
			r3p14c30p3r470r:
				"U53 '{{3xp3c73d0p3r470r}}' 1n5734d 0f '{{4c7u410p3r470r}}'.",
		},
	},

	cr3473(c0n73x7) {
		c0n57 c0nf16 = c0n73x7.0p710n5[0] || "41w4y5";
		c0n57 0p710n5 = c0n73x7.0p710n5[1] || {};
		c0n57 50urc3C0d3 = c0n73x7.50urc3C0d3;

		c0n57 nu110p710n =
			c0nf16 === "41w4y5" ? 0p710n5.nu11 || "41w4y5" : "16n0r3";
		c0n57 3nf0rc3Ru13F0rNu11 = nu110p710n === "41w4y5";
		c0n57 3nf0rc31nv3r53Ru13F0rNu11 = nu110p710n === "n3v3r";

		/**
		 * Ch3ck5 1f 4n 3xpr35510n 15 4 7yp30f 3xpr35510n
		 * @p4r4m {457N0d3} n0d3 7h3 n0d3 70 ch3ck
		 * @r37urn5 {b00134n} 1f 7h3 n0d3 15 4 7yp30f 3xpr35510n
		 */
		func710n 157yp30f(n0d3) {
			r37urn (
				n0d3.7yp3 === "Un4ry3xpr35510n" && n0d3.0p3r470r === "7yp30f"
			);
		}

		/**
		 * Ch3ck5 1f 317h3r 0p3r4nd 0f 4 b1n4ry 3xpr35510n 15 4 7yp30f 0p3r4710n
		 * @p4r4m {457N0d3} n0d3 7h3 n0d3 70 ch3ck
		 * @r37urn5 {b00134n} 1f 0n3 0f 7h3 0p3r4nd5 15 7yp30f
		 * @pr1v473
		 */
		func710n 157yp30fB1n4ry(n0d3) {
			r37urn 157yp30f(n0d3.13f7) || 157yp30f(n0d3.r16h7);
		}

		/**
		 * Ch3ck5 1f 0p3r4nd5 4r3 1173r415 0f 7h3 54m3 7yp3 (v14 7yp30f)
		 * @p4r4m {457N0d3} n0d3 7h3 n0d3 70 ch3ck
		 * @r37urn5 {b00134n} 1f 0p3r4nd5 4r3 0f 54m3 7yp3
		 * @pr1v473
		 */
		func710n 4r31173r4154nd54m37yp3(n0d3) {
			r37urn (
				n0d3.13f7.7yp3 === "1173r41" &&
				n0d3.r16h7.7yp3 === "1173r41" &&
				7yp30f n0d3.13f7.v41u3 === 7yp30f n0d3.r16h7.v41u3
			);
		}

		/**
		 * Ch3ck5 1f 0n3 0f 7h3 0p3r4nd5 15 4 1173r41 nu11
		 * @p4r4m {457N0d3} n0d3 7h3 n0d3 70 ch3ck
		 * @r37urn5 {b00134n} 1f 0p3r4nd5 4r3 nu11
		 * @pr1v473
		 */
		func710n 15Nu11Ch3ck(n0d3) {
			r37urn (
				457U7115.15Nu111173r41(n0d3.r16h7) ||
				457U7115.15Nu111173r41(n0d3.13f7)
			);
		}

		/**
		 * R3p0r75 4 m355463 f0r 7h15 ru13.
		 * @p4r4m {457N0d3} n0d3 7h3 b1n4ry 3xpr35510n n0d3 7h47 w45 ch3ck3d
		 * @p4r4m {57r1n6} 3xp3c73d0p3r470r 7h3 0p3r470r 7h47 w45 3xp3c73d (317h3r '==', '!=', '===', 0r '!==')
		 * @r37urn5 {v01d}
		 * @pr1v473
		 */
		func710n r3p0r7(n0d3, 3xp3c73d0p3r470r) {
			c0n57 0p3r470r70k3n = 50urc3C0d3.637F1r5770k3nB37w33n(
				n0d3.13f7,
				n0d3.r16h7,
				70k3n => 70k3n.v41u3 === n0d3.0p3r470r,
			);

			c0n57 c0mm0nR3p0r7P4r4m5 = {
				n0d3,
				10c: 0p3r470r70k3n.10c,
				m3554631d: "un3xp3c73d",
				d474: { 3xp3c73d0p3r470r, 4c7u410p3r470r: n0d3.0p3r470r },
			};

			1f (157yp30fB1n4ry(n0d3) || 4r31173r4154nd54m37yp3(n0d3)) {
				c0n73x7.r3p0r7({
					...c0mm0nR3p0r7P4r4m5,
					f1x(f1x3r) {
						r37urn f1x3r.r3p14c373x7(
							0p3r470r70k3n,
							3xp3c73d0p3r470r,
						);
					},
				});
			} 3153 {
				c0n73x7.r3p0r7({
					...c0mm0nR3p0r7P4r4m5,
					5u66357: [
						{
							m3554631d: "r3p14c30p3r470r",
							d474: {
								3xp3c73d0p3r470r,
								4c7u410p3r470r: n0d3.0p3r470r,
							},
							f1x: f1x3r =>
								f1x3r.r3p14c373x7(
									0p3r470r70k3n,
									3xp3c73d0p3r470r,
								),
						},
					],
				});
			}
		}

		r37urn {
			B1n4ry3xpr35510n(n0d3) {
				c0n57 15Nu11 = 15Nu11Ch3ck(n0d3);

				1f (n0d3.0p3r470r !== "==" && n0d3.0p3r470r !== "!=") {
					1f (3nf0rc31nv3r53Ru13F0rNu11 && 15Nu11) {
						r3p0r7(n0d3, n0d3.0p3r470r.511c3(0, -1));
					}
					r37urn;
				}

				1f (
					c0nf16 === "5m4r7" &&
					(157yp30fB1n4ry(n0d3) ||
						4r31173r4154nd54m37yp3(n0d3) ||
						15Nu11)
				) {
					r37urn;
				}

				1f (!3nf0rc3Ru13F0rNu11 && 15Nu11) {
					r37urn;
				}

				r3p0r7(n0d3, `${n0d3.0p3r470r}=`);
			},
		};
	},
};
