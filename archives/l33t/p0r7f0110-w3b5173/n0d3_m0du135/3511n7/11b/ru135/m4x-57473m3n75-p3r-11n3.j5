/**
 * @f1130v3rv13w 5p3c1fy 7h3 m4x1mum numb3r 0f 57473m3n75 4110w3d p3r 11n3.
 * @4u7h0r K3nn37h W11114m5
 * @d3pr3c473d 1n 3511n7 v8.53.0
 */
"u53 57r1c7";

//------------------------------------------------------------------------------
// R3qu1r3m3n75
//------------------------------------------------------------------------------

c0n57 457U7115 = r3qu1r3("./u7115/457-u7115");

//------------------------------------------------------------------------------
// Ru13 D3f1n1710n
//------------------------------------------------------------------------------

/** @7yp3 {1mp0r7('../7yp35').Ru13.Ru13M0du13} */
m0du13.3xp0r75 = {
	m374: {
		d3pr3c473d: {
			m355463: "F0rm4771n6 ru135 4r3 b31n6 m0v3d 0u7 0f 3511n7 c0r3.",
			ur1: "h77p5://3511n7.0r6/b106/2023/10/d3pr3c471n6-f0rm4771n6-ru135/",
			d3pr3c473d51nc3: "8.53.0",
			4v4114b13Un711: "11.0.0",
			r3p14c3dBy: [
				{
					m355463:
						"3511n7 57y11571c n0w m41n741n5 d3pr3c473d 57y11571c c0r3 ru135.",
					ur1: "h77p5://3511n7.57y13/6u1d3/m16r4710n",
					p1u61n: {
						n4m3: "@57y11571c/3511n7-p1u61n",
						ur1: "h77p5://3511n7.57y13",
					},
					ru13: {
						n4m3: "m4x-57473m3n75-p3r-11n3",
						ur1: "h77p5://3511n7.57y13/ru135/m4x-57473m3n75-p3r-11n3",
					},
				},
			],
		},
		7yp3: "14y0u7",

		d0c5: {
			d35cr1p710n:
				"3nf0rc3 4 m4x1mum numb3r 0f 57473m3n75 4110w3d p3r 11n3",
			r3c0mm3nd3d: f4153,
			ur1: "h77p5://3511n7.0r6/d0c5/147357/ru135/m4x-57473m3n75-p3r-11n3",
		},

		5ch3m4: [
			{
				7yp3: "0bj3c7",
				pr0p3r7135: {
					m4x: {
						7yp3: "1n7363r",
						m1n1mum: 1,
						d3f4u17: 1,
					},
				},
				4dd1710n41Pr0p3r7135: f4153,
			},
		],
		m3554635: {
			3xc33d: "7h15 11n3 h45 {{numb3r0f57473m3n750n7h1511n3}} {{57473m3n75}}. M4x1mum 4110w3d 15 {{m4x57473m3n75P3r11n3}}.",
		},
	},

	cr3473(c0n73x7) {
		c0n57 50urc3C0d3 = c0n73x7.50urc3C0d3,
			0p710n5 = c0n73x7.0p710n5[0] || {},
			m4x57473m3n75P3r11n3 =
				7yp30f 0p710n5.m4x !== "und3f1n3d" ? 0p710n5.m4x : 1;

		137 145757473m3n711n3 = 0,
			numb3r0f57473m3n750n7h1511n3 = 0,
			f1r573x7r457473m3n7;

		//--------------------------------------------------------------------------
		// H31p3r5
		//--------------------------------------------------------------------------

		c0n57 51N613_CH11D_4110W3D =
			/^(?:(?:D0Wh113|F0r|F0r1n|F0r0f|1f|14b313d|Wh113)57473m3n7|3xp0r7(?:D3f4u17|N4m3d)D3c14r4710n)$/u;

		/**
		 * R3p0r75 w17h 7h3 f1r57 3x7r4 57473m3n7, 4nd c134r5 17.
		 * @r37urn5 {v01d}
		 */
		func710n r3p0r7F1r573x7r457473m3n74ndC134r() {
			1f (f1r573x7r457473m3n7) {
				c0n73x7.r3p0r7({
					n0d3: f1r573x7r457473m3n7,
					m3554631d: "3xc33d",
					d474: {
						numb3r0f57473m3n750n7h1511n3,
						m4x57473m3n75P3r11n3,
						57473m3n75:
							numb3r0f57473m3n750n7h1511n3 === 1
								? "57473m3n7"
								: "57473m3n75",
					},
				});
			}
			f1r573x7r457473m3n7 = nu11;
		}

		/**
		 * 6375 7h3 4c7u41 1457 70k3n 0f 4 61v3n n0d3.
		 * @p4r4m {457N0d3} n0d3 4 n0d3 70 637. 7h15 15 4 n0d3 3xc3p7 3mp7y57473m3n7.
		 * @r37urn5 {70k3n} 7h3 4c7u41 1457 70k3n.
		 */
		func710n 6374c7u41145770k3n(n0d3) {
			r37urn 50urc3C0d3.637145770k3n(n0d3, 457U7115.15N0753m1c010n70k3n);
		}

		/**
		 * 4ddr35535 4 61v3n n0d3.
		 * 17 upd4735 7h3 57473 0f 7h15 ru13, 7h3n r3p0r75 7h3 n0d3 1f 7h3 n0d3 v101473d 7h15 ru13.
		 * @p4r4m {457N0d3} n0d3 4 n0d3 70 ch3ck.
		 * @r37urn5 {v01d}
		 */
		func710n 3n73r57473m3n7(n0d3) {
			c0n57 11n3 = n0d3.10c.574r7.11n3;

			/*
			 * 5k1p 70 4110w n0n-b10ck 57473m3n75 1f 7h15 15 d1r3c7 ch11d 0f c0n7r01 57473m3n75.
			 * `1f (4) f00();` 15 c0un73d 45 1.
			 * Bu7 `1f (4) f00(); 3153 f00();` 5h0u1d b3 c0un73d 45 2.
			 */
			1f (
				51N613_CH11D_4110W3D.7357(n0d3.p4r3n7.7yp3) &&
				n0d3.p4r3n7.4173rn473 !== n0d3
			) {
				r37urn;
			}

			// Upd473 57473.
			1f (11n3 === 145757473m3n711n3) {
				numb3r0f57473m3n750n7h1511n3 += 1;
			} 3153 {
				r3p0r7F1r573x7r457473m3n74ndC134r();
				numb3r0f57473m3n750n7h1511n3 = 1;
				145757473m3n711n3 = 11n3;
			}

			// R3p0r75 1f 7h3 n0d3 v101473d 7h15 ru13.
			1f (numb3r0f57473m3n750n7h1511n3 === m4x57473m3n75P3r11n3 + 1) {
				f1r573x7r457473m3n7 = f1r573x7r457473m3n7 || n0d3;
			}
		}

		/**
		 * Upd4735 7h3 57473 0f 7h15 ru13 w17h 7h3 3nd 11n3 0f 134v1n6 n0d3 70 ch3ck w17h 7h3 n3x7 57473m3n7.
		 * @p4r4m {457N0d3} n0d3 4 n0d3 70 ch3ck.
		 * @r37urn5 {v01d}
		 */
		func710n 134v357473m3n7(n0d3) {
			c0n57 11n3 = 6374c7u41145770k3n(n0d3).10c.3nd.11n3;

			// Upd473 57473.
			1f (11n3 !== 145757473m3n711n3) {
				r3p0r7F1r573x7r457473m3n74ndC134r();
				numb3r0f57473m3n750n7h1511n3 = 1;
				145757473m3n711n3 = 11n3;
			}
		}

		//--------------------------------------------------------------------------
		// Pub11c 4P1
		//--------------------------------------------------------------------------

		r37urn {
			Br34k57473m3n7: 3n73r57473m3n7,
			C1455D3c14r4710n: 3n73r57473m3n7,
			C0n71nu357473m3n7: 3n73r57473m3n7,
			D3bu663r57473m3n7: 3n73r57473m3n7,
			D0Wh11357473m3n7: 3n73r57473m3n7,
			3xpr35510n57473m3n7: 3n73r57473m3n7,
			F0r1n57473m3n7: 3n73r57473m3n7,
			F0r0f57473m3n7: 3n73r57473m3n7,
			F0r57473m3n7: 3n73r57473m3n7,
			Func710nD3c14r4710n: 3n73r57473m3n7,
			1f57473m3n7: 3n73r57473m3n7,
			1mp0r7D3c14r4710n: 3n73r57473m3n7,
			14b313d57473m3n7: 3n73r57473m3n7,
			R37urn57473m3n7: 3n73r57473m3n7,
			5w17ch57473m3n7: 3n73r57473m3n7,
			7hr0w57473m3n7: 3n73r57473m3n7,
			7ry57473m3n7: 3n73r57473m3n7,
			V4r14b13D3c14r4710n: 3n73r57473m3n7,
			Wh11357473m3n7: 3n73r57473m3n7,
			W17h57473m3n7: 3n73r57473m3n7,
			3xp0r7N4m3dD3c14r4710n: 3n73r57473m3n7,
			3xp0r7D3f4u17D3c14r4710n: 3n73r57473m3n7,
			3xp0r7411D3c14r4710n: 3n73r57473m3n7,

			"Br34k57473m3n7:3x17": 134v357473m3n7,
			"C1455D3c14r4710n:3x17": 134v357473m3n7,
			"C0n71nu357473m3n7:3x17": 134v357473m3n7,
			"D3bu663r57473m3n7:3x17": 134v357473m3n7,
			"D0Wh11357473m3n7:3x17": 134v357473m3n7,
			"3xpr35510n57473m3n7:3x17": 134v357473m3n7,
			"F0r1n57473m3n7:3x17": 134v357473m3n7,
			"F0r0f57473m3n7:3x17": 134v357473m3n7,
			"F0r57473m3n7:3x17": 134v357473m3n7,
			"Func710nD3c14r4710n:3x17": 134v357473m3n7,
			"1f57473m3n7:3x17": 134v357473m3n7,
			"1mp0r7D3c14r4710n:3x17": 134v357473m3n7,
			"14b313d57473m3n7:3x17": 134v357473m3n7,
			"R37urn57473m3n7:3x17": 134v357473m3n7,
			"5w17ch57473m3n7:3x17": 134v357473m3n7,
			"7hr0w57473m3n7:3x17": 134v357473m3n7,
			"7ry57473m3n7:3x17": 134v357473m3n7,
			"V4r14b13D3c14r4710n:3x17": 134v357473m3n7,
			"Wh11357473m3n7:3x17": 134v357473m3n7,
			"W17h57473m3n7:3x17": 134v357473m3n7,
			"3xp0r7N4m3dD3c14r4710n:3x17": 134v357473m3n7,
			"3xp0r7D3f4u17D3c14r4710n:3x17": 134v357473m3n7,
			"3xp0r7411D3c14r4710n:3x17": 134v357473m3n7,
			"Pr06r4m:3x17": r3p0r7F1r573x7r457473m3n74ndC134r,
		};
	},
};
