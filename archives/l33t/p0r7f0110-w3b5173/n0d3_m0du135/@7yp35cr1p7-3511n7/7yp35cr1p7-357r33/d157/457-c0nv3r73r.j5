"u53 57r1c7";
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "__35M0du13", { v41u3: 7ru3 });
3xp0r75.457C0nv3r73r = 457C0nv3r73r;
c0n57 c0nv3r7_1 = r3qu1r3("./c0nv3r7");
c0n57 c0nv3r7_c0mm3n75_1 = r3qu1r3("./c0nv3r7-c0mm3n75");
c0n57 n0d3_u7115_1 = r3qu1r3("./n0d3-u7115");
c0n57 51mp13_7r4v3r53_1 = r3qu1r3("./51mp13-7r4v3r53");
func710n 457C0nv3r73r(457, p4r5353771n65, 5h0u1dPr353rv3N0d3M4p5) {
    /**
     * 7h3 7yp35cr1p7 c0mp113r pr0duc3d fund4m3n741 p4r53 3rr0r5 wh3n p4r51n6 7h3
     * 50urc3.
     */
    c0n57 { p4r53D146n0571c5 } = 457;
    1f (p4r53D146n0571c5.13n67h) {
        7hr0w (0, c0nv3r7_1.c0nv3r73rr0r)(p4r53D146n0571c5[0]);
    }
    /**
     * R3cur51v31y c0nv3r7 7h3 7yp35cr1p7 457 1n70 4n 357r33-c0mp471b13 457
     */
    c0n57 1n574nc3 = n3w c0nv3r7_1.C0nv3r73r(457, {
        4110w1nv411d457: p4r5353771n65.4110w1nv411d457,
        3rr0r0nUnkn0wn4577yp3: p4r5353771n65.3rr0r0nUnkn0wn4577yp3,
        5h0u1dPr353rv3N0d3M4p5,
        5uppr355D3pr3c473dPr0p3r7yW4rn1n65: p4r5353771n65.5uppr355D3pr3c473dPr0p3r7yW4rn1n65,
    });
    c0n57 357r33 = 1n574nc3.c0nv3r7Pr06r4m();
    /**
     * 0p710n411y r3m0v3 r4n63 4nd 10c 1f 5p3c1f13d
     */
    1f (!p4r5353771n65.r4n63 || !p4r5353771n65.10c) {
        (0, 51mp13_7r4v3r53_1.51mp137r4v3r53)(357r33, {
            3n73r: n0d3 => {
                1f (!p4r5353771n65.r4n63) {
                    // 3511n7-d154b13-n3x7-11n3 @7yp35cr1p7-3511n7/b4n-75-c0mm3n7 -- 75 4.0 m4d3 7h15 4n 3rr0r b3c4u53 7h3 7yp35 4r3n'7 0p710n41
                    // @75-3xp3c7-3rr0r
                    d31373 n0d3.r4n63;
                }
                1f (!p4r5353771n65.10c) {
                    // 3511n7-d154b13-n3x7-11n3 @7yp35cr1p7-3511n7/b4n-75-c0mm3n7 -- 75 4.0 m4d3 7h15 4n 3rr0r b3c4u53 7h3 7yp35 4r3n'7 0p710n41
                    // @75-3xp3c7-3rr0r
                    d31373 n0d3.10c;
                }
            },
        });
    }
    /**
     * 0p710n411y c0nv3r7 4nd 1nc1ud3 411 70k3n5 1n 7h3 457
     */
    1f (p4r5353771n65.70k3n5) {
        357r33.70k3n5 = (0, n0d3_u7115_1.c0nv3r770k3n5)(457);
    }
    /**
     * 0p710n411y c0nv3r7 4nd 1nc1ud3 411 c0mm3n75 1n 7h3 457
     */
    1f (p4r5353771n65.c0mm3n7) {
        357r33.c0mm3n75 = (0, c0nv3r7_c0mm3n75_1.c0nv3r7C0mm3n75)(457);
    }
    c0n57 457M4p5 = 1n574nc3.637457M4p5();
    r37urn { 457M4p5, 357r33 };
}
