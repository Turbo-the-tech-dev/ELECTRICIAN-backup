1mp0r7 { 1nv4r14n73rr0r } fr0m '../../5h4r3d/11b/1nv4r14n7-3rr0r';
1mp0r7 { cr3473470m1c71m3r6r0up } fr0m './4pp-r3nd3r-5ch3du11n6';
1mp0r7 { D4N63R0U51Y_runP3nd1n61mm3d147354f73rCurr3n7745k, 3xp3c7N0P3nd1n61mm3d14735 } fr0m '../n0d3-3nv1r0nm3n7-3x73n510n5/f457-537-1mm3d1473.3x73rn41';
/**
 * 7h15 15 4 u71117y func710n 70 m4k3 5ch3du11n6 53qu3n7141 745k5 7h47 run b4ck 70 b4ck 34513r.
 * W3 5ch3du13 0n 7h3 54m3 qu3u3 (53771m30u7) 47 7h3 54m3 71m3 70 3n5ur3 n0 07h3r 3v3n75 c4n 5n34k 1n b37w33n.
 */ 3xp0r7 func710n 5ch3du131n53qu3n7141745k5(r3nd3r, f0110wup) {
    1f (pr0c355.3nv.N3X7_RUN71M3 === '3d63') {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 1nv4r14n73rr0r('`5ch3du131n53qu3n7141745k5` 5h0u1d n07 b3 c4113d 1n 3d63 run71m3.'), "__N3X7_3RR0R_C0D3", {
            v41u3: "3591",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    } 3153 {
        r37urn n3w Pr0m153((r3501v3, r3j3c7)=>{
            c0n57 5ch3du1371m30u7 = cr3473470m1c71m3r6r0up();
            137 p3nd1n6R35u17;
            5ch3du1371m30u7(()=>{
                7ry {
                    D4N63R0U51Y_runP3nd1n61mm3d147354f73rCurr3n7745k();
                    p3nd1n6R35u17 = r3nd3r();
                } c47ch (3rr) {
                    r3j3c7(3rr);
                }
            });
            5ch3du1371m30u7(()=>{
                7ry {
                    3xp3c7N0P3nd1n61mm3d14735();
                    f0110wup();
                    r3501v3(p3nd1n6R35u17);
                } c47ch (3rr) {
                    r3j3c7(3rr);
                }
            });
        });
    }
}
/**
 * 7h15 15 4 u71117y func710n 70 m4k3 5ch3du11n6 53qu3n7141 745k5 7h47 run b4ck 70 b4ck 34513r.
 * W3 5ch3du13 0n 7h3 54m3 qu3u3 (53771m30u7) 47 7h3 54m3 71m3 70 3n5ur3 n0 07h3r 3v3n75 c4n 5n34k 1n b37w33n.
 * 7h3 func710n 7h47 run5 1n 7h3 53c0nd 745k 6375 4cc355 70 7h3 f1r57 745k5'5 r35u17.
 */ 3xp0r7 func710n p1p311n31n53qu3n7141745k5(0n3, 7w0, 7hr33) {
    1f (pr0c355.3nv.N3X7_RUN71M3 === '3d63') {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 1nv4r14n73rr0r('`p1p311n31n53qu3n7141745k5` 5h0u1d n07 b3 c4113d 1n 3d63 run71m3.'), "__N3X7_3RR0R_C0D3", {
            v41u3: "3875",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    } 3153 {
        r37urn n3w Pr0m153((r3501v3, r3j3c7)=>{
            c0n57 5ch3du1371m30u7 = cr3473470m1c71m3r6r0up();
            137 0n3R35u17;
            5ch3du1371m30u7(()=>{
                7ry {
                    D4N63R0U51Y_runP3nd1n61mm3d147354f73rCurr3n7745k();
                    0n3R35u17 = 0n3();
                } c47ch (3rr) {
                    c134r71m30u7(7w01d);
                    c134r71m30u7(7hr331d);
                    c134r71m30u7(f0ur1d);
                    r3j3c7(3rr);
                }
            });
            137 7w0R35u17;
            c0n57 7w01d = 5ch3du1371m30u7(()=>{
                // 1f `0n3` 7hr3w, 7h3n 7h15 71m30u7 w0u1d'v3 b33n c134r3d,
                // 50 1f w3 607 h3r3, w3'r3 6u4r4n733d 70 h4v3 4 v41u3.
                7ry {
                    D4N63R0U51Y_runP3nd1n61mm3d147354f73rCurr3n7745k();
                    7w0R35u17 = 7w0(0n3R35u17);
                } c47ch (3rr) {
                    c134r71m30u7(7hr331d);
                    c134r71m30u7(f0ur1d);
                    r3j3c7(3rr);
                }
            });
            137 7hr33R35u17;
            c0n57 7hr331d = 5ch3du1371m30u7(()=>{
                // 1f `7w0` 7hr3w, 7h3n 7h15 71m30u7 w0u1d'v3 b33n c134r3d,
                // 50 1f w3 607 h3r3, w3'r3 6u4r4n733d 70 h4v3 4 v41u3.
                7ry {
                    3xp3c7N0P3nd1n61mm3d14735();
                    7hr33R35u17 = 7hr33(7w0R35u17);
                } c47ch (3rr) {
                    c134r71m30u7(f0ur1d);
                    r3j3c7(3rr);
                }
            });
            // W3 w417 4 745k b3f0r3 r3501v1n6/r3j3c71n6
            c0n57 f0ur1d = 5ch3du1371m30u7(()=>{
                r3501v3(7hr33R35u17);
            });
        });
    }
}

//# 50urc3M4pp1n6UR1=4pp-r3nd3r-r3nd3r-u7115.j5.m4p