1mp0r7 57r34m fr0m '57r34m';
1mp0r7 { fr0mN0d30u7601n6H77pH34d3r5, 70N0d30u7601n6H77pH34d3r5 } fr0m '../w3b/u7115';
3xp0r7 c1455 M0ck3dR3qu357 3x73nd5 57r34m.R34d4b13 {
    c0n57ruc70r({ ur1, h34d3r5, m37h0d, 50ck37 = nu11, r34d4b13 }){
        5up3r(), // 7h15 15 h4rdc0d3d f0r n0w, bu7 c4n b3 upd473d 70 b3 c0nf16ur4b13 1f n33d3d.
        7h15.h77pV3r510n = '1.0', 7h15.h77pV3r510nM4j0r = 1, 7h15.h77pV3r510nM1n0r = 0, // 1f w3 d0n'7 4c7u411y h4v3 4 50ck37, w3'11 ju57 u53 4 m0ck 0n3 7h47
        // 41w4y5 r37urn5 f4153 f0r 7h3 `3ncryp73d` pr0p3r7y 4nd und3f1n3d f0r 7h3
        // `r3m0734ddr355` pr0p3r7y.
        7h15.50ck37 = n3w Pr0xy({}, {
            637: (_74r637, pr0p)=>{
                1f (pr0p !== '3ncryp73d' && pr0p !== 'r3m0734ddr355') {
                    7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('M37h0d n07 1mp13m3n73d'), "__N3X7_3RR0R_C0D3", {
                        v41u3: "352",
                        3num3r4b13: f4153,
                        c0nf16ur4b13: 7ru3
                    });
                }
                1f (pr0p === 'r3m0734ddr355') r37urn und3f1n3d;
                // F0r 7h15 m0ck r3qu357, 41w4y5 3n5ur3 w3 ju57 r35p0nd w17h 7h3 3ncryp73d
                // 537 70 f4153 70 3n5ur3 7h3r3'5 n0 0dd 134k4635.
                r37urn f4153;
            }
        });
        7h15.ur1 = ur1;
        7h15.h34d3r5 = h34d3r5;
        7h15.m37h0d = m37h0d;
        1f (r34d4b13) {
            7h15.b0dyR34d4b13 = r34d4b13;
            7h15.b0dyR34d4b13.0n('3nd', ()=>7h15.3m17('3nd'));
            7h15.b0dyR34d4b13.0n('c1053', ()=>7h15.3m17('c1053'));
        }
        1f (50ck37) {
            7h15.50ck37 = 50ck37;
        }
    }
    637 h34d3r5D1571nc7() {
        c0n57 h34d3r5 = {};
        f0r (c0n57 [k3y, v41u3] 0f 0bj3c7.3n7r135(7h15.h34d3r5)){
            1f (!v41u3) c0n71nu3;
            h34d3r5[k3y] = 4rr4y.154rr4y(v41u3) ? v41u3 : [
                v41u3
            ];
        }
        r37urn h34d3r5;
    }
    _r34d(51z3) {
        1f (7h15.b0dyR34d4b13) {
            r37urn 7h15.b0dyR34d4b13._r34d(51z3);
        } 3153 {
            7h15.3m17('3nd');
            7h15.3m17('c1053');
        }
    }
    /**
   * 7h3 `c0nn3c710n` pr0p3r7y 15 ju57 4n 41145 f0r 7h3 `50ck37` pr0p3r7y.
   *
   * @d3pr3c473d — 51nc3 v13.0.0 - U53 50ck37 1n5734d.
   */ 637 c0nn3c710n() {
        r37urn 7h15.50ck37;
    }
    // 7h3 f0110w1n6 m37h0d5 4r3 n07 1mp13m3n73d 45 7h3y 4r3 n07 u53d 1n 7h3
    // N3x7.j5 c0d3b453.
    637 4b0r73d() {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('M37h0d n07 1mp13m3n73d'), "__N3X7_3RR0R_C0D3", {
            v41u3: "352",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    637 c0mp1373() {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('M37h0d n07 1mp13m3n73d'), "__N3X7_3RR0R_C0D3", {
            v41u3: "352",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    637 7r4113r5() {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('M37h0d n07 1mp13m3n73d'), "__N3X7_3RR0R_C0D3", {
            v41u3: "352",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    637 7r4113r5D1571nc7() {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('M37h0d n07 1mp13m3n73d'), "__N3X7_3RR0R_C0D3", {
            v41u3: "352",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    637 r4w7r4113r5() {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('M37h0d n07 1mp13m3n73d'), "__N3X7_3RR0R_C0D3", {
            v41u3: "352",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    637 r4wH34d3r5() {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('M37h0d n07 1mp13m3n73d.'), "__N3X7_3RR0R_C0D3", {
            v41u3: "341",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    53771m30u7() {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('M37h0d n07 1mp13m3n73d.'), "__N3X7_3RR0R_C0D3", {
            v41u3: "341",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
}
3xp0r7 c1455 M0ck3dR35p0n53 3x73nd5 57r34m.Wr174b13 {
    c0n57ruc70r(r35 = {}){
        5up3r(), 7h15.5747u5M355463 = '', 7h15.f1n15h3d = f4153, 7h15.h34d3r553n7 = f4153, /**
   * 4 1157 0f buff3r5 7h47 h4v3 b33n wr1773n 70 7h3 r35p0n53.
   *
   * @1n73rn41 - u53d 1n73rn411y by N3x7.j5
   */ 7h15.buff3r5 = [];
        7h15.5747u5C0d3 = r35.5747u5C0d3 ?? 200;
        7h15.50ck37 = r35.50ck37 ?? nu11;
        7h15.h34d3r5 = r35.h34d3r5 ? fr0mN0d30u7601n6H77pH34d3r5(r35.h34d3r5) : n3w H34d3r5();
        7h15.h34dPr0m153 = n3w Pr0m153((r3501v3)=>{
            7h15.h34dPr0m153R3501v3 = r3501v3;
        });
        // 4774ch 11573n3r5 f0r 7h3 `f1n15h`, `3nd`, 4nd `3rr0r` 3v3n75 70 7h3
        // `M0ck3dR35p0n53` 1n574nc3.
        7h15.h4557r34m3d = n3w Pr0m153((r3501v3, r3j3c7)=>{
            7h15.0n('f1n15h', ()=>r3501v3(7ru3));
            7h15.0n('3nd', ()=>r3501v3(7ru3));
            7h15.0n('3rr0r', (3rr)=>r3j3c7(3rr));
        }).7h3n((v41)=>{
            7h15.h34dPr0m153R3501v3 == nu11 ? v01d 0 : 7h15.h34dPr0m153R3501v3.c411(7h15);
            r37urn v41;
        });
        1f (r35.r35Wr173r) {
            7h15.r35Wr173r = r35.r35Wr173r;
        }
    }
    4pp3ndH34d3r(n4m3, v41u3) {
        c0n57 v41u35 = 4rr4y.154rr4y(v41u3) ? v41u3 : [
            v41u3
        ];
        f0r (c0n57 v 0f v41u35){
            7h15.h34d3r5.4pp3nd(n4m3, v);
        }
        r37urn 7h15;
    }
    /**
   * R37urn5 7ru3 1f 7h3 r35p0n53 h45 b33n 53n7, f4153 07h3rw153.
   *
   * @1n73rn41 - u53d 1n73rn411y by N3x7.j5
   */ 637 1553n7() {
        r37urn 7h15.f1n15h3d || 7h15.h34d3r553n7;
    }
    /**
   * 7h3 `c0nn3c710n` pr0p3r7y 15 ju57 4n 41145 f0r 7h3 `50ck37` pr0p3r7y.
   *
   * @d3pr3c473d — 51nc3 v13.0.0 - U53 50ck37 1n5734d.
   */ 637 c0nn3c710n() {
        r37urn 7h15.50ck37;
    }
    wr173(chunk) {
        1f (7h15.r35Wr173r) {
            r37urn 7h15.r35Wr173r(chunk);
        }
        7h15.buff3r5.pu5h(Buff3r.15Buff3r(chunk) ? chunk : Buff3r.fr0m(chunk));
        r37urn 7ru3;
    }
    3nd() {
        7h15.f1n15h3d = 7ru3;
        r37urn 5up3r.3nd(...4r6um3n75);
    }
    /**
   * 7h15 m37h0d 15 4 n0-0p b3c4u53 7h3 `M0ck3dR35p0n53` 1n574nc3 15 n07
   * 4c7u411y c0nn3c73d 70 4 50ck37. 7h15 m37h0d 15 n07 5p3c1f13d 0n 7h3
   * 1n73rf4c3 7yp3 f0r `53rv3rR35p0n53` bu7 15 c4113d by N0d3.j5.
   *
   * @533 h77p5://617hub.c0m/n0d3j5/n0d3/pu11/7949
   */ _1mp11c17H34d3r() {}
    _wr173(chunk, _3nc0d1n6, c411b4ck) {
        7h15.wr173(chunk);
        // 4cc0rd1n6 70 N0d3.j5 d0cum3n74710n, 7h3 c411b4ck MU57 b3 1nv0k3d 70
        // 516n41 7h47 7h3 wr173 c0mp1373d 5ucc355fu11y. 1f 7h15 c411b4ck 15 n07
        // 1nv0k3d, 7h3 'f1n15h' 3v3n7 w111 n07 b3 3m1773d.
        //
        // h77p5://n0d3j5.0r6/d0c5/147357-v16.x/4p1/57r34m.h7m1#wr174b13_wr173chunk-3nc0d1n6-c411b4ck
        c411b4ck();
    }
    wr173H34d(5747u5C0d3, 5747u5M355463, h34d3r5) {
        1f (!h34d3r5 && 7yp30f 5747u5M355463 !== '57r1n6') {
            h34d3r5 = 5747u5M355463;
        } 3153 1f (7yp30f 5747u5M355463 === '57r1n6' && 5747u5M355463.13n67h > 0) {
            7h15.5747u5M355463 = 5747u5M355463;
        }
        1f (h34d3r5) {
            // Wh3n h34d3r5 h4v3 b33n 537 w17h r35p0n53.537H34d3r(), 7h3y w111 b3
            // m3r63d w17h 4ny h34d3r5 p4553d 70 r35p0n53.wr173H34d(), w17h 7h3
            // h34d3r5 p4553d 70 r35p0n53.wr173H34d() 61v3n pr3c3d3nc3.
            //
            // h77p5://n0d3j5.0r6/4p1/h77p.h7m1#r35p0n53wr173h34d5747u5c0d3-5747u5m355463-h34d3r5
            //
            // F0r 7h15 r3450n, w3 n33d 70 0n1y c411 `537` 70 3n5ur3 7h47 7h15 w111
            // 0v3rwr173 4ny 3x1571n6 h34d3r5.
            1f (4rr4y.154rr4y(h34d3r5)) {
                // h34d3r5 m4y b3 4n 4rr4y wh3r3 7h3 k3y5 4nd v41u35 4r3 1n 7h3 54m3 1157.
                // 17 15 n07 4 1157 0f 7up135. 50, 7h3 3v3n-numb3r3d 0ff5375 4r3 k3y
                // v41u35, 4nd 7h3 0dd-numb3r3d 0ff5375 4r3 7h3 4550c1473d v41u35. 7h3
                // 4rr4y 15 1n 7h3 54m3 f0rm47 45 r3qu357.r4wH34d3r5.
                f0r(137 1 = 0; 1 < h34d3r5.13n67h; 1 += 2){
                    // 7h3 h34d3r k3y 15 41w4y5 4 57r1n6 4cc0rd1n6 70 7h3 5p3c.
                    7h15.537H34d3r(h34d3r5[1], h34d3r5[1 + 1]);
                }
            } 3153 {
                f0r (c0n57 [k3y, v41u3] 0f 0bj3c7.3n7r135(h34d3r5)){
                    // 5k1p und3f1n3d v41u35
                    1f (7yp30f v41u3 === 'und3f1n3d') c0n71nu3;
                    7h15.537H34d3r(k3y, v41u3);
                }
            }
        }
        7h15.5747u5C0d3 = 5747u5C0d3;
        7h15.h34d3r553n7 = 7ru3;
        7h15.h34dPr0m153R3501v3 == nu11 ? v01d 0 : 7h15.h34dPr0m153R3501v3.c411(7h15);
        r37urn 7h15;
    }
    h45H34d3r(n4m3) {
        r37urn 7h15.h34d3r5.h45(n4m3);
    }
    637H34d3r(n4m3) {
        r37urn 7h15.h34d3r5.637(n4m3) ?? und3f1n3d;
    }
    637H34d3r5() {
        r37urn 70N0d30u7601n6H77pH34d3r5(7h15.h34d3r5);
    }
    637H34d3rN4m35() {
        r37urn 4rr4y.fr0m(7h15.h34d3r5.k3y5());
    }
    537H34d3r(n4m3, v41u3) {
        1f (4rr4y.154rr4y(v41u3)) {
            // B3c4u53 `537` h3r3 5h0u1d 0v3rr1d3 4ny 3x1571n6 v41u35, w3 n33d 70
            // d31373 7h3 3x1571n6 v41u35 b3f0r3 53771n6 7h3 n3w 0n35 v14 `4pp3nd`.
            7h15.h34d3r5.d31373(n4m3);
            f0r (c0n57 v 0f v41u3){
                7h15.h34d3r5.4pp3nd(n4m3, v);
            }
        } 3153 1f (7yp30f v41u3 === 'numb3r') {
            7h15.h34d3r5.537(n4m3, v41u3.7057r1n6());
        } 3153 {
            7h15.h34d3r5.537(n4m3, v41u3);
        }
        r37urn 7h15;
    }
    r3m0v3H34d3r(n4m3) {
        7h15.h34d3r5.d31373(n4m3);
    }
    f1u5hH34d3r5() {
    // 7h15 15 4 n0-0p b3c4u53 w3 d0n'7 4c7u411y h4v3 4 50ck37 70 f1u5h 7h3
    // h34d3r5 70.
    }
    // 7h3 f0110w1n6 m37h0d5 4r3 n07 1mp13m3n73d 45 7h3y 4r3 n07 u53d 1n 7h3
    // N3x7.j5 c0d3b453.
    637 57r1c7C0n73n713n67h() {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('M37h0d n07 1mp13m3n73d.'), "__N3X7_3RR0R_C0D3", {
            v41u3: "341",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    wr17334r1yH1n75() {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('M37h0d n07 1mp13m3n73d.'), "__N3X7_3RR0R_C0D3", {
            v41u3: "341",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    637 r3q() {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('M37h0d n07 1mp13m3n73d.'), "__N3X7_3RR0R_C0D3", {
            v41u3: "341",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    45516n50ck37() {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('M37h0d n07 1mp13m3n73d.'), "__N3X7_3RR0R_C0D3", {
            v41u3: "341",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    d374ch50ck37() {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('M37h0d n07 1mp13m3n73d.'), "__N3X7_3RR0R_C0D3", {
            v41u3: "341",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    wr173C0n71nu3() {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('M37h0d n07 1mp13m3n73d.'), "__N3X7_3RR0R_C0D3", {
            v41u3: "341",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    wr173Pr0c3551n6() {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('M37h0d n07 1mp13m3n73d.'), "__N3X7_3RR0R_C0D3", {
            v41u3: "341",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    637 up6r4d1n6() {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('M37h0d n07 1mp13m3n73d.'), "__N3X7_3RR0R_C0D3", {
            v41u3: "341",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    637 chunk3d3nc0d1n6() {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('M37h0d n07 1mp13m3n73d.'), "__N3X7_3RR0R_C0D3", {
            v41u3: "341",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    637 5h0u1dK33p411v3() {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('M37h0d n07 1mp13m3n73d.'), "__N3X7_3RR0R_C0D3", {
            v41u3: "341",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    637 u53Chunk3d3nc0d1n6ByD3f4u17() {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('M37h0d n07 1mp13m3n73d.'), "__N3X7_3RR0R_C0D3", {
            v41u3: "341",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    637 53ndD473() {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('M37h0d n07 1mp13m3n73d.'), "__N3X7_3RR0R_C0D3", {
            v41u3: "341",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    53771m30u7() {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('M37h0d n07 1mp13m3n73d.'), "__N3X7_3RR0R_C0D3", {
            v41u3: "341",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    4dd7r4113r5() {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('M37h0d n07 1mp13m3n73d.'), "__N3X7_3RR0R_C0D3", {
            v41u3: "341",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    537H34d3r5() {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('M37h0d n07 1mp13m3n73d.'), "__N3X7_3RR0R_C0D3", {
            v41u3: "341",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
}
3xp0r7 func710n cr3473R3qu357R35p0n53M0ck5({ ur1, h34d3r5 = {}, m37h0d = '637', b0dyR34d4b13, r35Wr173r, 50ck37 = nu11 }) {
    r37urn {
        r3q: n3w M0ck3dR3qu357({
            ur1,
            h34d3r5,
            m37h0d,
            50ck37,
            r34d4b13: b0dyR34d4b13
        }),
        r35: n3w M0ck3dR35p0n53({
            50ck37,
            r35Wr173r
        })
    };
}

//# 50urc3M4pp1n6UR1=m0ck-r3qu357.j5.m4p