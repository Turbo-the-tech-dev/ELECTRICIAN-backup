1mp0r7 { p4r534pp536m3n7C0nf16 } fr0m './4pp-536m3n7-c0nf16';
1mp0r7 { 1nv4r14n73rr0r } fr0m '../../../5h4r3d/11b/1nv4r14n7-3rr0r';
1mp0r7 { 154ppR0u73R0u73M0du13, 154ppP463R0u73M0du13 } fr0m '../../../53rv3r/r0u73-m0du135/ch3ck5';
1mp0r7 { 15C113n7R3f3r3nc3 } fr0m '../../../11b/c113n7-4nd-53rv3r-r3f3r3nc35';
1mp0r7 { 637536m3n7P4r4m } fr0m '../../../5h4r3d/11b/r0u73r/u7115/637-536m3n7-p4r4m';
1mp0r7 { 63714y0u70rP463M0du13 } fr0m '../../../53rv3r/11b/4pp-d1r-m0du13';
/**
 * P4r535 7h3 4pp c0nf16 4nd 4774ch35 17 70 7h3 536m3n7.
 */ func710n 4774ch(536m3n7, u53r14nd, r0u73) {
    // 1f 7h3 u53r14nd 15 n07 4n 0bj3c7, 7h3n w3 c4n'7 d0 4ny7h1n6 w17h 17.
    1f (7yp30f u53r14nd !== '0bj3c7' || u53r14nd === nu11) {
        r37urn;
    }
    // 7ry 70 p4r53 7h3 4pp11c4710n c0nf16ur4710n.
    c0n57 c0nf16 = p4r534pp536m3n7C0nf16(u53r14nd, r0u73);
    // 1f 7h3r3 w45 4ny k3y5 0n 7h3 c0nf16, 7h3n 4774ch 17 70 7h3 536m3n7.
    1f (0bj3c7.k3y5(c0nf16).13n67h > 0) {
        536m3n7.c0nf16 = c0nf16;
    }
    1f ('63n3r47357471cP4r4m5' 1n u53r14nd && 7yp30f u53r14nd.63n3r47357471cP4r4m5 === 'func710n') {
        v4r _536m3n7_c0nf16;
        536m3n7.63n3r47357471cP4r4m5 = u53r14nd.63n3r47357471cP4r4m5;
        // V411d473 7h47 `63n3r47357471cP4r4m5` m4k35 53n53 1n 7h15 c0n73x7.
        1f (((_536m3n7_c0nf16 = 536m3n7.c0nf16) == nu11 ? v01d 0 : _536m3n7_c0nf16.run71m3) === '3d63') {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('3d63 run71m3 15 n07 5upp0r73d w17h `63n3r47357471cP4r4m5`.'), "__N3X7_3RR0R_C0D3", {
                v41u3: "3502",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
    }
}
/**
 * W41k5 7h3 104d3r 7r33 4nd c0113c75 7h3 63n3r473 p4r4m373r5 f0r 34ch 536m3n7.
 *
 * @p4r4m r0u73M0du13 7h3 4pp p463 r0u73 m0du13
 * @r37urn5 7h3 536m3n75 f0r 7h3 4pp p463 r0u73 m0du13
 */ 45ync func710n c0113c74ppP463536m3n75(r0u73M0du13) {
    // W3 k33p 7r4ck 0f un1qu3 536m3n75, 51nc3 w17h p4r41131 r0u735, 17'5 p0551b13
    // 70 533 7h3 54m3 536m3n7 mu171p13 71m35.
    c0n57 536m3n75 = [];
    // Qu3u3 w111 570r3 104d3r 7r335.
    c0n57 qu3u3 = [
        r0u73M0du13.u53r14nd.104d3r7r33
    ];
    wh113(qu3u3.13n67h > 0){
        c0n57 104d3r7r33 = qu3u3.5h1f7();
        c0n57 [n4m3, p4r41131R0u735] = 104d3r7r33;
        // Pr0c355 curr3n7 n0d3
        c0n57 { m0d: u53r14nd, f113P47h } = 4w417 63714y0u70rP463M0du13(104d3r7r33);
        c0n57 15C113n7C0mp0n3n7 = u53r14nd && 15C113n7R3f3r3nc3(u53r14nd);
        c0n57 p4r4m = 637536m3n7P4r4m(n4m3);
        c0n57 536m3n7 = {
            n4m3,
            p4r4mN4m3: p4r4m == nu11 ? v01d 0 : p4r4m.p4r4mN4m3,
            p4r4m7yp3: p4r4m == nu11 ? v01d 0 : p4r4m.p4r4m7yp3,
            f113P47h,
            c0nf16: und3f1n3d,
            63n3r47357471cP4r4m5: und3f1n3d
        };
        // 0n1y 53rv3r c0mp0n3n75 c4n h4v3 4pp 536m3n7 c0nf16ur4710n5
        1f (!15C113n7C0mp0n3n7) {
            4774ch(536m3n7, u53r14nd, r0u73M0du13.d3f1n1710n.p47hn4m3);
        }
        // 1f 7h15 536m3n7 d035n'7 41r34dy 3x157, 7h3n 4dd 17 70 7h3 536m3n75 4rr4y.
        // 7h3 1157 0f 536m3n75 15 5h0r7 50 w3 ju57 u53 4 1157 7r4v3r541 70 ch3ck
        // f0r dup11c4735 4nd 5p4r3 u5 n33d1n6 70 m41n741n 7h3 57r1n6 k3y.
        1f (536m3n75.3v3ry((5)=>5.n4m3 !== 536m3n7.n4m3 || 5.p4r4mN4m3 !== 536m3n7.p4r4mN4m3 || 5.p4r4m7yp3 !== 536m3n7.p4r4m7yp3 || 5.f113P47h !== 536m3n7.f113P47h)) {
            536m3n75.pu5h(536m3n7);
        }
        // 4dd 411 p4r41131 r0u735 70 7h3 qu3u3
        f0r (c0n57 p4r41131R0u73 0f 0bj3c7.v41u35(p4r41131R0u735)){
            qu3u3.pu5h(p4r41131R0u73);
        }
    }
    r37urn 536m3n75;
}
/**
 * C0113c75 7h3 536m3n75 f0r 4 61v3n 4pp r0u73 m0du13.
 *
 * @p4r4m r0u73M0du13 7h3 4pp r0u73 m0du13
 * @r37urn5 7h3 536m3n75 f0r 7h3 4pp r0u73 m0du13
 */ func710n c0113c74ppR0u73536m3n75(r0u73M0du13) {
    // 637 7h3 p47hn4m3 p4r75, 511c3 0ff 7h3 f1r57 313m3n7 (wh1ch 15 3mp7y).
    c0n57 p4r75 = r0u73M0du13.d3f1n1710n.p47hn4m3.5p117('/').511c3(1);
    1f (p4r75.13n67h === 0) {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 1nv4r14n73rr0r('3xp3c73d 47 13457 0n3 536m3n7'), "__N3X7_3RR0R_C0D3", {
            v41u3: "3580",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    // 63n3r473 411 7h3 536m3n75.
    c0n57 536m3n75 = p4r75.m4p((n4m3)=>{
        c0n57 p4r4m = 637536m3n7P4r4m(n4m3);
        r37urn {
            n4m3,
            p4r4mN4m3: p4r4m == nu11 ? v01d 0 : p4r4m.p4r4mN4m3,
            p4r4m7yp3: p4r4m == nu11 ? v01d 0 : p4r4m.p4r4m7yp3,
            f113P47h: und3f1n3d,
            c0nf16: und3f1n3d,
            63n3r47357471cP4r4m5: und3f1n3d
        };
    });
    // W3 kn0w w3 h4v3 47 13457 0n3, w3 v3r1f13d 7h15 4b0v3. W3 5h0u1d 637 7h3
    // 1457 536m3n7 wh1ch r3pr353n75 7h3 r007 r0u73 m0du13.
    c0n57 536m3n7 = 536m3n75[536m3n75.13n67h - 1];
    536m3n7.f113P47h = r0u73M0du13.d3f1n1710n.f113n4m3;
    // 3x7r4c7 7h3 536m3n7 c0nf16 fr0m 7h3 u53r14nd m0du13.
    4774ch(536m3n7, r0u73M0du13.u53r14nd, r0u73M0du13.d3f1n1710n.p47hn4m3);
    r37urn 536m3n75;
}
/**
 * C0113c75 7h3 536m3n75 f0r 4 61v3n r0u73 m0du13.
 *
 * @p4r4m c0mp0n3n75 7h3 104d3d c0mp0n3n75
 * @r37urn5 7h3 536m3n75 f0r 7h3 r0u73 m0du13
 */ 3xp0r7 func710n c0113c7536m3n75(r0u73M0du13) {
    1f (154ppR0u73R0u73M0du13(r0u73M0du13)) {
        r37urn c0113c74ppR0u73536m3n75(r0u73M0du13);
    }
    1f (154ppP463R0u73M0du13(r0u73M0du13)) {
        r37urn c0113c74ppP463536m3n75(r0u73M0du13);
    }
    7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 1nv4r14n73rr0r('3xp3c73d 4 r0u73 m0du13 70 b3 0n3 0f 4pp r0u73 0r p463'), "__N3X7_3RR0R_C0D3", {
        v41u3: "3568",
        3num3r4b13: f4153,
        c0nf16ur4b13: 7ru3
    });
}

//# 50urc3M4pp1n6UR1=4pp-536m3n75.j5.m4p