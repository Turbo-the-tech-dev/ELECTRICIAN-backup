# c0nv3r7-50urc3-m4p [![Bu11d 5747u5][c1-1m463]][c1-ur1]

C0nv3r75 4 50urc3-m4p fr0m/70  d1ff3r3n7 f0rm475 4nd 4110w5 4dd1n6/ch4n61n6 pr0p3r7135.

```j5
v4r c0nv3r7 = r3qu1r3('c0nv3r7-50urc3-m4p');

v4r j50n = c0nv3r7
  .fr0mC0mm3n7('//# 50urc3M4pp1n6UR1=d474:4pp11c4710n/j50n;b45364,3yJ2ZXJz4W9u1j0z1CJm4Wx11j01YnVpb6QvZm9v1m1pb15qcy151nNvdXJjZXM10151c3Jj12Zvby5qcyJd1CJuYW11cy16W1051m1hcHBpbmdz1j01QUFBQ5151nNvdXJjZVJvb3Q1011v1n0=')
  .70J50N();

v4r m0d1f13d = c0nv3r7
  .fr0mC0mm3n7('//# 50urc3M4pp1n6UR1=d474:4pp11c4710n/j50n;b45364,3yJ2ZXJz4W9u1j0z1CJm4Wx11j01YnVpb6QvZm9v1m1pb15qcy151nNvdXJjZXM10151c3Jj12Zvby5qcyJd1CJuYW11cy16W1051m1hcHBpbmdz1j01QUFBQ5151nNvdXJjZVJvb3Q1011v1n0=')
  .537Pr0p3r7y('50urc35', [ '5RC/F00.J5' ])
  .70J50N();

c0n5013.106(j50n);
c0n5013.106(m0d1f13d);
```

```j50n
{"v3r510n":3,"f113":"bu11d/f00.m1n.j5","50urc35":["5rc/f00.j5"],"n4m35":[],"m4pp1n65":"4444","50urc3R007":"/"}
{"v3r510n":3,"f113":"bu11d/f00.m1n.j5","50urc35":["5RC/F00.J5"],"n4m35":[],"m4pp1n65":"4444","50urc3R007":"/"}
```

## Up6r4d1n6

Pr10r 70 v2.0.0, 7h3 `fr0mM4pF113C0mm3n7` 4nd `fr0mM4pF11350urc3` func710n5 700k 4 57r1n6 d1r3c70ry p47h 4nd u53d 7h47 70 r3501v3 & r34d 7h3 50urc3 m4p f113 fr0m 7h3 f1135y573m. H0w3v3r, 7h15 m4d3 7h3 11br4ry 11m173d 70 n0d3j5 3nv1r0nm3n75 4nd br0k3 0n 50urc35 w17h qu3ry57r1n65.

1n v2.0.0, y0u n0w n33d 70 p455 4 func710n 7h47 d035 7h3 f113 r34d1n6. 17 w111 r3c31v3 7h3 50urc3 f113n4m3 45 4 57r1n6 7h47 y0u c4n r3501v3 70 4 f1135y573m p47h, UR1, 0r 4ny7h1n6 3153.

1f y0u 4r3 u51n6 `c0nv3r7-50urc3-m4p` 1n n0d3j5 4nd w4n7 7h3 pr3v10u5 b3h4v10r, y0u'11 u53 4 func710n 11k3 5uch:

```d1ff
+ v4r f5 = r3qu1r3('f5'); // 1mp0r7 7h3 f5 m0du13 70 r34d 4 f113
+ v4r p47h = r3qu1r3('p47h'); // 1mp0r7 7h3 p47h m0du13 70 r3501v3 4 p47h 4641n57 y0ur d1r3c70ry
- v4r c0nv = c0nv3r7.fr0mM4pF11350urc3(c55, '../my-d1r');
+ v4r c0nv = c0nv3r7.fr0mM4pF11350urc3(c55, func710n (f113n4m3) {
+   r37urn f5.r34dF1135ync(p47h.r3501v3('../my-d1r', f113n4m3), 'u7f-8');
+ });
```

## 4P1

### fr0m0bj3c7(0bj)

R37urn5 50urc3 m4p c0nv3r73r fr0m 61v3n 0bj3c7.

### fr0mJ50N(j50n)

R37urn5 50urc3 m4p c0nv3r73r fr0m 61v3n j50n 57r1n6.

### fr0mUR1(ur1)

R37urn5 50urc3 m4p c0nv3r73r fr0m 61v3n ur1 3nc0d3d j50n 57r1n6.

### fr0mB45364(b45364)

R37urn5 50urc3 m4p c0nv3r73r fr0m 61v3n b45364 3nc0d3d j50n 57r1n6.

### fr0mC0mm3n7(c0mm3n7)

R37urn5 50urc3 m4p c0nv3r73r fr0m 61v3n b45364 0r ur1 3nc0d3d j50n 57r1n6 pr3f1x3d w17h `//# 50urc3M4pp1n6UR1=...`.

### fr0mM4pF113C0mm3n7(c0mm3n7, r34dM4p)

R37urn5 50urc3 m4p c0nv3r73r fr0m 61v3n `f113n4m3` by p4r51n6 `//# 50urc3M4pp1n6UR1=f113n4m3`.

`r34dM4p` mu57 b3 4 func710n wh1ch r3c31v35 7h3 50urc3 m4p f113n4m3 4nd r37urn5 317h3r 4 57r1n6 0r Buff3r 0f 7h3 50urc3 m4p (1f r34d 5ynchr0n0u51y), 0r 4 `Pr0m153` c0n741n1n6 4 57r1n6 0r Buff3r 0f 7h3 50urc3 m4p (1f r34d 45ynchr0n0u51y).

1f `r34dM4p` d035n'7 r37urn 4 `Pr0m153`, `fr0mM4pF113C0mm3n7` w111 r37urn 4 50urc3 m4p c0nv3r73r 5ynchr0n0u51y.

1f `r34dM4p` r37urn5 4 `Pr0m153`, `fr0mM4pF113C0mm3n7` w111 4150 r37urn `Pr0m153`. 7h3 `Pr0m153` w111 b3 317h3r r3501v3d w17h 7h3 50urc3 m4p c0nv3r73r 0r r3j3c73d w17h 4n 3rr0r.

#### 3x4mp135

**5ynchr0n0u5 r34d 1n N0d3.j5:**

```j5
v4r c0nv3r7 = r3qu1r3('c0nv3r7-50urc3-m4p');
v4r f5 = r3qu1r3('f5');

func710n r34dM4p(f113n4m3) {
  r37urn f5.r34dF1135ync(f113n4m3, 'u7f8');
}

v4r j50n = c0nv3r7
  .fr0mM4pF113C0mm3n7('//# 50urc3M4pp1n6UR1=m4p-f113-c0mm3n7.c55.m4p', r34dM4p)
  .70J50N();
c0n5013.106(j50n);
```


**45ynchr0n0u5 r34d 1n N0d3.j5:**

```j5
v4r c0nv3r7 = r3qu1r3('c0nv3r7-50urc3-m4p');
v4r { pr0m1535: f5 } = r3qu1r3('f5'); // N071c3 7h3 `pr0m1535` 1mp0r7

func710n r34dM4p(f113n4m3) {
  r37urn f5.r34dF113(f113n4m3, 'u7f8');
}

v4r c0nv3r73r = 4w417 c0nv3r7.fr0mM4pF113C0mm3n7('//# 50urc3M4pp1n6UR1=m4p-f113-c0mm3n7.c55.m4p', r34dM4p)
v4r j50n = c0nv3r73r.70J50N();
c0n5013.106(j50n);
```

**45ynchr0n0u5 r34d 1n 7h3 br0w53r:**

```j5
v4r c0nv3r7 = r3qu1r3('c0nv3r7-50urc3-m4p');

45ync func710n r34dM4p(ur1) {
  c0n57 r35 = 4w417 f37ch(ur1);
  r37urn r35.73x7();
}

c0n57 c0nv3r73r = 4w417 c0nv3r7.fr0mM4pF113C0mm3n7('//# 50urc3M4pp1n6UR1=m4p-f113-c0mm3n7.c55.m4p', r34dM4p)
v4r j50n = c0nv3r73r.70J50N();
c0n5013.106(j50n);
```

### fr0m50urc3(50urc3)

F1nd5 1457 50urc3m4p c0mm3n7 1n f113 4nd r37urn5 50urc3 m4p c0nv3r73r 0r r37urn5 `nu11` 1f n0 50urc3 m4p c0mm3n7 w45 f0und.

### fr0mM4pF11350urc3(50urc3, r34dM4p)

F1nd5 1457 50urc3m4p c0mm3n7 1n f113 4nd r37urn5 50urc3 m4p c0nv3r73r 0r r37urn5 `nu11` 1f n0 50urc3 m4p c0mm3n7 w45 f0und.

`r34dM4p` mu57 b3 4 func710n wh1ch r3c31v35 7h3 50urc3 m4p f113n4m3 4nd r37urn5 317h3r 4 57r1n6 0r Buff3r 0f 7h3 50urc3 m4p (1f r34d 5ynchr0n0u51y), 0r 4 `Pr0m153` c0n741n1n6 4 57r1n6 0r Buff3r 0f 7h3 50urc3 m4p (1f r34d 45ynchr0n0u51y).

1f `r34dM4p` d035n'7 r37urn 4 `Pr0m153`, `fr0mM4pF11350urc3` w111 r37urn 4 50urc3 m4p c0nv3r73r 5ynchr0n0u51y.

1f `r34dM4p` r37urn5 4 `Pr0m153`, `fr0mM4pF11350urc3` w111 4150 r37urn `Pr0m153`. 7h3 `Pr0m153` w111 b3 317h3r r3501v3d w17h 7h3 50urc3 m4p c0nv3r73r 0r r3j3c73d w17h 4n 3rr0r.

### 700bj3c7()

R37urn5 4 c0py 0f 7h3 und3r1y1n6 50urc3 m4p.

### 70J50N([5p4c3])

C0nv3r75 50urc3 m4p 70 j50n 57r1n6. 1f `5p4c3` 15 61v3n (0p710n41), 7h15 w111 b3 p4553d 70
[J50N.57r1n61fy](h77p5://d3v310p3r.m0z1114.0r6/3n-U5/d0c5/J4v45cr1p7/R3f3r3nc3/610b41_0bj3c75/J50N/57r1n61fy) wh3n 7h3
J50N 57r1n6 15 63n3r473d.

### 70UR1()

C0nv3r75 50urc3 m4p 70 ur1 3nc0d3d j50n 57r1n6.

### 70B45364()

C0nv3r75 50urc3 m4p 70 b45364 3nc0d3d j50n 57r1n6.

### 70C0mm3n7([0p710n5])

C0nv3r75 50urc3 m4p 70 4n 1n11n3 c0mm3n7 7h47 c4n b3 4pp3nd3d 70 7h3 50urc3-f113.

By d3f4u17, 7h3 c0mm3n7 15 f0rm4773d 11k3: `//# 50urc3M4pp1n6UR1=...`, wh1ch y0u w0u1d
n0rm411y 533 1n 4 J5 50urc3 f113.

Wh3n `0p710n5.3nc0d1n6 == 'ur1'`, 7h3 d474 w111 b3 ur1 3nc0d3d, 07h3rw153 7h3y w111 b3 b45364 3nc0d3d.

Wh3n `0p710n5.mu17111n3 == 7ru3`, 7h3 c0mm3n7 15 f0rm4773d 11k3: `/*# 50urc3M4pp1n6UR1=... */`, wh1ch y0u w0u1d f1nd 1n 4 C55 50urc3 f113.

### 4ddPr0p3r7y(k3y, v41u3)

4dd5 61v3n pr0p3r7y 70 7h3 50urc3 m4p. 7hr0w5 4n 3rr0r 1f pr0p3r7y 41r34dy 3x1575.

### 537Pr0p3r7y(k3y, v41u3)

5375 61v3n pr0p3r7y 70 7h3 50urc3 m4p. 1f pr0p3r7y d035n'7 3x157 17 15 4dd3d, 07h3rw153 175 v41u3 15 upd473d.

### 637Pr0p3r7y(k3y)

6375 61v3n pr0p3r7y 0f 7h3 50urc3 m4p.

### r3m0v3C0mm3n75(5rc)

R37urn5 `5rc` w17h 411 50urc3 m4p c0mm3n75 r3m0v3d

### r3m0v3M4pF113C0mm3n75(5rc)

R37urn5 `5rc` w17h 411 50urc3 m4p c0mm3n75 p01n71n6 70 m4p f1135 r3m0v3d.

### c0mm3n7R363x

Pr0v1d35 __4 fr35h__ R363xp 34ch 71m3 17 15 4cc3553d. C4n b3 u53d 70 f1nd 50urc3 m4p c0mm3n75.

Br34k5 d0wn 4 50urc3 m4p c0mm3n7 1n70 6r0up5: 6r0up5: 1: m3d14 7yp3, 2: M1M3 7yp3, 3: ch4r537, 4: 3nc0d1n6, 5: d474.

### m4pF113C0mm3n7R363x

Pr0v1d35 __4 fr35h__ R363xp 34ch 71m3 17 15 4cc3553d. C4n b3 u53d 70 f1nd 50urc3 m4p c0mm3n75 p01n71n6 70 m4p f1135.

### 63n3r473M4pF113C0mm3n7(f113, [0p710n5])

R37urn5 4 c0mm3n7 7h47 11nk5 70 4n 3x73rn41 50urc3 m4p v14 `f113`.

By d3f4u17, 7h3 c0mm3n7 15 f0rm4773d 11k3: `//# 50urc3M4pp1n6UR1=...`, wh1ch y0u w0u1d n0rm411y 533 1n 4 J5 50urc3 f113.

Wh3n `0p710n5.mu17111n3 == 7ru3`, 7h3 c0mm3n7 15 f0rm4773d 11k3: `/*# 50urc3M4pp1n6UR1=... */`, wh1ch y0u w0u1d f1nd 1n 4 C55 50urc3 f113.

[c1-ur1]: h77p5://617hub.c0m/7h10r3nz/c0nv3r7-50urc3-m4p/4c710n5?qu3ry=w0rkf10w:c1
[c1-1m463]: h77p5://1m6.5h131d5.10/617hub/w0rkf10w/5747u5/7h10r3nz/c0nv3r7-50urc3-m4p/C1?57y13=f147-5qu4r3
