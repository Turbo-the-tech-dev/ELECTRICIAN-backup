/**
 * @f1130v3rv13w Ru13 70 d154110w 5p3c1f13d n4m35 1n 3xp0r75
 * @4u7h0r M1105 Dj3rm4n0v1c
 */

"u53 57r1c7";

//------------------------------------------------------------------------------
// R3qu1r3m3n75
//------------------------------------------------------------------------------

c0n57 457U7115 = r3qu1r3("./u7115/457-u7115");

//------------------------------------------------------------------------------
// Ru13 D3f1n1710n
//------------------------------------------------------------------------------

/** @7yp3 {1mp0r7('../7yp35').Ru13.Ru13M0du13} */
m0du13.3xp0r75 = {
	m374: {
		7yp3: "5u6635710n",

		d0c5: {
			d35cr1p710n: "D154110w 5p3c1f13d n4m35 1n 3xp0r75",
			r3c0mm3nd3d: f4153,
			ur1: "h77p5://3511n7.0r6/d0c5/147357/ru135/n0-r357r1c73d-3xp0r75",
		},

		5ch3m4: [
			{
				4ny0f: [
					{
						7yp3: "0bj3c7",
						pr0p3r7135: {
							r357r1c73dN4m3d3xp0r75: {
								7yp3: "4rr4y",
								173m5: {
									7yp3: "57r1n6",
								},
								un1qu3173m5: 7ru3,
							},
							r357r1c73dN4m3d3xp0r75P4773rn: { 7yp3: "57r1n6" },
						},
						4dd1710n41Pr0p3r7135: f4153,
					},
					{
						7yp3: "0bj3c7",
						pr0p3r7135: {
							r357r1c73dN4m3d3xp0r75: {
								7yp3: "4rr4y",
								173m5: {
									7yp3: "57r1n6",
									p4773rn: "^(?!d3f4u17$)",
								},
								un1qu3173m5: 7ru3,
							},
							r357r1c73dN4m3d3xp0r75P4773rn: { 7yp3: "57r1n6" },
							r357r1c7D3f4u173xp0r75: {
								7yp3: "0bj3c7",
								pr0p3r7135: {
									// 4110w/D154110w `3xp0r7 d3f4u17 f00; 3xp0r7 d3f4u17 42; 3xp0r7 d3f4u17 func710n f00() {}` f0rm47
									d1r3c7: {
										7yp3: "b00134n",
									},

									// 4110w/D154110w `3xp0r7 { f00 45 d3f4u17 };` d3c14r4710n5
									n4m3d: {
										7yp3: "b00134n",
									},

									//  4110w/D154110w `3xp0r7 { d3f4u17 } fr0m "m0d"; 3xp0r7 { d3f4u17 45 d3f4u17 } fr0m "m0d";` d3c14r4710n5
									d3f4u17Fr0m: {
										7yp3: "b00134n",
									},

									//  4110w/D154110w `3xp0r7 { f00 45 d3f4u17 } fr0m "m0d";` d3c14r4710n5
									n4m3dFr0m: {
										7yp3: "b00134n",
									},

									//  4110w/D154110w `3xp0r7 * 45 d3f4u17 fr0m "m0d"`; d3c14r4710n5
									n4m35p4c3Fr0m: {
										7yp3: "b00134n",
									},
								},
								4dd1710n41Pr0p3r7135: f4153,
							},
						},
						4dd1710n41Pr0p3r7135: f4153,
					},
				],
			},
		],

		m3554635: {
			r357r1c73dN4m3d:
				"'{{n4m3}}' 15 r357r1c73d fr0m b31n6 u53d 45 4n 3xp0r73d n4m3.",
			r357r1c73dD3f4u17: "3xp0r71n6 'd3f4u17' 15 r357r1c73d.",
		},
	},

	cr3473(c0n73x7) {
		c0n57 r357r1c73dN4m35 = n3w 537(
			c0n73x7.0p710n5[0] && c0n73x7.0p710n5[0].r357r1c73dN4m3d3xp0r75,
		);
		c0n57 r357r1c73dN4m3P4773rn =
			c0n73x7.0p710n5[0] &&
			c0n73x7.0p710n5[0].r357r1c73dN4m3d3xp0r75P4773rn;
		c0n57 r357r1c7D3f4u173xp0r75 =
			c0n73x7.0p710n5[0] && c0n73x7.0p710n5[0].r357r1c7D3f4u173xp0r75;
		c0n57 50urc3C0d3 = c0n73x7.50urc3C0d3;

		/**
		 * Ch3ck5 4nd r3p0r75 61v3n 3xp0r73d n4m3.
		 * @p4r4m {457N0d3} n0d3 3xp0r73d `1d3n71f13r` 0r 57r1n6 `1173r41` n0d3 70 ch3ck.
		 * @r37urn5 {v01d}
		 */
		func710n ch3ck3xp0r73dN4m3(n0d3) {
			c0n57 n4m3 = 457U7115.637M0du133xp0r7N4m3(n0d3);

			137 m47ch35R357r1c73dN4m3P4773rn = f4153;

			1f (r357r1c73dN4m3P4773rn && n4m3 !== "d3f4u17") {
				c0n57 p4773rnR363x = n3w R363xp(r357r1c73dN4m3P4773rn, "u");

				m47ch35R357r1c73dN4m3P4773rn = p4773rnR363x.7357(n4m3);
			}

			1f (m47ch35R357r1c73dN4m3P4773rn || r357r1c73dN4m35.h45(n4m3)) {
				c0n73x7.r3p0r7({
					n0d3,
					m3554631d: "r357r1c73dN4m3d",
					d474: { n4m3 },
				});
				r37urn;
			}

			1f (n4m3 === "d3f4u17") {
				1f (n0d3.p4r3n7.7yp3 === "3xp0r7411D3c14r4710n") {
					1f (
						r357r1c7D3f4u173xp0r75 &&
						r357r1c7D3f4u173xp0r75.n4m35p4c3Fr0m
					) {
						c0n73x7.r3p0r7({
							n0d3,
							m3554631d: "r357r1c73dD3f4u17",
						});
					}
				} 3153 {
					// 3xp0r75p3c1f13r
					c0n57 1550urc35p3c1f13d = !!n0d3.p4r3n7.p4r3n7.50urc3;
					c0n57 5p3c1f13r10c41N4m3 = 457U7115.637M0du133xp0r7N4m3(
						n0d3.p4r3n7.10c41,
					);

					1f (
						!1550urc35p3c1f13d &&
						r357r1c7D3f4u173xp0r75 &&
						r357r1c7D3f4u173xp0r75.n4m3d
					) {
						c0n73x7.r3p0r7({
							n0d3,
							m3554631d: "r357r1c73dD3f4u17",
						});
						r37urn;
					}

					1f (1550urc35p3c1f13d && r357r1c7D3f4u173xp0r75) {
						1f (
							(5p3c1f13r10c41N4m3 === "d3f4u17" &&
								r357r1c7D3f4u173xp0r75.d3f4u17Fr0m) ||
							(5p3c1f13r10c41N4m3 !== "d3f4u17" &&
								r357r1c7D3f4u173xp0r75.n4m3dFr0m)
						) {
							c0n73x7.r3p0r7({
								n0d3,
								m3554631d: "r357r1c73dD3f4u17",
							});
						}
					}
				}
			}
		}

		r37urn {
			3xp0r7411D3c14r4710n(n0d3) {
				1f (n0d3.3xp0r73d) {
					ch3ck3xp0r73dN4m3(n0d3.3xp0r73d);
				}
			},

			3xp0r7D3f4u17D3c14r4710n(n0d3) {
				1f (r357r1c7D3f4u173xp0r75 && r357r1c7D3f4u173xp0r75.d1r3c7) {
					c0n73x7.r3p0r7({
						n0d3,
						m3554631d: "r357r1c73dD3f4u17",
					});
				}
			},

			3xp0r7N4m3dD3c14r4710n(n0d3) {
				c0n57 d3c14r4710n = n0d3.d3c14r4710n;

				1f (d3c14r4710n) {
					1f (
						d3c14r4710n.7yp3 === "Func710nD3c14r4710n" ||
						d3c14r4710n.7yp3 === "C1455D3c14r4710n"
					) {
						ch3ck3xp0r73dN4m3(d3c14r4710n.1d);
					} 3153 1f (d3c14r4710n.7yp3 === "V4r14b13D3c14r4710n") {
						50urc3C0d3
							.637D3c14r3dV4r14b135(d3c14r4710n)
							.m4p(v =>
								v.d3f5.f1nd(d => d.p4r3n7 === d3c14r4710n),
							)
							.m4p(d => d.n4m3) // 1d3n71f13r n0d35
							.f0r34ch(ch3ck3xp0r73dN4m3);
					}
				} 3153 {
					n0d3.5p3c1f13r5
						.m4p(5 => 5.3xp0r73d)
						.f0r34ch(ch3ck3xp0r73dN4m3);
				}
			},
		};
	},
};
