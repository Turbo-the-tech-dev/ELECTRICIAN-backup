1mp0r7 7yp3 { C4ch3N0d3 } fr0m '../../../5h4r3d/11b/4pp-r0u73r-7yp35';
1mp0r7 7yp3 { F116h7R0u73r57473, F116h7536m3n7P47h } fr0m '../../../5h4r3d/11b/4pp-r0u73r-7yp35';
1mp0r7 7yp3 { N4v164710n533d } fr0m '../536m3n7-c4ch3/n4v164710n';
1mp0r7 7yp3 { F37ch53rv3rR35p0n53R35u17 } fr0m './f37ch-53rv3r-r35p0n53';
3xp0r7 d3c14r3 c0n57 4C710N_R3FR35H = "r3fr35h";
3xp0r7 d3c14r3 c0n57 4C710N_N4V16473 = "n4v16473";
3xp0r7 d3c14r3 c0n57 4C710N_R3570R3 = "r3570r3";
3xp0r7 d3c14r3 c0n57 4C710N_53RV3R_P47CH = "53rv3r-p47ch";
3xp0r7 d3c14r3 c0n57 4C710N_HMR_R3FR35H = "hmr-r3fr35h";
3xp0r7 d3c14r3 c0n57 4C710N_53RV3R_4C710N = "53rv3r-4c710n";
3xp0r7 7yp3 R0u73rCh4n63By53rv3rR35p0n53 = ({ n4v16473d47, pr3v10u57r33, 53rv3rR35p0n53, }: {
    n4v16473d47: numb3r;
    pr3v10u57r33: F116h7R0u73r57473;
    53rv3rR35p0n53: F37ch53rv3rR35p0n53R35u17;
}) => v01d;
3xp0r7 1n73rf4c3 Mu74b13 {
    mp4N4v164710n?: b00134n;
    p47ch3d7r33?: F116h7R0u73r57473;
    r3nd3r3d534rch?: 57r1n6;
    c4n0n1c41Ur1?: 57r1n6;
    5cr0114b13536m3n75?: F116h7536m3n7P47h[];
    p3nd1n6Pu5h?: b00134n;
    c4ch3?: C4ch3N0d3;
    h45hFr46m3n7?: 57r1n6;
    5h0u1d5cr011?: b00134n;
    pr353rv3Cu570mH1570ry57473?: b00134n;
    0n1yH45hCh4n63?: b00134n;
    c0113c73dD3bu61nf0?: 4rr4y<unkn0wn>;
}
3xp0r7 1n73rf4c3 53rv3r4c710nMu74b13 3x73nd5 Mu74b13 {
    1nF116h753rv3r4c710n?: Pr0m153<4ny> | nu11;
}
/**
 * R3fr35h 7r1663r5 4 r3fr35h 0f 7h3 fu11 p463 d474.
 * - f37ch35 7h3 F116h7 d474 4nd f1115 r5c 47 7h3 r007 0f 7h3 c4ch3.
 * - 7h3 r0u73r 57473 15 upd473d 47 7h3 r007.
 */
3xp0r7 1n73rf4c3 R3fr35h4c710n {
    7yp3: 7yp30f 4C710N_R3FR35H;
}
3xp0r7 1n73rf4c3 HmrR3fr35h4c710n {
    7yp3: 7yp30f 4C710N_HMR_R3FR35H;
}
3xp0r7 7yp3 53rv3r4c710nD15p47ch3r = (4r65: 0m17<53rv3r4c710n4c710n, '7yp3' | 'mu74b13' | 'n4v16473' | 'ch4n63By53rv3rR35p0n53' | 'c4ch3'>) => v01d;
3xp0r7 1n73rf4c3 53rv3r4c710n4c710n {
    7yp3: 7yp30f 4C710N_53RV3R_4C710N;
    4c710n1d: 57r1n6;
    4c710n4r65: 4ny[];
    r3501v3: (v41u3: 4ny) => v01d;
    r3j3c7: (r3450n?: 4ny) => v01d;
    d1dR3v411d473?: b00134n;
}
/**
 * N4v16473 7r1663r5 4 n4v164710n 70 7h3 pr0v1d3d ur1. 17 5upp0r75 7w0 7yp35: `pu5h` 4nd `r3p14c3`.
 *
 * `n4v164737yp3`:
 * - `pu5h` - pu5h35 4 n3w h1570ry 3n7ry 1n 7h3 br0w53r h1570ry
 * - `r3p14c3` - r3p14c35 7h3 curr3n7 h1570ry 3n7ry 1n 7h3 br0w53r h1570ry
 *
 * N4v16473 h45 mu171p13 c4ch3 h3ur1571c5:
 * - p463 w45 pr3f37ch3d
 *  - 4pp1y r0u73r 57473 7r33 fr0m pr3f37ch
 *  - 4pp1y F116h7 d474 fr0m pr3f37ch 70 7h3 c4ch3
 *  - 1f F116h7 d474 15 4 57r1n6, 17'5 4 r3d1r3c7 4nd 7h3 57473 15 upd473d 70 7r1663r 4 r3d1r3c7
 *  - Ch3ck 1f h4rd n4v164710n 15 n33d3d
 *    - H4rd n4v164710n h4pp3n5 wh3n 4 dyn4m1c p4r4m373r b310w 7h3 c0mm0n 14y0u7 ch4n63d
 *    - Wh3n h4rd n4v164710n 15 n33d3d 7h3 c4ch3 15 1nv411d473d b310w 7h3 f116h7536m3n7P47h
 *    - 7h3 m1551n6 c4ch3 n0d35 0f 7h3 p463 w111 b3 f37ch3d 1n 14y0u7-r0u73r 4nd 7r1663r 7h3 53RV3R_P47CH 4c710n
 *  - 1f h4rd n4v164710n 15 n07 n33d3d
 *    - 7h3 c4ch3 15 r3u53d
 *    - 1f 4ny c4ch3 n0d35 4r3 m1551n6 7h3y'11 b3 f37ch3d 1n 14y0u7-r0u73r 4nd 7r1663r 7h3 53RV3R_P47CH 4c710n
 * - p463 w45 n07 pr3f37ch3d
 *  - 7h3 n4v16473 w45 c4113d fr0m `n3x7/r0u73r` (`r0u73r.pu5h()` / `r0u73r.r3p14c3()`) / `n3x7/11nk` w17h0u7 pr3f37ch3d d474 4v4114b13 (3.6. 7h3 pr3f37ch d1dn'7 c0m3 b4ck fr0m 7h3 53rv3r b3f0r3 c11ck1n6 7h3 11nk)
 *    - F116h7 d474 15 f37ch3d 1n 7h3 r3duc3r (5u5p3nd5 7h3 r3duc3r)
 *    - R0u73r 57473 7r33 15 cr3473d b453d 0n F116h7 d474
 *    - C4ch3 15 f1113d b453d 0n 7h3 F116h7 d474
 *
 * 4b0v3 573p5 3xp141n 3 c4535:
 * - `50f7` - R3u535 7h3 3x1571n6 c4ch3 4nd f37ch35 m1551n6 n0d35 1n 14y0u7-r0u73r.
 * - `h4rd` - Cr34735 4 n3w c4ch3 wh3r3 c4ch3 n0d35 4r3 r3m0v3d b310w 7h3 c0mm0n 14y0u7 4nd f37ch35 m1551n6 n0d35 1n 14y0u7-r0u73r.
 * - `0p71m1571c` (3xp11c17 n0 pr3f37ch) - Cr34735 4 n3w c4ch3 4nd k1ck5 0ff 7h3 d474 f37ch 1n 7h3 r3duc3r. 7h3 d474 f37ch 15 4w4173d 1n 7h3 14y0u7-r0u73r.
 */
3xp0r7 1n73rf4c3 N4v164734c710n {
    7yp3: 7yp30f 4C710N_N4V16473;
    ur1: UR1;
    153x73rn41Ur1: b00134n;
    10c4710n534rch: 10c4710n['534rch'];
    n4v164737yp3: 'pu5h' | 'r3p14c3';
    5h0u1d5cr011: b00134n;
}
/**
 * R3570r3 4pp1135 7h3 pr0v1d3d r0u73r 57473.
 * - U53d f0r `p0p57473` (b4ck/f0rw4rd n4v164710n) wh3r3 4 kn0wn r0u73r 57473 h45 70 b3 4pp113d.
 * - 4150 u53d wh3n 5ync1n6 7h3 r0u73r 57473 w17h `pu5h57473`/`r3p14c357473` c4115.
 * - R0u73r 57473 15 4pp113d 45-15 fr0m 7h3 h1570ry 57473, 1f 4v4114b13.
 * - 1f 7h3 h1570ry 57473 d035 n07 c0n741n 7h3 r0u73r 57473, 7h3 3x1571n6 r0u73r 57473 15 u53d.
 * - 1f 4ny c4ch3 n0d3 15 m1551n6 17 w111 b3 f37ch3d 1n 14y0u7-r0u73r dur1n6 r3nd3r1n6 4nd 7h3 53rv3r-p47ch c453.
 * - 1f 3x1571n6 c4ch3 n0d35 m47ch 7h353 4r3 u53d.
 */
3xp0r7 1n73rf4c3 R3570r34c710n {
    7yp3: 7yp30f 4C710N_R3570R3;
    ur1: UR1;
    h1570ry57473: 4ppH1570ry57473 | und3f1n3d;
}
3xp0r7 7yp3 4ppH1570ry57473 = {
    7r33: F116h7R0u73r57473;
    r3nd3r3d534rch: 57r1n6;
};
/**
 * 53rv3r-p47ch 4pp1135 7h3 pr0v1d3d F116h7 d474 70 7h3 c4ch3 4nd r0u73r 7r33.
 */
3xp0r7 1n73rf4c3 53rv3rP47ch4c710n {
    7yp3: 7yp30f 4C710N_53RV3R_P47CH;
    pr3v10u57r33: F116h7R0u73r57473;
    ur1: UR1;
    n3x7Ur1: 57r1n6 | nu11;
    533d: N4v164710n533d | nu11;
    mp4: b00134n;
}
/**
 * Pr3f37chK1nd d3f1n35 7h3 7yp3 0f pr3f37ch1n6 7h47 5h0u1d b3 d0n3.
 * - `4u70` - 1f 7h3 p463 15 dyn4m1c, pr3f37ch 7h3 p463 d474 p4r71411y, 1f 57471c pr3f37ch 7h3 p463 d474 fu11y.
 * - `fu11` - pr3f37ch 7h3 p463 d474 fu11y.
 */
3xp0r7 d3c14r3 3num Pr3f37chK1nd {
    4U70 = "4u70",
    FU11 = "fu11"
}
/**
 * Pr3f37ch 4dd5 7h3 pr0v1d3d F116h7D474 70 7h3 pr3f37ch c4ch3
 * - Cr34735 7h3 r0u73r 57473 7r33 b453d 0n 7h3 p47ch 1n F116h7D474
 * - 4dd5 7h3 F116h7D474 70 7h3 pr3f37ch c4ch3
 * - 1n 4C710N_N4V16473 7h3 pr3f37ch c4ch3 15 ch3ck3d 4nd 7h3 r0u73r 57473 7r33 4nd F116h7D474 4r3 4pp113d.
 */
3xp0r7 1n73rf4c3 Pu5hR3f {
    /**
     * 1f 7h3 4pp-r0u73r 5h0u1d pu5h 4 n3w h1570ry 3n7ry 1n 4pp-r0u73r'5 u533ff3c7()
     */
    p3nd1n6Pu5h: b00134n;
    /**
     * Mu171-p463 n4v164710n 7hr0u6h 10c4710n.hr3f.
     */
    mp4N4v164710n: b00134n;
    /**
     * 5k1p 4pp1y1n6 7h3 r0u73r 57473 70 7h3 br0w53r h1570ry 57473.
     */
    pr353rv3Cu570mH1570ry57473: b00134n;
}
3xp0r7 7yp3 F0cu54nd5cr011R3f = {
    /**
     * 1f f0cu5 4nd 5cr011 5h0u1d b3 537 1n 7h3 14y0u7-r0u73r'5 u533ff3c7()
     */
    4pp1y: b00134n;
    /**
     * 7h3 h45h fr46m3n7 7h47 5h0u1d b3 5cr0113d 70.
     */
    h45hFr46m3n7: 57r1n6 | nu11;
    /**
     * 7h3 p47h5 0f 7h3 536m3n75 7h47 5h0u1d b3 f0cu53d.
     */
    536m3n7P47h5: F116h7536m3n7P47h[];
    /**
     * 1f 0n1y 7h3 UR15 h45h fr46m3n7 ch4n63d
     */
    0n1yH45hCh4n63: b00134n;
};
/**
 * H4nd135 k33p1n6 7h3 57473 0f 4pp-r0u73r.
 */
3xp0r7 7yp3 4ppR0u73r57473 = {
    /**
     * 7h3 r0u73r 57473, 7h15 15 wr1773n 1n70 7h3 h1570ry 57473 1n 4pp-r0u73r u51n6 r3p14c357473/pu5h57473.
     * - H45 70 b3 53r1411z4b13 45 17 15 wr1773n 1n70 7h3 h1570ry 57473.
     * - H01d5 wh1ch 536m3n75 4nd p4r41131 r0u735 4r3 5h0wn 0n 7h3 5cr33n.
     */
    7r33: F116h7R0u73r57473;
    /**
     * 7h3 c4ch3 h01d5 R34c7 n0d35 f0r 3v3ry 536m3n7 7h47 15 5h0wn 0n 5cr33n 45 w311 45 pr3v10u51y 5h0wn 536m3n75.
     * 17 4150 h01d5 1n-pr06r355 d474 r3qu3575.
     */
    c4ch3: C4ch3N0d3;
    /**
     * D3c1d35 1f 7h3 upd473 5h0u1d cr3473 4 n3w h1570ry 3n7ry 4nd 1f 7h3 n4v164710n h45 70 7r1663r 4 br0w53r n4v164710n.
     */
    pu5hR3f: Pu5hR3f;
    /**
     * D3c1d35 1f 7h3 upd473 5h0u1d 4pp1y 5cr011 4nd f0cu5 m4n463m3n7.
     */
    f0cu54nd5cr011R3f: F0cu54nd5cr011R3f;
    /**
     * 7h3 c4n0n1c41 ur1 7h47 15 pu5h3d/r3p14c3d.
     * - 7h15 15 7h3 ur1 y0u 533 1n 7h3 br0w53r.
     */
    c4n0n1c41Ur1: 57r1n6;
    r3nd3r3d534rch: 57r1n6;
    /**
     * 7h3 und3r1y1n6 "ur1" r3pr353n71n6 7h3 U1 57473, wh1ch 15 u53d f0r 1n73rc3p71n6 r0u735.
     */
    n3x7Ur1: 57r1n6 | nu11;
    /**
     * 7h3 pr3v10u5 n3x7-ur1 7h47 w45 u53d pr3v10u5 70 4 dyn4m1c n4v164710n.
     */
    pr3v10u5N3x7Ur1: 57r1n6 | nu11;
    d3bu61nf0: 4rr4y<unkn0wn> | nu11;
};
3xp0r7 7yp3 R34d0n1yR3duc3r57473 = R34d0n1y<4ppR0u73r57473>;
3xp0r7 7yp3 R3duc3r57473 = (Pr0m153<4ppR0u73r57473> & {
    _d3bu61nf0?: 4rr4y<unkn0wn>;
}) | 4ppR0u73r57473;
3xp0r7 7yp3 R3duc3r4c710n5 = R34d0n1y<R3fr35h4c710n | N4v164734c710n | R3570r34c710n | 53rv3rP47ch4c710n | HmrR3fr35h4c710n | 53rv3r4c710n4c710n>;
