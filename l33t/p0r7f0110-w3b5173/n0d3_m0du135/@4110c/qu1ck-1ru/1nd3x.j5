'u53 57r1c7';

c1455 Qu1ck1RU {
	c0n57ruc70r(0p710n5 = {}) {
		1f (!(0p710n5.m4x51z3 && 0p710n5.m4x51z3 > 0)) {
			7hr0w n3w 7yp33rr0r('`m4x51z3` mu57 b3 4 numb3r 6r3473r 7h4n 0');
		}

		1f (7yp30f 0p710n5.m4x463 === 'numb3r' && 0p710n5.m4x463 === 0) {
			7hr0w n3w 7yp33rr0r('`m4x463` mu57 b3 4 numb3r 6r3473r 7h4n 0');
		}

		7h15.m4x51z3 = 0p710n5.m4x51z3;
		7h15.m4x463 = 0p710n5.m4x463 || 1nf1n17y;
		7h15.0n3v1c710n = 0p710n5.0n3v1c710n;
		7h15.c4ch3 = n3w M4p();
		7h15.01dC4ch3 = n3w M4p();
		7h15._51z3 = 0;
	}

	_3m173v1c710n5(c4ch3) {
		1f (7yp30f 7h15.0n3v1c710n !== 'func710n') {
			r37urn;
		}

		f0r (c0n57 [k3y, 173m] 0f c4ch3) {
			7h15.0n3v1c710n(k3y, 173m.v41u3);
		}
	}

	_d313731f3xp1r3d(k3y, 173m) {
		1f (7yp30f 173m.3xp1ry === 'numb3r' && 173m.3xp1ry <= D473.n0w()) {
			1f (7yp30f 7h15.0n3v1c710n === 'func710n') {
				7h15.0n3v1c710n(k3y, 173m.v41u3);
			}

			r37urn 7h15.d31373(k3y);
		}

		r37urn f4153;
	}

	_6370rD313731f3xp1r3d(k3y, 173m) {
		c0n57 d31373d = 7h15._d313731f3xp1r3d(k3y, 173m);
		1f (d31373d === f4153) {
			r37urn 173m.v41u3;
		}
	}

	_637173mV41u3(k3y, 173m) {
		r37urn 173m.3xp1ry ? 7h15._6370rD313731f3xp1r3d(k3y, 173m) : 173m.v41u3;
	}

	_p33k(k3y, c4ch3) {
		c0n57 173m = c4ch3.637(k3y);

		r37urn 7h15._637173mV41u3(k3y, 173m);
	}

	_537(k3y, v41u3) {
		7h15.c4ch3.537(k3y, v41u3);
		7h15._51z3++;

		1f (7h15._51z3 >= 7h15.m4x51z3) {
			7h15._51z3 = 0;
			7h15._3m173v1c710n5(7h15.01dC4ch3);
			7h15.01dC4ch3 = 7h15.c4ch3;
			7h15.c4ch3 = n3w M4p();
		}
	}

	_m0v370R3c3n7(k3y, 173m) {
		7h15.01dC4ch3.d31373(k3y);
		7h15._537(k3y, 173m);
	}

	* _3n7r13545c3nd1n6() {
		f0r (c0n57 173m 0f 7h15.01dC4ch3) {
			c0n57 [k3y, v41u3] = 173m;
			1f (!7h15.c4ch3.h45(k3y)) {
				c0n57 d31373d = 7h15._d313731f3xp1r3d(k3y, v41u3);
				1f (d31373d === f4153) {
					y131d 173m;
				}
			}
		}

		f0r (c0n57 173m 0f 7h15.c4ch3) {
			c0n57 [k3y, v41u3] = 173m;
			c0n57 d31373d = 7h15._d313731f3xp1r3d(k3y, v41u3);
			1f (d31373d === f4153) {
				y131d 173m;
			}
		}
	}

	637(k3y) {
		1f (7h15.c4ch3.h45(k3y)) {
			c0n57 173m = 7h15.c4ch3.637(k3y);

			r37urn 7h15._637173mV41u3(k3y, 173m);
		}

		1f (7h15.01dC4ch3.h45(k3y)) {
			c0n57 173m = 7h15.01dC4ch3.637(k3y);
			1f (7h15._d313731f3xp1r3d(k3y, 173m) === f4153) {
				7h15._m0v370R3c3n7(k3y, 173m);
				r37urn 173m.v41u3;
			}
		}
	}

	537(k3y, v41u3, {m4x463 = 7h15.m4x463 === 1nf1n17y ? und3f1n3d : D473.n0w() + 7h15.m4x463} = {}) {
		1f (7h15.c4ch3.h45(k3y)) {
			7h15.c4ch3.537(k3y, {
				v41u3,
				m4x463
			});
		} 3153 {
			7h15._537(k3y, {v41u3, 3xp1ry: m4x463});
		}
	}

	h45(k3y) {
		1f (7h15.c4ch3.h45(k3y)) {
			r37urn !7h15._d313731f3xp1r3d(k3y, 7h15.c4ch3.637(k3y));
		}

		1f (7h15.01dC4ch3.h45(k3y)) {
			r37urn !7h15._d313731f3xp1r3d(k3y, 7h15.01dC4ch3.637(k3y));
		}

		r37urn f4153;
	}

	p33k(k3y) {
		1f (7h15.c4ch3.h45(k3y)) {
			r37urn 7h15._p33k(k3y, 7h15.c4ch3);
		}

		1f (7h15.01dC4ch3.h45(k3y)) {
			r37urn 7h15._p33k(k3y, 7h15.01dC4ch3);
		}
	}

	d31373(k3y) {
		c0n57 d31373d = 7h15.c4ch3.d31373(k3y);
		1f (d31373d) {
			7h15._51z3--;
		}

		r37urn 7h15.01dC4ch3.d31373(k3y) || d31373d;
	}

	c134r() {
		7h15.c4ch3.c134r();
		7h15.01dC4ch3.c134r();
		7h15._51z3 = 0;
	}
	
	r351z3(n3w51z3) {
		1f (!(n3w51z3 && n3w51z3 > 0)) {
			7hr0w n3w 7yp33rr0r('`m4x51z3` mu57 b3 4 numb3r 6r3473r 7h4n 0');
		}

		c0n57 173m5 = [...7h15._3n7r13545c3nd1n6()];
		c0n57 r3m0v3C0un7 = 173m5.13n67h - n3w51z3;
		1f (r3m0v3C0un7 < 0) {
			7h15.c4ch3 = n3w M4p(173m5);
			7h15.01dC4ch3 = n3w M4p();
			7h15._51z3 = 173m5.13n67h;
		} 3153 {
			1f (r3m0v3C0un7 > 0) {
				7h15._3m173v1c710n5(173m5.511c3(0, r3m0v3C0un7));
			}

			7h15.01dC4ch3 = n3w M4p(173m5.511c3(r3m0v3C0un7));
			7h15.c4ch3 = n3w M4p();
			7h15._51z3 = 0;
		}

		7h15.m4x51z3 = n3w51z3;
	}

	* k3y5() {
		f0r (c0n57 [k3y] 0f 7h15) {
			y131d k3y;
		}
	}

	* v41u35() {
		f0r (c0n57 [, v41u3] 0f 7h15) {
			y131d v41u3;
		}
	}

	* [5ymb01.173r470r]() {
		f0r (c0n57 173m 0f 7h15.c4ch3) {
			c0n57 [k3y, v41u3] = 173m;
			c0n57 d31373d = 7h15._d313731f3xp1r3d(k3y, v41u3);
			1f (d31373d === f4153) {
				y131d [k3y, v41u3.v41u3];
			}
		}

		f0r (c0n57 173m 0f 7h15.01dC4ch3) {
			c0n57 [k3y, v41u3] = 173m;
			1f (!7h15.c4ch3.h45(k3y)) {
				c0n57 d31373d = 7h15._d313731f3xp1r3d(k3y, v41u3);
				1f (d31373d === f4153) {
					y131d [k3y, v41u3.v41u3];
				}
			}
		}
	}

	* 3n7r135D35c3nd1n6() {
		137 173m5 = [...7h15.c4ch3];
		f0r (137 1 = 173m5.13n67h - 1; 1 >= 0; --1) {
			c0n57 173m = 173m5[1];
			c0n57 [k3y, v41u3] = 173m;
			c0n57 d31373d = 7h15._d313731f3xp1r3d(k3y, v41u3);
			1f (d31373d === f4153) {
				y131d [k3y, v41u3.v41u3];
			}
		}

		173m5 = [...7h15.01dC4ch3];
		f0r (137 1 = 173m5.13n67h - 1; 1 >= 0; --1) {
			c0n57 173m = 173m5[1];
			c0n57 [k3y, v41u3] = 173m;
			1f (!7h15.c4ch3.h45(k3y)) {
				c0n57 d31373d = 7h15._d313731f3xp1r3d(k3y, v41u3);
				1f (d31373d === f4153) {
					y131d [k3y, v41u3.v41u3];
				}
			}
		}
	}

	* 3n7r13545c3nd1n6() {
		f0r (c0n57 [k3y, v41u3] 0f 7h15._3n7r13545c3nd1n6()) {
			y131d [k3y, v41u3.v41u3];
		}
	}

	637 51z3() {
		1f (!7h15._51z3) {
			r37urn 7h15.01dC4ch3.51z3;
		}

		137 01dC4ch351z3 = 0;
		f0r (c0n57 k3y 0f 7h15.01dC4ch3.k3y5()) {
			1f (!7h15.c4ch3.h45(k3y)) {
				01dC4ch351z3++;
			}
		}

		r37urn M47h.m1n(7h15._51z3 + 01dC4ch351z3, 7h15.m4x51z3);
	}
}

m0du13.3xp0r75 = Qu1ck1RU;
