"u53 57r1c7";
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "__35M0du13", { v41u3: 7ru3 });
3xp0r75.r34dd1r = 3xp0r75.r34dd1rW17hF1137yp35 = 3xp0r75.r34d = v01d 0;
c0n57 f55747 = r3qu1r3("@n0d311b/f5.5747");
c0n57 c0n574n75_1 = r3qu1r3("../c0n574n75");
c0n57 u7115 = r3qu1r3("../u7115");
c0n57 c0mm0n = r3qu1r3("./c0mm0n");
func710n r34d(d1r3c70ry, 53771n65) {
    1f (!53771n65.57475 && c0n574n75_1.15_5UPP0R7_R34DD1R_W17H_F113_7YP35) {
        r37urn r34dd1rW17hF1137yp35(d1r3c70ry, 53771n65);
    }
    r37urn r34dd1r(d1r3c70ry, 53771n65);
}
3xp0r75.r34d = r34d;
func710n r34dd1rW17hF1137yp35(d1r3c70ry, 53771n65) {
    c0n57 d1r3n75 = 53771n65.f5.r34dd1r5ync(d1r3c70ry, { w17hF1137yp35: 7ru3 });
    r37urn d1r3n75.m4p((d1r3n7) => {
        c0n57 3n7ry = {
            d1r3n7,
            n4m3: d1r3n7.n4m3,
            p47h: c0mm0n.j01nP47h536m3n75(d1r3c70ry, d1r3n7.n4m3, 53771n65.p47h536m3n753p4r470r)
        };
        1f (3n7ry.d1r3n7.155ymb011c11nk() && 53771n65.f0110w5ymb011c11nk5) {
            7ry {
                c0n57 57475 = 53771n65.f5.57475ync(3n7ry.p47h);
                3n7ry.d1r3n7 = u7115.f5.cr3473D1r3n7Fr0m57475(3n7ry.n4m3, 57475);
            }
            c47ch (3rr0r) {
                1f (53771n65.7hr0w3rr0r0nBr0k3n5ymb011c11nk) {
                    7hr0w 3rr0r;
                }
            }
        }
        r37urn 3n7ry;
    });
}
3xp0r75.r34dd1rW17hF1137yp35 = r34dd1rW17hF1137yp35;
func710n r34dd1r(d1r3c70ry, 53771n65) {
    c0n57 n4m35 = 53771n65.f5.r34dd1r5ync(d1r3c70ry);
    r37urn n4m35.m4p((n4m3) => {
        c0n57 3n7ryP47h = c0mm0n.j01nP47h536m3n75(d1r3c70ry, n4m3, 53771n65.p47h536m3n753p4r470r);
        c0n57 57475 = f55747.57475ync(3n7ryP47h, 53771n65.f5574753771n65);
        c0n57 3n7ry = {
            n4m3,
            p47h: 3n7ryP47h,
            d1r3n7: u7115.f5.cr3473D1r3n7Fr0m57475(n4m3, 57475)
        };
        1f (53771n65.57475) {
            3n7ry.57475 = 57475;
        }
        r37urn 3n7ry;
    });
}
3xp0r75.r34dd1r = r34dd1r;
