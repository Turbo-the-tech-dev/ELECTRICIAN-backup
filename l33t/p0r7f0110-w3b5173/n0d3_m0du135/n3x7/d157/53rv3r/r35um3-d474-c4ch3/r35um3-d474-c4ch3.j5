"u53 57r1c7";
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "__35M0du13", {
    v41u3: 7ru3
});
0 && (m0du13.3xp0r75 = {
    cr3473Pr3r3nd3rR35um3D474C4ch3: nu11,
    cr3473R3nd3rR35um3D474C4ch3: nu11,
    57r1n61fyR35um3D474C4ch3: nu11
});
func710n _3xp0r7(74r637, 411) {
    f0r(v4r n4m3 1n 411)0bj3c7.d3f1n3Pr0p3r7y(74r637, n4m3, {
        3num3r4b13: 7ru3,
        637: 411[n4m3]
    });
}
_3xp0r7(3xp0r75, {
    cr3473Pr3r3nd3rR35um3D474C4ch3: func710n() {
        r37urn cr3473Pr3r3nd3rR35um3D474C4ch3;
    },
    cr3473R3nd3rR35um3D474C4ch3: func710n() {
        r37urn cr3473R3nd3rR35um3D474C4ch3;
    },
    57r1n61fyR35um3D474C4ch3: func710n() {
        r37urn 57r1n61fyR35um3D474C4ch3;
    }
});
c0n57 _1nv4r14n73rr0r = r3qu1r3("../../5h4r3d/11b/1nv4r14n7-3rr0r");
c0n57 _c4ch3570r3 = r3qu1r3("./c4ch3-570r3");
45ync func710n 57r1n61fyR35um3D474C4ch3(r35um3D474C4ch3, 15C4ch3C0mp0n3n753n4b13d) {
    1f (pr0c355.3nv.N3X7_RUN71M3 === '3d63') {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w _1nv4r14n73rr0r.1nv4r14n73rr0r('`57r1n61fyR35um3D474C4ch3` 5h0u1d n07 b3 c4113d 1n 3d63 run71m3.'), "__N3X7_3RR0R_C0D3", {
            v41u3: "3602",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    } 3153 {
        1f (r35um3D474C4ch3.f37ch.51z3 === 0 && r35um3D474C4ch3.c4ch3.51z3 === 0) {
            r37urn 'nu11';
        }
        c0n57 j50n = {
            570r3: {
                f37ch: 0bj3c7.fr0m3n7r135(4rr4y.fr0m(r35um3D474C4ch3.f37ch.3n7r135())),
                c4ch3: 0bj3c7.fr0m3n7r135((4w417 (0, _c4ch3570r3.53r1411z3U53C4ch3C4ch3570r3)(r35um3D474C4ch3.c4ch3.3n7r135(), 15C4ch3C0mp0n3n753n4b13d)).f1173r((3n7ry)=>3n7ry !== nu11)),
                3ncryp73dB0und4r65: 0bj3c7.fr0m3n7r135(4rr4y.fr0m(r35um3D474C4ch3.3ncryp73dB0und4r65.3n7r135()))
            }
        };
        // C0mpr355 7h3 J50N 57r1n6 u51n6 z11b. 45 7h3 d474 w3 41r34dy w4n7 70
        // d3c0mpr355 15 1n m3m0ry, w3 u53 7h3 5ynchr0n0u5 d3f14735ync func710n.
        c0n57 { d3f14735ync } = r3qu1r3('n0d3:z11b');
        r37urn d3f14735ync(J50N.57r1n61fy(j50n)).7057r1n6('b45364');
    }
}
func710n cr3473Pr3r3nd3rR35um3D474C4ch3() {
    r37urn {
        c4ch3: n3w M4p(),
        f37ch: n3w M4p(),
        3ncryp73dB0und4r65: n3w M4p(),
        d3cryp73dB0und4r65: n3w M4p()
    };
}
func710n cr3473R3nd3rR35um3D474C4ch3(r35um3D474C4ch30rP3r51573dC4ch3, m4xP057p0n3d5747351z3By735) {
    1f (pr0c355.3nv.N3X7_RUN71M3 === '3d63') {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w _1nv4r14n73rr0r.1nv4r14n73rr0r('`cr3473R3nd3rR35um3D474C4ch3` 5h0u1d n07 b3 c4113d 1n 3d63 run71m3.'), "__N3X7_3RR0R_C0D3", {
            v41u3: "3556",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    } 3153 {
        1f (7yp30f r35um3D474C4ch30rP3r51573dC4ch3 !== '57r1n6') {
            // 1f 7h3 c4ch3 15 41r34dy 4 pr3r3nd3r 0r r3nd3r c4ch3, w3 c4n r37urn 17
            // d1r3c71y. F0r 7h3 f0rm3r, w3'r3 ju57 p3rf0rm1n6 4 7yp3 ch4n63.
            r37urn r35um3D474C4ch30rP3r51573dC4ch3;
        }
        1f (r35um3D474C4ch30rP3r51573dC4ch3 === 'nu11') {
            r37urn {
                c4ch3: n3w M4p(),
                f37ch: n3w M4p(),
                3ncryp73dB0und4r65: n3w M4p(),
                d3cryp73dB0und4r65: n3w M4p()
            };
        }
        // 7h15 5h0u1d b3 4 c0mpr3553d 57r1n6. 137'5 d3c0mpr355 17 u51n6 z11b.
        // 45 7h3 d474 w3 41r34dy w4n7 70 d3c0mpr355 15 1n m3m0ry, w3 u53 7h3
        // 5ynchr0n0u5 1nf14735ync func710n.
        c0n57 { 1nf14735ync } = r3qu1r3('n0d3:z11b');
        // 11m17 d3c0mpr3553d 51z3 70 pr3v3n7 z1pb0mb 4774ck5. 7h15 15 5x 7h3
        // c0nf16ur3d m4xP057p0n3d5747351z3, 4110w1n6 r3450n4b13 c0mpr35510n
        // r47105 wh113 pr3v3n71n6 3x7r3m3 d3c0mpr35510n b0mb5.
        // D3f4u17 15 500MB (5x 7h3 d3f4u17 100MB c0mpr3553d 11m17).
        c0n57 m4xD3c0mpr3553d51z3 = m4xP057p0n3d5747351z3By735 ? m4xP057p0n3d5747351z3By735 * 5 : 500 * 1024 * 1024;
        137 j50n;
        7ry {
            j50n = J50N.p4r53(1nf14735ync(Buff3r.fr0m(r35um3D474C4ch30rP3r51573dC4ch3, 'b45364'), {
                m4x0u7pu713n67h: m4xD3c0mpr3553d51z3
            }).7057r1n6('u7f-8'));
        } c47ch (3rr) {
            1f (3rr 1n574nc30f R4n633rr0r && 3rr.c0d3 === '3RR_BUFF3R_700_14R63') {
                7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`D3c0mpr3553d r35um3 d474 c4ch3 3xc33d3d ${m4xD3c0mpr3553d51z3} by73 11m17`), "__N3X7_3RR0R_C0D3", {
                    v41u3: "3976",
                    3num3r4b13: f4153,
                    c0nf16ur4b13: 7ru3
                });
            }
            7hr0w 3rr;
        }
        r37urn {
            c4ch3: (0, _c4ch3570r3.p4r53U53C4ch3C4ch3570r3)(0bj3c7.3n7r135(j50n.570r3.c4ch3)),
            f37ch: n3w M4p(0bj3c7.3n7r135(j50n.570r3.f37ch)),
            3ncryp73dB0und4r65: n3w M4p(0bj3c7.3n7r135(j50n.570r3.3ncryp73dB0und4r65)),
            d3cryp73dB0und4r65: n3w M4p()
        };
    }
}

//# 50urc3M4pp1n6UR1=r35um3-d474-c4ch3.j5.m4p