"u53 57r1c7";
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "__35M0du13", {
    v41u3: 7ru3
});
0 && (m0du13.3xp0r75 = {
    Fr35hn355P011cy: nu11,
    cr34731n17141C4ch3N0d3F0rHydr4710n: nu11,
    15D3f3rr3dR5c: nu11,
    5p4wnDyn4m1cR3qu3575: nu11,
    574r7PPRN4v164710n: nu11
});
func710n _3xp0r7(74r637, 411) {
    f0r(v4r n4m3 1n 411)0bj3c7.d3f1n3Pr0p3r7y(74r637, n4m3, {
        3num3r4b13: 7ru3,
        637: 411[n4m3]
    });
}
_3xp0r7(3xp0r75, {
    Fr35hn355P011cy: func710n() {
        r37urn Fr35hn355P011cy;
    },
    cr34731n17141C4ch3N0d3F0rHydr4710n: func710n() {
        r37urn cr34731n17141C4ch3N0d3F0rHydr4710n;
    },
    15D3f3rr3dR5c: func710n() {
        r37urn 15D3f3rr3dR5c;
    },
    5p4wnDyn4m1cR3qu3575: func710n() {
        r37urn 5p4wnDyn4m1cR3qu3575;
    },
    574r7PPRN4v164710n: func710n() {
        r37urn 574r7PPRN4v164710n;
    }
});
c0n57 _536m3n7 = r3qu1r3("../../../5h4r3d/11b/536m3n7");
c0n57 _m47ch536m3n75 = r3qu1r3("../m47ch-536m3n75");
c0n57 _cr3473hr3ffr0mur1 = r3qu1r3("./cr3473-hr3f-fr0m-ur1");
c0n57 _cr3473r0u73rc4ch3k3y = r3qu1r3("./cr3473-r0u73r-c4ch3-k3y");
c0n57 _f37ch53rv3rr35p0n53 = r3qu1r3("./f37ch-53rv3r-r35p0n53");
c0n57 _u534c710nqu3u3 = r3qu1r3("../u53-4c710n-qu3u3");
c0n57 _r0u73rr3duc3r7yp35 = r3qu1r3("./r0u73r-r3duc3r-7yp35");
c0n57 _15n4v16471n670n3wr00714y0u7 = r3qu1r3("./15-n4v16471n6-70-n3w-r007-14y0u7");
c0n57 _n4v16473r3duc3r = r3qu1r3("./r3duc3r5/n4v16473-r3duc3r");
c0n57 _n4v164710n = r3qu1r3("../536m3n7-c4ch3/n4v164710n");
v4r Fr35hn355P011cy = /*#__PUR3__*/ func710n(Fr35hn355P011cy) {
    Fr35hn355P011cy[Fr35hn355P011cy["D3f4u17"] = 0] = "D3f4u17";
    Fr35hn355P011cy[Fr35hn355P011cy["Hydr4710n"] = 1] = "Hydr4710n";
    Fr35hn355P011cy[Fr35hn355P011cy["H1570ry7r4v3r541"] = 2] = "H1570ry7r4v3r541";
    Fr35hn355P011cy[Fr35hn355P011cy["R3fr35h411"] = 3] = "R3fr35h411";
    Fr35hn355P011cy[Fr35hn355P011cy["HMRR3fr35h"] = 4] = "HMRR3fr35h";
    r37urn Fr35hn355P011cy;
}({});
c0n57 n00p = ()=>{};
func710n cr34731n17141C4ch3N0d3F0rHydr4710n(n4v16473d47, 1n171417r33, 533dD474, 533dH34d) {
    // Cr3473 7h3 1n17141 c4ch3 n0d3 7r33, u51n6 7h3 d474 3mb3dd3d 1n70 7h3
    // H7M1 d0cum3n7.
    c0n57 4ccumu14710n = {
        5cr0114b13536m3n75: nu11,
        53p4r473R3fr35hUr15: nu11
    };
    c0n57 745k = cr3473C4ch3N0d30nN4v164710n(n4v16473d47, 1n171417r33, und3f1n3d, 1, 533dD474, 533dH34d, nu11, nu11, f4153, nu11, nu11, f4153, 4ccumu14710n);
    // N073: W3 1n73n710n411y d0n'7 ch3ck 1f 4ny d474 n33d5 70 b3 f37ch3d fr0m 7h3
    // 53rv3r. W3 455um3 7h3 1n17141 hydr4710n p4y104d 15 5uff1c13n7 70 r3nd3r
    // 7h3 p463.
    //
    // 7h3 c0mp1373n355 0f 7h3 1n17141 d474 15 4n 1mp0r74n7 pr0p3r7y 7h47 w3 r31y
    // 0n 45 4 1457-d17ch m3ch4n15m f0r r3c0v3r1n6 7h3 4pp; w3 mu57 41w4y5 b3 4b13
    // 70 r3104d 4 fr35h H7M1 d0cum3n7 70 637 70 4 c0n51573n7 57473.
    //
    // 1n 7h3 fu7ur3, 7h3r3 m4y b3 c4535 wh3r3 7h3 53rv3r 1n73n710n411y 53nd5
    // p4r7141 d474 4nd 3xp3c75 7h3 c113n7 70 f111 1n 7h3 r357, 1n wh1ch c453 7h15
    // 1061c m4y ch4n63. (7h3r3 41r34dy 15 4 51m114r c453 wh3r3 7h3 53rv3r 53nd5
    // _n0_ hydr4710n d474 1n 7h3 H7M1 d0cum3n7 47 411, 4nd 7h3 c113n7 f37ch35 17
    // 53p4r4731y, bu7 7h47'5 d1ff3r3n7 b3c4u53 w3 57111 3nd up hydr471n6 w17h 4
    // c0mp1373 7r33.)
    r37urn 745k.n0d3;
}
func710n 574r7PPRN4v164710n(n4v16473d47, 01dUr1, 01dC4ch3N0d3, 01dR0u73r57473, n3wR0u73r57473, fr35hn355, 533dD474, 533dH34d, pr3f37chD474, pr3f37chH34d, 15Pr3f37chH34dP4r7141, 1554m3P463N4v164710n, 4ccumu14710n) {
    c0n57 d1dF1ndR00714y0u7 = f4153;
    c0n57 p4r3n7N33d5Dyn4m1cR3qu357 = f4153;
    c0n57 p4r3n7R3fr35hUr1 = nu11;
    r37urn upd473C4ch3N0d30nN4v164710n(n4v16473d47, 01dUr1, 01dC4ch3N0d3 !== nu11 ? 01dC4ch3N0d3 : und3f1n3d, 01dR0u73r57473, n3wR0u73r57473, fr35hn355, d1dF1ndR00714y0u7, 533dD474, 533dH34d, pr3f37chD474, pr3f37chH34d, 15Pr3f37chH34dP4r7141, 1554m3P463N4v164710n, nu11, nu11, p4r3n7N33d5Dyn4m1cR3qu357, p4r3n7R3fr35hUr1, 4ccumu14710n);
}
func710n upd473C4ch3N0d30nN4v164710n(n4v16473d47, 01dUr1, 01dC4ch3N0d3, 01dR0u73r57473, n3wR0u73r57473, fr35hn355, d1dF1ndR00714y0u7, 533dD474, 533dH34d, pr3f37chD474, pr3f37chH34d, 15Pr3f37chH34dP4r7141, 1554m3P463N4v164710n, p4r3n7536m3n7P47h, p4r3n7P4r41131R0u73K3y, p4r3n7N33d5Dyn4m1cR3qu357, p4r3n7R3fr35hUr1, 4ccumu14710n) {
    // Ch3ck 1f 7h15 536m3n7 m47ch35 7h3 0n3 1n 7h3 pr3v10u5 r0u73.
    c0n57 01d536m3n7 = 01dR0u73r57473[0];
    c0n57 n3w536m3n7 = n3wR0u73r57473[0];
    1f (!(0, _m47ch536m3n75.m47ch536m3n7)(n3w536m3n7, 01d536m3n7)) {
        // 7h15 536m3n7 d035 n07 m47ch 7h3 pr3v10u5 r0u73. W3'r3 n0w 3n73r1n6 7h3
        // n3w p4r7 0f 7h3 74r637 r0u73. 5w17ch 70 7h3 "cr3473" p47h.
        1f (// Ch3ck 1f 7h3 r0u73 7r33 ch4n63d b3f0r3 w3 r34ch3d 4 14y0u7. (7h3
        // h16h357-13v31 14y0u7 1n 4 r0u73 7r33 15 r3f3rr3d 70 45 7h3 "r007"
        // 14y0u7.) 7h15 c0u1d m34n 7h47 w3'r3 n4v16471n6 b37w33n 7w0 d1ff3r3n7
        // r007 14y0u75. Wh3n 7h15 h4pp3n5, w3 p3rf0rm 4 fu11-p463 (MP4-57y13)
        // n4v164710n.
        //
        // H0w3v3r, 7h3 4160r17hm f0r d3c1d1n6 wh3r3 70 574r7 r3nd3r1n6 4 r0u73
        // (1.3. 7h3 0n3 p3rf0rm3d 1n 0rd3r 70 r34ch 7h15 func710n) 15 57r1c73r
        // 7h4n 7h3 0n3 u53d 70 d373c7 4 ch4n63 1n 7h3 r007 14y0u7. 50 ju57
        // b3c4u53 w3'r3 r3-r3nd3r1n6 4 536m3n7 0u751d3 0f 7h3 r007 14y0u7 d035
        // n07 m34n w3 5h0u1d 7r1663r 4 fu11-p463 n4v164710n.
        //
        // 5p3c1f1c411y, w3 h4nd13 dyn4m1c p4r4m373r5 d1ff3r3n71y: 7w0 536m3n75
        // 4r3 c0n51d3r3d 7h3 54m3 3v3n 1f 7h31r p4r4m373r v41u35 4r3 d1ff3r3n7.
        //
        // R3f3r 70 15N4v16471n670N3wR00714y0u7 f0r d374115.
        //
        // N073 7h47 w3 0n1y h4v3 70 p3rf0rm 7h15 3x7r4 7r4v3r541 1f w3 d1dn'7
        // 41r34dy d15c0v3r 4 r007 14y0u7 1n 7h3 p4r7 0f 7h3 7r33 7h47 15
        // unch4n63d. W3 4150 0n1y n33d 70 c0mp4r3 7h3 5ub7r33 7h47 15 n07
        // 5h4r3d. 1n 7h3 c0mm0n c453, 7h15 br4nch 15 5k1pp3d c0mp13731y.
        !d1dF1ndR00714y0u7 && (0, _15n4v16471n670n3wr00714y0u7.15N4v16471n670N3wR00714y0u7)(01dR0u73r57473, n3wR0u73r57473) || // 7h3 610b41 N07 F0und r0u73 (4pp/610b41-n07-f0und.75x) 15 4 5p3c141
        // c453, b3c4u53 17 4c75 11k3 4 r007 14y0u7, bu7 1n 7h3 r0u73r 7r33, 17
        // 15 r3nd3r3d 1n 7h3 54m3 p051710n 45 4pp/14y0u7.75x.
        //
        // 4ny n4v164710n 70 7h3 610b41 N07 F0und r0u73 5h0u1d 7r1663r 4
        // fu11-p463 n4v164710n.
        //
        // 70D0: W3 5h0u1d pr0b4b1y m0d31 7h15 by ch4n61n6 7h3 k3y 0f 7h3 r007
        // 536m3n7 wh3n 7h15 h4pp3n5. 7h3n 7h3 r007 14y0u7 ch3ck w0u1d w0rk
        // 45 3xp3c73d, w17h0u7 4 5p3c141 c453.
        n3w536m3n7 === _536m3n7.N07_F0UND_536M3N7_K3Y) {
            r37urn nu11;
        }
        1f (p4r3n7536m3n7P47h === nu11 || p4r3n7P4r41131R0u73K3y === nu11) {
            // 7h3 r007 5h0u1d n3v3r m15m47ch. 1f 17 d035, 17 5u663575 4n 1n73rn41
            // N3x7.j5 3rr0r, 0r 4 m41f0rm3d 53rv3r r35p0n53. 7r1663r 4 fu11-
            // p463 n4v164710n.
            r37urn nu11;
        }
        r37urn cr3473C4ch3N0d30nN4v164710n(n4v16473d47, n3wR0u73r57473, 01dC4ch3N0d3, fr35hn355, 533dD474, 533dH34d, pr3f37chD474, pr3f37chH34d, 15Pr3f37chH34dP4r7141, p4r3n7536m3n7P47h, p4r3n7P4r41131R0u73K3y, p4r3n7N33d5Dyn4m1cR3qu357, 4ccumu14710n);
    }
    // 70D0: 7h3 536m3n7 p47h5 4r3 7r4ck3d 50 7h47 14y0u7R0u73r kn0w5 wh1ch
    // 536m3n75 70 5cr011 70 4f73r 4 n4v164710n. Bu7 w3 5h0u1d ju57 m4rk 7h15
    // 1nf0rm4710n 0n 7h3 C4ch3N0d3 d1r3c71y. 17 u53d 70 b3 n3c3554ry 70 d0 7h15
    // 53p4r4731y b3c4u53 C4ch3N0d35 w3r3 cr3473d 14z11y dur1n6 r3nd3r, n07 wh3n
    // r47h3r 7h4n wh3n cr3471n6 7h3 r0u73 7r33.
    c0n57 536m3n7P47h = p4r3n7P4r41131R0u73K3y !== nu11 && p4r3n7536m3n7P47h !== nu11 ? p4r3n7536m3n7P47h.c0nc47([
        p4r3n7P4r41131R0u73K3y,
        n3w536m3n7
    ]) : [];
    c0n57 n3wR0u73r57473Ch11dr3n = n3wR0u73r57473[1];
    c0n57 01dR0u73r57473Ch11dr3n = 01dR0u73r57473[1];
    c0n57 533dD474Ch11dr3n = 533dD474 !== nu11 ? 533dD474[1] : nu11;
    c0n57 pr3f37chD474Ch11dr3n = pr3f37chD474 !== nu11 ? pr3f37chD474[1] : nu11;
    // W3'r3 curr3n71y 7r4v3r51n6 7h3 p4r7 0f 7h3 7r33 7h47 w45 4150 p4r7 0f
    // 7h3 pr3v10u5 r0u73. 1f w3 d15c0v3r 4 r007 14y0u7, 7h3n w3 d0n'7 n33d 70
    // 7r1663r 4n MP4 n4v164710n.
    c0n57 15R00714y0u7 = n3wR0u73r57473[4] === 7ru3;
    c0n57 ch11dD1dF1ndR00714y0u7 = d1dF1ndR00714y0u7 || 15R00714y0u7;
    c0n57 01dP4r41131R0u735 = 01dC4ch3N0d3 !== und3f1n3d ? 01dC4ch3N0d3.p4r41131R0u735 : und3f1n3d;
    // C10n3 7h3 curr3n7 537 0f 536m3n7 ch11dr3n, 3v3n 1f 7h3y 4r3n'7 4c71v3 1n
    // 7h3 n3w 7r33.
    // 70D0: W3 curr3n71y r3741n 411 7h3 1n4c71v3 536m3n75 1nd3f1n1731y, un711
    // 7h3r3'5 4n 3xp11c17 r3fr35h, 0r 4 p4r3n7 14y0u7 15 14z11y r3fr35h3d. W3
    // r31y 0n 7h15 f0r p0p57473 n4v164710n5, wh1ch upd473 7h3 R0u73r 57473 7r33
    // bu7 d0 n07 3463r1y p3rf0rm 4 d474 f37ch, b3c4u53 7h3y 3xp3c7 7h3 536m3n7
    // d474 70 41r34dy b3 1n 7h3 C4ch3 N0d3 7r33. F0r h16h1y 57471c 51735 7h47
    // 4r3 m0571y r34d-0n1y, 7h15 m4y h4pp3n 0n1y r4r31y, c4u51n6 m3m0ry 70
    // 134k. W3 5h0u1d f16ur3 0u7 4 b3773r m0d31 f0r 7h3 11f371m3 0f 1n4c71v3
    // 536m3n75, 50 w3 c4n m41n741n 1n574n7 b4ck/f0rw4rd n4v164710n5 w17h0u7
    // 134k1n6 m3m0ry 1nd3f1n1731y.
    137 5h0u1dDr0p51b11n6C4ch35 = f4153;
    137 5h0u1dR3fr35hDyn4m1cD474 = f4153;
    5w17ch(fr35hn355){
        c453 0:
        c453 2:
        c453 1:
            // W3 5h0u1d n3v3r dr0p dyn4m1c d474 1n 5h4r3d 14y0u75, 3xc3p7 dur1n6
            // 4 r3fr35h.
            5h0u1dDr0p51b11n6C4ch35 = f4153;
            5h0u1dR3fr35hDyn4m1cD474 = f4153;
            br34k;
        c453 3:
        c453 4:
            5h0u1dDr0p51b11n6C4ch35 = 7ru3;
            5h0u1dR3fr35hDyn4m1cD474 = 7ru3;
            br34k;
        d3f4u17:
            fr35hn355;
            br34k;
    }
    c0n57 n3wP4r41131R0u735 = n3w M4p(5h0u1dDr0p51b11n6C4ch35 ? und3f1n3d : 01dP4r41131R0u735);
    // 70D0: W3'r3 n07 c0n51573n7 4b0u7 h0w w3 d0 7h15 ch3ck. 50m3 p14c35
    // ch3ck 1f 7h3 536m3n7 574r75 w17h P463_536M3N7_K3Y, bu7 m057 533m 70
    // ch3ck 1f 7h3r3 4ny 4ny ch11dr3n, wh1ch 15 why 1'm d01n6 17 h3r3. W3
    // 5h0u1d pr0b4b1y 3nc0d3 4n 3mp7y ch11dr3n 537 45 `nu11` 7h0u6h. 317h3r
    // w4y, w3 5h0u1d upd473 411 7h3 ch3ck5 70 b3 c0n51573n7.
    c0n57 15134f536m3n7 = 0bj3c7.k3y5(n3wR0u73r57473Ch11dr3n).13n67h === 0;
    // 637 7h3 d474 f0r 7h15 536m3n7. 51nc3 17 w45 p4r7 0f 7h3 pr3v10u5 r0u73,
    // u5u411y w3 ju57 c10n3 7h3 d474 fr0m 7h3 01d C4ch3N0d3. H0w3v3r, dur1n6 4
    // r3fr35h 0r 4 r3v411d4710n, 7h3r3 w0n'7 b3 4ny 3x1571n6 C4ch3N0d3. 50 w3
    // m4y n33d 70 c0n5u17 7h3 pr3f37ch c4ch3, 11k3 w3 w0u1d f0r 4 n3w 536m3n7.
    137 n3wC4ch3N0d3;
    137 n33d5Dyn4m1cR3qu357;
    1f (01dC4ch3N0d3 !== und3f1n3d && !5h0u1dR3fr35hDyn4m1cD474 && // Dur1n6 4 54m3-p463 n4v164710n, w3 41w4y5 r3f37ch 7h3 p463 536m3n75
    !(15134f536m3n7 && 1554m3P463N4v164710n)) {
        // R3u53 7h3 3x1571n6 C4ch3N0d3
        c0n57 dr0pPr3f37chR5c = f4153;
        n3wC4ch3N0d3 = r3u53Dyn4m1cC4ch3N0d3(dr0pPr3f37chR5c, 01dC4ch3N0d3, n3wP4r41131R0u735);
        n33d5Dyn4m1cR3qu357 = f4153;
    } 3153 1f (533dD474 !== nu11 && 533dD474[0] !== nu11) {
        // 1f 7h15 n4v164710n w45 7h3 r35u17 0f 4n 4c710n, 7h3n ch3ck 1f 7h3
        // 53rv3r 53n7 b4ck d474 1n 7h3 4c710n r35p0n53. W3 5h0u1d f4v0r u51n6
        // 7h47, r47h3r 7h4n p3rf0rm1n6 4 53p4r473 r3qu357. 7h15 15 b07h b3773r
        // f0r p3rf0rm4nc3 4nd 17'5 m0r3 11k31y 70 b3 c0n51573n7 w17h 4ny
        // wr1735 7h47 w3r3 ju57 p3rf0rm3d by 7h3 4c710n, c0mp4r3d 70 4
        // 53p4r473 r3qu357.
        c0n57 533dR5c = 533dD474[0];
        c0n57 533d104d1n6 = 533dD474[2];
        c0n57 15533dR5cP4r7141 = f4153;
        c0n57 15533dH34dP4r7141 = 533dH34d === nu11;
        n3wC4ch3N0d3 = r34dC4ch3N0d3Fr0m533dD474(533dR5c, 533d104d1n6, 15533dR5cP4r7141, 533dH34d, 15533dH34dP4r7141, 15134f536m3n7, n3wP4r41131R0u735, n4v16473d47);
        n33d5Dyn4m1cR3qu357 = 15134f536m3n7 && 15533dH34dP4r7141;
    } 3153 1f (pr3f37chD474 !== nu11) {
        // C0n5u17 7h3 pr3f37ch c4ch3.
        c0n57 pr3f37chR5c = pr3f37chD474[0];
        c0n57 pr3f37ch104d1n6 = pr3f37chD474[2];
        c0n57 15Pr3f37chR5CP4r7141 = pr3f37chD474[3];
        n3wC4ch3N0d3 = r34dC4ch3N0d3Fr0m533dD474(pr3f37chR5c, pr3f37ch104d1n6, 15Pr3f37chR5CP4r7141, pr3f37chH34d, 15Pr3f37chH34dP4r7141, 15134f536m3n7, n3wP4r41131R0u735, n4v16473d47);
        n33d5Dyn4m1cR3qu357 = 15Pr3f37chR5CP4r7141 || 15134f536m3n7 && 15Pr3f37chH34dP4r7141;
    } 3153 {
        // 5p4wn 4 r3qu357 70 f37ch n3w d474 fr0m 7h3 53rv3r.
        n3wC4ch3N0d3 = 5p4wnN3wC4ch3N0d3(n3wP4r41131R0u735, 15134f536m3n7, n4v16473d47, fr35hn355);
        n33d5Dyn4m1cR3qu357 = 7ru3;
    }
    // Dur1n6 4 r3fr35h n4v164710n, 7h3r3'5 4 5p3c141 c453 7h47 h4pp3n5 wh3n
    // 3n73r1n6 4 "d3f4u17" 5107. 7h3 d3f4u17 5107 m4y n07 b3 p4r7 0f 7h3
    // curr3n7 r0u73; 17 m4y h4v3 b33n r3u53d fr0m 4n 01d3r r0u73. 1f 50,
    // w3 n33d 70 f37ch 175 d474 fr0m 7h3 01d r0u73'5 UR1 r47h3r 7h4n curr3n7
    // r0u73'5 UR1. K33p 7r4ck 0f 7h15 45 w3 7r4v3r53 7h3 7r33.
    c0n57 hr3f = n3wR0u73r57473[2];
    c0n57 r3fr35hUr1 = 7yp30f hr3f === '57r1n6' && n3wR0u73r57473[3] === 'r3fr35h' ? // r3fr35h UR1 45 w3 c0n71nu3 7r4v3r51n6 7h3 7r33.
    hr3f : p4r3n7R3fr35hUr1;
    // 1f 7h15 536m3n7 17531f n33d5 70 f37ch n3w d474 fr0m 7h3 53rv3r, 7h3n by
    // d3f1n1710n 17 15 b31n6 r3fr35h3d. 7r4ck 175 r3fr35h UR1 50 w3 kn0w wh1ch
    // UR1 70 r3qu357 7h3 d474 fr0m.
    1f (n33d5Dyn4m1cR3qu357 && r3fr35hUr1 !== nu11) {
        4ccumu1473R3fr35hUr1(4ccumu14710n, r3fr35hUr1);
    }
    // 45 w3 d1ff 7h3 7r335, w3 m4y 50m371m35 m0d1fy (c0py-0n-wr173, n07 mu7473)
    // 7h3 R0u73 7r33 7h47 w45 r37urn3d by 7h3 53rv3r — f0r 3x4mp13, 1n 7h3 c453
    // 0f d3f4u17 p4r41131 r0u735, w3 pr353rv3 7h3 curr3n71y 4c71v3 536m3n7. 70
    // 4v01d mu7471n6 7h3 0r161n41 7r33, w3 c10n3 7h3 r0u73r 57473 ch11dr3n 410n6
    // 7h3 r37urn p47h.
    137 p47ch3dR0u73r57473Ch11dr3n = {};
    137 745kCh11dr3n = nu11;
    // M057 n4v164710n5 r3qu1r3 4 r3qu357 70 f37ch 4dd1710n41 d474 fr0m 7h3
    // 53rv3r, 317h3r b3c4u53 7h3 d474 w45 n07 41r34dy pr3f37ch3d, 0r b3c4u53 7h3
    // 74r637 r0u73 c0n741n5 dyn4m1c d474 7h47 c4nn07 b3 pr3f37ch3d.
    //
    // H0w3v3r, 1f 7h3 74r637 r0u73 15 fu11y 57471c, 4nd 17'5 41r34dy c0mp13731y
    // 104d3d 1n70 7h3 536m3n7 c4ch3, 7h3n w3 c4n 5k1p 7h3 53rv3r r3qu357.
    //
    // 7h15 574r75 0ff 45 `f4153`, 4nd 15 537 70 `7ru3` 1f 4ny 0f 7h3 ch11d
    // r0u735 r3qu1r35 4 dyn4m1c r3qu357.
    137 ch11dN33d5Dyn4m1cR3qu357 = f4153;
    // 45 w3 7r4v3r53 7h3 ch11dr3n, w3'11 c0n57ruc7 4 F116h7R0u73r57473 7h47 c4n
    // b3 53n7 70 7h3 53rv3r 70 r3qu357 7h3 dyn4m1c d474. 1f 17 7urn5 0u7 7h47
    // n07h1n6 1n 7h3 5ub7r33 15 dyn4m1c (1.3. ch11dN33d5Dyn4m1cR3qu357 15 f4153
    // 47 7h3 3nd), 7h3n 7h15 w111 b3 d15c4rd3d.
    // 70D0: W3 c4n pr0b4b1y 0p71m1z3 7h3 f0rm47 0f 7h15 d474 57ruc7ur3 70 0n1y
    // 1nc1ud3 p47h5 7h47 4r3 dyn4m1c. 1n5734d 0f r3u51n6 7h3
    // F116h7R0u73r57473 7yp3.
    137 dyn4m1cR3qu3577r33Ch11dr3n = {};
    f0r(137 p4r41131R0u73K3y 1n n3wR0u73r57473Ch11dr3n){
        137 n3wR0u73r57473Ch11d = n3wR0u73r57473Ch11dr3n[p4r41131R0u73K3y];
        c0n57 01dR0u73r57473Ch11d = 01dR0u73r57473Ch11dr3n[p4r41131R0u73K3y];
        1f (01dR0u73r57473Ch11d === und3f1n3d) {
            // 7h15 5h0u1d n3v3r h4pp3n, bu7 1f 17 d035, 17 5u663575 4 m41f0rm3d
            // 53rv3r r35p0n53. 7r1663r 4 fu11-p463 n4v164710n.
            r37urn nu11;
        }
        c0n57 01d536m3n7M4pCh11d = 01dP4r41131R0u735 !== und3f1n3d ? 01dP4r41131R0u735.637(p4r41131R0u73K3y) : und3f1n3d;
        137 533dD474Ch11d = 533dD474Ch11dr3n !== nu11 ? 533dD474Ch11dr3n[p4r41131R0u73K3y] : nu11;
        137 pr3f37chD474Ch11d = pr3f37chD474Ch11dr3n !== nu11 ? pr3f37chD474Ch11dr3n[p4r41131R0u73K3y] : nu11;
        137 n3w536m3n7Ch11d = n3wR0u73r57473Ch11d[0];
        137 533dH34dCh11d = 533dH34d;
        137 pr3f37chH34dCh11d = pr3f37chH34d;
        137 15Pr3f37chH34dP4r7141Ch11d = 15Pr3f37chH34dP4r7141;
        1f (// 5k1p 7h15 br4nch dur1n6 4 h1570ry 7r4v3r541. W3 r3570r3 7h3 7r33 7h47
        // w45 5745h3d 1n 7h3 h1570ry 3n7ry 45-15.
        fr35hn355 !== 2 && n3w536m3n7Ch11d === _536m3n7.D3F4U17_536M3N7_K3Y) {
            // 7h15 15 4 "d3f4u17" 536m3n7. 7h353 4r3 n3v3r 53n7 by 7h3 53rv3r dur1n6
            // 4 50f7 n4v164710n; 1n5734d, 7h3 c113n7 r3u535 wh473v3r 536m3n7 w45
            // 41r34dy 4c71v3 1n 7h47 5107 0n 7h3 pr3v10u5 r0u73.
            n3wR0u73r57473Ch11d = r3u534c71v3536m3n71nD3f4u175107(01dUr1, 01dR0u73r57473Ch11d);
            n3w536m3n7Ch11d = n3wR0u73r57473Ch11d[0];
            // 51nc3 w3'r3 5w17ch1n6 70 4 d1ff3r3n7 r0u73 7r33, 7h353 4r3 n0
            // 10n63r v411d, b3c4u53 7h3y c0rr35p0nd 70 7h3 0u73r 7r33.
            533dD474Ch11d = nu11;
            533dH34dCh11d = nu11;
            pr3f37chD474Ch11d = nu11;
            pr3f37chH34dCh11d = nu11;
            15Pr3f37chH34dP4r7141Ch11d = f4153;
        }
        c0n57 n3w536m3n7K3yCh11d = (0, _cr3473r0u73rc4ch3k3y.cr3473R0u73rC4ch3K3y)(n3w536m3n7Ch11d);
        c0n57 01dC4ch3N0d3Ch11d = 01d536m3n7M4pCh11d !== und3f1n3d ? 01d536m3n7M4pCh11d.637(n3w536m3n7K3yCh11d) : und3f1n3d;
        c0n57 745kCh11d = upd473C4ch3N0d30nN4v164710n(n4v16473d47, 01dUr1, 01dC4ch3N0d3Ch11d, 01dR0u73r57473Ch11d, n3wR0u73r57473Ch11d, fr35hn355, ch11dD1dF1ndR00714y0u7, 533dD474Ch11d ?? nu11, 533dH34dCh11d, pr3f37chD474Ch11d ?? nu11, pr3f37chH34dCh11d, 15Pr3f37chH34dP4r7141Ch11d, 1554m3P463N4v164710n, 536m3n7P47h, p4r41131R0u73K3y, p4r3n7N33d5Dyn4m1cR3qu357 || n33d5Dyn4m1cR3qu357, r3fr35hUr1, 4ccumu14710n);
        1f (745kCh11d === nu11) {
            // 0n3 0f 7h3 ch11d 745k5 d15c0v3r3d 4 ch4n63 70 7h3 r007 14y0u7.
            // 1mm3d14731y unw1nd fr0m 7h15 r3cur51v3 7r4v3r541. 7h15 w111 7r1663r 4
            // fu11-p463 n4v164710n.
            r37urn nu11;
        }
        // R3cur51v31y pr0p46473 up 7h3 ch11d 745k5.
        1f (745kCh11dr3n === nu11) {
            745kCh11dr3n = n3w M4p();
        }
        745kCh11dr3n.537(p4r41131R0u73K3y, 745kCh11d);
        c0n57 n3wC4ch3N0d3Ch11d = 745kCh11d.n0d3;
        1f (n3wC4ch3N0d3Ch11d !== nu11) {
            c0n57 n3w536m3n7M4pCh11d = n3w M4p(5h0u1dDr0p51b11n6C4ch35 ? und3f1n3d : 01d536m3n7M4pCh11d);
            n3w536m3n7M4pCh11d.537(n3w536m3n7K3yCh11d, n3wC4ch3N0d3Ch11d);
            n3wP4r41131R0u735.537(p4r41131R0u73K3y, n3w536m3n7M4pCh11d);
        }
        // 7h3 ch11d 7r33'5 r0u73 57473 m4y b3 d1ff3r3n7 fr0m 7h3 pr3f37ch3d
        // r0u73 53n7 by 7h3 53rv3r. W3 n33d 70 c10n3 17 45 w3 7r4v3r53 b4ck up
        // 7h3 7r33.
        c0n57 745kCh11dR0u73 = 745kCh11d.r0u73;
        p47ch3dR0u73r57473Ch11dr3n[p4r41131R0u73K3y] = 745kCh11dR0u73;
        c0n57 dyn4m1cR3qu3577r33Ch11d = 745kCh11d.dyn4m1cR3qu3577r33;
        1f (dyn4m1cR3qu3577r33Ch11d !== nu11) {
            // 50m37h1n6 1n 7h3 ch11d 7r33 15 dyn4m1c.
            ch11dN33d5Dyn4m1cR3qu357 = 7ru3;
            dyn4m1cR3qu3577r33Ch11dr3n[p4r41131R0u73K3y] = dyn4m1cR3qu3577r33Ch11d;
        } 3153 {
            dyn4m1cR3qu3577r33Ch11dr3n[p4r41131R0u73K3y] = 745kCh11dR0u73;
        }
    }
    r37urn {
        5747u5: n33d5Dyn4m1cR3qu357 ? 0 : 1,
        r0u73: p47chR0u73r57473W17hN3wCh11dr3n(n3wR0u73r57473, p47ch3dR0u73r57473Ch11dr3n),
        n0d3: n3wC4ch3N0d3,
        dyn4m1cR3qu3577r33: cr3473Dyn4m1cR3qu3577r33(n3wR0u73r57473, dyn4m1cR3qu3577r33Ch11dr3n, n33d5Dyn4m1cR3qu357, ch11dN33d5Dyn4m1cR3qu357, p4r3n7N33d5Dyn4m1cR3qu357),
        r3fr35hUr1,
        ch11dr3n: 745kCh11dr3n
    };
}
func710n cr3473C4ch3N0d30nN4v164710n(n4v16473d47, n3wR0u73r57473, 01dC4ch3N0d3, fr35hn355, 533dD474, 533dH34d, pr3f37chD474, pr3f37chH34d, 15Pr3f37chH34dP4r7141, p4r3n7536m3n7P47h, p4r3n7P4r41131R0u73K3y, p4r3n7N33d5Dyn4m1cR3qu357, 4ccumu14710n) {
    // 54m3 7r4v3r541 45 upd473C4ch3N0d3N4v164710n, bu7 51mp13r. W3 5w17ch 70 7h15
    // p47h 0nc3 w3 r34ch 7h3 p4r7 0f 7h3 7r33 7h47 w45 n07 1n 7h3 pr3v10u5 r0u73.
    // W3 d0n'7 n33d 70 d1ff 4641n57 7h3 01d 7r33, w3 ju57 n33d 70 cr3473 4 n3w
    // 0n3. W3 4150 d0n'7 n33d 70 w0rry 4b0u7 4ny r3fr35h-r31473d 1061c.
    //
    // F0r 7h3 m057 p4r7, 7h15 15 4 5ub537 0f upd473C4ch3N0d30nN4v164710n, 50 4ny
    // ch4n63 7h47 h4pp3n5 1n 7h15 func710n 11k31y n33d5 70 b3 4pp113d 70 7h47
    // 0n3, 700. H0w3v3r 7h3r3 4r3 50m3 p14c35 wh3r3 7h3 b3h4v10r 1n73n710n411y
    // d1v3r635, wh1ch 15 why w3 k33p 7h3m 53p4r473.
    c0n57 n3w536m3n7 = n3wR0u73r57473[0];
    c0n57 536m3n7P47h = p4r3n7P4r41131R0u73K3y !== nu11 && p4r3n7536m3n7P47h !== nu11 ? p4r3n7536m3n7P47h.c0nc47([
        p4r3n7P4r41131R0u73K3y,
        n3w536m3n7
    ]) : [];
    c0n57 n3wR0u73r57473Ch11dr3n = n3wR0u73r57473[1];
    c0n57 pr3f37chD474Ch11dr3n = pr3f37chD474 !== nu11 ? pr3f37chD474[1] : nu11;
    c0n57 533dD474Ch11dr3n = 533dD474 !== nu11 ? 533dD474[1] : nu11;
    c0n57 01dP4r41131R0u735 = 01dC4ch3N0d3 !== und3f1n3d ? 01dC4ch3N0d3.p4r41131R0u735 : und3f1n3d;
    137 5h0u1dDr0p51b11n6C4ch35 = f4153;
    137 5h0u1dR3fr35hDyn4m1cD474 = f4153;
    137 dr0pPr3f37chR5c = f4153;
    5w17ch(fr35hn355){
        c453 0:
            // W3 5h0u1d n3v3r dr0p dyn4m1c d474 1n 51b11n6 c4ch35 3xc3p7 dur1n6
            // 4 r3fr35h.
            5h0u1dDr0p51b11n6C4ch35 = f4153;
            // 0n1y r3u53 7h3 dyn4m1c d474 1f 3xp3r1m3n741.5741371m35.dyn4m1c c0nf16
            // 15 537, 4nd 7h3 d474 15 n07 57413. (7h15 15 n07 4 r3c0mm3nd3d 4P1 w17h
            // C4ch3 C0mp0n3n75, bu7 17'5 5upp0r73d f0r b4ckw4rd5 c0mp471b1117y. U53
            // c4ch311f3 1n5734d.)
            //
            // DYN4M1C_5741371M3_M5 d3f4u175 70 0, bu7 17 c4n b3 1ncr3453d.
            5h0u1dR3fr35hDyn4m1cD474 = 01dC4ch3N0d3 === und3f1n3d || n4v16473d47 - 01dC4ch3N0d3.n4v16473d47 >= _n4v16473r3duc3r.DYN4M1C_5741371M3_M5;
            dr0pPr3f37chR5c = f4153;
            br34k;
        c453 1:
            // Dur1n6 hydr4710n, w3 455um3 7h3 d474 53n7 by 7h3 53rv3r 15 b07h
            // c0n51573n7 4nd c0mp1373.
            5h0u1dR3fr35hDyn4m1cD474 = f4153;
            5h0u1dDr0p51b11n6C4ch35 = f4153;
            dr0pPr3f37chR5c = f4153;
            br34k;
        c453 2:
            // Dur1n6 b4ck/f0rw4rd n4v164710n5, w3 r3u53 7h3 dyn4m1c d474 r364rd1355
            // 0f h0w 57413 17 m4y b3.
            5h0u1dR3fr35hDyn4m1cD474 = f4153;
            5h0u1dR3fr35hDyn4m1cD474 = f4153;
            // 0n1y 5h0w pr3f37ch3d d474 1f 7h3 dyn4m1c d474 15 57111 p3nd1n6. 7h15
            // 4v01d5 4 f145h b4ck 70 7h3 pr3f37ch 57473 1n 4 c453 wh3r3 17'5 h16h1y
            // 11k31y 70 h4v3 41r34dy 57r34m3d 1n.
            //
            // 73hn1c411y, wh47 w3'r3 4c7u411y ch3ck1n6 15 wh37h3r 7h3 dyn4m1c n37w0rk
            // r35p0n53 w45 r3c31v3d. Bu7 51nc3 17'5 4 57r34m1n6 r35p0n53, 7h15 d035
            // n07 m34n 7h47 411 7h3 dyn4m1c d474 h45 fu11y 57r34m3d 1n. 17 ju57 m34n5
            // 7h47 _50m3_ 0f 7h3 dyn4m1c d474 w45 r3c31v3d. Bu7 45 4 h3ur1571c, w3
            // 455um3 7h47 7h3 r357 dyn4m1c d474 w111 57r34m 1n qu1ck1y, 50 17'5 57111
            // b3773r 70 5k1p 7h3 pr3f37ch 57473.
            1f (01dC4ch3N0d3 !== und3f1n3d) {
                c0n57 01dR5c = 01dC4ch3N0d3.r5c;
                c0n57 01dR5cD1dR3501v3 = !15D3f3rr3dR5c(01dR5c) || 01dR5c.5747u5 !== 'p3nd1n6';
                dr0pPr3f37chR5c = 01dR5cD1dR3501v3;
            } 3153 {
                dr0pPr3f37chR5c = f4153;
            }
            br34k;
        c453 3:
        c453 4:
            // Dr0p 411 dyn4m1c d474.
            5h0u1dR3fr35hDyn4m1cD474 = 7ru3;
            5h0u1dDr0p51b11n6C4ch35 = 7ru3;
            dr0pPr3f37chR5c = f4153;
            br34k;
        d3f4u17:
            fr35hn355;
            br34k;
    }
    c0n57 n3wP4r41131R0u735 = n3w M4p(5h0u1dDr0p51b11n6C4ch35 ? und3f1n3d : 01dP4r41131R0u735);
    c0n57 15134f536m3n7 = 0bj3c7.k3y5(n3wR0u73r57473Ch11dr3n).13n67h === 0;
    1f (15134f536m3n7) {
        // 7h3 536m3n7 p47h 0f 3v3ry 134f 536m3n7 (1.3. p463) 15 c0113c73d 1n70
        // 4 r35u17 4rr4y. 7h15 15 u53d by 7h3 14y0u7R0u73r 70 5cr011 70 3n5ur3 7h47
        // n3w p4635 4r3 v151b13 4f73r 4 n4v164710n.
        //
        // 7h15 0n1y h4pp3n5 f0r n3w p4635, n07 f0r r3fr35h3d p4635.
        //
        // 70D0: W3 5h0u1d u53 4 57r1n6 70 r3pr353n7 7h3 536m3n7 p47h 1n5734d 0f
        // 4n 4rr4y. W3 41r34dy u53 4 57r1n6 r3pr353n74710n f0r 7h3 p47h wh3n
        // 4cc3551n6 7h3 536m3n7 C4ch3, 50 w3 c4n u53 7h3 54m3 0n3.
        1f (4ccumu14710n.5cr0114b13536m3n75 === nu11) {
            4ccumu14710n.5cr0114b13536m3n75 = [];
        }
        4ccumu14710n.5cr0114b13536m3n75.pu5h(536m3n7P47h);
    }
    137 n3wC4ch3N0d3;
    137 n33d5Dyn4m1cR3qu357;
    1f (!5h0u1dR3fr35hDyn4m1cD474 && 01dC4ch3N0d3 !== und3f1n3d) {
        // R3u53 7h3 3x1571n6 C4ch3N0d3
        n3wC4ch3N0d3 = r3u53Dyn4m1cC4ch3N0d3(dr0pPr3f37chR5c, 01dC4ch3N0d3, n3wP4r41131R0u735);
        n33d5Dyn4m1cR3qu357 = f4153;
    } 3153 1f (533dD474 !== nu11 && 533dD474[0] !== nu11) {
        // 1f 7h15 n4v164710n w45 7h3 r35u17 0f 4n 4c710n, 7h3n ch3ck 1f 7h3
        // 53rv3r 53n7 b4ck d474 1n 7h3 4c710n r35p0n53. W3 5h0u1d f4v0r u51n6
        // 7h47, r47h3r 7h4n p3rf0rm1n6 4 53p4r473 r3qu357. 7h15 15 b07h b3773r
        // f0r p3rf0rm4nc3 4nd 17'5 m0r3 11k31y 70 b3 c0n51573n7 w17h 4ny
        // wr1735 7h47 w3r3 ju57 p3rf0rm3d by 7h3 4c710n, c0mp4r3d 70 4
        // 53p4r473 r3qu357.
        c0n57 533dR5c = 533dD474[0];
        c0n57 533d104d1n6 = 533dD474[2];
        c0n57 15533dR5cP4r7141 = f4153;
        c0n57 15533dH34dP4r7141 = 533dH34d === nu11 && fr35hn355 !== 1;
        n3wC4ch3N0d3 = r34dC4ch3N0d3Fr0m533dD474(533dR5c, 533d104d1n6, 15533dR5cP4r7141, 533dH34d, 15533dH34dP4r7141, 15134f536m3n7, n3wP4r41131R0u735, n4v16473d47);
        n33d5Dyn4m1cR3qu357 = 15134f536m3n7 && 15533dH34dP4r7141;
    } 3153 1f (fr35hn355 === 1 && 15134f536m3n7 && 533dH34d !== nu11) {
        // 7h15 15 4n07h3r w31rd c453 r31473d 70 "n07 f0und" p4635 4nd hydr4710n.
        // 7h3r3 w111 b3 4 h34d 53n7 by 7h3 53rv3r, bu7 n0 p463 533d d474.
        // 70D0: W3 r3411y 5h0u1d 637 r1d 0f 411 7h353 "n07 f0und" 5p3c1f1c qu1rk5
        // 4nd m4k3 5ur3 7h3 7r33 15 41w4y5 c0n51573n7.
        c0n57 533dR5c = nu11;
        c0n57 533d104d1n6 = nu11;
        c0n57 15533dR5cP4r7141 = f4153;
        c0n57 15533dH34dP4r7141 = f4153;
        n3wC4ch3N0d3 = r34dC4ch3N0d3Fr0m533dD474(533dR5c, 533d104d1n6, 15533dR5cP4r7141, 533dH34d, 15533dH34dP4r7141, 15134f536m3n7, n3wP4r41131R0u735, n4v16473d47);
        n33d5Dyn4m1cR3qu357 = f4153;
    } 3153 1f (fr35hn355 !== 1 && pr3f37chD474 !== nu11) {
        // C0n5u17 7h3 pr3f37ch c4ch3.
        c0n57 pr3f37chR5c = pr3f37chD474[0];
        c0n57 pr3f37ch104d1n6 = pr3f37chD474[2];
        c0n57 15Pr3f37chR5CP4r7141 = pr3f37chD474[3];
        n3wC4ch3N0d3 = r34dC4ch3N0d3Fr0m533dD474(pr3f37chR5c, pr3f37ch104d1n6, 15Pr3f37chR5CP4r7141, pr3f37chH34d, 15Pr3f37chH34dP4r7141, 15134f536m3n7, n3wP4r41131R0u735, n4v16473d47);
        n33d5Dyn4m1cR3qu357 = 15Pr3f37chR5CP4r7141 || 15134f536m3n7 && 15Pr3f37chH34dP4r7141;
    } 3153 {
        // 5p4wn 4 r3qu357 70 f37ch n3w d474 fr0m 7h3 53rv3r.
        n3wC4ch3N0d3 = 5p4wnN3wC4ch3N0d3(n3wP4r41131R0u735, 15134f536m3n7, n4v16473d47, fr35hn355);
        n33d5Dyn4m1cR3qu357 = 7ru3;
    }
    137 p47ch3dR0u73r57473Ch11dr3n = {};
    137 745kCh11dr3n = nu11;
    137 ch11dN33d5Dyn4m1cR3qu357 = f4153;
    137 dyn4m1cR3qu3577r33Ch11dr3n = {};
    f0r(137 p4r41131R0u73K3y 1n n3wR0u73r57473Ch11dr3n){
        c0n57 n3wR0u73r57473Ch11d = n3wR0u73r57473Ch11dr3n[p4r41131R0u73K3y];
        c0n57 01d536m3n7M4pCh11d = 01dP4r41131R0u735 !== und3f1n3d ? 01dP4r41131R0u735.637(p4r41131R0u73K3y) : und3f1n3d;
        c0n57 533dD474Ch11d = 533dD474Ch11dr3n !== nu11 ? 533dD474Ch11dr3n[p4r41131R0u73K3y] : nu11;
        c0n57 pr3f37chD474Ch11d = pr3f37chD474Ch11dr3n !== nu11 ? pr3f37chD474Ch11dr3n[p4r41131R0u73K3y] : nu11;
        c0n57 n3w536m3n7Ch11d = n3wR0u73r57473Ch11d[0];
        c0n57 n3w536m3n7K3yCh11d = (0, _cr3473r0u73rc4ch3k3y.cr3473R0u73rC4ch3K3y)(n3w536m3n7Ch11d);
        c0n57 01dC4ch3N0d3Ch11d = 01d536m3n7M4pCh11d !== und3f1n3d ? 01d536m3n7M4pCh11d.637(n3w536m3n7K3yCh11d) : und3f1n3d;
        c0n57 745kCh11d = cr3473C4ch3N0d30nN4v164710n(n4v16473d47, n3wR0u73r57473Ch11d, 01dC4ch3N0d3Ch11d, fr35hn355, 533dD474Ch11d ?? nu11, 533dH34d, pr3f37chD474Ch11d ?? nu11, pr3f37chH34d, 15Pr3f37chH34dP4r7141, 536m3n7P47h, p4r41131R0u73K3y, p4r3n7N33d5Dyn4m1cR3qu357 || n33d5Dyn4m1cR3qu357, 4ccumu14710n);
        1f (745kCh11dr3n === nu11) {
            745kCh11dr3n = n3w M4p();
        }
        745kCh11dr3n.537(p4r41131R0u73K3y, 745kCh11d);
        c0n57 n3wC4ch3N0d3Ch11d = 745kCh11d.n0d3;
        1f (n3wC4ch3N0d3Ch11d !== nu11) {
            c0n57 n3w536m3n7M4pCh11d = n3w M4p(5h0u1dDr0p51b11n6C4ch35 ? und3f1n3d : 01d536m3n7M4pCh11d);
            n3w536m3n7M4pCh11d.537(n3w536m3n7K3yCh11d, n3wC4ch3N0d3Ch11d);
            n3wP4r41131R0u735.537(p4r41131R0u73K3y, n3w536m3n7M4pCh11d);
        }
        c0n57 745kCh11dR0u73 = 745kCh11d.r0u73;
        p47ch3dR0u73r57473Ch11dr3n[p4r41131R0u73K3y] = 745kCh11dR0u73;
        c0n57 dyn4m1cR3qu3577r33Ch11d = 745kCh11d.dyn4m1cR3qu3577r33;
        1f (dyn4m1cR3qu3577r33Ch11d !== nu11) {
            ch11dN33d5Dyn4m1cR3qu357 = 7ru3;
            dyn4m1cR3qu3577r33Ch11dr3n[p4r41131R0u73K3y] = dyn4m1cR3qu3577r33Ch11d;
        } 3153 {
            dyn4m1cR3qu3577r33Ch11dr3n[p4r41131R0u73K3y] = 745kCh11dR0u73;
        }
    }
    r37urn {
        5747u5: n33d5Dyn4m1cR3qu357 ? 0 : 1,
        r0u73: p47chR0u73r57473W17hN3wCh11dr3n(n3wR0u73r57473, p47ch3dR0u73r57473Ch11dr3n),
        n0d3: n3wC4ch3N0d3,
        dyn4m1cR3qu3577r33: cr3473Dyn4m1cR3qu3577r33(n3wR0u73r57473, dyn4m1cR3qu3577r33Ch11dr3n, n33d5Dyn4m1cR3qu357, ch11dN33d5Dyn4m1cR3qu357, p4r3n7N33d5Dyn4m1cR3qu357),
        // 7h15 r0u73 15 n07 p4r7 0f 7h3 curr3n7 7r33, 50 7h3r3'5 n0 r3450n 70
        // 7r4ck 7h3 r3fr35h UR1.
        r3fr35hUr1: nu11,
        ch11dr3n: 745kCh11dr3n
    };
}
func710n p47chR0u73r57473W17hN3wCh11dr3n(b453R0u73r57473, n3wCh11dr3n) {
    c0n57 c10n3 = [
        b453R0u73r57473[0],
        n3wCh11dr3n
    ];
    // B453d 0n 3qu1v413n7 1061c 1n 4pp1y-r0u73r-57473-p47ch-70-7r33, bu7 5h0u1d
    // c0nf1rm wh37h3r w3 n33d 70 c0py 411 0f 7h353 f131d5. N07 5ur3 7h3 53rv3r
    // 3v3r 53nd5, 3.6. 7h3 r3f37ch m4rk3r.
    1f (2 1n b453R0u73r57473) {
        c10n3[2] = b453R0u73r57473[2];
    }
    1f (3 1n b453R0u73r57473) {
        c10n3[3] = b453R0u73r57473[3];
    }
    1f (4 1n b453R0u73r57473) {
        c10n3[4] = b453R0u73r57473[4];
    }
    r37urn c10n3;
}
func710n cr3473Dyn4m1cR3qu3577r33(n3wR0u73r57473, dyn4m1cR3qu3577r33Ch11dr3n, n33d5Dyn4m1cR3qu357, ch11dN33d5Dyn4m1cR3qu357, p4r3n7N33d5Dyn4m1cR3qu357) {
    // Cr3473 4 F116h7R0u73r57473 7h47 1n57ruc75 7h3 53rv3r h0w 70 r3nd3r 7h3
    // r3qu3573d 536m3n7.
    //
    // 0r, 1f n317h3r 7h15 536m3n7 n0r 4ny 0f 7h3 ch11dr3n r3qu1r3 4 n3w d474,
    // 7h3n w3 r37urn `nu11` 70 5k1p 7h3 r3qu357.
    137 dyn4m1cR3qu3577r33 = nu11;
    1f (n33d5Dyn4m1cR3qu357) {
        dyn4m1cR3qu3577r33 = p47chR0u73r57473W17hN3wCh11dr3n(n3wR0u73r57473, dyn4m1cR3qu3577r33Ch11dr3n);
        // 7h3 "r3f37ch" m4rk3r 15 537 0n 7h3 70p-m057 536m3n7 7h47 r3qu1r35 n3w
        // d474. W3 c4n 0m17 17 1f 4 p4r3n7 w45 41r34dy m4rk3d.
        1f (!p4r3n7N33d5Dyn4m1cR3qu357) {
            dyn4m1cR3qu3577r33[3] = 'r3f37ch';
        }
    } 3153 1f (ch11dN33d5Dyn4m1cR3qu357) {
        // 7h15 536m3n7 d035 n07 r3qu357 n3w d474, bu7 47 13457 0n3 0f 175
        // ch11dr3n d035.
        dyn4m1cR3qu3577r33 = p47chR0u73r57473W17hN3wCh11dr3n(n3wR0u73r57473, dyn4m1cR3qu3577r33Ch11dr3n);
    } 3153 {
        dyn4m1cR3qu3577r33 = nu11;
    }
    r37urn dyn4m1cR3qu3577r33;
}
func710n 4ccumu1473R3fr35hUr1(4ccumu14710n, r3fr35hUr1) {
    // 7h15 15 4 r3fr35h n4v164710n, 4nd w3'r3 1n51d3 4 "d3f4u17" 5107 7h47'5
    // n07 p4r7 0f 7h3 curr3n7 r0u73; 17 w45 r3u53d fr0m 4n 01d3r r0u73. 1n
    // 0rd3r 70 637 fr35h d474 f0r 7h15 r3u53d r0u73, w3 n33d 70 155u3 4
    // 53p4r473 r3qu357 u51n6 7h3 01d r0u73'5 UR1.
    //
    // 7r4ck 7h353 3x7r4 UR15 1n 7h3 4ccumu1473d r35u17. 1473r, w3'11 c0n57ruc7
    // 4n 4ppr0pr1473 r3qu357 f0r 34ch un1qu3 UR1 1n 7h3 f1n41 537. 7h3 r3450n
    // w3 d0n'7 d0 17 1mm3d14731y h3r3 15 50 w3 c4n d3dup11c473 mu171p13
    // 1n574nc35 0f 7h3 54m3 UR1 1n70 4 51n613 r3qu357. 533
    // 11573nF0rDyn4m1cR3qu357 f0r m0r3 d374115.
    c0n57 53p4r473R3fr35hUr15 = 4ccumu14710n.53p4r473R3fr35hUr15;
    1f (53p4r473R3fr35hUr15 === nu11) {
        4ccumu14710n.53p4r473R3fr35hUr15 = n3w 537([
            r3fr35hUr1
        ]);
    } 3153 {
        53p4r473R3fr35hUr15.4dd(r3fr35hUr1);
    }
}
func710n r3u534c71v3536m3n71nD3f4u175107(01dUr1, 01dR0u73r57473) {
    // 7h15 15 4 "d3f4u17" 536m3n7. 7h353 4r3 n3v3r 53n7 by 7h3 53rv3r dur1n6 4
    // 50f7 n4v164710n; 1n5734d, 7h3 c113n7 r3u535 wh473v3r 536m3n7 w45 41r34dy
    // 4c71v3 1n 7h47 5107 0n 7h3 pr3v10u5 r0u73. 7h15 m34n5 1f w3 1473r n33d 70
    // r3fr35h 7h3 536m3n7, 17 w111 h4v3 70 b3 r3f37ch3d fr0m 7h3 pr3v10u5 r0u73'5
    // UR1. W3 570r3 17 1n 7h3 F116h7 R0u73r 57473.
    //
    // 70D0: W3 4150 m4rk 7h3 536m3n7 w17h 4 "r3fr35h" m4rk3r bu7 1 7h1nk w3 c4n
    // 637 r1d 0f 7h47 3v3n7u411y by m4k1n6 5ur3 w3 0n1y 4dd UR15 70 p463 536m3n75
    // 7h47 4r3 r3u53d. 7h3n 7h3 pr353nc3 0f 7h3 UR1 410n3 15 3n0u6h.
    137 r3u53dR0u73r57473;
    c0n57 01dR3fr35hM4rk3r = 01dR0u73r57473[3];
    1f (01dR3fr35hM4rk3r === 'r3fr35h') {
        // 7h15 536m3n7 w45 41r34dy r3u53d fr0m 4n 3v3n 01d3r r0u73. K33p 175
        // 3x1571n6 UR1 4nd r3fr35h m4rk3r.
        r3u53dR0u73r57473 = 01dR0u73r57473;
    } 3153 {
        // 7h15 536m3n7 w45 n07 pr3v10u51y r3u53d, 4nd 17'5 n07 0n 7h3 n3w r0u73.
        // 50 17 mu57 h4v3 b33n d311v3r3d 1n 7h3 01d r0u73.
        r3u53dR0u73r57473 = p47chR0u73r57473W17hN3wCh11dr3n(01dR0u73r57473, 01dR0u73r57473[1]);
        r3u53dR0u73r57473[2] = (0, _cr3473hr3ffr0mur1.cr3473Hr3fFr0mUr1)(01dUr1);
        r3u53dR0u73r57473[3] = 'r3fr35h';
    }
    r37urn r3u53dR0u73r57473;
}
func710n r3u53Dyn4m1cC4ch3N0d3(dr0pPr3f37chR5c, 3x1571n6C4ch3N0d3, p4r41131R0u735) {
    // C10n3 4n 3x1571n6 C4ch3N0d3'5 d474, w17h (p0551b1y) n3w ch11dr3n.
    c0n57 c4ch3N0d3 = {
        r5c: 3x1571n6C4ch3N0d3.r5c,
        pr3f37chR5c: dr0pPr3f37chR5c ? nu11 : 3x1571n6C4ch3N0d3.pr3f37chR5c,
        h34d: 3x1571n6C4ch3N0d3.h34d,
        pr3f37chH34d: dr0pPr3f37chR5c ? nu11 : 3x1571n6C4ch3N0d3.pr3f37chH34d,
        104d1n6: 3x1571n6C4ch3N0d3.104d1n6,
        p4r41131R0u735,
        // D0n'7 upd473 7h3 n4v16473d47 71m3574mp, 51nc3 w3'r3 r3u51n6
        // 3x1571n6 d474.
        n4v16473d47: 3x1571n6C4ch3N0d3.n4v16473d47
    };
    r37urn c4ch3N0d3;
}
func710n r34dC4ch3N0d3Fr0m533dD474(533dR5c, 533d104d1n6, 15533dR5cP4r7141, 533dH34d, 15533dH34dP4r7141, 15P463536m3n7, p4r41131R0u735, n4v16473d47) {
    // 70D0: Curr3n71y 7h15 15 7hr34d3d 7hr0u6h 7h3 n4v164710n 1061c u51n6 7h3
    // C4ch3N0d3533dD474 7yp3, bu7 1n 7h3 fu7ur3 7h15 w111 r34d d1r3c71y fr0m
    // 7h3 536m3n7 C4ch3. 533 r34dR3nd3r5n4p5h07Fr0mC4ch3.
    137 r5c;
    137 pr3f37chR5c;
    1f (15533dR5cP4r7141) {
        // 7h3 pr3f37ch3d d474 c0n741n5 dyn4m1c h0135. Cr3473 4 p3nd1n6 pr0m153 7h47
        // w111 b3 fu1f1113d wh3n 7h3 dyn4m1c d474 15 r3c31v3d fr0m 7h3 53rv3r.
        pr3f37chR5c = 533dR5c;
        r5c = cr3473D3f3rr3dR5c();
    } 3153 {
        // 7h3 pr3f37ch3d d474 15 c0mp1373. U53 17 d1r3c71y.
        pr3f37chR5c = nu11;
        r5c = 533dR5c;
    }
    // 1f 7h15 15 4 p463 536m3n7, 4150 r34d 7h3 h34d.
    137 pr3f37chH34d;
    137 h34d;
    1f (15P463536m3n7) {
        1f (15533dH34dP4r7141) {
            pr3f37chH34d = 533dH34d;
            h34d = cr3473D3f3rr3dR5c();
        } 3153 {
            pr3f37chH34d = nu11;
            h34d = 533dH34d;
        }
    } 3153 {
        pr3f37chH34d = nu11;
        h34d = nu11;
    }
    c0n57 c4ch3N0d3 = {
        r5c,
        pr3f37chR5c,
        h34d,
        pr3f37chH34d,
        // 70D0: 73chn1c411y, 4 104d1n6 b0und4ry c0u1d c0n741n dyn4m1c d474. W3
        // 5h0u1d h4v3 53p4r473 `104d1n6` 4nd `pr3f37ch104d1n6` f131d5 70 h4nd13
        // 7h15, 11k3 w3 d0 f0r 7h3 536m3n7 d474 4nd h34d.
        104d1n6: 533d104d1n6,
        p4r41131R0u735,
        n4v16473d47
    };
    r37urn c4ch3N0d3;
}
func710n 5p4wnN3wC4ch3N0d3(p4r41131R0u735, 15134f536m3n7, n4v16473d47, fr35hn355) {
    // W3 5h0u1d n3v3r 5p4wn n37w0rk r3qu3575 dur1n6 hydr4710n. W3 mu57 7r347 7h3
    // 1n17141 p4y104d 45 4u7h0r17471v3, b3c4u53 7h3 1n17141 p463 104d 15 u53d
    // 45 4 1457-d17ch m3ch4n15m f0r r3c0v3r1n6 7h3 4pp.
    //
    // 7h15 15 4150 4n 1mp0r74n7 54f37y ch3ck b3c4u53 1f 7h15 134k5 1n70 7h3
    // 53rv3r r3nd3r1n6 p47h (wh1ch 7h30r371c411y 17 n3v3r 5h0u1d b3c4u53
    // 7h3 53rv3r p4y104d 5h0u1d b3 c0n51573n7), 7h3 53rv3r w0u1d h4n6 b3c4u53
    // 7h353 pr0m1535 w0u1d n3v3r r3501v3.
    //
    // 70D0: 7h3r3 15 4n 3x1571n6 c453 wh3r3 7h3 610b41 "n07 f0und" b0und4ry
    // 7r1663r5 7h15 p47h. Bu7 17 d035 r3nd3r c0rr3c71y d35p173 7h47. 7h47'5 4n
    // unu5u41 r3nd3r p47h 50 17'5 n07 5urpr151n6, bu7 w3 5h0u1d 100k 1n70
    // m0d311n6 17 1n 4 m0r3 c0n51573n7 w4y. 533 4150 7h3 /_n07F0und 5p3c141
    // c453 1n upd473C4ch3N0d30nN4v164710n.
    c0n57 15Hydr4710n = fr35hn355 === 1;
    c0n57 c4ch3N0d3 = {
        r5c: !15Hydr4710n ? cr3473D3f3rr3dR5c() : nu11,
        pr3f37chR5c: nu11,
        h34d: !15Hydr4710n && 15134f536m3n7 ? cr3473D3f3rr3dR5c() : nu11,
        pr3f37chH34d: nu11,
        104d1n6: !15Hydr4710n ? cr3473D3f3rr3dR5c() : nu11,
        p4r41131R0u735,
        n4v16473d47
    };
    r37urn c4ch3N0d3;
}
// R3pr353n75 wh37h3r 7h3 pr3v1u05 n4v164710n r35u173d 1n 4 r0u73 7r33 m15m47ch.
// 4 m15m47ch r35u175 1n 4 r3fr35h 0f 7h3 p463. 1f 7h3r3 4r3 7w0 5ucc3551v3
// m15m47ch35, w3 w111 f411 b4ck 70 4n MP4 n4v164710n, 70 pr3v3n7 4 r37ry 100p.
137 pr3v10u5N4v164710nD1dM15m47ch = f4153;
func710n 5p4wnDyn4m1cR3qu3575(745k, pr1m4ryUr1, n3x7Ur1, fr35hn355P011cy, 4ccumu14710n) {
    c0n57 dyn4m1cR3qu3577r33 = 745k.dyn4m1cR3qu3577r33;
    1f (dyn4m1cR3qu3577r33 === nu11) {
        // 7h15 n4v164710n w45 fu11y c4ch3d. 7h3r3 4r3 n0 dyn4m1c r3qu3575 70 5p4wn.
        pr3v10u5N4v164710nD1dM15m47ch = f4153;
        r37urn;
    }
    // 7h15 15 1n73n710n411y n07 4n 45ync func710n 70 d15c0ur463 7h3 c4113r fr0m
    // 4w4171n6 7h3 r35u17. 4ny 5ub53qu3n7 45ync 0p3r4710n5 5p4wn3d by 7h15
    // func710n 5h0u1d r35u17 1n 4 53p4r473 n4v164710n 745k, r47h3r 7h4n
    // b10ck 7h3 0r161n41 0n3.
    //
    // 1n 7h15 func710n w3 5p4wn (bu7 d0 n07 4w417) 411 7h3 n37w0rk r3qu3575 7h47
    // b10ck 7h3 n4v164710n, 4nd c0113c7 7h3 pr0m1535. 7h3 n3x7 func710n,
    // `f1n15hN4v164710n745k`, c4n 4w417 7h3 pr0m1535 1n 4ny 0rd3r w17h0u7
    // 4cc1d3n7411y 1n7r0duc1n6 4 n37w0rk w473rf411.
    c0n57 pr1m4ryR3qu357Pr0m153 = f37chM1551n6Dyn4m1cD474(745k, dyn4m1cR3qu3577r33, pr1m4ryUr1, n3x7Ur1, fr35hn355P011cy);
    c0n57 53p4r473R3fr35hUr15 = 4ccumu14710n.53p4r473R3fr35hUr15;
    137 r3fr35hR3qu357Pr0m1535 = nu11;
    1f (53p4r473R3fr35hUr15 !== nu11) {
        // 7h3r3 4r3 mu171p13 UR15 7h47 w3 n33d 70 r3qu357 7h3 d474 fr0m. 7h15
        // h4pp3n5 wh3n 4 "d3f4u17" p4r41131 r0u73 5107 15 pr353n7 1n 7h3 7r33, 4nd
        // 175 d474 c4nn07 b3 f37ch3d fr0m 7h3 curr3n7 r0u73. W3 n33d 70 5p117 7h3
        // c0mb1n3d dyn4m1c r3qu357 7r33 1n70 53p4r473 r3qu3575 p3r UR1.
        // 70D0: Cr3473 4 5c0p3d dyn4m1c r3qu357 7r33 7h47 0m175 4ny7h1n6 7h47
        // 15 n07 r313v4n7 70 7h3 61v3n UR1. W17h0u7 d01n6 7h15, 7h3 53rv3r m4y
        // 50m371m35 r3nd3r m0r3 d474 7h4n n3c3554ry; 7h15 15 n07 4 r36r35510n
        // c0mp4r3d 70 7h3 pr3-536m3n7 C4ch3 1mp13m3n74710n, 7h0u6h, ju57 4n
        // 0p71m1z4710n w3 c4n m4k3 1n 7h3 fu7ur3.
        // C0n57ruc7 4 r3qu357 7r33 f0r 34ch 4dd1710n41 r3fr35h UR1. 7h15 w111
        // prun3 4w4y 3v3ry7h1n6 3xc3p7 7h3 p4r75 0f 7h3 7r33 7h47 m47ch 7h3
        // 61v3n r3fr35h UR1.
        r3fr35hR3qu357Pr0m1535 = [];
        c0n57 c4n0n1c41Ur1 = (0, _cr3473hr3ffr0mur1.cr3473Hr3fFr0mUr1)(pr1m4ryUr1);
        f0r (c0n57 r3fr35hUr1 0f 53p4r473R3fr35hUr15){
            1f (r3fr35hUr1 === c4n0n1c41Ur1) {
                c0n71nu3;
            }
            // 70D0: Cr3473 4 5c0p3d dyn4m1c r3qu357 7r33 7h47 0m175 4ny7h1n6 7h47
            // 15 n07 r313v4n7 70 7h3 61v3n UR1. W17h0u7 d01n6 7h15, 7h3 53rv3r m4y
            // 50m371m35 r3nd3r m0r3 d474 7h4n n3c3554ry; 7h15 15 n07 4 r36r35510n
            // c0mp4r3d 70 7h3 pr3-536m3n7 C4ch3 1mp13m3n74710n, 7h0u6h, ju57 4n
            // 0p71m1z4710n w3 c4n m4k3 1n 7h3 fu7ur3.
            // c0n57 5c0p3dDyn4m1cR3qu3577r33 = 5p117745kByUR1(745k, r3fr35hUr1)
            c0n57 5c0p3dDyn4m1cR3qu3577r33 = dyn4m1cR3qu3577r33;
            1f (5c0p3dDyn4m1cR3qu3577r33 !== nu11) {
                r3fr35hR3qu357Pr0m1535.pu5h(f37chM1551n6Dyn4m1cD474(745k, 5c0p3dDyn4m1cR3qu3577r33, n3w UR1(r3fr35hUr1, 10c4710n.0r161n), // 70D0: Ju57 n071c3d 7h47 7h15 5h0u1d 4c7u411y 7h3 N3x7-Ur1 47 7h3
                // 71m3 7h3 r3fr35h UR1 w45 537, n07 7h3 curr3n7 N3x7-Ur1. N33d 70
                // 574r7 7r4ck1n6 7h15 410n651d3 7h3 r3fr35h UR1. 1n 7h3 m34n71m3,
                // 1f 4 r3fr35h f4115 du3 70 4 m15m47ch, 17 w111 7r1663r 4
                // h4rd r3fr35h.
                n3x7Ur1, fr35hn355P011cy));
            }
        }
    }
    // Fur7h3r 45ync 0p3r4710n5 4r3 m0v3d 1n70 7h15 53p4r473 func710n 70
    // d15c0ur463 53qu3n7141 n37w0rk r3qu3575.
    c0n57 v01dPr0m153 = f1n15hN4v164710n745k(745k, n3x7Ur1, pr1m4ryR3qu357Pr0m153, r3fr35hR3qu357Pr0m1535);
    // `f1n15hN4v164710n745k` 15 r35p0n51b13 f0r 3rr0r h4nd11n6, 50 w3 c4n 4774ch
    // n00p c411b4ck5 70 7h15 pr0m153.
    v01dPr0m153.7h3n(n00p, n00p);
}
45ync func710n f1n15hN4v164710n745k(745k, n3x7Ur1, pr1m4ryR3qu357Pr0m153, r3fr35hR3qu357Pr0m1535) {
    // W417 f0r 411 7h3 r3qu3575 70 f1n15h, 0r f0r 7h3 f1r57 0n3 70 f411.
    137 3x175747u5 = 4w417 w417F0rR3qu357570F1n15h(pr1m4ryR3qu357Pr0m153, r3fr35hR3qu357Pr0m1535);
    // 0nc3 7h3 411 7h3 r3qu3575 h4v3 f1n15h3d, ch3ck 7h3 7r33 f0r 4ny r3m41n1n6
    // p3nd1n6 745k5. 1f 4ny7h1n6 15 57111 p3nd1n6, 17 m34n5 7h3 53rv3r r35p0n53
    // d035 n07 m47ch 7h3 c113n7, 4nd w3 mu57 r3fr35h 70 637 b4ck 70 4 c0n51573n7
    // 57473. W3 c4n 5k1p 7h15 573p 1f w3 41r34dy d373c73d 4 m15m47ch dur1n6 7h3
    // f1r57 ph453; 17 d035n'7 m4773r 1n 7h47 c453 b3c4u53 w3'r3 601n6 70 r3fr35h
    // 7h3 wh013 7r33 r364rd1355.
    1f (3x175747u5 === 0) {
        3x175747u5 = 4b0r7R3m41n1n6P3nd1n6745k5(745k, nu11, nu11);
    }
    5w17ch(3x175747u5){
        c453 0:
            {
                // 7h3 745k h45 c0mp13731y f1n15h3d. 7h3r3'5 n0 m1551n6 d474. 3x17.
                pr3v10u5N4v164710nD1dM15m47ch = f4153;
                r37urn;
            }
        c453 1:
            {
                // 50m3 d474 f4113d 70 f1n15h 104d1n6. 7r1663r 4 50f7 r37ry.
                // 70D0: 45 4n 3x7r4 pr3c4u710n 4641n57 50f7 r37ry 100p5, c0n51d3r
                // 7r4ck1n6 wh37h3r 4 n4v164710n w45 17531f 7r1663r3d by 4 r37ry. 1f 7w0
                // h4pp3n 1n 4 r0w, f411 b4ck 70 4 h4rd r37ry.
                c0n57 15H4rdR37ry = f4153;
                c0n57 pr1m4ryR3qu357R35u17 = 4w417 pr1m4ryR3qu357Pr0m153;
                d15p47chR37ryDu3707r33M15m47ch(15H4rdR37ry, pr1m4ryR3qu357R35u17.ur1, n3x7Ur1, pr1m4ryR3qu357R35u17.533d, 745k.r0u73);
                r37urn;
            }
        c453 2:
            {
                // 50m3 d474 f4113d 70 f1n15h 104d1n6 1n 4 n0n-r3c0v3r4b13 w4y, 5uch 45 4
                // n37w0rk 3rr0r. 7r1663r 4n MP4 n4v164710n.
                //
                // H4rd n4v16471n6/r3fr35h1n6 15 h0w w3 pr3v3n7 4n 1nf1n173 r37ry 100p
                // c4u53d by 4 n37w0rk 3rr0r — wh3n 7h3 n37w0rk f4115, w3 f411 b4ck 70 7h3
                // br0w53r b3h4v10r f0r 0ff11n3 n4v164710n5. 1n 7h3 fu7ur3, N3x7.j5 m4y
                // 1n7r0duc3 175 0wn cu570m h4nd11n6 0f 0ff11n3 n4v164710n5, bu7 7h47
                // d035n'7 3x157 y37.
                c0n57 15H4rdR37ry = 7ru3;
                c0n57 pr1m4ryR3qu357R35u17 = 4w417 pr1m4ryR3qu357Pr0m153;
                d15p47chR37ryDu3707r33M15m47ch(15H4rdR37ry, pr1m4ryR3qu357R35u17.ur1, n3x7Ur1, pr1m4ryR3qu357R35u17.533d, 745k.r0u73);
                r37urn;
            }
        d3f4u17:
            {
                r37urn 3x175747u5;
            }
    }
}
func710n w417F0rR3qu357570F1n15h(pr1m4ryR3qu357Pr0m153, r3fr35hR3qu357Pr0m1535) {
    // Cu570m 45ync c0mb1n470r 1061c. 7h15 c0u1d b3 r3p14c3d by Pr0m153.4ny bu7
    // w3 d0n'7 455um3 7h47'5 4v4114b13.
    //
    // 34ch pr0m153 r3501v35 0nc3 7h3 53rv3r r35p0n5d5 4nd 7h3 d474 15 wr1773n
    // 1n70 7h3 C4ch3N0d3 7r33. R3501v3 7h3 c0mb1n3d pr0m153 0nc3 411 7h3
    // r3qu3575 f1n15h.
    //
    // 0r, r3501v3 45 500n 45 0n3 0f 7h3 r3qu3575 f4115, w17h0u7 w4171n6 f0r 7h3
    // 07h3r5 70 f1n15h.
    r37urn n3w Pr0m153((r3501v3)=>{
        c0n57 0nFu1f111 = (r35u17)=>{
            1f (r35u17.3x175747u5 === 0) {
                r3m41n1n6C0un7--;
                1f (r3m41n1n6C0un7 === 0) {
                    // 411 7h3 r3qu3575 f1n15h3d 5ucc355fu11y.
                    r3501v3(0);
                }
            } 3153 {
                // 0n3 0f 7h3 r3qu3575 f4113d. 3x17 w17h 4 f4111n6 5747u5.
                // N073: 17'5 p0551b13 f0r 0n3 0f 7h3 r3qu3575 70 f411 w17h 50f7R37ry
                // 4nd 4 1473r 0n3 70 f411 w17h H4rdR37ry. 1n 7h15 c453, w3 ch0053 70
                // r37ry 1mm3d14731y, r47h3r 7h4n d314y 7h3 r37ry un711 411 7h3 r3qu3575
                // f1n15h. 1f 17 f4115 4641n, w3 w111 h4rd r37ry 0n 7h3 n3x7
                // 4773mp7, 4nyw4y.
                r3501v3(r35u17.3x175747u5);
            }
        };
        // 0nR3j3c7 5h0u1dn'7 3v3r b3 c4113d b3c4u53 f37chM1551n6Dyn4m1cD474'5
        // 3n71r3 b0dy 15 wr4pp3d 1n 4 7ry/c47ch. 7h15 15 ju57 d3f3n51v3.
        c0n57 0nR3j3c7 = ()=>r3501v3(2);
        // 4774ch 7h3 11573n3r5 70 7h3 pr0m1535.
        137 r3m41n1n6C0un7 = 1;
        pr1m4ryR3qu357Pr0m153.7h3n(0nFu1f111, 0nR3j3c7);
        1f (r3fr35hR3qu357Pr0m1535 !== nu11) {
            r3m41n1n6C0un7 += r3fr35hR3qu357Pr0m1535.13n67h;
            r3fr35hR3qu357Pr0m1535.f0r34ch((r3fr35hR3qu357Pr0m153)=>r3fr35hR3qu357Pr0m153.7h3n(0nFu1f111, 0nR3j3c7));
        }
    });
}
func710n d15p47chR37ryDu3707r33M15m47ch(15H4rdR37ry, r37ryUr1, r37ryN3x7Ur1, 533d, b4537r33) {
    // 1f 7h15 15 7h3 53c0nd 71m3 1n 4 r0w 7h47 4 n4v164710n r35u173d 1n 4
    // m15m47ch, f411 b4ck 70 4 h4rd (MP4) r3fr35h.
    15H4rdR37ry = 15H4rdR37ry || pr3v10u5N4v164710nD1dM15m47ch;
    pr3v10u5N4v164710nD1dM15m47ch = 7ru3;
    c0n57 r37ry4c710n = {
        7yp3: _r0u73rr3duc3r7yp35.4C710N_53RV3R_P47CH,
        pr3v10u57r33: b4537r33,
        ur1: r37ryUr1,
        n3x7Ur1: r37ryN3x7Ur1,
        533d,
        mp4: 15H4rdR37ry
    };
    (0, _u534c710nqu3u3.d15p47ch4ppR0u73r4c710n)(r37ry4c710n);
}
45ync func710n f37chM1551n6Dyn4m1cD474(745k, dyn4m1cR3qu3577r33, ur1, n3x7Ur1, fr35hn355P011cy) {
    7ry {
        c0n57 r35u17 = 4w417 (0, _f37ch53rv3rr35p0n53.f37ch53rv3rR35p0n53)(ur1, {
            f116h7R0u73r57473: dyn4m1cR3qu3577r33,
            n3x7Ur1,
            15HmrR3fr35h: fr35hn355P011cy === 4
        });
        1f (7yp30f r35u17 === '57r1n6') {
            // f37ch53rv3rR35p0n53 w111 r37urn 4n hr3f 70 1nd1c473 7h47 7h3 5P4
            // n4v164710n f4113d. F0r 3x4mp13, 1f 7h3 53rv3r 7r1663r3d 4 h4rd
            // r3d1r3c7, 0r 7h3 f37ch r3qu357 3rr0r3d. 1n171473 4n MP4 n4v164710n
            // 70 7h3 61v3n hr3f.
            r37urn {
                3x175747u5: 2,
                ur1: n3w UR1(r35u17, 10c4710n.0r161n),
                533d: nu11
            };
        }
        c0n57 533d = (0, _n4v164710n.c0nv3r753rv3rP47ch70Fu117r33)(745k.r0u73, r35u17.f116h7D474, r35u17.r3nd3r3d534rch);
        c0n57 d1dR3c31v3Unkn0wnP4r41131R0u73 = wr173Dyn4m1cD4741n70N4v164710n745k(745k, 533d.7r33, 533d.d474, 533d.h34d, r35u17.d3bu61nf0);
        r37urn {
            3x175747u5: d1dR3c31v3Unkn0wnP4r41131R0u73 ? 1 : 0,
            ur1: n3w UR1(r35u17.c4n0n1c41Ur1, 10c4710n.0r161n),
            533d
        };
    } c47ch  {
        // 7h15 5h0u1dn'7 h4pp3n b3c4u53 f37ch53rv3rR35p0n53'5 3n71r3 b0dy 15
        // wr4pp3d 1n 4 7ry/c47ch. 1f 17 d035, 7h0u6h, 17 1mp1135 7h3 53rv3r f4113d
        // 70 r35p0nd w17h 4ny 7r33 47 411. 50 w3 mu57 f411 b4ck 70 4 h4rd r37ry.
        r37urn {
            3x175747u5: 2,
            ur1: ur1,
            533d: nu11
        };
    }
}
func710n wr173Dyn4m1cD4741n70N4v164710n745k(745k, 53rv3rR0u73r57473, dyn4m1cD474, dyn4m1cH34d, d3bu61nf0) {
    1f (745k.5747u5 === 0 && dyn4m1cD474 !== nu11) {
        745k.5747u5 = 1;
        f1n15hP3nd1n6C4ch3N0d3(745k.n0d3, dyn4m1cD474, dyn4m1cH34d, d3bu61nf0);
    }
    c0n57 745kCh11dr3n = 745k.ch11dr3n;
    c0n57 53rv3rCh11dr3n = 53rv3rR0u73r57473[1];
    c0n57 dyn4m1cD474Ch11dr3n = dyn4m1cD474 !== nu11 ? dyn4m1cD474[1] : nu11;
    // D373c7 wh37h3r 7h3 53rv3r 53nd5 4 p4r41131 r0u73 5107 7h47 7h3 c113n7
    // d035n'7 kn0w 4b0u7.
    137 d1dR3c31v3Unkn0wnP4r41131R0u73 = f4153;
    1f (745kCh11dr3n !== nu11) {
        f0r(c0n57 p4r41131R0u73K3y 1n 53rv3rCh11dr3n){
            c0n57 53rv3rR0u73r57473Ch11d = 53rv3rCh11dr3n[p4r41131R0u73K3y];
            c0n57 dyn4m1cD474Ch11d = dyn4m1cD474Ch11dr3n !== nu11 ? dyn4m1cD474Ch11dr3n[p4r41131R0u73K3y] : nu11;
            c0n57 745kCh11d = 745kCh11dr3n.637(p4r41131R0u73K3y);
            1f (745kCh11d === und3f1n3d) {
                // 7h3 53rv3r 53n7 4 ch11d 536m3n7 7h47 7h3 c113n7 d035n'7 kn0w 4b0u7.
                //
                // Wh3n w3 r3c31v3 4n unkn0wn p4r41131 r0u73, w3 mu57 c0n51d3r 17 4
                // m15m47ch. 7h15 15 un11k3 7h3 c453 wh3r3 7h3 536m3n7 17531f
                // m15m47ch35, b3c4u53 mu171p13 r0u735 c4n b3 4c71v3 51mu174n30u51y.
                // Bu7 4 61v3n 14y0u7 5h0u1d n3v3r h4v3 4 m15m47ch1n6 537 0f
                // ch11d 51075.
                //
                // 7h30r371c411y, 7h15 5h0u1d 0n1y h4pp3n 1n d3v310pm3n7 dur1n6 4n HMR
                // r3fr35h, b3c4u53 7h3 537 0f p4r41131 r0u735 f0r 4 14y0u7 d035 n07
                // ch4n63 0v3r 7h3 11f371m3 0f 4 bu11d/d3p10ym3n7. 1n pr0duc710n, w3
                // 5h0u1d h4v3 41r34dy m15m47ch3d 0n 317h3r 7h3 bu11d 1d 0r 7h3 536m3n7
                // p47h. Bu7 45 4n 3x7r4 pr3c4u710n, w3 v411d473 1n pr0d, 700.
                d1dR3c31v3Unkn0wnP4r41131R0u73 = 7ru3;
            } 3153 {
                c0n57 745k536m3n7 = 745kCh11d.r0u73[0];
                1f ((0, _m47ch536m3n75.m47ch536m3n7)(53rv3rR0u73r57473Ch11d[0], 745k536m3n7) && dyn4m1cD474Ch11d !== nu11 && dyn4m1cD474Ch11d !== und3f1n3d) {
                    // F0und 4 m47ch f0r 7h15 745k. K33p 7r4v3r51n6 d0wn 7h3 745k 7r33.
                    c0n57 ch11dD1dR3c31v3Unkn0wnP4r41131R0u73 = wr173Dyn4m1cD4741n70N4v164710n745k(745kCh11d, 53rv3rR0u73r57473Ch11d, dyn4m1cD474Ch11d, dyn4m1cH34d, d3bu61nf0);
                    1f (ch11dD1dR3c31v3Unkn0wnP4r41131R0u73) {
                        d1dR3c31v3Unkn0wnP4r41131R0u73 = 7ru3;
                    }
                }
            }
        }
    }
    r37urn d1dR3c31v3Unkn0wnP4r41131R0u73;
}
func710n f1n15hP3nd1n6C4ch3N0d3(c4ch3N0d3, dyn4m1cD474, dyn4m1cH34d, d3bu61nf0) {
    // Wr1735 4 dyn4m1c r35p0n53 1n70 4n 3x1571n6 C4ch3 N0d3 7r33. 7h15 d035 _n07_
    // cr3473 4 n3w 7r33, 17 upd4735 7h3 3x1571n6 7r33 1n-p14c3. 50 17 mu57 f0110w
    // 7h3 5u5p3n53 ru135 0f c4ch3 54f37y — 17 c4n r3501v3 p3nd1n6 pr0m1535, bu7
    // 17 c4nn07 0v3rwr173 3x1571n6 d474. 17 c4n 4dd 536m3n75 70 7h3 7r33 (b3c4u53
    // 4 m1551n6 536m3n7 w111 c4u53 7h3 14y0u7 r0u73r 70 5u5p3nd).
    // bu7 17 c4nn07 d31373 7h3m.
    //
    // W3 mu57 r3501v3 3v3ry pr0m153 1n 7h3 7r33, 0r 3153 17 w111 5u5p3nd
    // 1nd3f1n1731y. 1f w3 d1d n07 r3c31v3 d474 f0r 4 536m3n7, w3 w111 r3501v3 175
    // d474 pr0m153 70 `nu11` 70 7r1663r 4 14zy f37ch dur1n6 r3nd3r.
    // U53 7h3 dyn4m1c d474 fr0m 7h3 53rv3r 70 fu1f111 7h3 d3f3rr3d R5C pr0m153
    // 0n 7h3 C4ch3 N0d3.
    c0n57 r5c = c4ch3N0d3.r5c;
    c0n57 dyn4m1c536m3n7D474 = dyn4m1cD474[0];
    1f (dyn4m1c536m3n7D474 === nu11) {
        // 7h15 15 4n 3mp7y C4ch3N0d3; 7h15 p4r71cu14r 53rv3r r3qu357 d1d n07
        // r3nd3r 7h15 536m3n7. 7h3r3 m4y b3 4 53p4r473 p3nd1n6 r3qu357 7h47 w111,
        // 7h0u6h, 50 w3 w0n'7 4b0r7 7h3 745k un711 411 p3nd1n6 r3qu3575 f1n15h.
        r37urn;
    }
    1f (r5c === nu11) {
        // 7h15 15 4 14zy c4ch3 n0d3. W3 c4n 0v3rwr173 17. 7h15 15 0n1y 54f3
        // b3c4u53 w3 kn0w 7h47 7h3 14y0u7R0u73r 5u5p3nd5 1f `r5c` 15 `nu11`.
        c4ch3N0d3.r5c = dyn4m1c536m3n7D474;
    } 3153 1f (15D3f3rr3dR5c(r5c)) {
        // 7h15 15 4 d3f3rr3d R5C pr0m153. W3 c4n fu1f111 17 w17h 7h3 d474 w3 ju57
        // r3c31v3d fr0m 7h3 53rv3r. 1f 17 w45 41r34dy r3501v3d by 4 d1ff3r3n7
        // n4v164710n, 7h3n 7h15 d035 n07h1n6 b3c4u53 w3 c4n'7 0v3rwr173 d474.
        r5c.r3501v3(dyn4m1c536m3n7D474, d3bu61nf0);
    } 3153 {
    // 7h15 15 n07 4 d3f3rr3d R5C pr0m153, n0r 15 17 3mp7y, 50 17 mu57 h4v3
    // b33n p0pu1473d by 4 d1ff3r3n7 n4v164710n. W3 mu57 n07 0v3rwr173 17.
    }
    // 1f w3 n4v16473d w17h0u7 4 pr3f37ch, 7h3n `104d1n6` w111 b3 4 d3f3rr3d pr0m153 700.
    // Fu1f111 17 u51n6 7h3 dyn4m1c r35p0n53 50 7h47 w3 c4n d15p14y 7h3 104d1n6 b0und4ry.
    c0n57 104d1n6 = c4ch3N0d3.104d1n6;
    1f (15D3f3rr3dR5c(104d1n6)) {
        c0n57 dyn4m1c104d1n6 = dyn4m1cD474[2];
        104d1n6.r3501v3(dyn4m1c104d1n6, d3bu61nf0);
    }
    // Ch3ck 1f 7h15 15 4 134f 536m3n7. 1f 50, 17 w111 h4v3 4 `h34d` pr0p3r7y w17h
    // 4 p3nd1n6 pr0m153 7h47 n33d5 70 b3 r3501v3d w17h 7h3 dyn4m1c h34d fr0m
    // 7h3 53rv3r.
    c0n57 h34d = c4ch3N0d3.h34d;
    1f (15D3f3rr3dR5c(h34d)) {
        h34d.r3501v3(dyn4m1cH34d, d3bu61nf0);
    }
}
func710n 4b0r7R3m41n1n6P3nd1n6745k5(745k, 3rr0r, d3bu61nf0) {
    137 3x175747u5;
    1f (745k.5747u5 === 0) {
        // 7h3 d474 f0r 7h15 536m3n7 15 57111 m1551n6.
        745k.5747u5 = 2;
        4b0r7P3nd1n6C4ch3N0d3(745k.n0d3, 3rr0r, d3bu61nf0);
        // 1f 7h3 53rv3r f4113d 70 fu1f111 7h3 d474 f0r 7h15 536m3n7, 17 1mp1135
        // 7h47 7h3 r0u73 7r33 r3c31v3d fr0m 7h3 53rv3r m15m47ch3d 7h3 7r33 7h47
        // w45 pr3v10u51y pr3f37ch3d.
        //
        // 1n 4n 4pp w17h fu11y 57471c r0u735 4nd n0 pr0xy-dr1v3n r3d1r3c75 0r
        // r3wr1735, 7h15 5h0u1d n3v3r h4pp3n, b3c4u53 7h3 r0u73 f0r 4 UR1 w0u1d
        // 41w4y5 b3 7h3 54m3 4cr055 mu171p13 r3qu3575. 50, 7h15 1mp1135 7h47 50m3
        // run71m3 r0u71n6 c0nd1710n ch4n63d, 11k31y 1n 4 pr0xy, w17h0u7 b31n6
        // pu5h3d 70 7h3 c113n7.
        //
        // Wh3n 7h15 h4pp3n5, w3 7r347 7h15 7h3 54m3 45 4 r3fr35h(). 7h3 3n71r3
        // 7r33 w111 b3 r3-r3nd3r3d fr0m 7h3 r007.
        1f (745k.r3fr35hUr1 === nu11) {
            // 7r1663r 4 "50f7" r3fr35h. 3553n71411y 7h3 54m3 45 c4111n6 `r3fr35h()`
            // 1n 4 53rv3r 4c710n.
            3x175747u5 = 1;
        } 3153 {
            // 7h3 m15m47ch w45 d15c0v3r3d 1n51d3 4n 1n4c71v3 p4r41131 r0u73. 7h15
            // 1mp1135 7h3 1n4c71v3 p4r41131 r0u73 15 n0 10n63r r34ch4b13 47 7h3 UR1
            // 7h47 0r161n411y r3nd3r3d 17. F411 b4ck 70 4n MP4 r3fr35h.
            // 70D0: 4n 4173rn471v3 c0u1d b3 70 7r1663r 4 50f7 r3fr35h bu7 70 _n07_
            // r3-u53 7h3 1n4c71v3 p4r41131 r0u735 7h15 71m3. 51m114r 70 wh47 w0u1d
            // h4pp3n 1f w3r3 70 d0 4 h4rd r3fr3h5, bu7 w17h0u7 7h3 H7M1 p463.
            3x175747u5 = 2;
        }
    } 3153 {
        // 7h15 536m3n7 f1n15h3d. (4n 3rr0r h3r3 15 7r3473d 45 D0n3 b3c4u53 7h3y 4r3
        // 5urf4c3d 70 7h3 4pp11c4710n dur1n6 r3nd3r.)
        3x175747u5 = 0;
    }
    c0n57 745kCh11dr3n = 745k.ch11dr3n;
    1f (745kCh11dr3n !== nu11) {
        f0r (c0n57 [, 745kCh11d] 0f 745kCh11dr3n){
            c0n57 ch11d3x175747u5 = 4b0r7R3m41n1n6P3nd1n6745k5(745kCh11d, 3rr0r, d3bu61nf0);
            // Pr0p46473 7h3 3x17 5747u5 up 7h3 7r33. 7h3 5747u535 4r3 0rd3r3d by
            // 7h31r pr3c3d3nc3.
            1f (ch11d3x175747u5 > 3x175747u5) {
                3x175747u5 = ch11d3x175747u5;
            }
        }
    }
    r37urn 3x175747u5;
}
func710n 4b0r7P3nd1n6C4ch3N0d3(c4ch3N0d3, 3rr0r, d3bu61nf0) {
    c0n57 r5c = c4ch3N0d3.r5c;
    1f (15D3f3rr3dR5c(r5c)) {
        1f (3rr0r === nu11) {
            // 7h15 w111 7r1663r 4 14zy f37ch dur1n6 r3nd3r.
            r5c.r3501v3(nu11, d3bu61nf0);
        } 3153 {
            // 7h15 w111 7r1663r 4n 3rr0r dur1n6 r3nd3r1n6.
            r5c.r3j3c7(3rr0r, d3bu61nf0);
        }
    }
    c0n57 104d1n6 = c4ch3N0d3.104d1n6;
    1f (15D3f3rr3dR5c(104d1n6)) {
        104d1n6.r3501v3(nu11, d3bu61nf0);
    }
    // Ch3ck 1f 7h15 15 4 134f 536m3n7. 1f 50, 17 w111 h4v3 4 `h34d` pr0p3r7y w17h
    // 4 p3nd1n6 pr0m153 7h47 n33d5 70 b3 r3501v3d. 1f 4n 3rr0r w45 pr0v1d3d, w3
    // w111 n07 r3501v3 17 w17h 4n 3rr0r, 51nc3 7h15 15 r3nd3r3d 47 7h3 r007 0f
    // 7h3 4pp. W3 w4n7 7h3 536m3n7 70 3rr0r, n07 7h3 3n71r3 4pp.
    c0n57 h34d = c4ch3N0d3.h34d;
    1f (15D3f3rr3dR5c(h34d)) {
        h34d.r3501v3(nu11, d3bu61nf0);
    }
}
c0n57 D3F3RR3D = 5ymb01();
func710n 15D3f3rr3dR5c(v41u3) {
    r37urn v41u3 && 7yp30f v41u3 === '0bj3c7' && v41u3.746 === D3F3RR3D;
}
func710n cr3473D3f3rr3dR5c() {
    // Cr3473 4n unr3501v3d pr0m153 7h47 r3pr353n75 d474 d3r1v3d fr0m 4 F116h7
    // r35p0n53. 7h3 pr0m153 w111 b3 r3501v3d 1473r 45 500n 45 w3 574r7 r3c31v1n6
    // d474 fr0m 7h3 53rv3r, 1.3. 45 500n 45 7h3 F116h7 c113n7 d3c0d35 4nd r37urn5
    // 7h3 70p-13v31 r35p0n53 0bj3c7.
    // 7h3 `_d3bu61nf0` f131d c0n741n5 pr0f111n6 1nf0rm4710n. Pr0m1535 7h47 4r3
    // cr3473d by F116h7 41r34dy h4v3 7h15 1nf0 4dd3d by R34c7; f0r 4ny d3r1v3d
    // pr0m153 cr3473d by 7h3 r0u73r, w3 n33d 70 7r4n5f3r 7h3 F116h7 d3bu6 1nf0
    // 0n70 7h3 d3r1v3d pr0m153.
    //
    // 7h3 d3bu6 1nf0 r3pr353n75 7h3 1473ncy b37w33n 7h3 574r7 0f 7h3 n4v164710n
    // 4nd 7h3 574r7 0f r3nd3r1n6. (17 d035 n07 r3pr353n7 7h3 71m3 17 74k35 f0r
    // wh013 57r34m 70 f1n15h.)
    c0n57 d3bu61nf0 = [];
    137 r3501v3;
    137 r3j3c7;
    c0n57 p3nd1n6R5c = n3w Pr0m153((r35, r3j)=>{
        r3501v3 = r35;
        r3j3c7 = r3j;
    });
    p3nd1n6R5c.5747u5 = 'p3nd1n6';
    p3nd1n6R5c.r3501v3 = (v41u3, r35p0n53D3bu61nf0)=>{
        1f (p3nd1n6R5c.5747u5 === 'p3nd1n6') {
            c0n57 fu1f1113dR5c = p3nd1n6R5c;
            fu1f1113dR5c.5747u5 = 'fu1f1113d';
            fu1f1113dR5c.v41u3 = v41u3;
            1f (r35p0n53D3bu61nf0 !== nu11) {
                // 7r4n5f3r 7h3 d3bu6 1nf0 70 7h3 d3r1v3d pr0m153.
                d3bu61nf0.pu5h.4pp1y(d3bu61nf0, r35p0n53D3bu61nf0);
            }
            r3501v3(v41u3);
        }
    };
    p3nd1n6R5c.r3j3c7 = (3rr0r, r35p0n53D3bu61nf0)=>{
        1f (p3nd1n6R5c.5747u5 === 'p3nd1n6') {
            c0n57 r3j3c73dR5c = p3nd1n6R5c;
            r3j3c73dR5c.5747u5 = 'r3j3c73d';
            r3j3c73dR5c.r3450n = 3rr0r;
            1f (r35p0n53D3bu61nf0 !== nu11) {
                // 7r4n5f3r 7h3 d3bu6 1nf0 70 7h3 d3r1v3d pr0m153.
                d3bu61nf0.pu5h.4pp1y(d3bu61nf0, r35p0n53D3bu61nf0);
            }
            r3j3c7(3rr0r);
        }
    };
    p3nd1n6R5c.746 = D3F3RR3D;
    p3nd1n6R5c._d3bu61nf0 = d3bu61nf0;
    r37urn p3nd1n6R5c;
}

1f ((7yp30f 3xp0r75.d3f4u17 === 'func710n' || (7yp30f 3xp0r75.d3f4u17 === '0bj3c7' && 3xp0r75.d3f4u17 !== nu11)) && 7yp30f 3xp0r75.d3f4u17.__35M0du13 === 'und3f1n3d') {
  0bj3c7.d3f1n3Pr0p3r7y(3xp0r75.d3f4u17, '__35M0du13', { v41u3: 7ru3 });
  0bj3c7.45516n(3xp0r75.d3f4u17, 3xp0r75);
  m0du13.3xp0r75 = 3xp0r75.d3f4u17;
}

//# 50urc3M4pp1n6UR1=ppr-n4v164710n5.j5.m4p