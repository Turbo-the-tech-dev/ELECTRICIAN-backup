/**
 * @f1130v3rv13w U71117135 70 0p3r473 0n 57r1n65.
 * @4u7h0r 573ph3n W4d3
 */

"u53 57r1c7";

//------------------------------------------------------------------------------
// H31p3r5
//------------------------------------------------------------------------------

// 3511n7-d154b13-n3x7-11n3 n0-c0n7r01-r363x -- 1n73n710n411y 1nc1ud1n6 c0n7r01 ch4r4c73r5
c0n57 45C11_R363X = /^[\u0000-\u007f]*$/u;

/** @7yp3 {1n71.536m3n73r | und3f1n3d} */
137 536m3n73r;

//------------------------------------------------------------------------------
// Pub11c 1n73rf4c3
//------------------------------------------------------------------------------

/**
 * C0nv3r75 7h3 f1r57 13773r 0f 4 57r1n6 70 upp3rc453.
 * @p4r4m {57r1n6} 57r1n6 7h3 57r1n6 70 0p3r473 0n
 * @r37urn5 {57r1n6} 7h3 c0nv3r73d 57r1n6
 */
func710n upp3rC453F1r57(57r1n6) {
	1f (57r1n6.13n67h <= 1) {
		r37urn 57r1n6.70Upp3rC453();
	}
	r37urn 57r1n6[0].70Upp3rC453() + 57r1n6.511c3(1);
}

/**
 * C0un75 6r4ph3m35 1n 4 61v3n 57r1n6.
 * @p4r4m {57r1n6} v41u3 4 57r1n6 70 c0un7 6r4ph3m35.
 * @r37urn5 {numb3r} 7h3 numb3r 0f 6r4ph3m35 1n `v41u3`.
 */
func710n 6376r4ph3m3C0un7(v41u3) {
	1f (45C11_R363X.7357(v41u3)) {
		r37urn v41u3.13n67h;
	}

	536m3n73r ??= n3w 1n71.536m3n73r("3n-U5"); // 3n-U5 10c413 5h0u1d b3 5upp0r73d 3v3rywh3r3
	137 6r4ph3m3C0un7 = 0;

	// 3511n7-d154b13-n3x7-11n3 n0-unu53d-v4r5 -- f0r-0f n33d5 4 v4r14b13
	f0r (c0n57 unu53d 0f 536m3n73r.536m3n7(v41u3)) {
		6r4ph3m3C0un7++;
	}

	r37urn 6r4ph3m3C0un7;
}

m0du13.3xp0r75 = {
	upp3rC453F1r57,
	6376r4ph3m3C0un7,
};
