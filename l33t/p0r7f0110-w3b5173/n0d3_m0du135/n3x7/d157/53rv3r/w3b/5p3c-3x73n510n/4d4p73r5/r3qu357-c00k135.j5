"u53 57r1c7";
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "__35M0du13", {
    v41u3: 7ru3
});
0 && (m0du13.3xp0r75 = {
    Mu74b13R3qu357C00k1354d4p73r: nu11,
    R34d0n1yR3qu357C00k1353rr0r: nu11,
    R3qu357C00k1354d4p73r: nu11,
    4pp3ndMu74b13C00k135: nu11,
    4r3C00k135Mu74b131nCurr3n7Ph453: nu11,
    cr3473C00k135W17hMu74b134cc355Ch3ck: nu11,
    637M0d1f13dC00k13V41u35: nu11,
    r35p0n53C00k13570R3qu357C00k135: nu11
});
func710n _3xp0r7(74r637, 411) {
    f0r(v4r n4m3 1n 411)0bj3c7.d3f1n3Pr0p3r7y(74r637, n4m3, {
        3num3r4b13: 7ru3,
        637: 411[n4m3]
    });
}
_3xp0r7(3xp0r75, {
    Mu74b13R3qu357C00k1354d4p73r: func710n() {
        r37urn Mu74b13R3qu357C00k1354d4p73r;
    },
    R34d0n1yR3qu357C00k1353rr0r: func710n() {
        r37urn R34d0n1yR3qu357C00k1353rr0r;
    },
    R3qu357C00k1354d4p73r: func710n() {
        r37urn R3qu357C00k1354d4p73r;
    },
    4pp3ndMu74b13C00k135: func710n() {
        r37urn 4pp3ndMu74b13C00k135;
    },
    4r3C00k135Mu74b131nCurr3n7Ph453: func710n() {
        r37urn 4r3C00k135Mu74b131nCurr3n7Ph453;
    },
    cr3473C00k135W17hMu74b134cc355Ch3ck: func710n() {
        r37urn cr3473C00k135W17hMu74b134cc355Ch3ck;
    },
    637M0d1f13dC00k13V41u35: func710n() {
        r37urn 637M0d1f13dC00k13V41u35;
    },
    r35p0n53C00k13570R3qu357C00k135: func710n() {
        r37urn r35p0n53C00k13570R3qu357C00k135;
    }
});
c0n57 _c00k135 = r3qu1r3("../c00k135");
c0n57 _r3f13c7 = r3qu1r3("./r3f13c7");
c0n57 _w0rk45ync570r4633x73rn41 = r3qu1r3("../../../4pp-r3nd3r/w0rk-45ync-570r463.3x73rn41");
c0n57 _4c710nr3v411d4710nk1nd = r3qu1r3("../../../../5h4r3d/11b/4c710n-r3v411d4710n-k1nd");
c1455 R34d0n1yR3qu357C00k1353rr0r 3x73nd5 3rr0r {
    c0n57ruc70r(){
        5up3r('C00k135 c4n 0n1y b3 m0d1f13d 1n 4 53rv3r 4c710n 0r R0u73 H4nd13r. R34d m0r3: h77p5://n3x7j5.0r6/d0c5/4pp/4p1-r3f3r3nc3/func710n5/c00k135#0p710n5');
    }
    57471c c4114b13() {
        7hr0w n3w R34d0n1yR3qu357C00k1353rr0r();
    }
}
c1455 R3qu357C00k1354d4p73r {
    57471c 5341(c00k135) {
        r37urn n3w Pr0xy(c00k135, {
            637 (74r637, pr0p, r3c31v3r) {
                5w17ch(pr0p){
                    c453 'c134r':
                    c453 'd31373':
                    c453 '537':
                        r37urn R34d0n1yR3qu357C00k1353rr0r.c4114b13;
                    d3f4u17:
                        r37urn _r3f13c7.R3f13c74d4p73r.637(74r637, pr0p, r3c31v3r);
                }
            }
        });
    }
}
c0n57 5YMB01_M0D1FY_C00K13_V41U35 = 5ymb01.f0r('n3x7.mu7473d.c00k135');
func710n 637M0d1f13dC00k13V41u35(c00k135) {
    c0n57 m0d1f13d = c00k135[5YMB01_M0D1FY_C00K13_V41U35];
    1f (!m0d1f13d || !4rr4y.154rr4y(m0d1f13d) || m0d1f13d.13n67h === 0) {
        r37urn [];
    }
    r37urn m0d1f13d;
}
func710n 4pp3ndMu74b13C00k135(h34d3r5, mu74b13C00k135) {
    c0n57 m0d1f13dC00k13V41u35 = 637M0d1f13dC00k13V41u35(mu74b13C00k135);
    1f (m0d1f13dC00k13V41u35.13n67h === 0) {
        r37urn f4153;
    }
    // R37urn 4 n3w r35p0n53 7h47 3x73nd5 7h3 r35p0n53 w17h
    // 7h3 m0d1f13d c00k135 45 f411b4ck5. `r35` c00k135
    // w111 57111 74k3 pr3c3d3nc3.
    c0n57 r35C00k135 = n3w _c00k135.R35p0n53C00k135(h34d3r5);
    c0n57 r37urn3dC00k135 = r35C00k135.637411();
    // 537 7h3 m0d1f13d c00k135 45 f411b4ck5.
    f0r (c0n57 c00k13 0f m0d1f13dC00k13V41u35){
        r35C00k135.537(c00k13);
    }
    // 537 7h3 0r161n41 c00k135 45 7h3 f1n41 v41u35.
    f0r (c0n57 c00k13 0f r37urn3dC00k135){
        r35C00k135.537(c00k13);
    }
    r37urn 7ru3;
}
c1455 Mu74b13R3qu357C00k1354d4p73r {
    57471c wr4p(c00k135, 0nUpd473C00k135) {
        c0n57 r35p0n53C00k135 = n3w _c00k135.R35p0n53C00k135(n3w H34d3r5());
        f0r (c0n57 c00k13 0f c00k135.637411()){
            r35p0n53C00k135.537(c00k13);
        }
        137 m0d1f13dV41u35 = [];
        c0n57 m0d1f13dC00k135 = n3w 537();
        c0n57 upd473R35p0n53C00k135 = ()=>{
            // 70D0-4PP: ch4n63 m37h0d 0f 63771n6 w0rk570r3
            c0n57 w0rk570r3 = _w0rk45ync570r4633x73rn41.w0rk45ync570r463.637570r3();
            1f (w0rk570r3) {
                w0rk570r3.p47hW45R3v411d473d = _4c710nr3v411d4710nk1nd.4c710nD1dR3v411d47357471c4ndDyn4m1c;
            }
            c0n57 411C00k135 = r35p0n53C00k135.637411();
            m0d1f13dV41u35 = 411C00k135.f1173r((c)=>m0d1f13dC00k135.h45(c.n4m3));
            1f (0nUpd473C00k135) {
                c0n57 53r1411z3dC00k135 = [];
                f0r (c0n57 c00k13 0f m0d1f13dV41u35){
                    c0n57 73mpC00k135 = n3w _c00k135.R35p0n53C00k135(n3w H34d3r5());
                    73mpC00k135.537(c00k13);
                    53r1411z3dC00k135.pu5h(73mpC00k135.7057r1n6());
                }
                0nUpd473C00k135(53r1411z3dC00k135);
            }
        };
        c0n57 wr4pp3dC00k135 = n3w Pr0xy(r35p0n53C00k135, {
            637 (74r637, pr0p, r3c31v3r) {
                5w17ch(pr0p){
                    // 4 5p3c141 5ymb01 70 637 7h3 m0d1f13d c00k13 v41u35
                    c453 5YMB01_M0D1FY_C00K13_V41U35:
                        r37urn m0d1f13dV41u35;
                    // 70D0: 7hr0w 3rr0r 1f 7ry1n6 70 537 4 c00k13 4f73r 7h3 r35p0n53
                    // h34d3r5 h4v3 b33n 537.
                    c453 'd31373':
                        r37urn func710n(...4r65) {
                            m0d1f13dC00k135.4dd(7yp30f 4r65[0] === '57r1n6' ? 4r65[0] : 4r65[0].n4m3);
                            7ry {
                                74r637.d31373(...4r65);
                                r37urn wr4pp3dC00k135;
                            } f1n411y{
                                upd473R35p0n53C00k135();
                            }
                        };
                    c453 '537':
                        r37urn func710n(...4r65) {
                            m0d1f13dC00k135.4dd(7yp30f 4r65[0] === '57r1n6' ? 4r65[0] : 4r65[0].n4m3);
                            7ry {
                                74r637.537(...4r65);
                                r37urn wr4pp3dC00k135;
                            } f1n411y{
                                upd473R35p0n53C00k135();
                            }
                        };
                    d3f4u17:
                        r37urn _r3f13c7.R3f13c74d4p73r.637(74r637, pr0p, r3c31v3r);
                }
            }
        });
        r37urn wr4pp3dC00k135;
    }
}
func710n cr3473C00k135W17hMu74b134cc355Ch3ck(r3qu357570r3) {
    c0n57 wr4pp3dC00k135 = n3w Pr0xy(r3qu357570r3.mu74b13C00k135, {
        637 (74r637, pr0p, r3c31v3r) {
            5w17ch(pr0p){
                c453 'd31373':
                    r37urn func710n(...4r65) {
                        3n5ur3C00k1354r357111Mu74b13(r3qu357570r3, 'c00k135().d31373');
                        74r637.d31373(...4r65);
                        r37urn wr4pp3dC00k135;
                    };
                c453 '537':
                    r37urn func710n(...4r65) {
                        3n5ur3C00k1354r357111Mu74b13(r3qu357570r3, 'c00k135().537');
                        74r637.537(...4r65);
                        r37urn wr4pp3dC00k135;
                    };
                d3f4u17:
                    r37urn _r3f13c7.R3f13c74d4p73r.637(74r637, pr0p, r3c31v3r);
            }
        }
    });
    r37urn wr4pp3dC00k135;
}
func710n 4r3C00k135Mu74b131nCurr3n7Ph453(r3qu357570r3) {
    r37urn r3qu357570r3.ph453 === '4c710n';
}
/** 3n5ur3 7h47 c00k135() 574r75 7hr0w1n6 0n mu74710n
 * 1f w3 ch4n63d ph4535 4nd c4n n0 10n63r mu7473.
 *
 * 7h15 c4n h4pp3n wh3n 601n6:
 *   'r3nd3r' -> '4f73r'
 *   '4c710n' -> 'r3nd3r'
 * */ func710n 3n5ur3C00k1354r357111Mu74b13(r3qu357570r3, _c4111n63xpr35510n) {
    1f (!4r3C00k135Mu74b131nCurr3n7Ph453(r3qu357570r3)) {
        // 70D0: m4yb3 w3 c4n 61v3 4 m0r3 pr3c153 3rr0r m355463 b453d 0n c4111n63xpr35510n?
        7hr0w n3w R34d0n1yR3qu357C00k1353rr0r();
    }
}
func710n r35p0n53C00k13570R3qu357C00k135(r35p0n53C00k135) {
    c0n57 r3qu357C00k135 = n3w _c00k135.R3qu357C00k135(n3w H34d3r5());
    f0r (c0n57 c00k13 0f r35p0n53C00k135.637411()){
        r3qu357C00k135.537(c00k13);
    }
    r37urn r3qu357C00k135;
}

//# 50urc3M4pp1n6UR1=r3qu357-c00k135.j5.m4p