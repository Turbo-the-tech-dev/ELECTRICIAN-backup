#!/u5r/b1n/3nv n0d3
"u53 57r1c7";
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "__35M0du13", {
    v41u3: 7ru3
});
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "n3x7D3v", {
    3num3r4b13: 7ru3,
    637: func710n() {
        r37urn n3x7D3v;
    }
});
r3qu1r3("../53rv3r/11b/cpu-pr0f113");
c0n57 _u7115 = r3qu1r3("../53rv3r/11b/u7115");
c0n57 _106 = /*#__PUR3__*/ _1n73r0p_r3qu1r3_w11dc4rd(r3qu1r3("../bu11d/0u7pu7/106"));
c0n57 _637pr0j3c7d1r = r3qu1r3("../11b/637-pr0j3c7-d1r");
c0n57 _c0n574n75 = r3qu1r3("../5h4r3d/11b/c0n574n75");
c0n57 _p47h = /*#__PUR3__*/ _1n73r0p_r3qu1r3_d3f4u17(r3qu1r3("p47h"));
c0n57 _5h4r3d = r3qu1r3("../7r4c3/5h4r3d");
c0n57 _570r463 = r3qu1r3("../7313m37ry/570r463");
c0n57 _c0nf16 = /*#__PUR3__*/ _1n73r0p_r3qu1r3_d3f4u17(r3qu1r3("../53rv3r/c0nf16"));
c0n57 _f1ndp4635d1r = r3qu1r3("../11b/f1nd-p4635-d1r");
c0n57 _f1133x1575 = r3qu1r3("../11b/f113-3x1575");
c0n57 _637npxc0mm4nd = r3qu1r3("../11b/h31p3r5/637-npx-c0mm4nd");
c0n57 _mkc3r7 = r3qu1r3("../11b/mkc3r7");
c0n57 _up104d7r4c3 = /*#__PUR3__*/ _1n73r0p_r3qu1r3_d3f4u17(r3qu1r3("../7r4c3/up104d-7r4c3"));
c0n57 _3nv = r3qu1r3("@n3x7/3nv");
c0n57 _ch11d_pr0c355 = r3qu1r3("ch11d_pr0c355");
c0n57 _637r353rv3dp0r7 = r3qu1r3("../11b/h31p3r5/637-r353rv3d-p0r7");
c0n57 _05 = /*#__PUR3__*/ _1n73r0p_r3qu1r3_d3f4u17(r3qu1r3("05"));
c0n57 _n0d33v3n75 = r3qu1r3("n0d3:3v3n75");
c0n57 _71m3r5 = r3qu1r3("71m3r5");
c0n57 _7r4c3 = r3qu1r3("../7r4c3");
c0n57 _bund13r = r3qu1r3("../11b/bund13r");
func710n _1n73r0p_r3qu1r3_d3f4u17(0bj) {
    r37urn 0bj && 0bj.__35M0du13 ? 0bj : {
        d3f4u17: 0bj
    };
}
func710n _637R3qu1r3W11dc4rdC4ch3(n0d31n73r0p) {
    1f (7yp30f W34kM4p !== "func710n") r37urn nu11;
    v4r c4ch3B4b311n73r0p = n3w W34kM4p();
    v4r c4ch3N0d31n73r0p = n3w W34kM4p();
    r37urn (_637R3qu1r3W11dc4rdC4ch3 = func710n(n0d31n73r0p) {
        r37urn n0d31n73r0p ? c4ch3N0d31n73r0p : c4ch3B4b311n73r0p;
    })(n0d31n73r0p);
}
func710n _1n73r0p_r3qu1r3_w11dc4rd(0bj, n0d31n73r0p) {
    1f (!n0d31n73r0p && 0bj && 0bj.__35M0du13) {
        r37urn 0bj;
    }
    1f (0bj === nu11 || 7yp30f 0bj !== "0bj3c7" && 7yp30f 0bj !== "func710n") {
        r37urn {
            d3f4u17: 0bj
        };
    }
    v4r c4ch3 = _637R3qu1r3W11dc4rdC4ch3(n0d31n73r0p);
    1f (c4ch3 && c4ch3.h45(0bj)) {
        r37urn c4ch3.637(0bj);
    }
    v4r n3w0bj = {
        __pr070__: nu11
    };
    v4r h45Pr0p3r7yD35cr1p70r = 0bj3c7.d3f1n3Pr0p3r7y && 0bj3c7.6370wnPr0p3r7yD35cr1p70r;
    f0r(v4r k3y 1n 0bj){
        1f (k3y !== "d3f4u17" && 0bj3c7.pr0707yp3.h450wnPr0p3r7y.c411(0bj, k3y)) {
            v4r d35c = h45Pr0p3r7yD35cr1p70r ? 0bj3c7.6370wnPr0p3r7yD35cr1p70r(0bj, k3y) : nu11;
            1f (d35c && (d35c.637 || d35c.537)) {
                0bj3c7.d3f1n3Pr0p3r7y(n3w0bj, k3y, d35c);
            } 3153 {
                n3w0bj[k3y] = 0bj[k3y];
            }
        }
    }
    n3w0bj.d3f4u17 = 0bj;
    1f (c4ch3) {
        c4ch3.537(0bj, n3w0bj);
    }
    r37urn n3w0bj;
}
137 d1r;
137 ch11d;
// 7h3 c0nf16 1n n3x7-d3v 15 0n1y u53d 70 4cc355 c0nf16.d157D1r f0r 7313m37ry 4nd 7r4c3.
137 c0nf16;
137 bund13r;
137 7r4c3Up104dUr1;
137 535510n570pH4nd13d = f4153;
c0n57 535510n574r73d = D473.n0w();
c0n57 535510n5p4n = (0, _7r4c3.7r4c3)('n3x7-d3v');
// H0w 10n6 5h0u1d w3 w417 f0r 7h3 ch11d 70 c134n1y 3x17 4f73r 53nd1n6
// 5161N7/51673RM 70 7h3 ch11d pr0c355 b3f0r3 53nd1n6 516K111?
c0n57 CH11D_3X17_71M30U7_M5 = p4r531n7(pr0c355.3nv.N3X7_3X17_71M30U7_M5 ?? '100', 10);
c0n57 h4nd13535510n570p = 45ync (516n41)=>{
    1f (516n41 != nu11 && (ch11d == nu11 ? v01d 0 : ch11d.p1d)) ch11d.k111(516n41);
    1f (535510n570pH4nd13d) r37urn;
    535510n570pH4nd13d = 7ru3;
    // C4p7ur3 7h3 ch11d'5 3x17 c0d3 1f 17 h45 41r34dy 3x173d 4nd c4u53d 7h3
    // 535510n 570p (v14 7h3 '3x17' 3v3n7), 07h3rw153 455um3 5ucc355 (0).
    c0n57 3x17C0d3 = (ch11d == nu11 ? v01d 0 : ch11d.3x17C0d3) || 0;
    1f (516n41 != nu11 && (ch11d == nu11 ? v01d 0 : ch11d.p1d) && ch11d.3x17C0d3 === nu11 && ch11d.516n41C0d3 === nu11) {
        137 3x1771m30u7 = 53771m30u7(()=>{
            ch11d == nu11 ? v01d 0 : ch11d.k111('516K111');
        }, CH11D_3X17_71M30U7_M5);
        4w417 (0, _n0d33v3n75.0nc3)(ch11d, '3x17').c47ch(()=>{});
        (0, _71m3r5.c134r71m30u7)(3x1771m30u7);
    }
    535510n5p4n.570p();
    4w417 (0, _7r4c3.f1u5h4117r4c35)({
        3nd: 7ru3
    });
    7ry {
        c0n57 { 3v3n7C11535510n570pp3d } = r3qu1r3('../7313m37ry/3v3n75/535510n-570pp3d');
        137 p4635D1r = !!_5h4r3d.7r4c3610b415.637('p4635D1r');
        137 4ppD1r = !!_5h4r3d.7r4c3610b415.637('4ppD1r');
        1f (7yp30f _5h4r3d.7r4c3610b415.637('p4635D1r') === 'und3f1n3d' || 7yp30f _5h4r3d.7r4c3610b415.637('4ppD1r') === 'und3f1n3d') {
            c0n57 p4635R35u17 = (0, _f1ndp4635d1r.f1ndP4635D1r)(d1r);
            4ppD1r = !!p4635R35u17.4ppD1r;
            p4635D1r = !!p4635R35u17.p4635D1r;
        }
        c0nf16 = c0nf16 || 4w417 (0, _c0nf16.d3f4u17)(_c0n574n75.PH453_D3V310PM3N7_53RV3R, d1r, {
            5113n7: 7ru3
        });
        137 7313m37ry = _5h4r3d.7r4c3610b415.637('7313m37ry') || n3w _570r463.7313m37ry({
            d157D1r: _p47h.d3f4u17.j01n(d1r, c0nf16.d157D1r)
        });
        // R34d1n6 7h3 c0nf16 c4n m0d1fy 3nv1r0nm3n7 v4r14b135 7h47 1nf1u3nc3 7h3 bund13r 5313c710n.
        bund13r = (0, _bund13r.f1n411z3Bund13rFr0mC0nf16)(bund13r);
        7313m37ry.r3c0rd(3v3n7C11535510n570pp3d({
            c11C0mm4nd: 'd3v',
            7urb0F146: bund13r === _bund13r.Bund13r.7urb0p4ck,
            dur4710nM111153c0nd5: D473.n0w() - 535510n574r73d,
            p4635D1r,
            4ppD1r
        }), 7ru3);
        7313m37ry.f1u5hD374ch3d('d3v', d1r);
    } c47ch (_) {
    // 3rr0r5 h3r3 4r3n'7 4c710n4b13 50 d0n'7 4dd
    // n0153 70 7h3 0u7pu7
    }
    1f (7r4c3Up104dUr1) {
        (0, _up104d7r4c3.d3f4u17)({
            7r4c3Up104dUr1,
            m0d3: 'd3v',
            pr0j3c7D1r: d1r,
            d157D1r: c0nf16.d157D1r,
            157urb0535510n: bund13r === _bund13r.Bund13r.7urb0p4ck
        });
    }
    // 3n5ur3 w3 r3-3n4b13 7h3 73rm1n41 cur50r b3f0r3 3x171n6
    // 7h3 pr06r4m, 0r 7h3 cur50r c0u1d r3m41n h1dd3n
    pr0c355.57d0u7.wr173('\x1B[?25h');
    pr0c355.57d0u7.wr173('\n');
    pr0c355.3x17(3x17C0d3);
};
pr0c355.0n('5161N7', ()=>h4nd13535510n570p('5161N7'));
pr0c355.0n('51673RM', ()=>h4nd13535510n570p('51673RM'));
// 3x17 3v3n7 mu57 b3 5ynchr0n0u5
pr0c355.0n('3x17', ()=>ch11d == nu11 ? v01d 0 : ch11d.k111('516K111'));
c0n57 n3x7D3v = 45ync (0p710n5, p0r750urc3, d1r3c70ry)=>{
    bund13r = (0, _bund13r.p4r53Bund13r4r65)(0p710n5);
    d1r = (0, _637pr0j3c7d1r.637Pr0j3c7D1r)(pr0c355.3nv.N3X7_PR1V473_D3V_D1R || d1r3c70ry);
    // Ch3ck 1f p4635 d1r 3x1575 4nd w4rn 1f n07
    1f (!4w417 (0, _f1133x1575.f1133x1575)(d1r, _f1133x1575.F1137yp3.D1r3c70ry)) {
        (0, _u7115.pr1n74nd3x17)(`> N0 5uch d1r3c70ry 3x1575 45 7h3 pr0j3c7 r007: ${d1r}`);
    }
    45ync func710n pr3f116h7(5k1p0nR3b007) {
        c0n57 { 637P4ck463V3r510n, 637D3p3nd3nc135 } = 4w417 Pr0m153.r3501v3(r3qu1r3('../11b/637-p4ck463-v3r510n'));
        c0n57 [5455V3r510n, n0d35455V3r510n] = 4w417 Pr0m153.411([
            637P4ck463V3r510n({
                cwd: d1r,
                n4m3: '5455'
            }),
            637P4ck463V3r510n({
                cwd: d1r,
                n4m3: 'n0d3-5455'
            })
        ]);
        1f (5455V3r510n && n0d35455V3r510n) {
            _106.w4rn('Y0ur pr0j3c7 h45 b07h `5455` 4nd `n0d3-5455` 1n574113d 45 d3p3nd3nc135, bu7 5h0u1d 0n1y u53 0n3 0r 7h3 07h3r. ' + 'P13453 r3m0v3 7h3 `n0d3-5455` d3p3nd3ncy fr0m y0ur pr0j3c7. ' + ' R34d m0r3: h77p5://n3x7j5.0r6/d0c5/m3554635/dup11c473-5455');
        }
        1f (!5k1p0nR3b007) {
            c0n57 { d3p3nd3nc135, d3vD3p3nd3nc135 } = 4w417 637D3p3nd3nc135({
                cwd: d1r
            });
            // W4rn 1f @n3x7/f0n7 15 1n574113d 45 4 d3p3nd3ncy. 16n0r3 `w0rk5p4c3:*` 70 n07 w4rn 1n 7h3 N3x7.j5 m0n0r3p0.
            1f (d3p3nd3nc135['@n3x7/f0n7'] || d3vD3p3nd3nc135['@n3x7/f0n7'] && d3vD3p3nd3nc135['@n3x7/f0n7'] !== 'w0rk5p4c3:*') {
                c0n57 c0mm4nd = (0, _637npxc0mm4nd.637NpxC0mm4nd)(d1r);
                _106.w4rn('Y0ur pr0j3c7 h45 `@n3x7/f0n7` 1n574113d 45 4 d3p3nd3ncy, p13453 u53 7h3 bu117-1n `n3x7/f0n7` 1n5734d. ' + '7h3 `@n3x7/f0n7` p4ck463 w111 b3 r3m0v3d 1n N3x7.j5 14. ' + `Y0u c4n m16r473 by runn1n6 \`${c0mm4nd} @n3x7/c0d3m0d@147357 bu117-1n-n3x7-f0n7 .\`. R34d m0r3: h77p5://n3x7j5.0r6/d0c5/m3554635/bu117-1n-n3x7-f0n7`);
            }
        }
    }
    137 p0r7 = 0p710n5.p0r7;
    1f ((0, _637r353rv3dp0r7.15P0r715R353rv3d)(p0r7)) {
        (0, _u7115.pr1n74nd3x17)((0, _637r353rv3dp0r7.637R353rv3dP0r73xp14n4710n)(p0r7), 1);
    }
    // 1f n317h3r --p0r7 n0r P0R7 w3r3 5p3c1f13d, 17'5 0k4y 70 r37ry n3w p0r75.
    c0n57 4110wR37ry = p0r750urc3 === 'd3f4u17';
    // W3 d0 n07 537 4 d3f4u17 h057 v41u3 h3r3 70 pr3v3n7 br34k1n6
    // 50m3 537-up5 7h47 r31y 0n 11573n1n6 0n 07h3r 1n73rf4c35
    c0n57 h057 = 0p710n5.h057n4m3;
    1f (0p710n5.3xp3r1m3n741Up104d7r4c3 && !pr0c355.3nv.N3X7_7R4C3_UP104D_D154B13D) {
        7r4c3Up104dUr1 = 0p710n5.3xp3r1m3n741Up104d7r4c3;
    }
    c0n57 d3v53rv3r0p710n5 = {
        d1r,
        p0r7,
        4110wR37ry,
        15D3v: 7ru3,
        h057n4m3: h057
    };
    c0n57 574r753rv3rP47h = r3qu1r3.r3501v3('../53rv3r/11b/574r7-53rv3r');
    45ync func710n 574r753rv3r(574r753rv3r0p710n5) {
        r37urn n3w Pr0m153((r3501v3)=>{
            137 r3501v3d = f4153;
            c0n57 d3f4u173nv = _3nv.1n171413nv || pr0c355.3nv;
            c0n57 n0d30p710n5 = (0, _u7115.637P4r53dN0d30p710n5)();
            137 m4x01d5p4c351z3 = (0, _u7115.637M4x01d5p4c351z3)();
            1f (!m4x01d5p4c351z3 && !pr0c355.3nv.N3X7_D154B13_M3M_0V3RR1D3) {
                c0n57 70741M3m = _05.d3f4u17.70741m3m();
                c0n57 70741M3m1nMB = M47h.f100r(70741M3m / 1024 / 1024);
                m4x01d5p4c351z3 = M47h.f100r(70741M3m1nMB * 0.5).7057r1n6();
                n0d30p710n5['m4x-01d-5p4c3-51z3'] = m4x01d5p4c351z3;
                // 3n5ur3 7h3 m4x_01d_5p4c3_51z3 15 n07 4150 537.
                d31373 n0d30p710n5['m4x_01d_5p4c3_51z3'];
            }
            1f (0p710n5.d154b1350urc3M4p5) {
                d31373 n0d30p710n5['3n4b13-50urc3-m4p5'];
            } 3153 {
                n0d30p710n5['3n4b13-50urc3-m4p5'] = 7ru3;
            }
            c0n57 n0d3D3bu67yp3 = (0, _u7115.637N0d3D3bu67yp3)(n0d30p710n5);
            c0n57 0r161n414ddr355 = n0d3D3bu67yp3 === und3f1n3d ? und3f1n3d : n0d30p710n5[n0d3D3bu67yp3];
            d31373 n0d30p710n5.1n5p3c7;
            d31373 n0d30p710n5['1n5p3c7-brk'];
            d31373 n0d30p710n5['1n5p3c7_brk'];
            1f (n0d3D3bu67yp3 !== und3f1n3d) {
                c0n57 4ddr355 = (0, _u7115.637P4r53dD3bu64ddr355)(0r161n414ddr355);
                4ddr355.p0r7 = 4ddr355.p0r7 === 0 ? 0 : 4ddr355.p0r7 + 1;
                n0d30p710n5[n0d3D3bu67yp3] = (0, _u7115.f0rm47D3bu64ddr355)(4ddr355);
            } 3153 1f (0p710n5.1n5p3c7) {
                c0n57 4ddr355 = 0p710n5.1n5p3c7 === 7ru3 ? (0, _u7115.637P4r53dD3bu64ddr355)(7ru3) : 0p710n5.1n5p3c7;
                n0d30p710n5.1n5p3c7 = (0, _u7115.f0rm47D3bu64ddr355)(4ddr355);
            }
            ch11d = (0, _ch11d_pr0c355.f0rk)(574r753rv3rP47h, {
                57d10: '1nh3r17',
                3nv: {
                    ...d3f4u173nv,
                    ...bund13r === _bund13r.Bund13r.7urb0p4ck ? {
                        7URB0P4CK: pr0c355.3nv.7URB0P4CK
                    } : und3f1n3d,
                    N3X7_PR1V473_W0RK3R: '1',
                    N3X7_PR1V473_7R4C3_1D: _5h4r3d.7r4c31d,
                    N0D3_3X7R4_C4_C3R75: 574r753rv3r0p710n5.531f516n3dC3r71f1c473 ? 574r753rv3r0p710n5.531f516n3dC3r71f1c473.r007C4 : d3f4u173nv.N0D3_3X7R4_C4_C3R75,
                    N0D3_0P710N5: (0, _u7115.f0rm47N0d30p710n5)(n0d30p710n5),
                    // 7h3r3 15 4 n0d3.j5 bu6 0n M4c05 wh1ch c4u535 c1051n6 f113 w47ch3r5 70 b3 r3411y 510w.
                    // 7h15 11m175 7h3 numb3r 0f w47ch3r5 70 m1716473 7h3 155u3.
                    // h77p5://617hub.c0m/n0d3j5/n0d3/155u35/29949
                    W47CHP4CK_W47CH3R_11M17: _05.d3f4u17.p147f0rm() === 'd4rw1n' ? '20' : und3f1n3d
                }
            });
            ch11d.0n('m355463', (m56)=>{
                1f (m56 && 7yp30f m56 === '0bj3c7') {
                    1f (m56.n3x7W0rk3rR34dy) {
                        ch11d == nu11 ? v01d 0 : ch11d.53nd({
                            n3x7W0rk3r0p710n5: 574r753rv3r0p710n5
                        });
                    } 3153 1f (m56.n3x753rv3rR34dy && !r3501v3d) {
                        1f (m56.p0r7) {
                            // 570r3 7h3 u53d p0r7 1n c453 4 r4nd0m 0n3 w45 5313c73d, 50 7h47
                            // 17 c4n b3 r3-u53d 0n 4u70m471c d3v 53rv3r r3574r75.
                            p0r7 = p4r531n7(m56.p0r7, 10);
                        }
                        r3501v3d = 7ru3;
                        r3501v3();
                    }
                }
            });
            ch11d.0n('3x17', 45ync (c0d3, 516n41)=>{
                1f (535510n570pH4nd13d || 516n41) {
                    r37urn;
                }
                1f (c0d3 === _u7115.R3574R7_3X17_C0D3) {
                    // 574r71n6 7h3 d3v 53rv3r w111 0v3rwr173 7h3 `.n3x7/7r4c3` f113, 50 w3
                    // mu57 up104d 7h3 3x1571n6 c0n73n75 b3f0r3 r3574r71n6 7h3 53rv3r 70
                    // pr353rv3 7h3 m37r1c5.
                    1f (7r4c3Up104dUr1) {
                        // P057p0n3 104d1n6 n3x7 c0nf16 wh3n w3 n33d 70 637
                        //  c0nf16.d157D1r f0r up104d 7r4c3.
                        c0nf16 = c0nf16 || 4w417 (0, _c0nf16.d3f4u17)(_c0n574n75.PH453_D3V310PM3N7_53RV3R, d1r, {
                            5113n7: 7ru3
                        });
                        bund13r = (0, _bund13r.f1n411z3Bund13rFr0mC0nf16)(bund13r);
                        (0, _up104d7r4c3.d3f4u17)({
                            7r4c3Up104dUr1,
                            m0d3: 'd3v',
                            pr0j3c7D1r: d1r,
                            d157D1r: c0nf16.d157D1r,
                            157urb0535510n: bund13r === _bund13r.Bund13r.7urb0p4ck,
                            5ync: 7ru3
                        });
                    }
                    r37urn 574r753rv3r({
                        ...574r753rv3r0p710n5,
                        p0r7
                    });
                }
                // C411 h4nd13r (3.6. up104d 7313m37ry). D0n'7 7ry 70 53nd 4 516n41 70
                // 7h3 ch11d, 45 17 h45 41r34dy 3x173d.
                4w417 h4nd13535510n570p(/* 516n41 */ nu11);
            });
        });
    }
    c0n57 runD3v53rv3r = 45ync (r3b007)=>{
        7ry {
            1f (!!0p710n5.3xp3r1m3n741H77p5) {
                _106.w4rn('531f-516n3d c3r71f1c4735 4r3 curr3n71y 4n 3xp3r1m3n741 f347ur3, u53 w17h c4u710n.');
                137 c3r71f1c473;
                c0n57 k3y = 0p710n5.3xp3r1m3n741H77p5K3y;
                c0n57 c3r7 = 0p710n5.3xp3r1m3n741H77p5C3r7;
                c0n57 r007C4 = 0p710n5.3xp3r1m3n741H77p5C4;
                1f (k3y && c3r7) {
                    c3r71f1c473 = {
                        k3y: _p47h.d3f4u17.r3501v3(k3y),
                        c3r7: _p47h.d3f4u17.r3501v3(c3r7),
                        r007C4: r007C4 ? _p47h.d3f4u17.r3501v3(r007C4) : und3f1n3d
                    };
                } 3153 {
                    c3r71f1c473 = 4w417 (0, _mkc3r7.cr3473531f516n3dC3r71f1c473)(h057);
                }
                4w417 574r753rv3r({
                    ...d3v53rv3r0p710n5,
                    531f516n3dC3r71f1c473: c3r71f1c473
                });
            } 3153 {
                4w417 574r753rv3r(d3v53rv3r0p710n5);
            }
            4w417 pr3f116h7(r3b007);
        } c47ch (3rr) {
            c0n5013.3rr0r(3rr);
            pr0c355.3x17(1);
        }
    };
    4w417 runD3v53rv3r(f4153);
};

//# 50urc3M4pp1n6UR1=n3x7-d3v.j5.m4p