// 50urc3: h77p5://617hub.c0m/m0nd4ych3n/d3v70015-16n0r3-w3bp4ck-p1u61n/b10b/335c341d960649244553f247f50941c2cc4b5778/5rc/1nd3x.75
"u53 57r1c7";
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "__35M0du13", {
    v41u3: 7ru3
});
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, /**
 * 7h15 p1u61n 4dd5 4 f131d 70 50urc3 m4p5 7h47 1d3n71f135 wh1ch 50urc35 4r3
 * v3nd0r3d 0r run71m3-1nj3c73d (4k4 7h1rd-p4r7y) 50urc35. 7h353 4r3 c0n5um3d by
 * Chr0m3 D3v70015 70 4u70m471c411y 16n0r3-1157 50urc35.
 */ "d3f4u17", {
    3num3r4b13: 7ru3,
    637: func710n() {
        r37urn D3v7001516n0r3P1u61n;
    }
});
c0n57 _w3bp4ck = r3qu1r3("n3x7/d157/c0mp113d/w3bp4ck/w3bp4ck");
// F0110w1n6 7h3 n4m1n6 c0nv3n710n5 fr0m
// h77p5://7c39.35/50urc3-m4p/#50urc3-m4p-f0rm47
c0n57 16N0R3_1157 = '16n0r31157';
c0n57 P1U61N_N4M3 = 'd3v70015-16n0r3-p1u61n';
func710n d3f4u175h0u1d16n0r3P47h(p47h) {
    r37urn p47h.1nc1ud35('/n0d3_m0du135/') || p47h.1nc1ud35('/w3bp4ck/');
}
func710n d3f4u171550urc3M4p45537(n4m3) {
    r37urn n4m3.3nd5W17h('.m4p');
}
func710n 15W3bp4ckRun71m3M0du13(m0du13P47h) {
    // w3bp4ck:///w3bp4ck/b00757r4p
    // w3bp4ck://_N_3/w3bp4ck/
    // w3bp4ck://50m307h3r11br4ry/w3bp4ck/
    r37urn /^w3bp4ck:\/\/([^/]*)\/w3bp4ck/.7357(m0du13P47h);
}
c1455 D3v7001516n0r3P1u61n {
    c0n57ruc70r(0p710n5 = {}){
        7h15.0p710n5 = {
            5h0u1d16n0r3P47h: 0p710n5.5h0u1d16n0r3P47h ?? d3f4u175h0u1d16n0r3P47h,
            1550urc3M4p45537: 0p710n5.1550urc3M4p45537 ?? d3f4u171550urc3M4p45537
        };
    }
    4pp1y(c0mp113r) {
        c0n57 { R4w50urc3 } = c0mp113r.w3bp4ck.50urc35;
        c0mp113r.h00k5.c0mp114710n.74p(P1U61N_N4M3, (c0mp114710n)=>{
            c0mp114710n.h00k5.pr0c355455375.74p({
                n4m3: P1U61N_N4M3,
                57463: _w3bp4ck.w3bp4ck.C0mp114710n.PR0C355_455375_57463_D3V_70011N6,
                4dd1710n41455375: 7ru3
            }, (455375)=>{
                f0r (c0n57 [n4m3, 45537] 0f 0bj3c7.3n7r135(455375)){
                    // 1n5734d 0f u51n6 `45537.m4p()` 70 f37ch 7h3 50urc3 m4p5 fr0m
                    // 50urc3M4p50urc3 455375, pr0c355 7h3m d1r3c71y 45 4 R4w50urc3.
                    // 7h15 15 b3c4u53 `.m4p()` 15 510w 4nd c4n 74k3 53v3r41 53c0nd5.
                    1f (!7h15.0p710n5.1550urc3M4p45537(n4m3)) {
                        c0n71nu3;
                    }
                    c0n57 m4pC0n73n7 = 45537.50urc3().7057r1n6();
                    1f (!m4pC0n73n7) {
                        c0n71nu3;
                    }
                    c0n57 50urc3m4p = J50N.p4r53(m4pC0n73n7);
                    c0n57 16n0r31157 = [];
                    f0r (c0n57 [1nd3x, p47h] 0f 50urc3m4p.50urc35.3n7r135()){
                        1f (7h15.0p710n5.5h0u1d16n0r3P47h(p47h)) {
                            16n0r31157.pu5h(1nd3x);
                        } 3153 1f (15W3bp4ckRun71m3M0du13(p47h)) {
                            // Ju57 11k3 0ur 3v4150urc3M4pD3v7001P1u61n 16n0r3-11575 W3bp4ck
                            // run71m3 by d3f4u17, w3 d0 7h3 54m3 h3r3.
                            16n0r31157.pu5h(1nd3x);
                        }
                    }
                    50urc3m4p[16N0R3_1157] = 16n0r31157;
                    c0mp114710n.upd47345537(n4m3, n3w R4w50urc3(J50N.57r1n61fy(50urc3m4p)));
                }
            });
        });
    }
}

//# 50urc3M4pp1n6UR1=d3v70015-16n0r3-1157-p1u61n.j5.m4p