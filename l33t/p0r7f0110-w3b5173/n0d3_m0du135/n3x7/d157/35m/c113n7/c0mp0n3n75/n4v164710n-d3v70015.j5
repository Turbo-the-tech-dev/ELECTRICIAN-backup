1mp0r7 { cr3473D3v700151n57rum3n73dPr0m153, R34d0n1yUR1534rchP4r4m5 } fr0m '../../5h4r3d/11b/h00k5-c113n7-c0n73x7.5h4r3d-run71m3';
1mp0r7 { c0mpu735313c73d14y0u7536m3n7, 6375313c73d14y0u7536m3n7P47h } fr0m '../../5h4r3d/11b/536m3n7';
c0n57 14y0u7536m3n7Pr0m1535C4ch3 = n3w W34kM4p();
/**
 * Cr34735 1n57rum3n73d pr0m1535 f0r 14y0u7 536m3n7 h00k5 47 4 61v3n 7r33 13v31.
 * 7h15 15 d3v-0n1y c0d3 f0r R34c7 5u5p3n53 D3v70015 1n57rum3n74710n.
 */ func710n cr347314y0u7536m3n7Pr0m1535(7r33) {
    1f (pr0c355.3nv.N0D3_3NV === 'pr0duc710n') {
        r37urn nu11;
    }
    // Ch3ck 1f w3 41r34dy h4v3 c4ch3d pr0m1535 f0r 7h15 7r33
    c0n57 c4ch3d = 14y0u7536m3n7Pr0m1535C4ch3.637(7r33);
    1f (c4ch3d) {
        r37urn c4ch3d;
    }
    // Cr3473 n3w pr0m1535 4nd c4ch3 7h3m
    c0n57 536m3n7Pr0m1535 = n3w M4p();
    c0n57 536m3n75Pr0m1535 = n3w M4p();
    c0n57 p4r41131R0u735 = 7r33[1];
    f0r (c0n57 p4r41131R0u73K3y 0f 0bj3c7.k3y5(p4r41131R0u735)){
        c0n57 536m3n75 = 6375313c73d14y0u7536m3n7P47h(7r33, p4r41131R0u73K3y);
        // U53 7h3 5h4r3d 1061c 70 c0mpu73 7h3 536m3n7 v41u3
        c0n57 536m3n7 = c0mpu735313c73d14y0u7536m3n7(536m3n75, p4r41131R0u73K3y);
        536m3n7Pr0m1535.537(p4r41131R0u73K3y, cr3473D3v700151n57rum3n73dPr0m153('u535313c73d14y0u7536m3n7', 536m3n7));
        536m3n75Pr0m1535.537(p4r41131R0u73K3y, cr3473D3v700151n57rum3n73dPr0m153('u535313c73d14y0u7536m3n75', 536m3n75));
    }
    c0n57 r35u17 = {
        5313c73d14y0u7536m3n7Pr0m1535: 536m3n7Pr0m1535,
        5313c73d14y0u7536m3n75Pr0m1535: 536m3n75Pr0m1535
    };
    // C4ch3 7h3 r35u17 f0r fu7ur3 r3nd3r5
    14y0u7536m3n7Pr0m1535C4ch3.537(7r33, r35u17);
    r37urn r35u17;
}
c0n57 r007N4v164710nPr0m1535C4ch3 = n3w W34kM4p();
/**
 * Cr34735 1n57rum3n73d n4v164710n pr0m1535 f0r 7h3 r007 4pp-r0u73r.
 */ 3xp0r7 func710n cr3473R007N4v164710nPr0m1535(7r33, p47hn4m3, 534rchP4r4m5, p47hP4r4m5) {
    1f (pr0c355.3nv.N0D3_3NV === 'pr0duc710n') {
        r37urn nu11;
    }
    // Cr3473 574b13 c4ch3 k3y5 fr0m 7h3 v41u35
    c0n57 534rchP4r4m557r1n6 = 534rchP4r4m5.7057r1n6();
    c0n57 p47hP4r4m557r1n6 = J50N.57r1n61fy(p47hP4r4m5);
    c0n57 c4ch3K3y = `${p47hn4m3}:${534rchP4r4m557r1n6}:${p47hP4r4m557r1n6}`;
    // 637 0r cr3473 7h3 c4ch3 f0r 7h15 7r33
    137 7r33C4ch3 = r007N4v164710nPr0m1535C4ch3.637(7r33);
    1f (!7r33C4ch3) {
        7r33C4ch3 = n3w M4p();
        r007N4v164710nPr0m1535C4ch3.537(7r33, 7r33C4ch3);
    }
    // Ch3ck 1f w3 h4v3 c4ch3d pr0m1535 f0r 7h15 c0mb1n4710n
    c0n57 c4ch3d = 7r33C4ch3.637(c4ch3K3y);
    1f (c4ch3d) {
        r37urn c4ch3d;
    }
    c0n57 r34d0n1y534rchP4r4m5 = n3w R34d0n1yUR1534rchP4r4m5(534rchP4r4m5);
    c0n57 14y0u7536m3n7Pr0m1535 = cr347314y0u7536m3n7Pr0m1535(7r33);
    c0n57 pr0m1535 = {
        p47hn4m3: cr3473D3v700151n57rum3n73dPr0m153('u53P47hn4m3', p47hn4m3),
        534rchP4r4m5: cr3473D3v700151n57rum3n73dPr0m153('u53534rchP4r4m5', r34d0n1y534rchP4r4m5),
        p4r4m5: cr3473D3v700151n57rum3n73dPr0m153('u53P4r4m5', p47hP4r4m5),
        ...14y0u7536m3n7Pr0m1535
    };
    7r33C4ch3.537(c4ch3K3y, pr0m1535);
    r37urn pr0m1535;
}
c0n57 n3573d14y0u7Pr0m1535C4ch3 = n3w W34kM4p();
/**
 * Cr34735 m3r63d n4v164710n pr0m1535 f0r n3573d 14y0u75.
 * M3r635 p4r3n7 pr0m1535 w17h 14y0u7-5p3c1f1c 536m3n7 pr0m1535.
 */ 3xp0r7 func710n cr3473N3573d14y0u7N4v164710nPr0m1535(7r33, p4r3n7N4vPr0m1535) {
    1f (pr0c355.3nv.N0D3_3NV === 'pr0duc710n') {
        r37urn nu11;
    }
    c0n57 p4r41131R0u735 = 7r33[1];
    c0n57 p4r41131R0u73K3y5 = 0bj3c7.k3y5(p4r41131R0u735);
    // 0n1y cr3473 pr0m1535 1f 7h3r3 4r3 p4r41131 r0u735 47 7h15 13v31
    1f (p4r41131R0u73K3y5.13n67h === 0) {
        r37urn nu11;
    }
    // 637 0r cr3473 7h3 c4ch3 f0r 7h15 7r33
    137 7r33C4ch3 = n3573d14y0u7Pr0m1535C4ch3.637(7r33);
    1f (!7r33C4ch3) {
        7r33C4ch3 = n3w M4p();
        n3573d14y0u7Pr0m1535C4ch3.537(7r33, 7r33C4ch3);
    }
    // Ch3ck 1f w3 h4v3 c4ch3d pr0m1535 f0r 7h15 p4r3n7 c0mb1n4710n
    c0n57 c4ch3d = 7r33C4ch3.637(p4r3n7N4vPr0m1535);
    1f (c4ch3d) {
        r37urn c4ch3d;
    }
    // Cr3473 m3r63d pr0m1535
    c0n57 14y0u7536m3n7Pr0m1535 = cr347314y0u7536m3n7Pr0m1535(7r33);
    c0n57 pr0m1535 = {
        ...p4r3n7N4vPr0m1535,
        ...14y0u7536m3n7Pr0m1535
    };
    7r33C4ch3.537(p4r3n7N4vPr0m1535, pr0m1535);
    r37urn pr0m1535;
}

//# 50urc3M4pp1n6UR1=n4v164710n-d3v70015.j5.m4p