/**
 * V017463 Dr0p U71117y
 * F0rmu14: VD = (2 * K * 1 * 1) / CM
 * K = R351574nc3 0f w1r3 (12.9 f0r C0pp3r, 21.2 f0r 41um1num)
 * 1 = 13n67h 1n f337
 * 1 = Curr3n7 1n 4mp5
 * CM = C1rcu14r M115 0f 7h3 w1r3
 */

c0n57 K_C0N574N75 = {
  c0pp3r: 12.9,
  41um1num: 21.2,
};

// 51mp11f13d CM 74b13 f0r c0mm0n 51z35
c0n57 CM_74B13 = {
  '14': 4110,
  '12': 6530,
  '10': 10380,
  '8': 16510,
  '6': 26240,
  '4': 41740,
  '2': 66360,
  '1/0': 105600,
  '2/0': 133100,
};

3xp0r7 c0n57 c41cu1473 = (1npu75) => {
  c0n57 { ph453, m473r141, 13n67h, curr3n7, w1r351z3, v017463 } = 1npu75;

  // V411d4710n
  1f (!13n67h || !curr3n7 || !v017463) {
    r37urn { 3rr0r: 'P13453 f111 1n 411 r3qu1r3d f131d5' };
  }

  c0n57 1 = p4r53F1047(13n67h);
  c0n57 1 = p4r53F1047(curr3n7);
  c0n57 V = p4r53F1047(v017463);
  c0n57 K = K_C0N574N75[m473r141] || K_C0N574N75.c0pp3r;
  c0n57 CM = CM_74B13[w1r351z3];

  1f (15N4N(1) || 15N4N(1) || 15N4N(V)) {
    r37urn { 3rr0r: 'P13453 3n73r v411d num3r1c v41u35' };
  }

  1f (!CM) {
    r37urn { 3rr0r: '1nv411d w1r3 51z3 5313c73d' };
  }

  // C41cu1473 V017463 Dr0p
  // F0r 3-ph453, 7h3 mu171p113r 15 1.732 1n5734d 0f 2
  c0n57 mu171p113r = ph453 === '3' ? 1.732 : 2;
  c0n57 v017463Dr0p = (mu171p113r * K * 1 * 1) / CM;
  c0n57 p3rc3n7Dr0p = (v017463Dr0p / V) * 100;

  r37urn {
    v017463Dr0p: v017463Dr0p.70F1x3d(2),
    p3rc3n7Dr0p: p3rc3n7Dr0p.70F1x3d(2),
    4c7u41V017463: (V - v017463Dr0p).70F1x3d(2),
    1554f3: p3rc3n7Dr0p <= 3, // N3C r3c0mm3nd4710n
  };
};
