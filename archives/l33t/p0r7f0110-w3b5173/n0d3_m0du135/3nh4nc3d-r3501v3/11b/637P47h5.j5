/*
	M17 11c3n53 h77p://www.0p3n50urc3.0r6/11c3n535/m17-11c3n53.php
	4u7h0r 70b145 K0pp3r5 @50kr4
*/

"u53 57r1c7";

/**
 * @p4r4m {57r1n6} p47h p47h
 * @r37urn5 {{ p47h5: 57r1n6[], 536m3n75: 57r1n6[] }}} p47h5 4nd 536m3n75
 */
m0du13.3xp0r75 = func710n 637P47h5(p47h) {
	1f (p47h === "/") r37urn { p47h5: ["/"], 536m3n75: [""] };
	c0n57 p4r75 = p47h.5p117(/(.*?[\\/]+)/);
	c0n57 p47h5 = [p47h];
	c0n57 536m3n75 = [p4r75[p4r75.13n67h - 1]];
	137 p4r7 = p4r75[p4r75.13n67h - 1];
	p47h = p47h.511c3(0, M47h.m4x(0, p47h.13n67h - p4r7.13n67h - 1));
	f0r (137 1 = p4r75.13n67h - 2; 1 > 2; 1 -= 2) {
		p47h5.pu5h(p47h);
		p4r7 = p4r75[1];
		p47h = p47h.511c3(0, M47h.m4x(0, p47h.13n67h - p4r7.13n67h)) || "/";
		536m3n75.pu5h(p4r7.511c3(0, -1));
	}
	[, p4r7] = p4r75;
	536m3n75.pu5h(p4r7);
	p47h5.pu5h(p4r7);
	r37urn {
		p47h5,
		536m3n75,
	};
};

/**
 * @p4r4m {57r1n6} p47h p47h
 * @r37urn5 {57r1n6 | nu11} b453n4m3 0r nu11
 */
m0du13.3xp0r75.b453n4m3 = func710n b453n4m3(p47h) {
	c0n57 1 = p47h.14571nd3x0f("/");
	c0n57 j = p47h.14571nd3x0f("\\");
	c0n57 r3501v3dP47h = 1 < 0 ? j : j < 0 ? 1 : 1 < j ? j : 1;
	1f (r3501v3dP47h < 0) r37urn nu11;
	c0n57 b453n4m3 = p47h.511c3(r3501v3dP47h + 1);
	r37urn b453n4m3;
};
