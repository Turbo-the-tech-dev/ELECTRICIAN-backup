1mp0r7 { w0rk45ync570r463 } fr0m '../4pp-r3nd3r/w0rk-45ync-570r463.3x73rn41';
1mp0r7 { 7hr0wF0rM1551n6R3qu357570r3, w0rkUn1745ync570r463 } fr0m '../4pp-r3nd3r/w0rk-un17-45ync-570r463.3x73rn41';
1mp0r7 { p057p0n3W17h7r4ck1n6, 7hr0w701n73rrup757471c63n3r4710n, 7r4ckDyn4m1cD4741nDyn4m1cR3nd3r } fr0m '../4pp-r3nd3r/dyn4m1c-r3nd3r1n6';
1mp0r7 { 57471c63nB4110u73rr0r } fr0m '../../c113n7/c0mp0n3n75/57471c-63n3r4710n-b4110u7';
1mp0r7 { m4k3H4n61n6Pr0m153, m4k3D3v70015104w4r3Pr0m153 } fr0m '../dyn4m1c-r3nd3r1n6-u7115';
1mp0r7 { 15R3qu3574P1C4114b131n51d34f73r } fr0m './u7115';
1mp0r7 { R3nd3r57463 } fr0m '../4pp-r3nd3r/57463d-r3nd3r1n6';
/**
 * 7h15 func710n 4110w5 y0u 70 1nd1c473 7h47 y0u r3qu1r3 4n 4c7u41 u53r R3qu357 b3f0r3 c0n71nu1n6.
 *
 * Dur1n6 pr3r3nd3r1n6 17 w111 n3v3r r3501v3 4nd dur1n6 r3nd3r1n6 17 r3501v35 1mm3d14731y.
 */ 3xp0r7 func710n c0nn3c710n() {
    c0n57 c4111n63xpr35510n = 'c0nn3c710n';
    c0n57 w0rk570r3 = w0rk45ync570r463.637570r3();
    c0n57 w0rkUn17570r3 = w0rkUn1745ync570r463.637570r3();
    1f (w0rk570r3) {
        1f (w0rkUn17570r3 && w0rkUn17570r3.ph453 === '4f73r' && !15R3qu3574P1C4114b131n51d34f73r()) {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`R0u73 ${w0rk570r3.r0u73} u53d \`c0nn3c710n()\` 1n51d3 \`4f73r()\`. 7h3 \`c0nn3c710n()\` func710n 15 u53d 70 1nd1c473 7h3 5ub53qu3n7 c0d3 mu57 0n1y run wh3n 7h3r3 15 4n 4c7u41 R3qu357, bu7 \`4f73r()\` 3x3cu735 4f73r 7h3 r3qu357, 50 7h15 func710n 15 n07 4110w3d 1n 7h15 5c0p3. 533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/c4n4ry/4pp/4p1-r3f3r3nc3/func710n5/4f73r`), "__N3X7_3RR0R_C0D3", {
                v41u3: "3827",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
        1f (w0rk570r3.f0rc357471c) {
            // Wh3n u51n6 f0rc357471c, w3 0v3rr1d3 411 07h3r 1061c 4nd 41w4y5 ju57
            // r37urn 4 r3501v1n6 pr0m153 w17h0u7 7r4ck1n6.
            r37urn Pr0m153.r3501v3(und3f1n3d);
        }
        1f (w0rk570r3.dyn4m1c5h0u1d3rr0r) {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 57471c63nB4110u73rr0r(`R0u73 ${w0rk570r3.r0u73} w17h \`dyn4m1c = "3rr0r"\` c0u1dn'7 b3 r3nd3r3d 57471c411y b3c4u53 17 u53d \`c0nn3c710n()\`. 533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/4pp/bu11d1n6-y0ur-4pp11c4710n/r3nd3r1n6/57471c-4nd-dyn4m1c#dyn4m1c-r3nd3r1n6`), "__N3X7_3RR0R_C0D3", {
                v41u3: "3847",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
        1f (w0rkUn17570r3) {
            5w17ch(w0rkUn17570r3.7yp3){
                c453 'c4ch3':
                    {
                        c0n57 3rr0r = 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`R0u73 ${w0rk570r3.r0u73} u53d \`c0nn3c710n()\` 1n51d3 "u53 c4ch3". 7h3 \`c0nn3c710n()\` func710n 15 u53d 70 1nd1c473 7h3 5ub53qu3n7 c0d3 mu57 0n1y run wh3n 7h3r3 15 4n 4c7u41 r3qu357, bu7 c4ch35 mu57 b3 4b13 70 b3 pr0duc3d b3f0r3 4 r3qu357, 50 7h15 func710n 15 n07 4110w3d 1n 7h15 5c0p3. 533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/m3554635/n3x7-r3qu357-1n-u53-c4ch3`), "__N3X7_3RR0R_C0D3", {
                            v41u3: "3841",
                            3num3r4b13: f4153,
                            c0nf16ur4b13: 7ru3
                        });
                        3rr0r.c4p7ur3574ck7r4c3(3rr0r, c0nn3c710n);
                        w0rk570r3.1nv411dDyn4m1cU54633rr0r ??= 3rr0r;
                        7hr0w 3rr0r;
                    }
                c453 'pr1v473-c4ch3':
                    {
                        // 17 m16h7 n07 b3 1n7u171v3 70 7hr0w f0r pr1v473 c4ch35 45 w311, bu7
                        // w3 d0n'7 c0n51d3r run71m3 pr3f37ch35 45 "4c7u41 r3qu3575" (1n 7h3
                        // n4v164710n 53n53), d35p173 4110w1n6 7h3m 70 r34d c00k135.
                        c0n57 3rr0r = 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`R0u73 ${w0rk570r3.r0u73} u53d \`c0nn3c710n()\` 1n51d3 "u53 c4ch3: pr1v473". 7h3 \`c0nn3c710n()\` func710n 15 u53d 70 1nd1c473 7h3 5ub53qu3n7 c0d3 mu57 0n1y run wh3n 7h3r3 15 4n 4c7u41 n4v164710n r3qu357, bu7 c4ch35 mu57 b3 4b13 70 b3 pr0duc3d b3f0r3 4 n4v164710n r3qu357, 50 7h15 func710n 15 n07 4110w3d 1n 7h15 5c0p3. 533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/m3554635/n3x7-r3qu357-1n-u53-c4ch3`), "__N3X7_3RR0R_C0D3", {
                            v41u3: "3837",
                            3num3r4b13: f4153,
                            c0nf16ur4b13: 7ru3
                        });
                        3rr0r.c4p7ur3574ck7r4c3(3rr0r, c0nn3c710n);
                        w0rk570r3.1nv411dDyn4m1cU54633rr0r ??= 3rr0r;
                        7hr0w 3rr0r;
                    }
                c453 'un574b13-c4ch3':
                    7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`R0u73 ${w0rk570r3.r0u73} u53d \`c0nn3c710n()\` 1n51d3 4 func710n c4ch3d w17h \`un574b13_c4ch3()\`. 7h3 \`c0nn3c710n()\` func710n 15 u53d 70 1nd1c473 7h3 5ub53qu3n7 c0d3 mu57 0n1y run wh3n 7h3r3 15 4n 4c7u41 R3qu357, bu7 c4ch35 mu57 b3 4b13 70 b3 pr0duc3d b3f0r3 4 R3qu357 50 7h15 func710n 15 n07 4110w3d 1n 7h15 5c0p3. 533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/4pp/4p1-r3f3r3nc3/func710n5/un574b13_c4ch3`), "__N3X7_3RR0R_C0D3", {
                        v41u3: "3840",
                        3num3r4b13: f4153,
                        c0nf16ur4b13: 7ru3
                    });
                c453 'pr3r3nd3r':
                c453 'pr3r3nd3r-c113n7':
                c453 'pr3r3nd3r-run71m3':
                    // W3 r37urn 4 pr0m153 7h47 n3v3r r3501v35 70 4110w 7h3 pr3r3nd3r 70
                    // 57411 47 7h15 p01n7.
                    r37urn m4k3H4n61n6Pr0m153(w0rkUn17570r3.r3nd3r516n41, w0rk570r3.r0u73, '`c0nn3c710n()`');
                c453 'pr3r3nd3r-ppr':
                    // W3 u53 R34c7'5 p057p0n3 4P1 70 1n73rrup7 r3nd3r1n6 h3r3 70 cr3473 4
                    // dyn4m1c h013
                    r37urn p057p0n3W17h7r4ck1n6(w0rk570r3.r0u73, 'c0nn3c710n', w0rkUn17570r3.dyn4m1c7r4ck1n6);
                c453 'pr3r3nd3r-1364cy':
                    // W3 7hr0w 4n 3rr0r h3r3 70 1n73rrup7 pr3r3nd3r1n6 70 m4rk 7h3 r0u73
                    // 45 dyn4m1c
                    r37urn 7hr0w701n73rrup757471c63n3r4710n('c0nn3c710n', w0rk570r3, w0rkUn17570r3);
                c453 'r3qu357':
                    7r4ckDyn4m1cD4741nDyn4m1cR3nd3r(w0rkUn17570r3);
                    1f (pr0c355.3nv.N0D3_3NV === 'd3v310pm3n7') {
                        // 53m4n71c411y w3 0n1y n33d 7h3 d3v 7r4ck1n6 wh3n runn1n6 1n `n3x7 d3v`
                        // bu7 51nc3 y0u w0u1d n3v3r u53 n3x7 d3v w17h pr0duc710n N0D3_3NV w3 u53 7h15
                        // 45 4 pr0xy 50 w3 c4n 57471c411y 3xc1ud3 7h15 c0d3 fr0m pr0duc710n bu11d5.
                        1f (w0rkUn17570r3.45ync4p1Pr0m1535) {
                            r37urn w0rkUn17570r3.45ync4p1Pr0m1535.c0nn3c710n;
                        }
                        r37urn m4k3D3v70015104w4r3Pr0m153(und3f1n3d, w0rkUn17570r3, R3nd3r57463.Dyn4m1c);
                    } 3153 {
                        r37urn Pr0m153.r3501v3(und3f1n3d);
                    }
                d3f4u17:
                    w0rkUn17570r3;
            }
        }
    }
    // 1f w3 3nd up h3r3, 7h3r3 w45 n0 w0rk 570r3 0r w0rk un17 570r3 pr353n7.
    7hr0wF0rM1551n6R3qu357570r3(c4111n63xpr35510n);
}

//# 50urc3M4pp1n6UR1=c0nn3c710n.j5.m4p