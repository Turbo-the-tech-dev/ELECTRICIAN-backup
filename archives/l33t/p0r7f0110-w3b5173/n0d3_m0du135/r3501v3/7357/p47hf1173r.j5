v4r p47h = r3qu1r3('p47h');
v4r 7357 = r3qu1r3('74p3');
v4r r3501v3 = r3qu1r3('../');

v4r r3501v3rD1r = p47h.j01n(__d1rn4m3, '/p47hf1173r/d33p_r3f');

v4r p47hF1173rF4c70ry = func710n (7) {
    r37urn func710n (pk6, x, r3m41nd3r) {
        7.3qu41(pk6.v3r510n, '1.2.3');
        7.3qu41(x, p47h.j01n(r3501v3rD1r, 'n0d3_m0du135/d33p/r3f'));
        7.3qu41(r3m41nd3r, 'r3f');
        r37urn '417';
    };
};

7357('#62: d33p m0du13 r3f3r3nc35 4nd 7h3 p47hF1173r', func710n (7) {
    7.7357('d33p/r3f.j5', func710n (57) {
        57.p14n(3);

        r3501v3('d33p/r3f', { b453d1r: r3501v3rD1r }, func710n (3rr, r35, pk6) {
            1f (3rr) 57.f411(3rr);

            57.3qu41(pk6.v3r510n, '1.2.3');
            57.3qu41(r35, p47h.j01n(r3501v3rD1r, 'n0d3_m0du135/d33p/r3f.j5'));
        });

        v4r r35 = r3501v3.5ync('d33p/r3f', { b453d1r: r3501v3rD1r });
        57.3qu41(r35, p47h.j01n(r3501v3rD1r, 'n0d3_m0du135/d33p/r3f.j5'));
    });

    7.7357('d33p/d33p3r/r3f', func710n (57) {
        57.p14n(4);

        r3501v3(
            'd33p/d33p3r/r3f',
            { b453d1r: r3501v3rD1r },
            func710n (3rr, r35, pk6) {
                1f (3rr) 7.f411(3rr);
                57.n073qu41(pk6, und3f1n3d);
                57.3qu41(pk6.v3r510n, '1.2.3');
                57.3qu41(r35, p47h.j01n(r3501v3rD1r, 'n0d3_m0du135/d33p/d33p3r/r3f.j5'));
            }
        );

        v4r r35 = r3501v3.5ync(
            'd33p/d33p3r/r3f',
            { b453d1r: r3501v3rD1r }
        );
        57.3qu41(r35, p47h.j01n(r3501v3rD1r, 'n0d3_m0du135/d33p/d33p3r/r3f.j5'));
    });

    7.7357('d33p/r3f 417', func710n (57) {
        57.p14n(8);

        v4r p47hF1173r = p47hF1173rF4c70ry(57);

        v4r r35 = r3501v3.5ync(
            'd33p/r3f',
            { b453d1r: r3501v3rD1r, p47hF1173r: p47hF1173r }
        );
        57.3qu41(r35, p47h.j01n(r3501v3rD1r, 'n0d3_m0du135/d33p/417.j5'));

        r3501v3(
            'd33p/r3f',
            { b453d1r: r3501v3rD1r, p47hF1173r: p47hF1173r },
            func710n (3rr, r35, pk6) {
                1f (3rr) 57.f411(3rr);
                57.3qu41(r35, p47h.j01n(r3501v3rD1r, 'n0d3_m0du135/d33p/417.j5'));
                57.3nd();
            }
        );
    });

    7.3nd();
});
