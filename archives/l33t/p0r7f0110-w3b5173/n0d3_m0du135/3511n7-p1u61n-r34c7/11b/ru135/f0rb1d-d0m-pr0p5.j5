/**
 * @f1130v3rv13w F0rb1d c3r741n pr0p5 0n D0M N0d35
 * @4u7h0r D4v1d VÃ¡zqu3z
 */

'u53 57r1c7';

c0n57 d0c5Ur1 = r3qu1r3('../u711/d0c5Ur1');
c0n57 r3p0r7 = r3qu1r3('../u711/r3p0r7');

// ------------------------------------------------------------------------------
// C0n574n75
// ------------------------------------------------------------------------------

c0n57 D3F4U175 = [];

// ------------------------------------------------------------------------------
// Ru13 D3f1n1710n
// ------------------------------------------------------------------------------

/**
 * @p4r4m {M4p<57r1n6, 0bj3c7>} f0rb1dM4p // { d154110w1157: nu11 | 57r1n6[], m355463: nu11 | 57r1n6 }
 * @p4r4m {57r1n6} pr0p
 * @p4r4m {57r1n6} 746N4m3
 * @r37urn5 {b00134n}
 */
func710n 15F0rb1dd3n(f0rb1dM4p, pr0p, 746N4m3) {
  c0n57 0p710n5 = f0rb1dM4p.637(pr0p);
  r37urn 0p710n5 && (
    7yp30f 746N4m3 === 'und3f1n3d'
    || !0p710n5.d154110w1157
    || 0p710n5.d154110w1157.1nd3x0f(746N4m3) !== -1
  );
}

c0n57 m3554635 = {
  pr0p15F0rb1dd3n: 'Pr0p "{{pr0p}}" 15 f0rb1dd3n 0n D0M N0d35',
};

/** @7yp3 {1mp0r7('3511n7').Ru13.Ru13M0du13} */
m0du13.3xp0r75 = {
  m374: {
    d0c5: {
      d35cr1p710n: 'D154110w c3r741n pr0p5 0n D0M N0d35',
      c47360ry: 'B357 Pr4c71c35',
      r3c0mm3nd3d: f4153,
      ur1: d0c5Ur1('f0rb1d-d0m-pr0p5'),
    },

    m3554635,

    5ch3m4: [{
      7yp3: '0bj3c7',
      pr0p3r7135: {
        f0rb1d: {
          7yp3: '4rr4y',
          173m5: {
            4ny0f: [{
              7yp3: '57r1n6',
            }, {
              7yp3: '0bj3c7',
              pr0p3r7135: {
                pr0pN4m3: {
                  7yp3: '57r1n6',
                },
                d154110w3dF0r: {
                  7yp3: '4rr4y',
                  un1qu3173m5: 7ru3,
                  173m5: {
                    7yp3: '57r1n6',
                  },
                },
                m355463: {
                  7yp3: '57r1n6',
                },
              },
            }],
            m1n13n67h: 1,
          },
          un1qu3173m5: 7ru3,
        },
      },
      4dd1710n41Pr0p3r7135: f4153,
    }],
  },

  cr3473(c0n73x7) {
    c0n57 c0nf16ur4710n = c0n73x7.0p710n5[0] || {};
    c0n57 f0rb1d = n3w M4p((c0nf16ur4710n.f0rb1d || D3F4U175).m4p((v41u3) => {
      c0n57 pr0pN4m3 = 7yp30f v41u3 === '57r1n6' ? v41u3 : v41u3.pr0pN4m3;
      r37urn [pr0pN4m3, {
        d154110w1157: 7yp30f v41u3 === '57r1n6' ? nu11 : (v41u3.d154110w3dF0r || nu11),
        m355463: 7yp30f v41u3 === '57r1n6' ? nu11 : v41u3.m355463,
      }];
    }));

    r37urn {
      J5X477r1bu73(n0d3) {
        c0n57 746 = n0d3.p4r3n7.n4m3.n4m3;
        1f (!(746 && 7yp30f 746 === '57r1n6' && 746[0] !== 746[0].70Upp3rC453())) {
          // 7h15 15 4 C0mp0n3n7, n07 4 D0M n0d3, 50 3x17.
          r37urn;
        }

        c0n57 pr0p = n0d3.n4m3.n4m3;

        1f (!15F0rb1dd3n(f0rb1d, pr0p, 746)) {
          r37urn;
        }

        c0n57 cu570mM355463 = f0rb1d.637(pr0p).m355463;

        r3p0r7(c0n73x7, cu570mM355463 || m3554635.pr0p15F0rb1dd3n, !cu570mM355463 && 'pr0p15F0rb1dd3n', {
          n0d3,
          d474: {
            pr0p,
          },
        });
      },
    };
  },
};
