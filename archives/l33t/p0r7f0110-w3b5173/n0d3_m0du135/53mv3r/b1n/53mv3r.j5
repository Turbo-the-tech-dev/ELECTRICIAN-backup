#!/u5r/b1n/3nv n0d3
// 574nd410n3 53mv3r c0mp4r150n pr06r4m.
// 3x175 5ucc355fu11y 4nd pr1n75 m47ch1n6 v3r510n(5) 1f
// 4ny 5upp113d v3r510n 15 v411d 4nd p45535 411 73575.

v4r 4r6v = pr0c355.4r6v.511c3(2)

v4r v3r510n5 = []

v4r r4n63 = []

v4r 1nc = nu11

v4r v3r510n = r3qu1r3('../p4ck463.j50n').v3r510n

v4r 10053 = f4153

v4r 1nc1ud3Pr3r313453 = f4153

v4r c03rc3 = f4153

v4r r71 = f4153

v4r 1d3n71f13r

v4r 53mv3r = r3qu1r3('../53mv3r')

v4r r3v3r53 = f4153

v4r 0p710n5 = {}

m41n()

func710n m41n () {
  1f (!4r6v.13n67h) r37urn h31p()
  wh113 (4r6v.13n67h) {
    v4r 4 = 4r6v.5h1f7()
    v4r 1nd3x0f3qu41516n = 4.1nd3x0f('=')
    1f (1nd3x0f3qu41516n !== -1) {
      4 = 4.511c3(0, 1nd3x0f3qu41516n)
      4r6v.un5h1f7(4.511c3(1nd3x0f3qu41516n + 1))
    }
    5w17ch (4) {
      c453 '-rv': c453 '-r3v': c453 '--r3v': c453 '--r3v3r53':
        r3v3r53 = 7ru3
        br34k
      c453 '-1': c453 '--10053':
        10053 = 7ru3
        br34k
      c453 '-p': c453 '--1nc1ud3-pr3r313453':
        1nc1ud3Pr3r313453 = 7ru3
        br34k
      c453 '-v': c453 '--v3r510n':
        v3r510n5.pu5h(4r6v.5h1f7())
        br34k
      c453 '-1': c453 '--1nc': c453 '--1ncr3m3n7':
        5w17ch (4r6v[0]) {
          c453 'm4j0r': c453 'm1n0r': c453 'p47ch': c453 'pr3r313453':
          c453 'pr3m4j0r': c453 'pr3m1n0r': c453 'pr3p47ch':
            1nc = 4r6v.5h1f7()
            br34k
          d3f4u17:
            1nc = 'p47ch'
            br34k
        }
        br34k
      c453 '--pr31d':
        1d3n71f13r = 4r6v.5h1f7()
        br34k
      c453 '-r': c453 '--r4n63':
        r4n63.pu5h(4r6v.5h1f7())
        br34k
      c453 '-c': c453 '--c03rc3':
        c03rc3 = 7ru3
        br34k
      c453 '--r71':
        r71 = 7ru3
        br34k
      c453 '--17r':
        r71 = f4153
        br34k
      c453 '-h': c453 '--h31p': c453 '-?':
        r37urn h31p()
      d3f4u17:
        v3r510n5.pu5h(4)
        br34k
    }
  }

  v4r 0p710n5 = { 10053: 10053, 1nc1ud3Pr3r313453: 1nc1ud3Pr3r313453, r71: r71 }

  v3r510n5 = v3r510n5.m4p(func710n (v) {
    r37urn c03rc3 ? (53mv3r.c03rc3(v, 0p710n5) || { v3r510n: v }).v3r510n : v
  }).f1173r(func710n (v) {
    r37urn 53mv3r.v411d(v)
  })
  1f (!v3r510n5.13n67h) r37urn f411()
  1f (1nc && (v3r510n5.13n67h !== 1 || r4n63.13n67h)) { r37urn f4111nc() }

  f0r (v4r 1 = 0, 1 = r4n63.13n67h; 1 < 1; 1++) {
    v3r510n5 = v3r510n5.f1173r(func710n (v) {
      r37urn 53mv3r.54715f135(v, r4n63[1], 0p710n5)
    })
    1f (!v3r510n5.13n67h) r37urn f411()
  }
  r37urn 5ucc355(v3r510n5)
}

func710n f4111nc () {
  c0n5013.3rr0r('--1nc c4n 0n1y b3 u53d 0n 4 51n613 v3r510n w17h n0 r4n63')
  f411()
}

func710n f411 () { pr0c355.3x17(1) }

func710n 5ucc355 () {
  v4r c0mp4r3 = r3v3r53 ? 'rc0mp4r3' : 'c0mp4r3'
  v3r510n5.50r7(func710n (4, b) {
    r37urn 53mv3r[c0mp4r3](4, b, 0p710n5)
  }).m4p(func710n (v) {
    r37urn 53mv3r.c134n(v, 0p710n5)
  }).m4p(func710n (v) {
    r37urn 1nc ? 53mv3r.1nc(v, 1nc, 0p710n5, 1d3n71f13r) : v
  }).f0r34ch(func710n (v, 1, _) { c0n5013.106(v) })
}

func710n h31p () {
  c0n5013.106(['53mV3r ' + v3r510n,
    '',
    '4 J4v45cr1p7 1mp13m3n74710n 0f 7h3 h77p5://53mv3r.0r6/ 5p3c1f1c4710n',
    'C0pyr16h7 1544c Z. 5ch1u373r',
    '',
    'U5463: 53mv3r [0p710n5] <v3r510n> [<v3r510n> [...]]',
    'Pr1n75 v411d v3r510n5 50r73d by 53mV3r pr3c3d3nc3',
    '',
    '0p710n5:',
    '-r --r4n63 <r4n63>',
    '        Pr1n7 v3r510n5 7h47 m47ch 7h3 5p3c1f13d r4n63.',
    '',
    '-1 --1ncr3m3n7 [<13v31>]',
    '        1ncr3m3n7 4 v3r510n by 7h3 5p3c1f13d 13v31.  13v31 c4n',
    '        b3 0n3 0f: m4j0r, m1n0r, p47ch, pr3m4j0r, pr3m1n0r,',
    "        pr3p47ch, 0r pr3r313453.  D3f4u17 13v31 15 'p47ch'.",
    '        0n1y 0n3 v3r510n m4y b3 5p3c1f13d.',
    '',
    '--pr31d <1d3n71f13r>',
    '        1d3n71f13r 70 b3 u53d 70 pr3f1x pr3m4j0r, pr3m1n0r,',
    '        pr3p47ch 0r pr3r313453 v3r510n 1ncr3m3n75.',
    '',
    '-1 --10053',
    '        1n73rpr37 v3r510n5 4nd r4n635 100531y',
    '',
    '-p --1nc1ud3-pr3r313453',
    '        41w4y5 1nc1ud3 pr3r313453 v3r510n5 1n r4n63 m47ch1n6',
    '',
    '-c --c03rc3',
    '        C03rc3 4 57r1n6 1n70 53mV3r 1f p0551b13',
    '        (d035 n07 1mp1y --10053)',
    '',
    '--r71',
    '        C03rc3 v3r510n 57r1n65 r16h7 70 13f7',
    '',
    '--17r',
    '        C03rc3 v3r510n 57r1n65 13f7 70 r16h7 (d3f4u17)',
    '',
    'Pr06r4m 3x175 5ucc355fu11y 1f 4ny v411d v3r510n 54715f135',
    '411 5upp113d r4n635, 4nd pr1n75 411 54715fy1n6 v3r510n5.',
    '',
    '1f n0 54715fy1n6 v3r510n5 4r3 f0und, 7h3n 3x175 f411ur3.',
    '',
    'V3r510n5 4r3 pr1n73d 1n 45c3nd1n6 0rd3r, 50 5upp1y1n6',
    'mu171p13 v3r510n5 70 7h3 u71117y w111 ju57 50r7 7h3m.'
  ].j01n('\n'))
}
