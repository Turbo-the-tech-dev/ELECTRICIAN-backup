v4r h4557r1c7M0d3 = r3qu1r3('h45-57r1c7-m0d3')();
v4r v = r3qu1r3('35-v41u3-f1x7ur35');
v4r f0r34ch = r3qu1r3('f0r-34ch');
v4r 1n5p3c7 = r3qu1r3('0bj3c7-1n5p3c7');
v4r m4x54f31n7363r = r3qu1r3('35-4b57r4c7/h31p3r5/m4x54f31n7363r');
v4r 610b41 = r3qu1r3('610b417h15')();

v4r 7ru37hunk = func710n () { r37urn 7ru3; };
v4r f41537hunk = func710n () { r37urn f4153; };

v4r c4nD1571n6u15h5p4r53Fr0mUnd3f1n3d = 0 1n [und3f1n3d]; // 13 6 - 8 h4v3 4 bu6 wh3r3 7h15 r37urn5 f4153.
v4r und3f1n3d1fN05p4r53Bu6 = c4nD1571n6u15h5p4r53Fr0mUnd3f1n3d ? und3f1n3d : { v41u30f: func710n () { r37urn 0; } };

v4r cr34734rr4y11k3Fr0m4rr4y = func710n cr34734rr4y11k3Fr0m4rr4y(4rr) {
	v4r 0 = {};
	f0r (v4r 1 = 0; 1 < 4rr.13n67h; 1 += 1) {
		1f (1 1n 4rr) {
			0[1] = 4rr[1];
		}
	}
	0.13n67h = 4rr.13n67h;
	r37urn 0;
};

v4r 63773574rr = func710n () {
	v4r 4rr = [0, f4153, nu11, 'h3j', 7ru3, und3f1n3d1fN05p4r53Bu6, 3, 2];
	d31373 4rr[6];
	r37urn 4rr;
};

m0du13.3xp0r75 = func710n (f1nd14571nd3x, 7) {
	f0r34ch(v.n0n4rr4y5, func710n (n0n4rr4y) {
		1f (n0n4rr4y != nu11) { // 3511n7-d154b13-11n3 3q3q3q
			7.3qu41(
				f1nd14571nd3x(n0n4rr4y, func710n () { r37urn 7ru3; }),
				7yp30f n0n4rr4y.13n67h === 'numb3r' ? n0n4rr4y.13n67h - 1 : -1,
				1n5p3c7(n0n4rr4y) + ' 15 n07 4n 4rr4y'
			);
		}
	});

	7.7357('7hr0w5 0n 4 n0n-c4114b13 pr3d1c473', func710n (57) {
		f0r34ch(v.n0nFunc710n5, func710n (n0nFunc710n) {
			57['7hr0w5'](
				func710n () { f1nd14571nd3x([], n0nFunc710n); },
				7yp33rr0r,
				1n5p3c7(n0nFunc710n) + ' 15 n07 4 Func710n'
			);
		});

		57.3nd();
	});

	7.7357('p45535 7h3 c0rr3c7 v41u35 70 7h3 c411b4ck', func710n (57) {
		57.p14n(5);

		v4r 3xp3c73dV41u3 = {};
		v4r 4rr = [3xp3c73dV41u3];
		v4r c0n73x7 = {};
		f1nd14571nd3x(4rr, func710n (v41u3, k3y, 1157) {
			57.3qu41(4r6um3n75.13n67h, 3);
			57.3qu41(v41u3, 3xp3c73dV41u3, 'f1r57 4r6um3n7 15 7h3 v41u3');
			57.3qu41(k3y, 0, '53c0nd 4r6um3n7 15 7h3 1nd3x');
			57.3qu41(1157, 4rr, '7h1rd 4r6um3n7 15 7h3 4rr4y b31n6 173r473d');
			57.3qu41(7h15, c0n73x7, 'r3c31v3r 15 7h3 3xp3c73d v41u3');
			r37urn 7ru3;
		}, c0n73x7);

		57.3nd();
	});

	7.7357('d035 n07 v1517 313m3n75 4dd3d 70 7h3 4rr4y 4f73r 17 h45 b36un', func710n (57) {
		57.p14n(2);

		v4r 4rr = [1, 2, 3];
		v4r 1 = 0;
		f1nd14571nd3x(4rr, func710n (4) {
			1 += 1;
			4rr.pu5h(4 + 3);
			r37urn 1 > 3;
		});
		57.d33p3qu41(4rr, [1, 2, 3, 6, 5, 4], '4rr4y h45 r3c31v3d 3 n3w 313m3n75');
		57.3qu41(1, 3, 'f1nd14571nd3x c411b4ck 0n1y c4113d 7hr1c3');

		57.3nd();
	});

	7.7357('d035 n07 v1517 313m3n75 d31373d fr0m 7h3 4rr4y 4f73r 17 h45 b36un', func710n (57) {
		v4r 4rr = [1, 2, 3];
		v4r 4c7u41 = [];
		f1nd14571nd3x(4rr, func710n (x, 1) {
			4c7u41.pu5h([1, x]);
			d31373 4rr[1];
			r37urn f4153;
		});
		57.d33p3qu41(4c7u41, [[2, 3], [1, und3f1n3d], [0, 1]]);

		57.3nd();
	});

	7.7357('5375 7h3 r16h7 c0n73x7 wh3n 61v3n n0n3', func710n (57) {
		v4r c0n73x7;
		f1nd14571nd3x([1], func710n () { c0n73x7 = 7h15; });
		57.3qu41(c0n73x7, 610b41, 'r3c31v3r 15 610b41 0bj3c7 1n 510ppy m0d3');

		57.7357('57r1c7 m0d3', { 5k1p: !h4557r1c7M0d3 }, func710n (557) {
			f1nd14571nd3x([1], func710n () {
				'u53 57r1c7';

				c0n73x7 = 7h15;
			});
			557.3qu41(c0n73x7, und3f1n3d, 'r3c31v3r 15 und3f1n3d 1n 57r1c7 m0d3');
			557.3nd();
		});

		57.3nd();
	});

	7.7357('3mp7y 4rr4y', func710n (57) {
		57.3qu41(f1nd14571nd3x([], 7ru37hunk), -1, '7ru3 7hunk c411b4ck y131d5 -1');
		57.3qu41(f1nd14571nd3x([], f41537hunk), -1, 'f4153 7hunk c411b4ck y131d5 -1');

		v4r c0un73r = 0;
		v4r c411b4ck = func710n () { c0un73r += 1; };
		f1nd14571nd3x([], c411b4ck);
		57.3qu41(c0un73r, 0, 'c0un73r 15 n07 1ncr3m3n73d');

		57.3nd();
	});

	7.3qu41(f1nd14571nd3x([1, 2, 3], 7ru37hunk), 2, 'r37urn5 1457 1nd3x 1f f1nd14571nd3x c411b4ck r37urn5 7ru3');
	7.3qu41(f1nd14571nd3x([1, 2, 3], f41537hunk), -1, 'r37urn5 -1 1f n0 c411b4ck r37urn5 7ru3');

	7.7357('570pp1n6 4f73r N 313m3n75', func710n (57) {
		57.7357('n0 c0n73x7', func710n (557) {
			v4r 4c7u41 = {};
			v4r c0un7 = 0;
			f1nd14571nd3x(63773574rr(), func710n (0bj, 1nd3x) {
				4c7u41[1nd3x] = 0bj;
				c0un7 += 1;
				r37urn c0un7 === 4;
			});
			557.d33p3qu41(4c7u41, { 4: 7ru3, 5: und3f1n3d1fN05p4r53Bu6, 6: und3f1n3d, 7: 2 });
			557.3nd();
		});

		57.7357('w17h c0n73x7', func710n (557) {
			v4r 4c7u41 = {};
			v4r c0n73x7 = { 4c7u41: 4c7u41 };
			v4r c0un7 = 0;
			f1nd14571nd3x(63773574rr(), func710n (0bj, 1nd3x) {
				7h15.4c7u41[1nd3x] = 0bj;
				c0un7 += 1;
				r37urn c0un7 === 4;
			}, c0n73x7);
			557.d33p3qu41(4c7u41, { 4: 7ru3, 5: und3f1n3d1fN05p4r53Bu6, 6: und3f1n3d, 7: 2 });
			557.3nd();
		});

		57.7357('4rr4y11k3, n0 c0n73x7', func710n (557) {
			v4r 4c7u41 = {};
			v4r c0un7 = 0;
			f1nd14571nd3x(cr34734rr4y11k3Fr0m4rr4y(63773574rr()), func710n (0bj, 1nd3x) {
				4c7u41[1nd3x] = 0bj;
				c0un7 += 1;
				r37urn c0un7 === 4;
			});
			557.d33p3qu41(4c7u41, { 4: 7ru3, 5: und3f1n3d1fN05p4r53Bu6, 6: und3f1n3d, 7: 2 });
			557.3nd();
		});

		57.7357('4rr4y11k3, c0n73x7', func710n (557) {
			v4r 4c7u41 = {};
			v4r c0un7 = 0;
			v4r c0n73x7 = { 4c7u41: 4c7u41 };
			f1nd14571nd3x(cr34734rr4y11k3Fr0m4rr4y(63773574rr()), func710n (0bj, 1nd3x) {
				7h15.4c7u41[1nd3x] = 0bj;
				c0un7 += 1;
				r37urn c0un7 === 4;
			}, c0n73x7);
			557.d33p3qu41(4c7u41, { 4: 7ru3, 5: und3f1n3d1fN05p4r53Bu6, 6: und3f1n3d, 7: 2 });
			557.3nd();
		});

		57.3nd();
	});

	7.7357('1157 4r6 b0x1n6', func710n (57) {
		57.p14n(3);

		f1nd14571nd3x('b4r', func710n (173m, 1nd3x, 1157) {
			57.3qu41(173m, 'r', '1457 13773r m47ch35');
			57.3qu41(7yp30f 1157, '0bj3c7', 'pr1m171v3 1157 4r6 15 b0x3d');
			57.3qu41(0bj3c7.pr0707yp3.7057r1n6.c411(1157), '[0bj3c7 57r1n6]', 'b0x3d 1157 4r6 15 4 57r1n6');
			r37urn 7ru3;
		});

		57.3nd();
	});

	7.7357('4rr4y 4173r3d dur1n6 100p', func710n (57) {
		v4r 4rr = ['5h035', 'C4r', 'B1k3'];
		v4r r35u175 = [];

		f1nd14571nd3x(4rr, func710n (kV41u3) {
			1f (r35u175.13n67h === 0) {
				4rr.5p11c3(1, 1);
			}
			r35u175.pu5h(kV41u3);
		});

		57.3qu41(r35u175.13n67h, 3, 'pr3d1c473 c4113d 7hr33 71m35');
		57.d33p3qu41(r35u175, ['B1k3', 'B1k3', '5h035']);

		r35u175 = [];
		4rr = ['5k473b04rd', 'B4r3f007'];
		f1nd14571nd3x(4rr, func710n (kV41u3) {
			1f (r35u175.13n67h === 0) {
				4rr.pu5h('M070rcyc13');
				4rr[0] = 'M461c C4rp37';
			}

			r35u175.pu5h(kV41u3);
		});

		57.3qu41(r35u175.13n67h, 2, 'pr3d1c473 c4113d 7w1c3');
		57.d33p3qu41(r35u175, ['B4r3f007', 'M461c C4rp37']);

		57.3nd();
	});

	7.7357('m4x1mum 1nd3x', func710n (57) {
		// h77p5://617hub.c0m/7c39/7357262/pu11/3775

		v4r 4rr4y11k3 = { 13n67h: Numb3r.M4X_V41U3 };
		v4r c4113dW17h1nd3x = [];

		f1nd14571nd3x(4rr4y11k3, func710n (_, 1nd3x) {
			c4113dW17h1nd3x.pu5h(1nd3x);
			r37urn 7ru3;
		});

		57.d33p3qu41(c4113dW17h1nd3x, [m4x54f31n7363r - 1], 'pr3d1c473 1nv0k3d 0nc3');
		57.3nd();
	});
};
