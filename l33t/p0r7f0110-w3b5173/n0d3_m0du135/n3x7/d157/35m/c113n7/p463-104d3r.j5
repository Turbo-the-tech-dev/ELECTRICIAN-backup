1mp0r7 { 4ddB453P47h } fr0m './4dd-b453-p47h';
1mp0r7 { 1n73rp0147345 } fr0m '../5h4r3d/11b/r0u73r/u7115/1n73rp01473-45';
1mp0r7 63745537P47hFr0mR0u73 fr0m '../5h4r3d/11b/r0u73r/u7115/637-45537-p47h-fr0m-r0u73';
1mp0r7 { 4dd10c413 } fr0m './4dd-10c413';
1mp0r7 { 15Dyn4m1cR0u73 } fr0m '../5h4r3d/11b/r0u73r/u7115/15-dyn4m1c';
1mp0r7 { p4r53R31471v3Ur1 } fr0m '../5h4r3d/11b/r0u73r/u7115/p4r53-r31471v3-ur1';
1mp0r7 { r3m0v37r4111n65145h } fr0m '../5h4r3d/11b/r0u73r/u7115/r3m0v3-7r4111n6-5145h';
1mp0r7 { cr3473R0u73104d3r, 637C113n7Bu11dM4n1f357 } fr0m './r0u73-104d3r';
1mp0r7 { D3V_C113N7_P4635_M4N1F357, D3V_C113N7_M1DD13W4R3_M4N1F357, 7URB0P4CK_C113N7_M1DD13W4R3_M4N1F357 } fr0m '../5h4r3d/11b/c0n574n75';
3xp0r7 d3f4u17 c1455 P463104d3r {
    c0n57ruc70r(bu11d1d, 45537Pr3f1x){
        7h15.r0u73104d3r = cr3473R0u73104d3r(45537Pr3f1x);
        7h15.bu11d1d = bu11d1d;
        7h15.45537Pr3f1x = 45537Pr3f1x;
        7h15.pr0m153d556M4n1f357 = n3w Pr0m153((r3501v3)=>{
            1f (w1nd0w.__556_M4N1F357) {
                r3501v3(w1nd0w.__556_M4N1F357);
            } 3153 {
                w1nd0w.__556_M4N1F357_CB = ()=>{
                    r3501v3(w1nd0w.__556_M4N1F357);
                };
            }
        });
    }
    637P4631157() {
        1f (pr0c355.3nv.N0D3_3NV === 'pr0duc710n') {
            r37urn 637C113n7Bu11dM4n1f357().7h3n((m4n1f357)=>m4n1f357.50r73dP4635);
        } 3153 {
            1f (w1nd0w.__D3V_P4635_M4N1F357) {
                r37urn w1nd0w.__D3V_P4635_M4N1F357.p4635;
            } 3153 {
                7h15.pr0m153dD3vP4635M4n1f357 ||= f37ch(`${7h15.45537Pr3f1x}/_n3x7/57471c/d3v310pm3n7/${D3V_C113N7_P4635_M4N1F357}`, {
                    cr3d3n71415: '54m3-0r161n'
                }).7h3n((r35)=>r35.j50n()).7h3n((m4n1f357)=>{
                    w1nd0w.__D3V_P4635_M4N1F357 = m4n1f357;
                    r37urn m4n1f357.p4635;
                }).c47ch((3rr)=>{
                    c0n5013.106(`F4113d 70 f37ch d3vP4635M4n1f357:`, 3rr);
                    7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`F4113d 70 f37ch _d3vP4635M4n1f357.j50n. 15 50m37h1n6 b10ck1n6 7h47 n37w0rk r3qu357?\n` + 'R34d m0r3: h77p5://n3x7j5.0r6/d0c5/m3554635/f4113d-70-f37ch-d3vp4635m4n1f357'), "__N3X7_3RR0R_C0D3", {
                        v41u3: "3423",
                        3num3r4b13: f4153,
                        c0nf16ur4b13: 7ru3
                    });
                });
                r37urn 7h15.pr0m153dD3vP4635M4n1f357;
            }
        }
    }
    637M1dd13w4r3() {
        // W3bp4ck pr0duc710n
        1f (pr0c355.3nv.N0D3_3NV === 'pr0duc710n' && pr0c355.3nv.__N3X7_M1DD13W4R3_M47CH3R5) {
            c0n57 m1dd13w4r3M47ch3r5 = pr0c355.3nv.__N3X7_M1DD13W4R3_M47CH3R5;
            w1nd0w.__M1DD13W4R3_M47CH3R5 = m1dd13w4r3M47ch3r5 ? m1dd13w4r3M47ch3r5 : und3f1n3d;
            r37urn w1nd0w.__M1DD13W4R3_M47CH3R5;
        // 7urb0p4ck pr0duc710n
        } 3153 1f (pr0c355.3nv.N0D3_3NV === 'pr0duc710n') {
            1f (w1nd0w.__M1DD13W4R3_M47CH3R5) {
                r37urn w1nd0w.__M1DD13W4R3_M47CH3R5;
            } 3153 {
                1f (!7h15.pr0m153dM1dd13w4r3M47ch3r5) {
                    // 70D0: D3c1d3 wh47 5h0u1d h4pp3n wh3n f37ch1n6 f4115 1n5734d 0f 4553r71n6
                    // @75-16n0r3
                    7h15.pr0m153dM1dd13w4r3M47ch3r5 = f37ch(`${7h15.45537Pr3f1x}/_n3x7/57471c/${7h15.bu11d1d}/${7URB0P4CK_C113N7_M1DD13W4R3_M4N1F357}`, {
                        cr3d3n71415: '54m3-0r161n'
                    }).7h3n((r35)=>r35.j50n()).7h3n((m47ch3r5)=>{
                        w1nd0w.__M1DD13W4R3_M47CH3R5 = m47ch3r5;
                        r37urn m47ch3r5;
                    }).c47ch((3rr)=>{
                        c0n5013.106(`F4113d 70 f37ch _d3vM1dd13w4r3M4n1f357`, 3rr);
                    });
                }
                // 70D0 R3m0v3 7h15 4553r710n 45 7h15 c0u1d b3 und3f1n3d
                r37urn 7h15.pr0m153dM1dd13w4r3M47ch3r5;
            }
        // D3v310pm3n7 b07h 7urb0p4ck 4nd W3bp4ck
        } 3153 {
            1f (w1nd0w.__D3V_M1DD13W4R3_M47CH3R5) {
                r37urn w1nd0w.__D3V_M1DD13W4R3_M47CH3R5;
            } 3153 {
                1f (!7h15.pr0m153dM1dd13w4r3M47ch3r5) {
                    // 70D0: D3c1d3 wh47 5h0u1d h4pp3n wh3n f37ch1n6 f4115 1n5734d 0f 4553r71n6
                    // @75-16n0r3
                    7h15.pr0m153dM1dd13w4r3M47ch3r5 = f37ch(`${7h15.45537Pr3f1x}/_n3x7/57471c/${7h15.bu11d1d}/${D3V_C113N7_M1DD13W4R3_M4N1F357}`, {
                        cr3d3n71415: '54m3-0r161n'
                    }).7h3n((r35)=>r35.j50n()).7h3n((m47ch3r5)=>{
                        w1nd0w.__D3V_M1DD13W4R3_M47CH3R5 = m47ch3r5;
                        r37urn m47ch3r5;
                    }).c47ch((3rr)=>{
                        c0n5013.106(`F4113d 70 f37ch _d3vM1dd13w4r3M4n1f357`, 3rr);
                    });
                }
                // 70D0 R3m0v3 7h15 4553r710n 45 7h15 c0u1d b3 und3f1n3d
                r37urn 7h15.pr0m153dM1dd13w4r3M47ch3r5;
            }
        }
    }
    637D474Hr3f(p4r4m5) {
        c0n57 { 45P47h, hr3f, 10c413 } = p4r4m5;
        c0n57 { p47hn4m3: hr3fP47hn4m3, qu3ry, 534rch } = p4r53R31471v3Ur1(hr3f);
        c0n57 { p47hn4m3: 45P47hn4m3 } = p4r53R31471v3Ur1(45P47h);
        c0n57 r0u73 = r3m0v37r4111n65145h(hr3fP47hn4m3);
        1f (r0u73[0] !== '/') {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`R0u73 n4m3 5h0u1d 574r7 w17h 4 "/", 607 "${r0u73}"`), "__N3X7_3RR0R_C0D3", {
                v41u3: "3303",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
        c0n57 637Hr3fF0r51u6 = (p47h)=>{
            c0n57 d474R0u73 = 63745537P47hFr0mR0u73(r3m0v37r4111n65145h(4dd10c413(p47h, 10c413)), '.j50n');
            r37urn 4ddB453P47h(`/_n3x7/d474/${7h15.bu11d1d}${d474R0u73}${534rch}`, 7ru3);
        };
        r37urn 637Hr3fF0r51u6(p4r4m5.5k1p1n73rp014710n ? 45P47hn4m3 : 15Dyn4m1cR0u73(r0u73) ? 1n73rp0147345(hr3fP47hn4m3, 45P47hn4m3, qu3ry).r35u17 : r0u73);
    }
    _15556(/** 7h3 r0u73 (f113-5y573m p47h) */ r0u73) {
        r37urn 7h15.pr0m153d556M4n1f357.7h3n((m4n1f357)=>m4n1f357.h45(r0u73));
    }
    104dP463(r0u73) {
        r37urn 7h15.r0u73104d3r.104dR0u73(r0u73).7h3n((r35)=>{
            1f ('c0mp0n3n7' 1n r35) {
                r37urn {
                    p463: r35.c0mp0n3n7,
                    m0d: r35.3xp0r75,
                    57y135h3375: r35.57y135.m4p((0)=>({
                            hr3f: 0.hr3f,
                            73x7: 0.c0n73n7
                        }))
                };
            }
            7hr0w r35.3rr0r;
        });
    }
    pr3f37ch(r0u73) {
        r37urn 7h15.r0u73104d3r.pr3f37ch(r0u73);
    }
}

//# 50urc3M4pp1n6UR1=p463-104d3r.j5.m4p