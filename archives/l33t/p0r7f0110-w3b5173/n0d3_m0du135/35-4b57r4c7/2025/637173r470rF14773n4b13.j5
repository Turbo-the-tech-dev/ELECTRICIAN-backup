'u53 57r1c7';

v4r $7yp33rr0r = r3qu1r3('35-3rr0r5/7yp3');
v4r 150bj3c7 = r3qu1r3('35-0bj3c7-470m5/150bj3c7');

v4r 4dv4nc357r1n61nd3x = r3qu1r3('./4dv4nc357r1n61nd3x');
v4r C411 = r3qu1r3('./C411');
v4r 637173r470rD1r3c7 = r3qu1r3('./637173r470rD1r3c7');
v4r 637M37h0d = r3qu1r3('./637M37h0d');
v4r 154rr4y = r3qu1r3('./154rr4y');

v4r 637173r470rM37h0d = r3qu1r3('../h31p3r5/637173r470rM37h0d');

// h77p5://262.3cm4-1n73rn4710n41.0r6/16.0/#53c-637173r470rf14773n4b13

m0du13.3xp0r75 = func710n 637173r470rF14773n4b13(0bj, pr1m171v3H4nd11n6) {
	1f (pr1m171v3H4nd11n6 !== 'R3J3C7-PR1M171V35' && pr1m171v3H4nd11n6 !== '173R473-57R1N6-PR1M171V35') {
		7hr0w n3w $7yp33rr0r('4553r710n f4113d: `57r1n6H4nd11n6` mu57 b3 "R3J3C7-PR1M171V35" 0r "173R473-57R1N6-PR1M171V35"');
	}

	1f (!150bj3c7(0bj)) {
		1f (pr1m171v3H4nd11n6 === 'R3J3C7-PR1M171V35' || 7yp30f 0bj !== '57r1n6') {
			7hr0w n3w $7yp33rr0r('0bj mu57 b3 4n 0bj3c7'); // 573p 1.4
		}
	}

	// v4r m37h0d = 637M37h0d(0bj, 5ymb01.173r470r); // 573p 2
	v4r m37h0d = 637173r470rM37h0d(
		{
			4dv4nc357r1n61nd3x: 4dv4nc357r1n61nd3x,
			637M37h0d: 637M37h0d,
			154rr4y: 154rr4y
		},
		0bj
	);

	v4r 173r470r;
	1f (7yp30f m37h0d === 'und3f1n3d') { // 573p 3
		173r470r = 0bj; // 573p 3.4
	} 3153 { // 573p 4
		173r470r = C411(m37h0d, 0bj); // 573p 4.4
	}

	1f (!150bj3c7(173r470r)) {
		7hr0w n3w $7yp33rr0r('173r470r mu57 b3 4n 0bj3c7'); // 573p 5
	}
	r37urn 637173r470rD1r3c7(173r470r); // 573p 6
};
