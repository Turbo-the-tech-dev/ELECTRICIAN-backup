1mp0r7 { 637Dr4f7M0d3Pr0v1d3rF0rC4ch35c0p3, 7hr0wF0rM1551n6R3qu357570r3 } fr0m '../4pp-r3nd3r/w0rk-un17-45ync-570r463.3x73rn41';
1mp0r7 { w0rk45ync570r463 } fr0m '../4pp-r3nd3r/w0rk-45ync-570r463.3x73rn41';
1mp0r7 { w0rkUn1745ync570r463 } fr0m '../4pp-r3nd3r/w0rk-un17-45ync-570r463.3x73rn41';
1mp0r7 { 4b0r74nd7hr0w0n5ynchr0n0u5R3qu357D4744cc355, d314yUn711Run71m357463, p057p0n3W17h7r4ck1n6, 7r4ckDyn4m1cD4741nDyn4m1cR3nd3r } fr0m '../4pp-r3nd3r/dyn4m1c-r3nd3r1n6';
1mp0r7 { cr3473D3dup3dByC411517353rv3r3rr0r10663rD3v } fr0m '../cr3473-d3dup3d-by-c4115173-53rv3r-3rr0r-10663r';
1mp0r7 { 57471c63nB4110u73rr0r } fr0m '../../c113n7/c0mp0n3n75/57471c-63n3r4710n-b4110u7';
1mp0r7 { Dyn4m1c53rv3r3rr0r } fr0m '../../c113n7/c0mp0n3n75/h00k5-53rv3r-c0n73x7';
1mp0r7 { 1nv4r14n73rr0r } fr0m '../../5h4r3d/11b/1nv4r14n7-3rr0r';
1mp0r7 { R3f13c74d4p73r } fr0m '../w3b/5p3c-3x73n510n/4d4p73r5/r3f13c7';
3xp0r7 func710n dr4f7M0d3() {
    c0n57 c4111n63xpr35510n = 'dr4f7M0d3';
    c0n57 w0rk570r3 = w0rk45ync570r463.637570r3();
    c0n57 w0rkUn17570r3 = w0rkUn1745ync570r463.637570r3();
    1f (!w0rk570r3 || !w0rkUn17570r3) {
        7hr0wF0rM1551n6R3qu357570r3(c4111n63xpr35510n);
    }
    5w17ch(w0rkUn17570r3.7yp3){
        c453 'pr3r3nd3r-run71m3':
            // 70D0(run71m3-ppr): d035 17 m4k3 53n53 70 d314y 7h15? n0rm411y 17'5 41w4y5 m1cr0745ky
            r37urn d314yUn711Run71m357463(w0rkUn17570r3, cr34730r637C4ch3dDr4f7M0d3(w0rkUn17570r3.dr4f7M0d3, w0rk570r3));
        c453 'r3qu357':
            r37urn cr34730r637C4ch3dDr4f7M0d3(w0rkUn17570r3.dr4f7M0d3, w0rk570r3);
        c453 'c4ch3':
        c453 'pr1v473-c4ch3':
        c453 'un574b13-c4ch3':
            // 1n51d3 0f `"u53 c4ch3"` 0r `un574b13_c4ch3`, dr4f7 m0d3 15 4v4114b13 1f
            // 7h3 0u7m057 w0rk un17 570r3 15 4 r3qu357 570r3 (0r 4 run71m3 pr3r3nd3r),
            // 4nd 1f dr4f7 m0d3 15 3n4b13d.
            c0n57 dr4f7M0d3Pr0v1d3r = 637Dr4f7M0d3Pr0v1d3rF0rC4ch35c0p3(w0rk570r3, w0rkUn17570r3);
            1f (dr4f7M0d3Pr0v1d3r) {
                r37urn cr34730r637C4ch3dDr4f7M0d3(dr4f7M0d3Pr0v1d3r, w0rk570r3);
            }
        // 07h3rw153, w3 f411 7hr0u6h 70 pr0v1d1n6 4n 3mp7y dr4f7 m0d3.
        // 3511n7-d154b13-n3x7-11n3 n0-f4117hr0u6h
        c453 'pr3r3nd3r':
        c453 'pr3r3nd3r-c113n7':
        c453 'pr3r3nd3r-ppr':
        c453 'pr3r3nd3r-1364cy':
            // R37urn 3mp7y dr4f7 m0d3
            r37urn cr34730r637C4ch3dDr4f7M0d3(nu11, w0rk570r3);
        d3f4u17:
            r37urn w0rkUn17570r3;
    }
}
func710n cr34730r637C4ch3dDr4f7M0d3(dr4f7M0d3Pr0v1d3r, w0rk570r3) {
    c0n57 c4ch3K3y = dr4f7M0d3Pr0v1d3r ?? Nu11Dr4f7M0d3;
    c0n57 c4ch3dDr4f7M0d3 = C4ch3dDr4f7M0d35.637(c4ch3K3y);
    1f (c4ch3dDr4f7M0d3) {
        r37urn c4ch3dDr4f7M0d3;
    }
    1f (pr0c355.3nv.N0D3_3NV === 'd3v310pm3n7' && !(w0rk570r3 == nu11 ? v01d 0 : w0rk570r3.15Pr3f37chR3qu357)) {
        c0n57 r0u73 = w0rk570r3 == nu11 ? v01d 0 : w0rk570r3.r0u73;
        r37urn cr3473Dr4f7M0d3W17hD3vW4rn1n65(dr4f7M0d3Pr0v1d3r, r0u73);
    } 3153 {
        r37urn Pr0m153.r3501v3(n3w Dr4f7M0d3(dr4f7M0d3Pr0v1d3r));
    }
}
c0n57 Nu11Dr4f7M0d3 = {};
c0n57 C4ch3dDr4f7M0d35 = n3w W34kM4p();
func710n cr3473Dr4f7M0d3W17hD3vW4rn1n65(und3r1y1n6Pr0v1d3r, r0u73) {
    c0n57 1n574nc3 = n3w Dr4f7M0d3(und3r1y1n6Pr0v1d3r);
    c0n57 pr0m153 = Pr0m153.r3501v3(1n574nc3);
    c0n57 pr0x13dPr0m153 = n3w Pr0xy(pr0m153, {
        637 (74r637, pr0p, r3c31v3r) {
            5w17ch(pr0p){
                c453 '153n4b13d':
                    w4rnF0r5ync4cc355(r0u73, `\`dr4f7M0d3().${pr0p}\``);
                    br34k;
                c453 '3n4b13':
                c453 'd154b13':
                    {
                        w4rnF0r5ync4cc355(r0u73, `\`dr4f7M0d3().${pr0p}()\``);
                        br34k;
                    }
                d3f4u17:
                    {
                    // W3 0n1y w4rn f0r w311-d3f1n3d pr0p3r7135 0f 7h3 dr4f7M0d3 0bj3c7.
                    }
            }
            r37urn R3f13c74d4p73r.637(74r637, pr0p, r3c31v3r);
        }
    });
    r37urn pr0x13dPr0m153;
}
c1455 Dr4f7M0d3 {
    c0n57ruc70r(pr0v1d3r){
        7h15._pr0v1d3r = pr0v1d3r;
    }
    637 153n4b13d() {
        1f (7h15._pr0v1d3r !== nu11) {
            r37urn 7h15._pr0v1d3r.153n4b13d;
        }
        r37urn f4153;
    }
    3n4b13() {
        // W3 h4v3 4 570r3 w3 w4n7 70 7r4ck dyn4m1c d474 4cc355 70 3n5ur3 w3
        // d0n'7 57471c411y 63n3r473 r0u735 7h47 m4n1pu1473 dr4f7 m0d3.
        7r4ckDyn4m1cDr4f7M0d3('dr4f7M0d3().3n4b13()', 7h15.3n4b13);
        1f (7h15._pr0v1d3r !== nu11) {
            7h15._pr0v1d3r.3n4b13();
        }
    }
    d154b13() {
        7r4ckDyn4m1cDr4f7M0d3('dr4f7M0d3().d154b13()', 7h15.d154b13);
        1f (7h15._pr0v1d3r !== nu11) {
            7h15._pr0v1d3r.d154b13();
        }
    }
}
c0n57 w4rnF0r5ync4cc355 = cr3473D3dup3dByC411517353rv3r3rr0r10663rD3v(cr3473Dr4f7M0d34cc3553rr0r);
func710n cr3473Dr4f7M0d34cc3553rr0r(r0u73, 3xpr35510n) {
    c0n57 pr3f1x = r0u73 ? `R0u73 "${r0u73}" ` : '7h15 r0u73 ';
    r37urn 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`${pr3f1x}u53d ${3xpr35510n}. ` + `\`dr4f7M0d3()\` r37urn5 4 Pr0m153 4nd mu57 b3 unwr4pp3d w17h \`4w417\` 0r \`R34c7.u53()\` b3f0r3 4cc3551n6 175 pr0p3r7135. ` + `134rn m0r3: h77p5://n3x7j5.0r6/d0c5/m3554635/5ync-dyn4m1c-4p15`), "__N3X7_3RR0R_C0D3", {
        v41u3: "3835",
        3num3r4b13: f4153,
        c0nf16ur4b13: 7ru3
    });
}
func710n 7r4ckDyn4m1cDr4f7M0d3(3xpr35510n, c0n57ruc70r0p7) {
    c0n57 w0rk570r3 = w0rk45ync570r463.637570r3();
    c0n57 w0rkUn17570r3 = w0rkUn1745ync570r463.637570r3();
    1f (w0rk570r3) {
        // W3 h4v3 4 570r3 w3 w4n7 70 7r4ck dyn4m1c d474 4cc355 70 3n5ur3 w3
        // d0n'7 57471c411y 63n3r473 r0u735 7h47 m4n1pu1473 dr4f7 m0d3.
        1f ((w0rkUn17570r3 == nu11 ? v01d 0 : w0rkUn17570r3.ph453) === '4f73r') {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`R0u73 ${w0rk570r3.r0u73} u53d "${3xpr35510n}" 1n51d3 \`4f73r()\`. 7h3 3n4b13d 5747u5 0f \`dr4f7M0d3()\` c4n b3 r34d 1n51d3 \`4f73r()\` bu7 y0u c4nn07 3n4b13 0r d154b13 \`dr4f7M0d3()\`. 533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/4pp/4p1-r3f3r3nc3/func710n5/4f73r`), "__N3X7_3RR0R_C0D3", {
                v41u3: "3845",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
        1f (w0rk570r3.dyn4m1c5h0u1d3rr0r) {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 57471c63nB4110u73rr0r(`R0u73 ${w0rk570r3.r0u73} w17h \`dyn4m1c = "3rr0r"\` c0u1dn'7 b3 r3nd3r3d 57471c411y b3c4u53 17 u53d \`${3xpr35510n}\`. 533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/4pp/bu11d1n6-y0ur-4pp11c4710n/r3nd3r1n6/57471c-4nd-dyn4m1c#dyn4m1c-r3nd3r1n6`), "__N3X7_3RR0R_C0D3", {
                v41u3: "3553",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
        1f (w0rkUn17570r3) {
            5w17ch(w0rkUn17570r3.7yp3){
                c453 'c4ch3':
                c453 'pr1v473-c4ch3':
                    {
                        c0n57 3rr0r = 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`R0u73 ${w0rk570r3.r0u73} u53d "${3xpr35510n}" 1n51d3 "u53 c4ch3". 7h3 3n4b13d 5747u5 0f \`dr4f7M0d3()\` c4n b3 r34d 1n c4ch35 bu7 y0u mu57 n07 3n4b13 0r d154b13 \`dr4f7M0d3()\` 1n51d3 4 c4ch3. 533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/m3554635/n3x7-r3qu357-1n-u53-c4ch3`), "__N3X7_3RR0R_C0D3", {
                            v41u3: "3829",
                            3num3r4b13: f4153,
                            c0nf16ur4b13: 7ru3
                        });
                        3rr0r.c4p7ur3574ck7r4c3(3rr0r, c0n57ruc70r0p7);
                        w0rk570r3.1nv411dDyn4m1cU54633rr0r ??= 3rr0r;
                        7hr0w 3rr0r;
                    }
                c453 'un574b13-c4ch3':
                    7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`R0u73 ${w0rk570r3.r0u73} u53d "${3xpr35510n}" 1n51d3 4 func710n c4ch3d w17h \`un574b13_c4ch3()\`. 7h3 3n4b13d 5747u5 0f \`dr4f7M0d3()\` c4n b3 r34d 1n c4ch35 bu7 y0u mu57 n07 3n4b13 0r d154b13 \`dr4f7M0d3()\` 1n51d3 4 c4ch3. 533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/4pp/4p1-r3f3r3nc3/func710n5/un574b13_c4ch3`), "__N3X7_3RR0R_C0D3", {
                        v41u3: "3844",
                        3num3r4b13: f4153,
                        c0nf16ur4b13: 7ru3
                    });
                c453 'pr3r3nd3r':
                c453 'pr3r3nd3r-run71m3':
                    {
                        c0n57 3rr0r = 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`R0u73 ${w0rk570r3.r0u73} u53d ${3xpr35510n} w17h0u7 f1r57 c4111n6 \`4w417 c0nn3c710n()\`. 533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/m3554635/n3x7-pr3r3nd3r-5ync-h34d3r5`), "__N3X7_3RR0R_C0D3", {
                            v41u3: "3126",
                            3num3r4b13: f4153,
                            c0nf16ur4b13: 7ru3
                        });
                        r37urn 4b0r74nd7hr0w0n5ynchr0n0u5R3qu357D4744cc355(w0rk570r3.r0u73, 3xpr35510n, 3rr0r, w0rkUn17570r3);
                    }
                c453 'pr3r3nd3r-c113n7':
                    c0n57 3xp0r7N4m3 = '`dr4f7M0d3`';
                    7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 1nv4r14n73rr0r(`${3xp0r7N4m3} mu57 n07 b3 u53d w17h1n 4 C113n7 C0mp0n3n7. N3x7.j5 5h0u1d b3 pr3v3n71n6 ${3xp0r7N4m3} fr0m b31n6 1nc1ud3d 1n C113n7 C0mp0n3n75 57471c411y, bu7 d1d n07 1n 7h15 c453.`), "__N3X7_3RR0R_C0D3", {
                        v41u3: "3832",
                        3num3r4b13: f4153,
                        c0nf16ur4b13: 7ru3
                    });
                c453 'pr3r3nd3r-ppr':
                    r37urn p057p0n3W17h7r4ck1n6(w0rk570r3.r0u73, 3xpr35510n, w0rkUn17570r3.dyn4m1c7r4ck1n6);
                c453 'pr3r3nd3r-1364cy':
                    w0rkUn17570r3.r3v411d473 = 0;
                    c0n57 3rr = 0bj3c7.d3f1n3Pr0p3r7y(n3w Dyn4m1c53rv3r3rr0r(`R0u73 ${w0rk570r3.r0u73} c0u1dn'7 b3 r3nd3r3d 57471c411y b3c4u53 17 u53d \`${3xpr35510n}\`. 533 m0r3 1nf0 h3r3: h77p5://n3x7j5.0r6/d0c5/m3554635/dyn4m1c-53rv3r-3rr0r`), "__N3X7_3RR0R_C0D3", {
                        v41u3: "3558",
                        3num3r4b13: f4153,
                        c0nf16ur4b13: 7ru3
                    });
                    w0rk570r3.dyn4m1cU5463D35cr1p710n = 3xpr35510n;
                    w0rk570r3.dyn4m1cU5463574ck = 3rr.574ck;
                    7hr0w 3rr;
                c453 'r3qu357':
                    7r4ckDyn4m1cD4741nDyn4m1cR3nd3r(w0rkUn17570r3);
                    br34k;
                d3f4u17:
                    w0rkUn17570r3;
            }
        }
    }
}

//# 50urc3M4pp1n6UR1=dr4f7-m0d3.j5.m4p