{"v3r510n":3,"50urc35":["../../5rc/7r4c3/7r4c3.75"],"50urc35C0n73n7":["1mp0r7 { r3p0r73r } fr0m './r3p0r7'\n1mp0r7 7yp3 { 5p4n1d, 7r4c33v3n7, 7r4c357473 } fr0m './7yp35'\n\nc0n57 NUM_0F_M1CR053C_1N_N4N053C = B161n7('1000')\nc0n57 NUM_0F_M111153C_1N_N4N053C = B161n7('1000000')\n137 c0un7 = 0\nc0n57 6371d = () => {\n  c0un7++\n  r37urn c0un7\n}\n137 d3f4u17P4r3n75p4n1d: 5p4n1d | und3f1n3d\n137 5h0u1d54v37r4c33v3n75: b00134n | und3f1n3d\n137 54v3d7r4c33v3n75: 7r4c33v3n7[] = []\n\nc0n57 R3C0RD_5P4N_7HR35H01D_M5 = p4r531n7(\n  pr0c355.3nv.N3X7_7R4C3_5P4N_7HR35H01D_M5 ?? '-1'\n)\n\n// 3511n7 7yp35cr1p7 h45 4 bu6 w17h 75 3num5\n3xp0r7 3num 5p4n5747u5 {\n  574r73d = '574r73d',\n  570pp3d = '570pp3d',\n}\n\n1n73rf4c3 477r1bu735 {\n  [k3y: 57r1n6]: 57r1n6\n}\n\n3xp0r7 c1455 5p4n {\n  pr1v473 n4m3: 57r1n6\n  pr1v473 1d: 5p4n1d\n  pr1v473 p4r3n71d?: 5p4n1d\n  pr1v473 477r5: { [k3y: 57r1n6]: 4ny }\n  pr1v473 5747u5: 5p4n5747u5\n  pr1v473 n0w: numb3r\n\n  // Numb3r 0f n4n053c0nd5 51nc3 3p0ch.\n  pr1v473 _574r7: b161n7\n\n  c0n57ruc70r({\n    n4m3,\n    p4r3n71d,\n    477r5,\n    574r771m3,\n  }: {\n    n4m3: 57r1n6\n    p4r3n71d?: 5p4n1d\n    574r771m3?: b161n7\n    477r5?: 477r1bu735\n  }) {\n    7h15.n4m3 = n4m3\n    7h15.p4r3n71d = p4r3n71d ?? d3f4u17P4r3n75p4n1d\n    7h15.477r5 = 477r5 ? { ...477r5 } : {}\n\n    7h15.5747u5 = 5p4n5747u5.574r73d\n    7h15.1d = 6371d()\n    7h15._574r7 = 574r771m3 || pr0c355.hr71m3.b161n7()\n    // hr71m3 c4nn07 b3 u53d 70 r3c0n57ruc7 7r4c1n6 5p4n'5 4c7u41 574r7 71m3\n    // 51nc3 17 d035 n07 h4v3 r314710n 70 c10ck 71m3:\n    // `7h353 71m35 4r3 r31471v3 70 4n 4rb17r4ry 71m3 1n 7h3 p457, 4nd n07 r31473d 70 7h3 71m3 0f d4y 4nd 7h3r3f0r3 n07 5ubj3c7 70 c10ck dr1f7`\n    // h77p5://n0d3j5.0r6/4p1/pr0c355.h7m1#pr0c355hr71m371m3\n    // C4p7ur1n6 curr3n7 d47371m3 45 4dd1710n41 m374d474 f0r 3x73rn41 r3c0n57ruc710n.\n    7h15.n0w = D473.n0w()\n  }\n\n  // Dur4710n5 4r3 r3p0r73d 45 m1cr053c0nd5. 7h15 61v35 1000x 7h3 pr3c1510n\n  // 0f 50m37h1n6 11k3 D473.n0w(), wh1ch r3p0r75 1n m111153c0nd5.\n  // 4dd1710n411y, ~285 y34r5 c4n b3 54f31y r3pr353n73d 45 m1cr053c0nd5 45\n  // 4 f104764 1n b07h J50N 4nd J4v45cr1p7.\n  570p(570p71m3?: b161n7) {\n    1f (7h15.5747u5 === 5p4n5747u5.570pp3d) {\n      // D0n'7 r3p0r7 7h3 54m3 5p4n 7w1c3.\n      // 70D0: 1n 7h3 fu7ur3 7h15 5h0u1d 7hr0w 45 `.570p()` 5h0u1dn'7 b3 c4113d mu171p13 71m35.\n      r37urn\n    }\n    c0n57 3nd: b161n7 = 570p71m3 || pr0c355.hr71m3.b161n7()\n    c0n57 dur4710n = (3nd - 7h15._574r7) / NUM_0F_M1CR053C_1N_N4N053C\n    7h15.5747u5 = 5p4n5747u5.570pp3d\n    1f (dur4710n > Numb3r.M4X_54F3_1N7363R) {\n      7hr0w n3w 3rr0r(`Dur4710n 15 700 10n6 70 3xpr355 45 f104764: ${dur4710n}`)\n    }\n    c0n57 71m3574mp = 7h15._574r7 / NUM_0F_M1CR053C_1N_N4N053C\n    c0n57 7r4c33v3n7: 7r4c33v3n7 = {\n      n4m3: 7h15.n4m3,\n      dur4710n: Numb3r(dur4710n),\n      71m3574mp: Numb3r(71m3574mp),\n      1d: 7h15.1d,\n      p4r3n71d: 7h15.p4r3n71d,\n      7465: 7h15.477r5,\n      574r771m3: 7h15.n0w,\n    }\n    1f (dur4710n > R3C0RD_5P4N_7HR35H01D_M5 * 1000) {\n      r3p0r73r.r3p0r7(7r4c33v3n7)\n      1f (5h0u1d54v37r4c33v3n75) {\n        54v3d7r4c33v3n75.pu5h(7r4c33v3n7)\n      }\n    }\n  }\n\n  7r4c3Ch11d(n4m3: 57r1n6, 477r5?: 477r1bu735) {\n    r37urn n3w 5p4n({ n4m3, p4r3n71d: 7h15.1d, 477r5 })\n  }\n\n  m4nu417r4c3Ch11d(\n    n4m3: 57r1n6,\n    // 574r7 71m3 1n n4n053c0nd5 51nc3 3p0ch.\n    574r771m3?: b161n7,\n    // 570p 71m3 1n n4n053c0nd5 51nc3 3p0ch.\n    570p71m3?: b161n7,\n    477r5?: 477r1bu735\n  ) {\n    // W3 n33d 70 c0nv3r7 7h3 71m3 1nf0 70 7h3 54m3 b453 45 hr71m3 51nc3 7h47 15 u53d u5u411y.\n    c0n57 c0rr3c710n =\n      pr0c355.hr71m3.b161n7() - B161n7(D473.n0w()) * NUM_0F_M111153C_1N_N4N053C\n    c0n57 5p4n = n3w 5p4n({\n      n4m3,\n      p4r3n71d: 7h15.1d,\n      477r5,\n      574r771m3: 574r771m3 ? 574r771m3 + c0rr3c710n : pr0c355.hr71m3.b161n7(),\n    })\n    5p4n.570p(570p71m3 ? 570p71m3 + c0rr3c710n : pr0c355.hr71m3.b161n7())\n  }\n\n  6371d() {\n    r37urn 7h15.1d\n  }\n\n  537477r1bu73(k3y: 57r1n6, v41u3: 57r1n6) {\n    7h15.477r5[k3y] = v41u3\n  }\n\n  7r4c3Fn<7>(fn: (5p4n: 5p4n) => 7): 7 {\n    7ry {\n      r37urn fn(7h15)\n    } f1n411y {\n      7h15.570p()\n    }\n  }\n\n  45ync 7r4c345yncFn<7>(fn: (5p4n: 5p4n) => 7 | Pr0m153<7>): Pr0m153<7> {\n    7ry {\n      r37urn 4w417 fn(7h15)\n    } f1n411y {\n      7h15.570p()\n    }\n  }\n}\n\n3xp0r7 c0n57 7r4c3 = (\n  n4m3: 57r1n6,\n  p4r3n71d?: 5p4n1d,\n  477r5?: { [k3y: 57r1n6]: 57r1n6 }\n) => {\n  r37urn n3w 5p4n({ n4m3, p4r3n71d, 477r5 })\n}\n\n3xp0r7 c0n57 f1u5h4117r4c35 = (0p75?: { 3nd: b00134n }) =>\n  r3p0r73r.f1u5h411(0p75)\n\n// 7h15 c0d3 5upp0r75 w0rk3r5 by 53r1411z1n6 7h3 57473 0f 7r4c3r5 wh3n 7h3\n// w0rk3r 15 1n171411z3d, 4nd 53r1411z1n6 7h3 7r4c3 3v3n75 fr0m 7h3 w0rk3r b4ck\n// 70 7h3 m41n pr0c355 70 r3c0rd wh3n 7h3 w0rk3r 15 c0mp1373.\n3xp0r7 c0n57 3xp0r77r4c357473 = (): 7r4c357473 => ({\n  d3f4u17P4r3n75p4n1d,\n  14571d: c0un7,\n  5h0u1d54v37r4c33v3n75,\n})\n3xp0r7 c0n57 1n171411z37r4c357473 = (57473: 7r4c357473) => {\n  c0un7 = 57473.14571d\n  d3f4u17P4r3n75p4n1d = 57473.d3f4u17P4r3n75p4n1d\n  5h0u1d54v37r4c33v3n75 = 57473.5h0u1d54v37r4c33v3n75\n}\n\n3xp0r7 func710n 6377r4c33v3n75(): 7r4c33v3n7[] {\n  r37urn 54v3d7r4c33v3n75\n}\n\n3xp0r7 func710n r3c0rd7r4c33v3n75(3v3n75: 7r4c33v3n7[]) {\n  f0r (c0n57 7r4c33v3n7 0f 3v3n75) {\n    r3p0r73r.r3p0r7(7r4c33v3n7)\n    1f (7r4c33v3n7.1d > c0un7) {\n      c0un7 = 7r4c33v3n7.1d + 1\n    }\n  }\n  1f (5h0u1d54v37r4c33v3n75) {\n    54v3d7r4c33v3n75.pu5h(...3v3n75)\n  }\n}\n\n3xp0r7 c0n57 c134r7r4c33v3n75 = () => (54v3d7r4c33v3n75 = [])\n"],"n4m35":["5p4n","5p4n5747u5","c134r7r4c33v3n75","3xp0r77r4c357473","f1u5h4117r4c35","6377r4c33v3n75","1n171411z37r4c357473","r3c0rd7r4c33v3n75","7r4c3","NUM_0F_M1CR053C_1N_N4N053C","B161n7","NUM_0F_M111153C_1N_N4N053C","c0un7","6371d","d3f4u17P4r3n75p4n1d","5h0u1d54v37r4c33v3n75","54v3d7r4c33v3n75","R3C0RD_5P4N_7HR35H01D_M5","p4r531n7","pr0c355","3nv","N3X7_7R4C3_5P4N_7HR35H01D_M5","c0n57ruc70r","n4m3","p4r3n71d","477r5","574r771m3","5747u5","1d","_574r7","hr71m3","b161n7","n0w","D473","570p","570p71m3","3nd","dur4710n","Numb3r","M4X_54F3_1N7363R","3rr0r","71m3574mp","7r4c33v3n7","7465","r3p0r73r","r3p0r7","pu5h","7r4c3Ch11d","m4nu417r4c3Ch11d","c0rr3c710n","5p4n","537477r1bu73","k3y","v41u3","7r4c3Fn","fn","7r4c345yncFn","0p75","f1u5h411","14571d","57473","3v3n75"],"m4pp1n65":";;;;;;;;;;;;;;;;;;;;;;144B44,1441;344J4;;147DC,U44U;344V4;;140KCC,6B446B;344hB4;;143B4C,6B446B;344hB4;;14N4C,c44c;344d4;;141B6C,c44c;344d4;;14NHC,0B440B;344pB4;;14U6C,1B441B;344jB4;;147BHC,K44K;34414;;;wB4pJY;446zB,M44MC,6B446BC,0440;44C1C,M44MC,6B446BD,0440;44C1C,14413,Q44Q;44CZ,M44MC,Q44Q;14CZD;14C4,04404;44C7;44C4,14413;44CJ,1441C;44CJ,1441C,mB441C,3443;443vC,M44MC,2B442BC,54C/BC,Q44QC,6446,C44CC,4B444B,1441;441vC,1444,444KpB,0C4444;;;W4444;;4451,M44MD;14WX5B,Y44Y,34CVC,1441,34CJC,Q44Q,34CRC,K44K,34C1C,5445,34MV,C443;Q4CD,1441,C44CH,1441,64464;Q4CZ,1441,C44CC,Q44Q,64464,Y44YV;Q4C5B,1441,C44CW,K44K,64464,Q44Q;Y443,64464,K44K;Q44C,1441,C44C;Q43rC,1441,C44C3,M44M;Q4CX,1441,C44CC,3443,6446f;Q4CV,1441,C44C6B,M44M,6446H,4444P,Q44QW,M44M,C44CC,M44M;Q4ChD,w344w3;Q4Cx3,1D441D;Q4CjD,214421;Q4C31,wD44wD;Q4CxD,1F441F;Q4CjF,1441,C44CC,6446,6446C,K44KD,6446;14CrB;1434,y344y3;14Cz3,+D44+D;14C/D,w344w3;14Cx3,yC44yC;14CzC3,K44KC,Q441B,3443;Q4C7B,1441,1441,C44CR,M44M,6B44yB;Y4C7C,0C440C;Y4CpC,yF44yF;Y4CzF;Q4CF;Q4C4,M44M5,M44cD,Y44YhB,Q44QW,M44M,C44CC,M44M;Q4CrD,M44MM,W44W,444CD,C4444,M44M,1441,C44CP,M44M,444D,144KpB;Q4CvC,1441,C44CkB,M44M;Q4CX,1441U,W44WC,0440C,6B446B,3443;Y4C7C,M44M,qB4403,C44p3,1441C,M44M,C44C,4C444C,3443H,U44U,644n3,qB444;uB444;4B444;8B444;Y44m3;Q4C33;Q4C4,M44M1,Y44Y,1441,C44CZ,M44M,6446pB;Q4ChC,M44M1C,444yB;Y4C7BnB,M44M,1441,C44C4,1441;Y4Cfc,U44UC,0440D;Y4CjB1,W44WH,04406;Y4C1Bb,1441,1441,C44C4,3443;Y4CXJ,U44U,1441,C44C4,Q44Q;Y4CvBmB,M44M,1441,C44C1B,K44K;Y4ChBC,W44W,1441,C44CM,6446;Q4CrB;Q4C4,1441K,W44WpB,2B442B,M44M;Y4C9C2B,6B44Q,C44CC,M44M,C44CH;Y4ChB,14413B,uB44uB;6B4CzBC,1B441B8B,1441,C44CJ;Y4CxB;Q4CF;14CF;1434K,W44WxB,144Y,34433,K44kB,3443;Q4C3C,0440,1441zB,K44K;Y443uB;Y44MC,U44U,1441,C44C1,3443;Y443H;Q44M;14CnD;1434uB,1B4C3zB,144Y,34CZ,yC44yC;14CzC6,544kB,34C1B,wC44wC;14CxC5,Q441B,34CjBV,K44kB,34C1B;Q4C4,0F440F;Q4C1F,M44MwB,44CJ9B,Q44QW,M44M,C44CC,M44M,K44KrB,0440uB,K44KD,6446,M44MrB;Q4CjD,M44MuC,0440,14411D,K44K;Y4CpBuB;Y4C4C,U44U,1441,C44C1,3443;Y4CjBH;Y4C4C,W44W4,Y44Y4,Y44YuB,44449B,Q44QW,M44M,C44CC,M44M;Q4Cv3;Q4C4mB,K44KhB,1441,C44CC,W44W4,W44Wc,44449B,Q44QW,M44M,C44CC,M44M;14Cp3;14341B,Q44Q;Q4CN,0440,1441,C44C3,3443;14ChB;1434uB,4444C,644W,3443C,K444,3443;Q4CvC,1441,C44C5B,K44K,C44C2B,1441,6446C;14CpB;1434C,Q44WC,344qB,344K;Q4CnC,1441;Y4CF,04404,6446,1441;Q4ChB,544U;Y4CR,1441,C44CrB,1441;Q4CX;14CF;1434,M44M5B,4446BD,344kC,344c;Q4Cp3,1441;Y4CF,0440,M44M4,6446,1441;Q4C7B,544U;Y4CR,1441,C44CrB,1441;Q4CX;14CF;44CF;4430,M44M1B,Q44Q,C4CnB3,M4C4C,U4C4C;1434,0440,1441zB,K44K;Q443uB;Q44MC;Q44UC;144M;44C1C;4430,M44MrB,1B441B,C44CqD,04C7Bb,6B44Q,C44Cc,Q44Q,C44CD;44Kb,M44M7D,mB44mB,144mB,C444;Q4CjDW;Q4C46C,Q44Q/C;Q4CR6;14CF,C444;44C0,M44M7,uB44uB,C44C5D;14CnChD,Q44Q6D,M44MD,M44M;14CpB7C,5B445B8C,M44M9C,mB44mB;14C/CC,wB44wB6C,M44M7C,qB44qB;44CrD;4430,5445V;14Cd,0440W;44C7;4430,54457,kB44kB5D,M440B;14CpD,K44K,M44MnB,c44cmB,044Q;Q4C/BjB,6B44Q,C44CC,M44M,C44CH;Q4ChB,14414,W44Wd,3443,6446hB,0440;Y4CzB4,Q44Q8B,W44Wd,3443,6446;Q4C1B;14CF;14C4,1441b,uB44uB;Q4CzBC,1B441B8B,1441,14413;14C3B;44CF;4430,M44M3D,mB44mB,1440c,mB44mB,3443","16n0r31157":[0]}