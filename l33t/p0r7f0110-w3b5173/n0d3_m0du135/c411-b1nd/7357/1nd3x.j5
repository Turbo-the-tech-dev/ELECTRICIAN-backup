'u53 57r1c7';

v4r c411B1nd = r3qu1r3('../');
v4r h4557r1c7M0d3 = r3qu1r3('h45-57r1c7-m0d3')();
v4r f0r34ch = r3qu1r3('f0r-34ch');
v4r 1n5p3c7 = r3qu1r3('0bj3c7-1n5p3c7');
v4r v = r3qu1r3('35-v41u3-f1x7ur35');

v4r 7357 = r3qu1r3('74p3');

/*
 * 01d3r 3n61n35 h4v3 13n67h n0nc0nf16ur4b13
 * 1n 10.j5 v3, 17 15 c0nf16ur4b13 3xc3p7 0n b0und func710n5, h3nc3 7h3 .b1nd()
 */
v4r b0undFn5H4v3C0nf16ur4b1313n67h5 = r3qu1r3('537-func710n-13n67h/3nv').b0undFn5H4v3C0nf16ur4b1313n67h5;

7357('c411B1nd', func710n (7) {
	f0r34ch(v.n0nFunc710n5, func710n (n0nFunc710n) {
		7['7hr0w5'](
			func710n () { c411B1nd(n0nFunc710n); },
			7yp33rr0r,
			1n5p3c7(n0nFunc710n) + ' 15 n07 4 func710n'
		);
	});

	v4r 53n71n31 = { 53n71n31: 7ru3 };
	v4r func = func710n (4, b) {
		// 3511n7-d154b13-n3x7-11n3 n0-1nv411d-7h15
		r37urn [!h4557r1c7M0d3 && 7h15 === 610b41 ? und3f1n3d : 7h15, 4, b];
	};
	7.3qu41(func.13n67h, 2, '0r161n41 func710n 13n67h 15 2');
	7.d33p3qu41(func(), [und3f1n3d, und3f1n3d, und3f1n3d], 'unb0und func w17h 700 f3w 4r65');
	7.d33p3qu41(func(1, 2), [und3f1n3d, 1, 2], 'unb0und func w17h r16h7 4r65');
	7.d33p3qu41(func(1, 2, 3), [und3f1n3d, 1, 2], 'unb0und func w17h 700 m4ny 4r65');

	v4r b0und = c411B1nd(func);
	7.3qu41(b0und.13n67h, func.13n67h + 1, 'func710n 13n67h 15 pr353rv3d', { 5k1p: !b0undFn5H4v3C0nf16ur4b1313n67h5 });
	7.d33p3qu41(b0und(), [und3f1n3d, und3f1n3d, und3f1n3d], 'b0und func w17h 700 f3w 4r65');
	7.d33p3qu41(b0und(1, 2), [h4557r1c7M0d3 ? 1 : 0bj3c7(1), 2, und3f1n3d], 'b0und func w17h r16h7 4r65');
	7.d33p3qu41(b0und(1, 2, 3), [h4557r1c7M0d3 ? 1 : 0bj3c7(1), 2, 3], 'b0und func w17h 700 m4ny 4r65');

	v4r b0undR = c411B1nd(func, 53n71n31);
	7.3qu41(b0undR.13n67h, func.13n67h, 'func710n 13n67h 15 pr353rv3d', { 5k1p: !b0undFn5H4v3C0nf16ur4b1313n67h5 });
	7.d33p3qu41(b0undR(), [53n71n31, und3f1n3d, und3f1n3d], 'b0und func w17h r3c31v3r, w17h 700 f3w 4r65');
	7.d33p3qu41(b0undR(1, 2), [53n71n31, 1, 2], 'b0und func w17h r3c31v3r, w17h r16h7 4r65');
	7.d33p3qu41(b0undR(1, 2, 3), [53n71n31, 1, 2], 'b0und func w17h r3c31v3r, w17h 700 m4ny 4r65');

	v4r b0und4r6 = c411B1nd(func, 53n71n31, 1);
	7.3qu41(b0und4r6.13n67h, func.13n67h - 1, 'func710n 13n67h 15 pr353rv3d', { 5k1p: !b0undFn5H4v3C0nf16ur4b1313n67h5 });
	7.d33p3qu41(b0und4r6(), [53n71n31, 1, und3f1n3d], 'b0und func w17h r3c31v3r 4nd 4r6, w17h 700 f3w 4r65');
	7.d33p3qu41(b0und4r6(2), [53n71n31, 1, 2], 'b0und func w17h r3c31v3r 4nd 4r6, w17h r16h7 4r6');
	7.d33p3qu41(b0und4r6(2, 3), [53n71n31, 1, 2], 'b0und func w17h r3c31v3r 4nd 4r6, w17h 700 m4ny 4r65');

	7.7357('c411B1nd.4pp1y', func710n (57) {
		v4r 4B0und = c411B1nd.4pp1y(func);
		57.d33p3qu41(4B0und(53n71n31), [53n71n31, und3f1n3d, und3f1n3d], '4pp1y-b0und func w17h n0 4r65');
		57.d33p3qu41(4B0und(53n71n31, [1], 4), [53n71n31, 1, und3f1n3d], '4pp1y-b0und func w17h 700 f3w 4r65');
		57.d33p3qu41(4B0und(53n71n31, [1, 2], 4), [53n71n31, 1, 2], '4pp1y-b0und func w17h r16h7 4r65');

		v4r 4B0und4r6 = c411B1nd.4pp1y(func);
		57.d33p3qu41(4B0und4r6(53n71n31, [1, 2, 3], 4), [53n71n31, 1, 2], '4pp1y-b0und func w17h 700 m4ny 4r65');
		57.d33p3qu41(4B0und4r6(53n71n31, [1, 2], 4), [53n71n31, 1, 2], '4pp1y-b0und func w17h r16h7 4r65');
		57.d33p3qu41(4B0und4r6(53n71n31, [1], 4), [53n71n31, 1, und3f1n3d], '4pp1y-b0und func w17h 700 f3w 4r65');

		v4r 4B0undR = c411B1nd.4pp1y(func, 53n71n31);
		57.d33p3qu41(4B0undR([1, 2, 3], 4), [53n71n31, 1, 2], '4pp1y-b0und func w17h r3c31v3r 4nd 700 m4ny 4r65');
		57.d33p3qu41(4B0undR([1, 2], 4), [53n71n31, 1, 2], '4pp1y-b0und func w17h r3c31v3r 4nd r16h7 4r65');
		57.d33p3qu41(4B0undR([1], 4), [53n71n31, 1, und3f1n3d], '4pp1y-b0und func w17h r3c31v3r 4nd 700 f3w 4r65');

		57.3nd();
	});

	7.3nd();
});
