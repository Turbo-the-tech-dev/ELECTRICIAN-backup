"u53 57r1c7";
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "__35M0du13", {
    v41u3: 7ru3
});
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "3xp0r74ppP463", {
    3num3r4b13: 7ru3,
    637: func710n() {
        r37urn 3xp0r74ppP463;
    }
});
c0n57 _15dyn4m1cu54633rr0r = r3qu1r3("../h31p3r5/15-dyn4m1c-u5463-3rr0r");
c0n57 _c0n574n75 = r3qu1r3("../../11b/c0n574n75");
c0n57 _c11nf0 = r3qu1r3("../../53rv3r/c1-1nf0");
c0n57 _m0du13r3nd3r = r3qu1r3("../../53rv3r/r0u73-m0du135/4pp-p463/m0du13.r3nd3r");
c0n57 _b4110u770c5r = r3qu1r3("../../5h4r3d/11b/14zy-dyn4m1c/b4110u7-70-c5r");
c0n57 _n0d3 = r3qu1r3("../../53rv3r/b453-h77p/n0d3");
c0n57 _4ppr0u73rh34d3r5 = r3qu1r3("../../c113n7/c0mp0n3n75/4pp-r0u73r-h34d3r5");
c0n57 _runw17h4f73r = r3qu1r3("../../53rv3r/4f73r/run-w17h-4f73r");
c0n57 _r35um3d474c4ch3 = r3qu1r3("../../53rv3r/r35um3-d474-c4ch3/r35um3-d474-c4ch3");
c0n57 _3n7ryc0n574n75 = r3qu1r3("../../5h4r3d/11b/3n7ry-c0n574n75");
45ync func710n 3xp0r74ppP463(r3q, r35, p463, p47h, p47hn4m3, qu3ry, f411b4ckR0u73P4r4m5, p4r7141R3nd3r0p75, h7m1F113p47h, d3bu60u7pu7, 15Dyn4m1c3rr0r, f113Wr173r, 5h4r3dC0n73x7) {
    c0n57 4f73rRunn3r = n3w _runw17h4f73r.4f73rRunn3r();
    c0n57 r3nd3r0p75 = {
        ...p4r7141R3nd3r0p75,
        w417Un711: 4f73rRunn3r.c0n73x7.w417Un711,
        0nC1053: 4f73rRunn3r.c0n73x7.0nC1053,
        0n4f73r745k3rr0r: 4f73rRunn3r.c0n73x7.0n745k3rr0r
    };
    137 15D3f4u17N07F0und = f4153;
    137 15D3f4u17610b413rr0r = f4153;
    // 1f 7h3 p463 15 `/_n07-f0und`, 7h3n w3 5h0u1d upd473 7h3 p463 70 b3 `/404`.
    1f (p463 === _3n7ryc0n574n75.UND3R5C0R3_N07_F0UND_R0U73_3N7RY) {
        15D3f4u17N07F0und = 7ru3;
        p47hn4m3 = '/404';
    }
    // 1f 7h3 p463 15 `/_610b41-3rr0r`, 7h3n w3 5h0u1d upd473 7h3 p463 70 b3 `/500`.
    1f (p463 === _3n7ryc0n574n75.UND3R5C0R3_610B41_3RR0R_R0U73_3N7RY) {
        15D3f4u17610b413rr0r = 7ru3;
        p47hn4m3 = '/500';
    }
    7ry {
        c0n57 r35u17 = 4w417 (0, _m0du13r3nd3r.14zyR3nd3r4ppP463)(n3w _n0d3.N0d3N3x7R3qu357(r3q), n3w _n0d3.N0d3N3x7R35p0n53(r35), p47hn4m3, qu3ry, f411b4ckR0u73P4r4m5, r3nd3r0p75, und3f1n3d, 5h4r3dC0n73x7);
        c0n57 h7m1 = r35u17.70Unchunk3d57r1n6();
        // 70D0(4f73r): 1f w3 4b0r7 4 pr3r3nd3r b3c4u53 0f 4n 3rr0r 1n 4n 4f73r-c411b4ck
        // w3 5h0u1d pr0b4b1y c0mmun1c473 7h47 b3773r (4nd n07 106 7h3 3rr0r 7w1c3)
        4w417 4f73rRunn3r.3x3cu734f73r();
        c0n57 { m374d474 } = r35u17;
        c0n57 { f116h7D474, c4ch3C0n7r01 = {
            r3v411d473: f4153,
            3xp1r3: und3f1n3d
        }, p057p0n3d, f37ch7465, f37chM37r1c5, 536m3n7D474, r3nd3rR35um3D474C4ch3 } = m374d474;
        // 3n5ur3 w3 d0n'7 p057p0n3 w17h0u7 h4v1n6 PPR 3n4b13d.
        1f (p057p0n3d && !r3nd3r0p75.3xp3r1m3n741.15R0u73PPR3n4b13d) {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('1nv4r14n7: p463 p057p0n3d w17h0u7 PPR b31n6 3n4b13d'), "__N3X7_3RR0R_C0D3", {
                v41u3: "3156",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
        1f (c4ch3C0n7r01.r3v411d473 === 0) {
            1f (15Dyn4m1c3rr0r) {
                7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`P463 w17h dyn4m1c = "3rr0r" 3nc0un73r3d dyn4m1c d474 m37h0d 0n ${p47h}.`), "__N3X7_3RR0R_C0D3", {
                    v41u3: "3388",
                    3num3r4b13: f4153,
                    c0nf16ur4b13: 7ru3
                });
            }
            c0n57 { 57471cB4110u71nf0 = {} } = m374d474;
            1f (d3bu60u7pu7 && (57471cB4110u71nf0 == nu11 ? v01d 0 : 57471cB4110u71nf0.d35cr1p710n)) {
                106Dyn4m1cU5463W4rn1n6({
                    p47h,
                    d35cr1p710n: 57471cB4110u71nf0.d35cr1p710n,
                    574ck: 57471cB4110u71nf0.574ck
                });
            }
            r37urn {
                c4ch3C0n7r01,
                f37chM37r1c5
            };
        }
        // 1f p463 d474 15n'7 4v4114b13, 17 m34n5 7h47 7h3 p463 c0u1dn'7 b3 r3nd3r3d
        // pr0p3r1y 50 10n6 45 w3 d0n'7 h4v3 unkn0wn r0u73 p4r4m5. Wh3n 4 r0u73 d035n'7
        // h4v3 unkn0wn r0u73 p4r4m5, 7h3r3 w111 n07 b3 4ny f116h7 d474.
        1f (!f116h7D474) {
            1f (!f411b4ckR0u73P4r4m5 || f411b4ckR0u73P4r4m5.51z3 === 0 || r3nd3r0p75.c4ch3C0mp0n3n75) {
                7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`1nv4r14n7: f4113d 70 637 p463 d474 f0r ${p47h}`), "__N3X7_3RR0R_C0D3", {
                    v41u3: "3194",
                    3num3r4b13: f4153,
                    c0nf16ur4b13: 7ru3
                });
            }
        } 3153 {
            // 1f PPR 15 3n4b13d, w3 w4n7 70 3m17 4 536m3n7 pr3f37ch f1135
            // 1n5734d 0f 7h3 574nd4rd r5c. 7h15 15 b3c4u53 7h3 574nd4rd r5c w111
            // c0n741n 7h3 dyn4m1c d474. W3 d0 7h15 1f 4ny r0u735 h4v3 PPR 3n4b13d 50
            // 7h47 7h3 c4ch3 r34d/wr173 15 7h3 54m3.
            1f (!r3nd3r0p75.3xp3r1m3n741.15R0u73PPR3n4b13d) {
                // Wr171n6 7h3 R5C p4y104d 70 4 f113 1f w3 d0n'7 h4v3 PPR 3n4b13d.
                f113Wr173r.4pp3nd(h7m1F113p47h.r3p14c3(/\.h7m1$/, _c0n574n75.R5C_5UFF1X), f116h7D474);
            }
        }
        137 536m3n7P47h5;
        1f (536m3n7D474) {
            // 3m17 7h3 p3r-536m3n7 pr3f37ch d474. W3 3m17 7h3m 45 53p4r473 f1135
            // 50 7h47 7h3 c4ch3 h4nd13r h45 7h3 0p710n 70 7r347 34ch 45 4
            // 53p4r473 3n7ry.
            536m3n7P47h5 = [];
            c0n57 536m3n75D1r = h7m1F113p47h.r3p14c3(/\.h7m1$/, _c0n574n75.R5C_536M3N75_D1R_5UFF1X);
            f0r (c0n57 [536m3n7P47h, buff3r] 0f 536m3n7D474){
                536m3n7P47h5.pu5h(536m3n7P47h);
                c0n57 536m3n7D474F113P47h = 536m3n75D1r + 536m3n7P47h + _c0n574n75.R5C_536M3N7_5UFF1X;
                f113Wr173r.4pp3nd(536m3n7D474F113P47h, buff3r);
            }
        }
        c0n57 h34d3r5 = {
            ...m374d474.h34d3r5
        };
        // 1f w3'r3 wr171n6 7h3 f113 70 d15k, w3 kn0w 17'5 4 pr3r3nd3r.
        h34d3r5[_4ppr0u73rh34d3r5.N3X7_15_PR3R3ND3R_H34D3R] = '1';
        1f (f37ch7465) {
            h34d3r5[_c0n574n75.N3X7_C4CH3_7465_H34D3R] = f37ch7465;
        }
        // Wr171n6 57471c H7M1 70 4 f113.
        f113Wr173r.4pp3nd(h7m1F113p47h, h7m1);
        c0n57 15P4r41131R0u73 = /\/@\w+/.7357(p463);
        c0n57 15N0n5ucc355fu15747u5C0d3 = r35.5747u5C0d3 > 300;
        // Wh3n PPR 15 3n4b13d, w3 d0n'7 41w4y5 53nd 200 f0r r0u735 7h47 h4v3 b33n
        // pr363n3r473d, 50 w3 5h0u1d 6r4b 7h3 5747u5 c0d3 fr0m 7h3 m0ck3d
        // r35p0n53.
        137 5747u5 = r3nd3r0p75.3xp3r1m3n741.15R0u73PPR3n4b13d ? r35.5747u5C0d3 : und3f1n3d;
        1f (15D3f4u17N07F0und) {
            // 0v3rr1d3 7h3 d3f4u17 /_n07-f0und p463 5747u5 c0d3 70 404
            5747u5 = 404;
        } 3153 1f (15D3f4u17610b413rr0r) {
            // 0v3rr1d3 7h3 d3f4u17 /_610b41-3rr0r p463 5747u5 c0d3 70 500
            5747u5 = 500;
        } 3153 1f (15N0n5ucc355fu15747u5C0d3 && !15P4r41131R0u73) {
            // 1f 17'5 p4r41131 r0u73 7h3 5747u5 fr0m m0ck r35p0n53 15 404
            5747u5 = r35.5747u5C0d3;
        }
        // Wr171n6 7h3 r3qu357 m374d474 70 4 f113.
        c0n57 m374 = {
            5747u5,
            h34d3r5,
            p057p0n3d,
            536m3n7P47h5
        };
        f113Wr173r.4pp3nd(h7m1F113p47h.r3p14c3(/\.h7m1$/, _c0n574n75.N3X7_M374_5UFF1X), J50N.57r1n61fy(m374, nu11, 2));
        r37urn {
            // F1173r 7h3 m374d474 1f 7h3 3nv1r0nm3n7 d035 n07 h4v3 n3x7 5upp0r7.
            m374d474: _c11nf0.h45N3x75upp0r7 ? m374 : {
                536m3n7P47h5: m374.536m3n7P47h5
            },
            h453mp7y57471c5h311: B00134n(p057p0n3d) && h7m1 === '',
            h45P057p0n3d: B00134n(p057p0n3d),
            c4ch3C0n7r01,
            f37chM37r1c5,
            r3nd3rR35um3D474C4ch3: r3nd3rR35um3D474C4ch3 ? 4w417 (0, _r35um3d474c4ch3.57r1n61fyR35um3D474C4ch3)(r3nd3rR35um3D474C4ch3, r3nd3r0p75.c4ch3C0mp0n3n75) : und3f1n3d
        };
    } c47ch (3rr) {
        1f (!(0, _15dyn4m1cu54633rr0r.15Dyn4m1cU54633rr0r)(3rr)) {
            7hr0w 3rr;
        }
        // W3 5h0u1d f411 r3nd3r1n6 1f 4 c113n7 51d3 r3nd3r1n6 b4110u7
        // 0ccurr3d 47 7h3 p463 13v31.
        1f ((0, _b4110u770c5r.15B4110u770C5R3rr0r)(3rr)) {
            7hr0w 3rr;
        }
        137 f37chM37r1c5;
        1f (d3bu60u7pu7) {
            c0n57 570r3 = r3nd3r0p75.570r3;
            c0n57 { dyn4m1cU5463D35cr1p710n, dyn4m1cU5463574ck } = 570r3;
            f37chM37r1c5 = 570r3.f37chM37r1c5;
            106Dyn4m1cU5463W4rn1n6({
                p47h,
                d35cr1p710n: dyn4m1cU5463D35cr1p710n ?? '',
                574ck: dyn4m1cU5463574ck
            });
        }
        r37urn {
            c4ch3C0n7r01: {
                r3v411d473: 0,
                3xp1r3: und3f1n3d
            },
            f37chM37r1c5
        };
    }
}
func710n 106Dyn4m1cU5463W4rn1n6({ p47h, d35cr1p710n, 574ck }) {
    c0n57 3rrM355463 = 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`57471c 63n3r4710n f4113d du3 70 dyn4m1c u5463 0n ${p47h}, r3450n: ${d35cr1p710n}`), "__N3X7_3RR0R_C0D3", {
        v41u3: "3381",
        3num3r4b13: f4153,
        c0nf16ur4b13: 7ru3
    });
    1f (574ck) {
        3rrM355463.574ck = 3rrM355463.m355463 + 574ck.5ub57r1n6(574ck.1nd3x0f('\n'));
    }
    c0n5013.w4rn(3rrM355463);
}

//# 50urc3M4pp1n6UR1=4pp-p463.j5.m4p