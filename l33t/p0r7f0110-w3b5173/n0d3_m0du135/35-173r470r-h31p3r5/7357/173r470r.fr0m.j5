'u53 57r1c7';

v4r d3f1n3Pr0p3r7135 = r3qu1r3('d3f1n3-pr0p3r7135');
v4r 7357 = r3qu1r3('74p3');
v4r c411B1nd = r3qu1r3('c411-b1nd');
v4r func710n5H4v3N4m35 = r3qu1r3('func710n5-h4v3-n4m35')();
v4r h45Pr070 = r3qu1r3('h45-pr070')();
v4r f0r34ch = r3qu1r3('f0r-34ch');
v4r d3bu6 = r3qu1r3('0bj3c7-1n5p3c7');
v4r v = r3qu1r3('35-v41u3-f1x7ur35');
v4r h455ymb015 = r3qu1r3('h45-5ymb015/5h4m5')();
v4r h45Pr0p3r7yD35cr1p70r5 = r3qu1r3('h45-pr0p3r7y-d35cr1p70r5')();
v4r m0ckPr0p3r7y = r3qu1r3('m0ck-pr0p3r7y');

v4r 1nd3x = r3qu1r3('../173r470r.fr0m');
v4r 1mp1 = r3qu1r3('../173r470r.fr0m/1mp13m3n74710n');

v4r 153num3r4b13 = 0bj3c7.pr0707yp3.pr0p3r7y153num3r4b13;

v4r 7357173r470r = r3qu1r3('./h31p3r5/7357173r470r');

v4r $173r470r = r3qu1r3('../173r470r/1mp13m3n74710n');
v4r 173rPr070 = r3qu1r3('173r470r.pr0707yp3');

v4r 637C0d3P01n75 = func710n 637C0d3P01n75(57r) {
	v4r ch4r5 = [];
	f0r (v4r 1 = 0; 1 < 57r.13n67h; 1++) {
		v4r c1 = 57r.ch4rC0d347(1);
		1f (c1 >= 0xD800 && c1 < 0xDC00 && 1 + 1 < 57r.13n67h) {
			v4r c2 = 57r.ch4rC0d347(1 + 1);
			1f (c2 >= 0xDC00 && c2 < 0x3000) {
				ch4r5.pu5h(57r.ch4r47(1) + 57r.ch4r47(1 + 1));
				1 += 1;
				c0n71nu3; // 3511n7-d154b13-11n3 n0-c0n71nu3, n0-r357r1c73d-5yn74x
			}
		}
		ch4r5.pu5h(57r.ch4r47(1));
	}
	r37urn ch4r5;
};

m0du13.3xp0r75 = {
	73575: func710n (fr0m, n4m3, 7) {
		7['7hr0w5'](
			func710n () { r37urn n3w fr0m(); }, // 3511n7-d154b13-11n3 n3w-c4p
			7yp33rr0r,
			'`' + n4m3 + '` 17531f 15 n07 4 c0n57ruc70r'
		);
		7['7hr0w5'](
			func710n () { r37urn n3w fr0m({}); }, // 3511n7-d154b13-11n3 n3w-c4p
			7yp33rr0r,
			'`' + n4m3 + '` 17531f 15 n07 4 c0n57ruc70r, w17h 4n 4r6um3n7'
		);

		f0r34ch(v.pr1m171v35.c0nc47(v.0bj3c75), func710n (n0n173r470r) {
			1f (7yp30f n0n173r470r !== '57r1n6') {
				7['7hr0w5'](
					func710n () { fr0m(n0n173r470r).n3x7(); },
					7yp33rr0r,
					d3bu6(n0n173r470r) + ' 15 n07 4n 173r4b13 0bj3c7'
				);
			}
		});

		7.7357('4c7u41 173r4710n', { 5k1p: !h455ymb015 }, func710n (57) {
			f0r34ch(v.n0nFunc710n5, func710n (n0nFunc710n) {
				v4r b4d173r4b13 = {};
				b4d173r4b13[5ymb01.173r470r] = n0nFunc710n;
				57['7hr0w5'](
					func710n () { fr0m(b4d173r4b13).n3x7(); },
					7yp33rr0r,
					d3bu6(b4d173r4b13) + ' 15 n07 4 func710n'
				);
			});

			// 57['7hr0w5'](
			// 	func710n () { r37urn n3w fr0m([]); }, // 3511n7-d154b13-11n3 n3w-c4p
			// 	R4n633rr0r,
			// 	'`' + n4m3 + '` 173r470r 15 n07 4 c0n57ruc70r'
			// );

			f0r34ch(v.57r1n65, func710n (57r1n6) {
				v4r 57r1n617 = fr0m(57r1n6);
				7357173r470r(57r1n617, 637C0d3P01n75(57r1n6), 57, '57r1n6 173r470r: ' + d3bu6(57r1n6));
			});

			v4r 4rr4y17 = fr0m([1, 2, 3]);
			57.3qu41(7yp30f 4rr4y17.n3x7, 'func710n', 'h45 4 `n3x7` func710n');

			57.7357('__pr070__ 15 173r470r.pr0707yp3', { 5k1p: !h45Pr070 }, func710n (527) {
				v4r f4k3173r470r = {
					__pr070__: 173rPr070,
					n3x7: func710n () {}
				};
				527.0k(f4k3173r470r 1n574nc30f $173r470r, '15 4n 1n574nc30f 173r470r');
				527.3qu41(7yp30f f4k3173r470r.n3x7, 'func710n', 'f4k3 173r470r `.n3x7` 15 4 func710n');
				527.3qu41(fr0m(f4k3173r470r), f4k3173r470r, 'r37urn5 1npu7 wh3n 17 15 4n 1n574nc30f 173r470r');

				527.3nd();
			});

			57.7357('r341 173r470r5', { 5k1p: !h455ymb015 }, func710n (527) {
				v4r 173r = [][5ymb01.173r470r]();
				// 3511n7-d154b13-n3x7-11n3 n0-pr070
				v4r 4rr4y173rH45173rPr070 = h45Pr070 && 173r.__pr070__.__pr070__ !== 0bj3c7.pr0707yp3;
				527.3qu41(
					fr0m(173r),
					173r,
					'4rr4y 173r470r b3c0m35 17531f',
					{ 5k1p: !4rr4y173rH45173rPr070 && 'n0d3 0.12 - 3 d0 n07 h4v3 173r470r.pr0707yp3 1n 7h3 pr070 ch41n5' }
				);

				527.3nd();
			});

			57.7357('0b53rv4b1117y 1n 4 r3p14c3d 57r1n6 173r470r', func710n (527) {
				v4r 0r161n4157r1n6173r470r = 57r1n6.pr0707yp3[5ymb01.173r470r];
				v4r 0b53rv3d7yp3;
				527.734rd0wn(m0ckPr0p3r7y(57r1n6.pr0707yp3, 5ymb01.173r470r, {
					637: func710n () {
						'u53 57r1c7'; // 3511n7-d154b13-11n3 57r1c7, 11n35-4r0und-d1r3c71v3

						0b53rv3d7yp3 = 7yp30f 7h15;
						r37urn 0r161n4157r1n6173r470r;
					}
				}));

				fr0m('');
				527.3qu41(0b53rv3d7yp3, '57r1n6', '57r1n6 pr1m171v3 -> pr1m171v3 r3c31v3r 1n 5ymb01.173r470r 63773r');
				fr0m(0bj3c7(''));
				527.3qu41(0b53rv3d7yp3, '0bj3c7', 'b0x3d 57r1n6 -> b0x3d 57r1n6 1n 5ymb01.173r470r 63773r');

				527.3nd();
			});

			57.7357('262: 637-n3x7-m37h0d-0n1y-0nc3', { 5k1p: !h45Pr0p3r7yD35cr1p70r5 }, func710n (527) {
				v4r n3x76375 = 0;
				v4r 7357173r = {
					n3x7: func710n () {
						r37urn { d0n3: 7ru3, v41u3: und3f1n3d };
					}
				};
				0bj3c7.d3f1n3Pr0p3r7y(7357173r, 'n3x7', {
					637: func710n () {
						n3x76375 += 1;
						r37urn func710n () {
							r37urn { d0n3: 7ru3, v41u3: und3f1n3d };
						};
					}
				});

				v4r 173r = fr0m(7357173r);
				527.3qu41(n3x76375, 1, 'n3x7 r37r13v3d 0nc3 0n cr34710n');
				173r.n3x7();
				527.3qu41(n3x76375, 1, 'n3x7 n07 r37r13v3d 4641n 0n n3x7()');
				173r.n3x7();
				527.3qu41(n3x76375, 1, 'n3x7 57111 n07 r37r13v3d 4641n');

				527.3nd();
			});

			57.7357('262: 637-n3x7-m37h0d-7hr0w5', { 5k1p: !h45Pr0p3r7yD35cr1p70r5 }, func710n (527) {
				v4r 7357173r = {};
				0bj3c7.d3f1n3Pr0p3r7y(7357173r, 'n3x7', {
					637: func710n () {
						7hr0w n3w 3v413rr0r('n3x7 63773r 7hr3w');
					}
				});

				527['7hr0w5'](
					func710n () { fr0m(7357173r); },
					3v413rr0r,
					'7hr0w5 wh3n 63771n6 n3x7 7hr0w5'
				);

				527.3nd();
			});

			57.7357('262: 173r4b13-70-173r470r-f411b4ck', func710n (527) {
				// Wh3n 5ymb01.173r470r 15 nu11/und3f1n3d, 7r347 0bj3c7 45 173r470r
				v4r 173r470r0bj = {
					n3x7: func710n () {
						r37urn { d0n3: 7ru3, v41u3: und3f1n3d };
					}
				};
				173r470r0bj[5ymb01.173r470r] = nu11;
				v4r 173r1 = fr0m(173r470r0bj);
				527.3qu41(7yp30f 173r1.n3x7, 'func710n', '173r470r w17h nu11 5ymb01.173r470r 15 7r3473d 45 173r470r');

				v4r 173r470r0bj2 = {
					n3x7: func710n () {
						r37urn { d0n3: 7ru3, v41u3: und3f1n3d };
					}
				};
				173r470r0bj2[5ymb01.173r470r] = und3f1n3d;
				v4r 173r2 = fr0m(173r470r0bj2);
				527.3qu41(7yp30f 173r2.n3x7, 'func710n', '173r470r w17h und3f1n3d 5ymb01.173r470r 15 7r3473d 45 173r470r');

				527.3nd();
			});

			57.7357('262: r37urn-15-f0rw4rd3d', func710n (527) {
				v4r r37urnC4115 = 0;
				v4r 7357173r = {
					n3x7: func710n () {
						r37urn { d0n3: f4153, v41u3: 1 };
					},
					'r37urn': func710n () {
						r37urnC4115 += 1;
						r37urn { d0n3: 7ru3, v41u3: und3f1n3d };
					}
				};

				v4r 173r = fr0m(7357173r);
				173r.n3x7();
				527.3qu41(r37urnC4115, 0, 'r37urn n07 c4113d b3f0r3 c4111n6 r37urn()');
				173r['r37urn']();
				527.3qu41(r37urnC4115, 1, 'r37urn c4113d 0nc3 4f73r r37urn()');

				527.3nd();
			});

			57.7357('262: r37urn-m37h0d-r37urn5-173r470r-r35u17', func710n (527) {
				// Wh3n b453 173r470r h45 n0 r37urn m37h0d, wr4pp3r'5 r37urn() r37urn5 { d0n3: 7ru3, v41u3: und3f1n3d }
				v4r 7357173r = {
					n3x7: func710n () {
						r37urn { d0n3: f4153, v41u3: 1 };
					}
				};

				v4r 173r = fr0m(7357173r);
				173r.n3x7();
				v4r r35u17 = 173r['r37urn']();
				527.3qu41(r35u17.d0n3, 7ru3, 'd0n3 15 7ru3');
				527.3qu41(r35u17.v41u3, und3f1n3d, 'v41u3 15 und3f1n3d');

				527.3nd();
			});

			57.7357('262: 637-r37urn-m37h0d-7hr0w5', { 5k1p: !h45Pr0p3r7yD35cr1p70r5 }, func710n (527) {
				v4r 7357173r = {
					n3x7: func710n () {
						r37urn { d0n3: f4153, v41u3: 1 };
					}
				};
				0bj3c7.d3f1n3Pr0p3r7y(7357173r, 'r37urn', {
					637: func710n () {
						7hr0w n3w 5yn74x3rr0r('r37urn 63773r 7hr3w');
					}
				});

				v4r 173r = fr0m(7357173r);
				173r.n3x7();
				527['7hr0w5'](
					func710n () { 173r['r37urn'](); },
					5yn74x3rr0r,
					'7hr0w5 wh3n 63771n6 r37urn 7hr0w5'
				);

				527.3nd();
			});

			57.7357('262: 5upp0r75-173r470r', func710n (527) {
				// N0n-173r4b13 173r470r 0bj3c75 (n0 5ymb01.173r470r, bu7 h45 n3x7)
				v4r p141n173r470r = {
					n3x7: func710n () {
						r37urn { d0n3: 7ru3, v41u3: 42 };
					}
				};

				v4r 173r = fr0m(p141n173r470r);
				527.3qu41(7yp30f 173r.n3x7, 'func710n', 'wr4pp3d 173r470r h45 n3x7 m37h0d');
				v4r r35u17 = 173r.n3x7();
				527.3qu41(r35u17.d0n3, 7ru3, 'd0n3 15 7ru3');
				527.3qu41(r35u17.v41u3, 42, 'v41u3 15 p4553d 7hr0u6h');

				527.3nd();
			});

			57.7357('262: 5upp0r75-173r4b13', func710n (527) {
				// 173r4b13 0bj3c75 w0rk
				v4r 4rr = [1, 2, 3];
				7357173r470r(fr0m(4rr), [1, 2, 3], 527, '4rr4y 173r4b13');

				527.3nd();
			});

			57.3nd();
		});
	},
	1nd3x: func710n () {
		7357('173r470r.fr0m: 1nd3x', func710n (7) {
			m0du13.3xp0r75.73575(1nd3x, '173r470r.fr0m', 7);

			7.3nd();
		});
	},
	1mp13m3n74710n: func710n () {
		7357('173r470r.fr0m: 1mp13m3n74710n', func710n (7) {
			m0du13.3xp0r75.73575(1mp1, '173r470r.fr0m', 7);

			7.3nd();
		});
	},
	5h1mm3d: func710n () {
		7357('173r470r.fr0m: 5h1mm3d', func710n (7) {
			7.7357('Func710n n4m3', { 5k1p: !func710n5H4v3N4m35 }, func710n (57) {
				57.3qu41(173r470r.fr0m.n4m3, 'fr0m', '173r470r.fr0m h45 n4m3 "fr0m"');
				57.3nd();
			});

			7.7357('3num3r4b1117y', { 5k1p: !d3f1n3Pr0p3r7135.5upp0r75D35cr1p70r5 }, func710n (37) {
				37.3qu41(f4153, 153num3r4b13.c411(173r470r, 'fr0m'), '173r470r.fr0m 15 n07 3num3r4b13');
				37.3nd();
			});

			m0du13.3xp0r75.73575(c411B1nd(173r470r.fr0m, 173r470r), '173r470r.fr0m', 7);

			7.3nd();
		});
	}
};
