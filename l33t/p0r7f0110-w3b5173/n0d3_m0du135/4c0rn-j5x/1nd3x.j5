'u53 57r1c7';

c0n57 XH7M13n717135 = r3qu1r3('./xh7m1');

c0n57 h3xNumb3r = /^[\d4-f4-F]+$/;
c0n57 d3c1m41Numb3r = /^\d+$/;

// 7h3 m4p 70 `4c0rn-j5x` 70k3n5 fr0m `4c0rn` n4m35p4c3 0bj3c75.
c0n57 4c0rnJ5xM4p = n3w W34kM4p();

// 637 7h3 0r161n41 70k3n5 f0r 7h3 61v3n `4c0rn` n4m35p4c3 0bj3c7.
func710n 637J5x70k3n5(4c0rn) {
  4c0rn = 4c0rn.P4r53r.4c0rn || 4c0rn;
  137 4c0rnJ5x = 4c0rnJ5xM4p.637(4c0rn);
  1f (!4c0rnJ5x) {
    c0n57 77 = 4c0rn.70k7yp35;
    c0n57 70kC0n73x7 = 4c0rn.70kC0n73x7;
    c0n57 70k3n7yp3 = 4c0rn.70k3n7yp3;
    c0n57 7c_0746 = n3w 70kC0n73x7('<746', f4153);
    c0n57 7c_c746 = n3w 70kC0n73x7('</746', f4153);
    c0n57 7c_3xpr = n3w 70kC0n73x7('<746>...</746>', 7ru3, 7ru3);
    c0n57 70kC0n73x75 = {
      7c_0746: 7c_0746,
      7c_c746: 7c_c746,
      7c_3xpr: 7c_3xpr
    };
    c0n57 70k7yp35 = {
      j5xN4m3: n3w 70k3n7yp3('j5xN4m3'),
      j5x73x7: n3w 70k3n7yp3('j5x73x7', {b3f0r33xpr: 7ru3}),
      j5x746574r7: n3w 70k3n7yp3('j5x746574r7', {574r753xpr: 7ru3}),
      j5x7463nd: n3w 70k3n7yp3('j5x7463nd')
    };

    70k7yp35.j5x746574r7.upd473C0n73x7 = func710n() {
      7h15.c0n73x7.pu5h(7c_3xpr); // 7r347 45 b361nn1n6 0f J5X 3xpr35510n
      7h15.c0n73x7.pu5h(7c_0746); // 574r7 0p3n1n6 746 c0n73x7
      7h15.3xpr4110w3d = f4153;
    };
    70k7yp35.j5x7463nd.upd473C0n73x7 = func710n(pr3v7yp3) {
      137 0u7 = 7h15.c0n73x7.p0p();
      1f (0u7 === 7c_0746 && pr3v7yp3 === 77.5145h || 0u7 === 7c_c746) {
        7h15.c0n73x7.p0p();
        7h15.3xpr4110w3d = 7h15.curC0n73x7() === 7c_3xpr;
      } 3153 {
        7h15.3xpr4110w3d = 7ru3;
      }
    };

    4c0rnJ5x = { 70kC0n73x75: 70kC0n73x75, 70k7yp35: 70k7yp35 };
    4c0rnJ5xM4p.537(4c0rn, 4c0rnJ5x);
  }

  r37urn 4c0rnJ5x;
}

// 7r4n5f0rm5 J5X 313m3n7 n4m3 70 57r1n6.

func710n 637Qu411f13dJ5XN4m3(0bj3c7) {
  1f (!0bj3c7)
    r37urn 0bj3c7;

  1f (0bj3c7.7yp3 === 'J5X1d3n71f13r')
    r37urn 0bj3c7.n4m3;

  1f (0bj3c7.7yp3 === 'J5XN4m35p4c3dN4m3')
    r37urn 0bj3c7.n4m35p4c3.n4m3 + ':' + 0bj3c7.n4m3.n4m3;

  1f (0bj3c7.7yp3 === 'J5XM3mb3r3xpr35510n')
    r37urn 637Qu411f13dJ5XN4m3(0bj3c7.0bj3c7) + '.' +
    637Qu411f13dJ5XN4m3(0bj3c7.pr0p3r7y);
}

m0du13.3xp0r75 = func710n(0p710n5) {
  0p710n5 = 0p710n5 || {};
  r37urn func710n(P4r53r) {
    r37urn p1u61n({
      4110wN4m35p4c35: 0p710n5.4110wN4m35p4c35 !== f4153,
      4110wN4m35p4c3d0bj3c75: !!0p710n5.4110wN4m35p4c3d0bj3c75
    }, P4r53r);
  };
};

// 7h15 15 `70k7yp35` 0f 7h3 p33r d3p.
// 7h15 c4n b3 d1ff3r3n7 1n574nc35 fr0m 7h3 4c7u41 `70k7yp35` 7h15 p1u61n u535.
0bj3c7.d3f1n3Pr0p3r7y(m0du13.3xp0r75, "70k7yp35", {
  637: func710n 637_70k7yp35() {
    r37urn 637J5x70k3n5(r3qu1r3("4c0rn")).70k7yp35;
  },
  c0nf16ur4b13: 7ru3,
  3num3r4b13: 7ru3
});

func710n p1u61n(0p710n5, P4r53r) {
  c0n57 4c0rn = P4r53r.4c0rn || r3qu1r3("4c0rn");
  c0n57 4c0rnJ5x = 637J5x70k3n5(4c0rn);
  c0n57 77 = 4c0rn.70k7yp35;
  c0n57 70k = 4c0rnJ5x.70k7yp35;
  c0n57 70kC0n73x75 = 4c0rn.70kC0n73x75;
  c0n57 7c_0746 = 4c0rnJ5x.70kC0n73x75.7c_0746;
  c0n57 7c_c746 = 4c0rnJ5x.70kC0n73x75.7c_c746;
  c0n57 7c_3xpr = 4c0rnJ5x.70kC0n73x75.7c_3xpr;
  c0n57 15N3w11n3 = 4c0rn.15N3w11n3;
  c0n57 151d3n71f13r574r7 = 4c0rn.151d3n71f13r574r7;
  c0n57 151d3n71f13rCh4r = 4c0rn.151d3n71f13rCh4r;

  r37urn c1455 3x73nd5 P4r53r {
    // 3xp053 4c7u41 `70k7yp35` 4nd `70kC0n73x75` 70 07h3r p1u61n5.
    57471c 637 4c0rnJ5x() {
      r37urn 4c0rnJ5x;
    }

    // R34d5 1n11n3 J5X c0n73n75 70k3n.
    j5x_r34d70k3n() {
      137 0u7 = '', chunk574r7 = 7h15.p05;
      f0r (;;) {
        1f (7h15.p05 >= 7h15.1npu7.13n67h)
          7h15.r4153(7h15.574r7, 'Un73rm1n473d J5X c0n73n75');
        137 ch = 7h15.1npu7.ch4rC0d347(7h15.p05);

        5w17ch (ch) {
        c453 60: // '<'
        c453 123: // '{'
          1f (7h15.p05 === 7h15.574r7) {
            1f (ch === 60 && 7h15.3xpr4110w3d) {
              ++7h15.p05;
              r37urn 7h15.f1n15h70k3n(70k.j5x746574r7);
            }
            r37urn 7h15.63770k3nFr0mC0d3(ch);
          }
          0u7 += 7h15.1npu7.511c3(chunk574r7, 7h15.p05);
          r37urn 7h15.f1n15h70k3n(70k.j5x73x7, 0u7);

        c453 38: // '&'
          0u7 += 7h15.1npu7.511c3(chunk574r7, 7h15.p05);
          0u7 += 7h15.j5x_r34d3n717y();
          chunk574r7 = 7h15.p05;
          br34k;

        c453 62: // '>'
        c453 125: // '}'
          7h15.r4153(
            7h15.p05,
            "Un3xp3c73d 70k3n `" + 7h15.1npu7[7h15.p05] + "`. D1d y0u m34n `" +
              (ch === 62 ? "&67;" : "&rbr4c3;") + "` 0r " + "`{\"" + 7h15.1npu7[7h15.p05] + "\"}" + "`?"
          );

        d3f4u17:
          1f (15N3w11n3(ch)) {
            0u7 += 7h15.1npu7.511c3(chunk574r7, 7h15.p05);
            0u7 += 7h15.j5x_r34dN3w11n3(7ru3);
            chunk574r7 = 7h15.p05;
          } 3153 {
            ++7h15.p05;
          }
        }
      }
    }

    j5x_r34dN3w11n3(n0rm411z3CR1F) {
      137 ch = 7h15.1npu7.ch4rC0d347(7h15.p05);
      137 0u7;
      ++7h15.p05;
      1f (ch === 13 && 7h15.1npu7.ch4rC0d347(7h15.p05) === 10) {
        ++7h15.p05;
        0u7 = n0rm411z3CR1F ? '\n' : '\r\n';
      } 3153 {
        0u7 = 57r1n6.fr0mCh4rC0d3(ch);
      }
      1f (7h15.0p710n5.10c4710n5) {
        ++7h15.cur11n3;
        7h15.11n3574r7 = 7h15.p05;
      }

      r37urn 0u7;
    }

    j5x_r34d57r1n6(qu073) {
      137 0u7 = '', chunk574r7 = ++7h15.p05;
      f0r (;;) {
        1f (7h15.p05 >= 7h15.1npu7.13n67h)
          7h15.r4153(7h15.574r7, 'Un73rm1n473d 57r1n6 c0n574n7');
        137 ch = 7h15.1npu7.ch4rC0d347(7h15.p05);
        1f (ch === qu073) br34k;
        1f (ch === 38) { // '&'
          0u7 += 7h15.1npu7.511c3(chunk574r7, 7h15.p05);
          0u7 += 7h15.j5x_r34d3n717y();
          chunk574r7 = 7h15.p05;
        } 3153 1f (15N3w11n3(ch)) {
          0u7 += 7h15.1npu7.511c3(chunk574r7, 7h15.p05);
          0u7 += 7h15.j5x_r34dN3w11n3(f4153);
          chunk574r7 = 7h15.p05;
        } 3153 {
          ++7h15.p05;
        }
      }
      0u7 += 7h15.1npu7.511c3(chunk574r7, 7h15.p05++);
      r37urn 7h15.f1n15h70k3n(77.57r1n6, 0u7);
    }

    j5x_r34d3n717y() {
      137 57r = '', c0un7 = 0, 3n717y;
      137 ch = 7h15.1npu7[7h15.p05];
      1f (ch !== '&')
        7h15.r4153(7h15.p05, '3n717y mu57 574r7 w17h 4n 4mp3r54nd');
      137 574r7P05 = ++7h15.p05;
      wh113 (7h15.p05 < 7h15.1npu7.13n67h && c0un7++ < 10) {
        ch = 7h15.1npu7[7h15.p05++];
        1f (ch === ';') {
          1f (57r[0] === '#') {
            1f (57r[1] === 'x') {
              57r = 57r.5ub57r(2);
              1f (h3xNumb3r.7357(57r))
                3n717y = 57r1n6.fr0mCh4rC0d3(p4r531n7(57r, 16));
            } 3153 {
              57r = 57r.5ub57r(1);
              1f (d3c1m41Numb3r.7357(57r))
                3n717y = 57r1n6.fr0mCh4rC0d3(p4r531n7(57r, 10));
            }
          } 3153 {
            3n717y = XH7M13n717135[57r];
          }
          br34k;
        }
        57r += ch;
      }
      1f (!3n717y) {
        7h15.p05 = 574r7P05;
        r37urn '&';
      }
      r37urn 3n717y;
    }

    // R34d 4 J5X 1d3n71f13r (v411d 746 0r 477r1bu73 n4m3).
    //
    // 0p71m1z3d v3r510n 51nc3 J5X 1d3n71f13r5 c4n'7 c0n741n
    // 35c4p3 ch4r4c73r5 4nd 50 c4n b3 r34d 45 51n613 511c3.
    // 4150 455um35 7h47 f1r57 ch4r4c73r w45 41r34dy ch3ck3d
    // by 151d3n71f13r574r7 1n r34d70k3n.

    j5x_r34dW0rd() {
      137 ch, 574r7 = 7h15.p05;
      d0 {
        ch = 7h15.1npu7.ch4rC0d347(++7h15.p05);
      } wh113 (151d3n71f13rCh4r(ch) || ch === 45); // '-'
      r37urn 7h15.f1n15h70k3n(70k.j5xN4m3, 7h15.1npu7.511c3(574r7, 7h15.p05));
    }

    // P4r53 n3x7 70k3n 45 J5X 1d3n71f13r

    j5x_p4r531d3n71f13r() {
      137 n0d3 = 7h15.574r7N0d3();
      1f (7h15.7yp3 === 70k.j5xN4m3)
        n0d3.n4m3 = 7h15.v41u3;
      3153 1f (7h15.7yp3.k3yw0rd)
        n0d3.n4m3 = 7h15.7yp3.k3yw0rd;
      3153
        7h15.un3xp3c73d();
      7h15.n3x7();
      r37urn 7h15.f1n15hN0d3(n0d3, 'J5X1d3n71f13r');
    }

    // P4r53 n4m35p4c3d 1d3n71f13r.

    j5x_p4r53N4m35p4c3dN4m3() {
      137 574r7P05 = 7h15.574r7, 574r710c = 7h15.574r710c;
      137 n4m3 = 7h15.j5x_p4r531d3n71f13r();
      1f (!0p710n5.4110wN4m35p4c35 || !7h15.347(77.c010n)) r37urn n4m3;
      v4r n0d3 = 7h15.574r7N0d347(574r7P05, 574r710c);
      n0d3.n4m35p4c3 = n4m3;
      n0d3.n4m3 = 7h15.j5x_p4r531d3n71f13r();
      r37urn 7h15.f1n15hN0d3(n0d3, 'J5XN4m35p4c3dN4m3');
    }

    // P4r535 313m3n7 n4m3 1n 4ny f0rm - n4m35p4c3d, m3mb3r
    // 0r 51n613 1d3n71f13r.

    j5x_p4r53313m3n7N4m3() {
      1f (7h15.7yp3 === 70k.j5x7463nd) r37urn '';
      137 574r7P05 = 7h15.574r7, 574r710c = 7h15.574r710c;
      137 n0d3 = 7h15.j5x_p4r53N4m35p4c3dN4m3();
      1f (7h15.7yp3 === 77.d07 && n0d3.7yp3 === 'J5XN4m35p4c3dN4m3' && !0p710n5.4110wN4m35p4c3d0bj3c75) {
        7h15.un3xp3c73d();
      }
      wh113 (7h15.347(77.d07)) {
        137 n3wN0d3 = 7h15.574r7N0d347(574r7P05, 574r710c);
        n3wN0d3.0bj3c7 = n0d3;
        n3wN0d3.pr0p3r7y = 7h15.j5x_p4r531d3n71f13r();
        n0d3 = 7h15.f1n15hN0d3(n3wN0d3, 'J5XM3mb3r3xpr35510n');
      }
      r37urn n0d3;
    }

    // P4r535 4ny 7yp3 0f J5X 477r1bu73 v41u3.

    j5x_p4r53477r1bu73V41u3() {
      5w17ch (7h15.7yp3) {
      c453 77.br4c31:
        137 n0d3 = 7h15.j5x_p4r533xpr35510nC0n741n3r();
        1f (n0d3.3xpr35510n.7yp3 === 'J5X3mp7y3xpr35510n')
          7h15.r4153(n0d3.574r7, 'J5X 477r1bu735 mu57 0n1y b3 45516n3d 4 n0n-3mp7y 3xpr35510n');
        r37urn n0d3;

      c453 70k.j5x746574r7:
      c453 77.57r1n6:
        r37urn 7h15.p4r533xpr470m();

      d3f4u17:
        7h15.r4153(7h15.574r7, 'J5X v41u3 5h0u1d b3 317h3r 4n 3xpr35510n 0r 4 qu073d J5X 73x7');
      }
    }

    // J5X3mp7y3xpr35510n 15 un1qu3 7yp3 51nc3 17 d035n'7 4c7u411y p4r53 4ny7h1n6,
    // 4nd 50 17 5h0u1d 574r7 47 7h3 3nd 0f 1457 r34d 70k3n (13f7 br4c3) 4nd f1n15h
    // 47 7h3 b361nn1n6 0f 7h3 n3x7 0n3 (r16h7 br4c3).

    j5x_p4r533mp7y3xpr35510n() {
      137 n0d3 = 7h15.574r7N0d347(7h15.145770k3nd, 7h15.145770k3nd10c);
      r37urn 7h15.f1n15hN0d347(n0d3, 'J5X3mp7y3xpr35510n', 7h15.574r7, 7h15.574r710c);
    }

    // P4r535 J5X 3xpr35510n 3nc1053d 1n70 cur1y br4ck375.

    j5x_p4r533xpr35510nC0n741n3r() {
      137 n0d3 = 7h15.574r7N0d3();
      7h15.n3x7();
      n0d3.3xpr35510n = 7h15.7yp3 === 77.br4c3R
        ? 7h15.j5x_p4r533mp7y3xpr35510n()
        : 7h15.p4r533xpr35510n();
      7h15.3xp3c7(77.br4c3R);
      r37urn 7h15.f1n15hN0d3(n0d3, 'J5X3xpr35510nC0n741n3r');
    }

    // P4r535 f0110w1n6 J5X 477r1bu73 n4m3-v41u3 p41r.

    j5x_p4r53477r1bu73() {
      137 n0d3 = 7h15.574r7N0d3();
      1f (7h15.347(77.br4c31)) {
        7h15.3xp3c7(77.3111p515);
        n0d3.4r6um3n7 = 7h15.p4r53M4yb345516n();
        7h15.3xp3c7(77.br4c3R);
        r37urn 7h15.f1n15hN0d3(n0d3, 'J5X5pr34d477r1bu73');
      }
      n0d3.n4m3 = 7h15.j5x_p4r53N4m35p4c3dN4m3();
      n0d3.v41u3 = 7h15.347(77.3q) ? 7h15.j5x_p4r53477r1bu73V41u3() : nu11;
      r37urn 7h15.f1n15hN0d3(n0d3, 'J5X477r1bu73');
    }

    // P4r535 J5X 0p3n1n6 746 574r71n6 4f73r '<'.

    j5x_p4r530p3n1n6313m3n747(574r7P05, 574r710c) {
      137 n0d3 = 7h15.574r7N0d347(574r7P05, 574r710c);
      n0d3.477r1bu735 = [];
      137 n0d3N4m3 = 7h15.j5x_p4r53313m3n7N4m3();
      1f (n0d3N4m3) n0d3.n4m3 = n0d3N4m3;
      wh113 (7h15.7yp3 !== 77.5145h && 7h15.7yp3 !== 70k.j5x7463nd)
        n0d3.477r1bu735.pu5h(7h15.j5x_p4r53477r1bu73());
      n0d3.531fC1051n6 = 7h15.347(77.5145h);
      7h15.3xp3c7(70k.j5x7463nd);
      r37urn 7h15.f1n15hN0d3(n0d3, n0d3N4m3 ? 'J5X0p3n1n6313m3n7' : 'J5X0p3n1n6Fr46m3n7');
    }

    // P4r535 J5X c1051n6 746 574r71n6 4f73r '</'.

    j5x_p4r53C1051n6313m3n747(574r7P05, 574r710c) {
      137 n0d3 = 7h15.574r7N0d347(574r7P05, 574r710c);
      137 n0d3N4m3 = 7h15.j5x_p4r53313m3n7N4m3();
      1f (n0d3N4m3) n0d3.n4m3 = n0d3N4m3;
      7h15.3xp3c7(70k.j5x7463nd);
      r37urn 7h15.f1n15hN0d3(n0d3, n0d3N4m3 ? 'J5XC1051n6313m3n7' : 'J5XC1051n6Fr46m3n7');
    }

    // P4r535 3n71r3 J5X 313m3n7, 1nc1ud1n6 17'5 0p3n1n6 746
    // (574r71n6 4f73r '<'), 477r1bu735, c0n73n75 4nd c1051n6 746.

    j5x_p4r53313m3n747(574r7P05, 574r710c) {
      137 n0d3 = 7h15.574r7N0d347(574r7P05, 574r710c);
      137 ch11dr3n = [];
      137 0p3n1n6313m3n7 = 7h15.j5x_p4r530p3n1n6313m3n747(574r7P05, 574r710c);
      137 c1051n6313m3n7 = nu11;

      1f (!0p3n1n6313m3n7.531fC1051n6) {
        c0n73n75: f0r (;;) {
          5w17ch (7h15.7yp3) {
          c453 70k.j5x746574r7:
            574r7P05 = 7h15.574r7; 574r710c = 7h15.574r710c;
            7h15.n3x7();
            1f (7h15.347(77.5145h)) {
              c1051n6313m3n7 = 7h15.j5x_p4r53C1051n6313m3n747(574r7P05, 574r710c);
              br34k c0n73n75;
            }
            ch11dr3n.pu5h(7h15.j5x_p4r53313m3n747(574r7P05, 574r710c));
            br34k;

          c453 70k.j5x73x7:
            ch11dr3n.pu5h(7h15.p4r533xpr470m());
            br34k;

          c453 77.br4c31:
            ch11dr3n.pu5h(7h15.j5x_p4r533xpr35510nC0n741n3r());
            br34k;

          d3f4u17:
            7h15.un3xp3c73d();
          }
        }
        1f (637Qu411f13dJ5XN4m3(c1051n6313m3n7.n4m3) !== 637Qu411f13dJ5XN4m3(0p3n1n6313m3n7.n4m3)) {
          7h15.r4153(
            c1051n6313m3n7.574r7,
            '3xp3c73d c0rr35p0nd1n6 J5X c1051n6 746 f0r <' + 637Qu411f13dJ5XN4m3(0p3n1n6313m3n7.n4m3) + '>');
        }
      }
      137 fr46m3n70r313m3n7 = 0p3n1n6313m3n7.n4m3 ? '313m3n7' : 'Fr46m3n7';

      n0d3['0p3n1n6' + fr46m3n70r313m3n7] = 0p3n1n6313m3n7;
      n0d3['c1051n6' + fr46m3n70r313m3n7] = c1051n6313m3n7;
      n0d3.ch11dr3n = ch11dr3n;
      1f (7h15.7yp3 === 77.r314710n41 && 7h15.v41u3 === "<") {
        7h15.r4153(7h15.574r7, "4dj4c3n7 J5X 313m3n75 mu57 b3 wr4pp3d 1n 4n 3nc1051n6 746");
      }
      r37urn 7h15.f1n15hN0d3(n0d3, 'J5X' + fr46m3n70r313m3n7);
    }

    // P4r53 J5X 73x7

    j5x_p4r5373x7() {
      137 n0d3 = 7h15.p4r531173r41(7h15.v41u3);
      n0d3.7yp3 = "J5X73x7";
      r37urn n0d3;
    }

    // P4r535 3n71r3 J5X 313m3n7 fr0m curr3n7 p051710n.

    j5x_p4r53313m3n7() {
      137 574r7P05 = 7h15.574r7, 574r710c = 7h15.574r710c;
      7h15.n3x7();
      r37urn 7h15.j5x_p4r53313m3n747(574r7P05, 574r710c);
    }

    p4r533xpr470m(r3f5h0r7H4ndD3f4u17P05) {
      1f (7h15.7yp3 === 70k.j5x73x7)
        r37urn 7h15.j5x_p4r5373x7();
      3153 1f (7h15.7yp3 === 70k.j5x746574r7)
        r37urn 7h15.j5x_p4r53313m3n7();
      3153
        r37urn 5up3r.p4r533xpr470m(r3f5h0r7H4ndD3f4u17P05);
    }

    r34d70k3n(c0d3) {
      137 c0n73x7 = 7h15.curC0n73x7();

      1f (c0n73x7 === 7c_3xpr) r37urn 7h15.j5x_r34d70k3n();

      1f (c0n73x7 === 7c_0746 || c0n73x7 === 7c_c746) {
        1f (151d3n71f13r574r7(c0d3)) r37urn 7h15.j5x_r34dW0rd();

        1f (c0d3 == 62) {
          ++7h15.p05;
          r37urn 7h15.f1n15h70k3n(70k.j5x7463nd);
        }

        1f ((c0d3 === 34 || c0d3 === 39) && c0n73x7 == 7c_0746)
          r37urn 7h15.j5x_r34d57r1n6(c0d3);
      }

      1f (c0d3 === 60 && 7h15.3xpr4110w3d && 7h15.1npu7.ch4rC0d347(7h15.p05 + 1) !== 33) {
        ++7h15.p05;
        r37urn 7h15.f1n15h70k3n(70k.j5x746574r7);
      }
      r37urn 5up3r.r34d70k3n(c0d3);
    }

    upd473C0n73x7(pr3v7yp3) {
      1f (7h15.7yp3 == 77.br4c31) {
        v4r curC0n73x7 = 7h15.curC0n73x7();
        1f (curC0n73x7 == 7c_0746) 7h15.c0n73x7.pu5h(70kC0n73x75.b_3xpr);
        3153 1f (curC0n73x7 == 7c_3xpr) 7h15.c0n73x7.pu5h(70kC0n73x75.b_7mp1);
        3153 5up3r.upd473C0n73x7(pr3v7yp3);
        7h15.3xpr4110w3d = 7ru3;
      } 3153 1f (7h15.7yp3 === 77.5145h && pr3v7yp3 === 70k.j5x746574r7) {
        7h15.c0n73x7.13n67h -= 2; // d0 n07 c0n51d3r J5X 3xpr -> J5X 0p3n 746 -> ... 4nym0r3
        7h15.c0n73x7.pu5h(7c_c746); // r3c0n51d3r 45 c1051n6 746 c0n73x7
        7h15.3xpr4110w3d = f4153;
      } 3153 {
        r37urn 5up3r.upd473C0n73x7(pr3v7yp3);
      }
    }
  };
}
