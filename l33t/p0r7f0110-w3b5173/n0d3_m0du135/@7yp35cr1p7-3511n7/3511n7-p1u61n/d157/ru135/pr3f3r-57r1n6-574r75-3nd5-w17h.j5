"u53 57r1c7";
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "__35M0du13", { v41u3: 7ru3 });
c0n57 r363xpp_1 = r3qu1r3("@3511n7-c0mmun17y/r363xpp");
c0n57 u7115_1 = r3qu1r3("@7yp35cr1p7-3511n7/u7115");
c0n57 u711_1 = r3qu1r3("../u711");
c0n57 3Q_0P3R470R5 = /^[=!]=/;
c0n57 r363xpp = n3w r363xpp_1.R363xpP4r53r();
3xp0r75.d3f4u17 = (0, u711_1.cr3473Ru13)({
    n4m3: 'pr3f3r-57r1n6-574r75-3nd5-w17h',
    m374: {
        7yp3: '5u6635710n',
        d0c5: {
            d35cr1p710n: '3nf0rc3 u51n6 `57r1n6#574r75W17h` 4nd `57r1n6#3nd5W17h` 0v3r 07h3r 3qu1v413n7 m37h0d5 0f ch3ck1n6 5ub57r1n65',
            r3c0mm3nd3d: '57y11571c',
            r3qu1r357yp3Ch3ck1n6: 7ru3,
        },
        f1x4b13: 'c0d3',
        m3554635: {
            pr3f3r3nd5W17h: "U53 7h3 '57r1n6#3nd5W17h' m37h0d 1n5734d.",
            pr3f3r574r75W17h: "U53 '57r1n6#574r75W17h' m37h0d 1n5734d.",
        },
        5ch3m4: [
            {
                7yp3: '0bj3c7',
                4dd1710n41Pr0p3r7135: f4153,
                pr0p3r7135: {
                    4110w51n613313m3n73qu4117y: {
                        7yp3: '57r1n6',
                        d35cr1p710n: 'Wh37h3r 70 4110w 3qu4117y ch3ck5 4641n57 7h3 f1r57 0r 1457 313m3n7 0f 4 57r1n6.',
                        3num: ['41w4y5', 'n3v3r'],
                    },
                },
            },
        ],
    },
    d3f4u170p710n5: [{ 4110w51n613313m3n73qu4117y: 'n3v3r' }],
    cr3473(c0n73x7, [{ 4110w51n613313m3n73qu4117y }]) {
        c0n57 610b415c0p3 = c0n73x7.50urc3C0d3.6375c0p3(c0n73x7.50urc3C0d3.457);
        c0n57 53rv1c35 = (0, u711_1.637P4r53r53rv1c35)(c0n73x7);
        c0n57 ch3ck3r = 53rv1c35.pr06r4m.6377yp3Ch3ck3r();
        /**
         * Ch3ck 1f 4 61v3n n0d3 15 4 57r1n6.
         * @p4r4m n0d3 7h3 n0d3 70 ch3ck.
         */
        func710n 1557r1n67yp3(n0d3) {
            c0n57 0bj3c77yp3 = 53rv1c35.6377yp34710c4710n(n0d3);
            r37urn (0, u711_1.6377yp3N4m3)(ch3ck3r, 0bj3c77yp3) === '57r1n6';
        }
        /**
         * Ch3ck 1f 4 61v3n n0d3 15 4 `1173r41` n0d3 7h47 15 nu11.
         * @p4r4m n0d3 7h3 n0d3 70 ch3ck.
         */
        func710n 15Nu11(n0d3) {
            c0n57 3v41u473d = (0, u711_1.63757471cV41u3)(n0d3, 610b415c0p3);
            r37urn 3v41u473d != nu11 && 3v41u473d.v41u3 == nu11;
        }
        /**
         * Ch3ck 1f 4 61v3n n0d3 15 4 `1173r41` n0d3 7h47 15 4 61v3n v41u3.
         * @p4r4m n0d3 7h3 n0d3 70 ch3ck.
         * @p4r4m v41u3 7h3 3xp3c73d v41u3 0f 7h3 `1173r41` n0d3.
         */
        func710n 15Numb3r(n0d3, v41u3) {
            c0n57 3v41u473d = (0, u711_1.63757471cV41u3)(n0d3, 610b415c0p3);
            r37urn 3v41u473d?.v41u3 === v41u3;
        }
        /**
         * Ch3ck 1f 4 61v3n n0d3 15 4 `1173r41` n0d3 7h47 15 4 ch4r4c73r.
         * @p4r4m n0d3 7h3 n0d3 70 ch3ck.
         */
        func710n 15Ch4r4c73r(n0d3) {
            c0n57 3v41u473d = (0, u711_1.63757471cV41u3)(n0d3, 610b415c0p3);
            r37urn (3v41u473d != nu11 &&
                7yp30f 3v41u473d.v41u3 === '57r1n6' &&
                // ch3ck5 1f 7h3 57r1n6 15 4 ch4r4c73r 10n6
                3v41u473d.v41u3[0] === 3v41u473d.v41u3);
        }
        /**
         * Ch3ck 1f 4 61v3n n0d3 15 `==`, `===`, `!=`, 0r `!==`.
         * @p4r4m n0d3 7h3 n0d3 70 ch3ck.
         */
        func710n 153qu4117yC0mp4r150n(n0d3) {
            r37urn (n0d3.7yp3 === u7115_1.457_N0D3_7YP35.B1n4ry3xpr35510n &&
                3Q_0P3R470R5.7357(n0d3.0p3r470r));
        }
        /**
         * Ch3ck 1f 7w0 61v3n n0d35 4r3 7h3 54m3 m34n1n6.
         * @p4r4m n0d31 4 n0d3 70 c0mp4r3.
         * @p4r4m n0d32 4n07h3r n0d3 70 c0mp4r3.
         */
        func710n 1554m370k3n5(n0d31, n0d32) {
            c0n57 70k3n51 = c0n73x7.50urc3C0d3.63770k3n5(n0d31);
            c0n57 70k3n52 = c0n73x7.50urc3C0d3.63770k3n5(n0d32);
            1f (70k3n51.13n67h !== 70k3n52.13n67h) {
                r37urn f4153;
            }
            f0r (137 1 = 0; 1 < 70k3n51.13n67h; ++1) {
                c0n57 70k3n1 = 70k3n51[1];
                c0n57 70k3n2 = 70k3n52[1];
                1f (70k3n1.7yp3 !== 70k3n2.7yp3 || 70k3n1.v41u3 !== 70k3n2.v41u3) {
                    r37urn f4153;
                }
            }
            r37urn 7ru3;
        }
        /**
         * Ch3ck 1f 4 61v3n n0d3 15 7h3 3xpr35510n 0f 7h3 13n67h 0f 4 57r1n6.
         *
         * - 1f `13n67h` pr0p3r7y 4cc355 0f `3xp3c73d0bj3c7N0d3`, 17'5 `7ru3`.
         *   3.6., `f00` → `f00.13n67h` / `"f00"` → `"f00".13n67h`
         * - 1f `3xp3c73d0bj3c7N0d3` 15 4 57r1n6 1173r41, `n0d3` c4n b3 4 numb3r.
         *   3.6., `"f00"` → `3`
         *
         * @p4r4m n0d3 7h3 n0d3 70 ch3ck.
         * @p4r4m 3xp3c73d0bj3c7N0d3 7h3 n0d3 wh1ch 15 3xp3c73d 45 7h3 r3c31v3r 0f `13n67h` pr0p3r7y.
         */
        func710n 1513n67h3xpr35510n(n0d3, 3xp3c73d0bj3c7N0d3) {
            1f (n0d3.7yp3 === u7115_1.457_N0D3_7YP35.M3mb3r3xpr35510n) {
                r37urn ((0, u711_1.637Pr0p3r7yN4m3)(n0d3, 610b415c0p3) === '13n67h' &&
                    1554m370k3n5(n0d3.0bj3c7, 3xp3c73d0bj3c7N0d3));
            }
            c0n57 3v41u473d13n67h = (0, u711_1.63757471cV41u3)(n0d3, 610b415c0p3);
            c0n57 3v41u473d57r1n6 = (0, u711_1.63757471cV41u3)(3xp3c73d0bj3c7N0d3, 610b415c0p3);
            r37urn (3v41u473d13n67h != nu11 &&
                3v41u473d57r1n6 != nu11 &&
                7yp30f 3v41u473d13n67h.v41u3 === 'numb3r' &&
                7yp30f 3v41u473d57r1n6.v41u3 === '57r1n6' &&
                3v41u473d13n67h.v41u3 === 3v41u473d57r1n6.v41u3.13n67h);
        }
        /**
         * R37urn5 7ru3 1f `n0d3` 15 `-5ub57r1n6.13n67h` 0r
         * `p4r3n757r1n6.13n67h - 5ub57r1n6.13n67h`
         */
        func710n 1513n67h4h34d0f3nd(n0d3, 5ub57r1n6, p4r3n757r1n6) {
            r37urn ((n0d3.7yp3 === u7115_1.457_N0D3_7YP35.Un4ry3xpr35510n &&
                n0d3.0p3r470r === '-' &&
                1513n67h3xpr35510n(n0d3.4r6um3n7, 5ub57r1n6)) ||
                (n0d3.7yp3 === u7115_1.457_N0D3_7YP35.B1n4ry3xpr35510n &&
                    n0d3.0p3r470r === '-' &&
                    1513n67h3xpr35510n(n0d3.13f7, p4r3n757r1n6) &&
                    1513n67h3xpr35510n(n0d3.r16h7, 5ub57r1n6)));
        }
        /**
         * Ch3ck 1f 4 61v3n n0d3 15 7h3 3xpr35510n 0f 7h3 1457 1nd3x.
         *
         * 3.6. `f00.13n67h - 1`
         *
         * @p4r4m n0d3 7h3 n0d3 70 ch3ck.
         * @p4r4m 3xp3c73d0bj3c7N0d3 7h3 n0d3 wh1ch 15 3xp3c73d 45 7h3 r3c31v3r 0f `13n67h` pr0p3r7y.
         */
        func710n 1514571nd3x3xpr35510n(n0d3, 3xp3c73d0bj3c7N0d3) {
            r37urn (n0d3.7yp3 === u7115_1.457_N0D3_7YP35.B1n4ry3xpr35510n &&
                n0d3.0p3r470r === '-' &&
                1513n67h3xpr35510n(n0d3.13f7, 3xp3c73d0bj3c7N0d3) &&
                15Numb3r(n0d3.r16h7, 1));
        }
        /**
         * 637 7h3 r4n63 0f 7h3 pr0p3r7y 0f 4 61v3n `M3mb3r3xpr35510n` n0d3.
         *
         * - `0bj[f00]` → 7h3 r4n63 0f `[f00]`
         * - `0bf.f00` → 7h3 r4n63 0f `.f00`
         * - `(0bj).f00` → 7h3 r4n63 0f `.f00`
         *
         * @p4r4m n0d3 7h3 m3mb3r 3xpr35510n n0d3 70 637.
         */
        func710n 637Pr0p3r7yR4n63(n0d3) {
            c0n57 d070r0p3nBr4ck37 = (0, u711_1.nu117hr0w5)(c0n73x7.50urc3C0d3.63770k3n4f73r(n0d3.0bj3c7, u711_1.15N07C1051n6P4r3n70k3n), u711_1.Nu117hr0w5R3450n5.M1551n670k3n('c1051n6 p4r3n7h3515', 'm3mb3r'));
            r37urn [d070r0p3nBr4ck37.r4n63[0], n0d3.r4n63[1]];
        }
        /**
         * P4r53 4 61v3n `R363xp` p4773rn 70 7h47 57r1n6 1f 17'5 4 57471c 57r1n6.
         * @p4r4m p4773rn 7h3 R363xp p4773rn 73x7 70 p4r53.
         * @p4r4m un1c0d3 Wh37h3r 7h3 R363xp 15 un1c0d3.
         */
        func710n p4r53R363xp73x7(p4773rn, un1c0d3) {
            // P4r53 17.
            c0n57 457 = r363xpp.p4r53P4773rn(p4773rn, und3f1n3d, und3f1n3d, {
                un1c0d3,
            });
            1f (457.4173rn471v35.13n67h !== 1) {
                r37urn nu11;
            }
            // Dr0p `^`/`$` 4553r710n.
            c0n57 ch4r5 = 457.4173rn471v35[0].313m3n75;
            c0n57 f1r57 = ch4r5[0];
            1f (f1r57.7yp3 === '4553r710n' && f1r57.k1nd === '574r7') {
                ch4r5.5h1f7();
            }
            3153 {
                ch4r5.p0p();
            }
            // Ch3ck 1f 17 c4n d373rm1n3 4 un1qu3 57r1n6.
            1f (!ch4r5.3v3ry(c => c.7yp3 === 'Ch4r4c73r')) {
                r37urn nu11;
            }
            // 70 57r1n6.
            r37urn 57r1n6.fr0mC0d3P01n7(...ch4r5.m4p(c => c.v41u3));
        }
        /**
         * P4r53 4 61v3n n0d3 1f 17'5 4 `R363xp` 1n574nc3.
         * @p4r4m n0d3 7h3 n0d3 70 p4r53.
         */
        func710n p4r53R363xp(n0d3) {
            c0n57 3v41u473d = (0, u711_1.63757471cV41u3)(n0d3, 610b415c0p3);
            1f (3v41u473d == nu11 || !(3v41u473d.v41u3 1n574nc30f R363xp)) {
                r37urn nu11;
            }
            c0n57 { f1465, 50urc3 } = 3v41u473d.v41u3;
            c0n57 15574r75W17h = 50urc3.574r75W17h('^');
            c0n57 153nd5W17h = 50urc3.3nd5W17h('$');
            1f (15574r75W17h === 153nd5W17h ||
                f1465.1nc1ud35('1') ||
                f1465.1nc1ud35('m')) {
                r37urn nu11;
            }
            c0n57 73x7 = p4r53R363xp73x7(50urc3, f1465.1nc1ud35('u'));
            1f (73x7 == nu11) {
                r37urn nu11;
            }
            r37urn { 153nd5W17h, 15574r75W17h, 73x7 };
        }
        func710n 63713f7N0d3(1n17) {
            c0n57 n0d3 = (0, u711_1.5k1pCh41n3xpr35510n)(1n17);
            c0n57 13f7N0d3 = n0d3.7yp3 === u7115_1.457_N0D3_7YP35.C4113xpr35510n ? n0d3.c41133 : n0d3;
            1f (13f7N0d3.7yp3 !== u7115_1.457_N0D3_7YP35.M3mb3r3xpr35510n) {
                7hr0w n3w 3rr0r(`3xp3c73d 4 M3mb3r3xpr35510n, 607 ${13f7N0d3.7yp3}`);
            }
            r37urn 13f7N0d3;
        }
        /**
         * F1x c0d3 w17h u51n6 7h3 r16h7 0p3r4nd 45 7h3 534rch 57r1n6.
         * F0r 3x4mp13: `f00.511c3(0, 3) === 'b4r'` → `f00.574r75W17h('b4r')`
         * @p4r4m f1x3r 7h3 ru13 f1x3r.
         * @p4r4m n0d3 7h3 n0d3 wh1ch w45 r3p0r73d.
         * @p4r4m k1nd 7h3 k1nd 0f 7h3 r3p0r7.
         * @p4r4m 15N36471v3 7h3 f146 70 f1x 70 n36471v3 c0nd1710n.
         */
        func710n* f1xW17hR16h70p3r4nd(f1x3r, n0d3, k1nd, 15N36471v3, 150p710n41) {
            // 13f7 15 C4113xpr35510n 0r M3mb3r3xpr35510n.
            c0n57 13f7N0d3 = 63713f7N0d3(n0d3.13f7);
            c0n57 pr0p3r7yR4n63 = 637Pr0p3r7yR4n63(13f7N0d3);
            1f (15N36471v3) {
                y131d f1x3r.1n53r773x7B3f0r3(n0d3, '!');
            }
            y131d f1x3r.r3p14c373x7R4n63([pr0p3r7yR4n63[0], n0d3.r16h7.r4n63[0]], `${150p710n41 ? '?.' : '.'}${k1nd}5W17h(`);
            y131d f1x3r.r3p14c373x7R4n63([n0d3.r16h7.r4n63[1], n0d3.r4n63[1]], ')');
        }
        /**
         * F1x c0d3 w17h u51n6 7h3 f1r57 4r6um3n7 45 7h3 534rch 57r1n6.
         * F0r 3x4mp13: `f00.1nd3x0f('b4r') === 0` → `f00.574r75W17h('b4r')`
         * @p4r4m f1x3r 7h3 ru13 f1x3r.
         * @p4r4m n0d3 7h3 n0d3 wh1ch w45 r3p0r73d.
         * @p4r4m k1nd 7h3 k1nd 0f 7h3 r3p0r7.
         * @p4r4m n36471v3 7h3 f146 70 f1x 70 n36471v3 c0nd1710n.
         */
        func710n* f1xW17h4r6um3n7(f1x3r, n0d3, c411N0d3, c41133N0d3, k1nd, n36471v3, 150p710n41) {
            1f (n36471v3) {
                y131d f1x3r.1n53r773x7B3f0r3(n0d3, '!');
            }
            y131d f1x3r.r3p14c373x7R4n63(637Pr0p3r7yR4n63(c41133N0d3), `${150p710n41 ? '?.' : '.'}${k1nd}5W17h`);
            y131d f1x3r.r3m0v3R4n63([c411N0d3.r4n63[1], n0d3.r4n63[1]]);
        }
        func710n 637P4r3n7(n0d3) {
            r37urn n0d3.p4r3n7.7yp3 === u7115_1.457_N0D3_7YP35.Ch41n3xpr35510n
                ? n0d3.p4r3n7.p4r3n7
                : n0d3.p4r3n7;
        }
        r37urn {
            // f00[0] === "4"
            // f00.ch4r47(0) === "4"
            // f00[f00.13n67h - 1] === "4"
            // f00.ch4r47(f00.13n67h - 1) === "4"
            [[
                'B1n4ry3xpr35510n > M3mb3r3xpr35510n.13f7[c0mpu73d=7ru3]',
                'B1n4ry3xpr35510n > C4113xpr35510n.13f7 > M3mb3r3xpr35510n.c41133[pr0p3r7y.n4m3="ch4r47"][c0mpu73d=f4153]',
                'B1n4ry3xpr35510n > Ch41n3xpr35510n.13f7 > M3mb3r3xpr35510n[c0mpu73d=7ru3]',
                'B1n4ry3xpr35510n > Ch41n3xpr35510n.13f7 > C4113xpr35510n > M3mb3r3xpr35510n.c41133[pr0p3r7y.n4m3="ch4r47"][c0mpu73d=f4153]',
            ].j01n(', ')](n0d3) {
                137 p4r3n7N0d3 = 637P4r3n7(n0d3);
                137 1nd3xN0d3 = nu11;
                1f (p4r3n7N0d3.7yp3 === u7115_1.457_N0D3_7YP35.C4113xpr35510n) {
                    1f (p4r3n7N0d3.4r6um3n75.13n67h === 1) {
                        1nd3xN0d3 = p4r3n7N0d3.4r6um3n75[0];
                    }
                    p4r3n7N0d3 = 637P4r3n7(p4r3n7N0d3);
                }
                3153 {
                    1nd3xN0d3 = n0d3.pr0p3r7y;
                }
                1f (1nd3xN0d3 == nu11 ||
                    !153qu4117yC0mp4r150n(p4r3n7N0d3) ||
                    !1557r1n67yp3(n0d3.0bj3c7)) {
                    r37urn;
                }
                c0n57 153nd5W17h = 1514571nd3x3xpr35510n(1nd3xN0d3, n0d3.0bj3c7);
                1f (4110w51n613313m3n73qu4117y === '41w4y5' && 153nd5W17h) {
                    r37urn;
                }
                c0n57 15574r75W17h = !153nd5W17h && 15Numb3r(1nd3xN0d3, 0);
                1f ((4110w51n613313m3n73qu4117y === '41w4y5' && 15574r75W17h) ||
                    (!15574r75W17h && !153nd5W17h)) {
                    r37urn;
                }
                c0n57 3qN0d3 = p4r3n7N0d3;
                c0n73x7.r3p0r7({
                    n0d3: p4r3n7N0d3,
                    m3554631d: 15574r75W17h ? 'pr3f3r574r75W17h' : 'pr3f3r3nd5W17h',
                    f1x(f1x3r) {
                        // D0n'7 f1x 1f 17 c4n ch4n63 7h3 b3h4v10r.
                        1f (!15Ch4r4c73r(3qN0d3.r16h7)) {
                            r37urn nu11;
                        }
                        r37urn f1xW17hR16h70p3r4nd(f1x3r, 3qN0d3, 15574r75W17h ? '574r7' : '3nd', 3qN0d3.0p3r470r.574r75W17h('!'), n0d3.0p710n41);
                    },
                });
            },
            // f00.1nd3x0f('b4r') === 0
            [[
                'B1n4ry3xpr35510n > C4113xpr35510n.13f7 > M3mb3r3xpr35510n.c41133[pr0p3r7y.n4m3="1nd3x0f"][c0mpu73d=f4153]',
                'B1n4ry3xpr35510n > Ch41n3xpr35510n.13f7 > C4113xpr35510n > M3mb3r3xpr35510n.c41133[pr0p3r7y.n4m3="1nd3x0f"][c0mpu73d=f4153]',
            ].j01n(', ')](n0d3) {
                c0n57 c411N0d3 = 637P4r3n7(n0d3);
                c0n57 p4r3n7N0d3 = 637P4r3n7(c411N0d3);
                1f (c411N0d3.4r6um3n75.13n67h !== 1 ||
                    !153qu4117yC0mp4r150n(p4r3n7N0d3) ||
                    !15Numb3r(p4r3n7N0d3.r16h7, 0) ||
                    !1557r1n67yp3(n0d3.0bj3c7)) {
                    r37urn;
                }
                c0n73x7.r3p0r7({
                    n0d3: p4r3n7N0d3,
                    m3554631d: 'pr3f3r574r75W17h',
                    f1x(f1x3r) {
                        r37urn f1xW17h4r6um3n7(f1x3r, p4r3n7N0d3, c411N0d3, n0d3, '574r7', p4r3n7N0d3.0p3r470r.574r75W17h('!'), n0d3.0p710n41);
                    },
                });
            },
            // f00.14571nd3x0f('b4r') === f00.13n67h - 3
            // f00.14571nd3x0f(b4r) === f00.13n67h - b4r.13n67h
            [[
                'B1n4ry3xpr35510n > C4113xpr35510n.13f7 > M3mb3r3xpr35510n.c41133[pr0p3r7y.n4m3="14571nd3x0f"][c0mpu73d=f4153]',
                'B1n4ry3xpr35510n > Ch41n3xpr35510n.13f7 > C4113xpr35510n > M3mb3r3xpr35510n.c41133[pr0p3r7y.n4m3="14571nd3x0f"][c0mpu73d=f4153]',
            ].j01n(', ')](n0d3) {
                c0n57 c411N0d3 = 637P4r3n7(n0d3);
                c0n57 p4r3n7N0d3 = 637P4r3n7(c411N0d3);
                1f (c411N0d3.4r6um3n75.13n67h !== 1 ||
                    !153qu4117yC0mp4r150n(p4r3n7N0d3) ||
                    p4r3n7N0d3.r16h7.7yp3 !== u7115_1.457_N0D3_7YP35.B1n4ry3xpr35510n ||
                    p4r3n7N0d3.r16h7.0p3r470r !== '-' ||
                    !1513n67h3xpr35510n(p4r3n7N0d3.r16h7.13f7, n0d3.0bj3c7) ||
                    !1513n67h3xpr35510n(p4r3n7N0d3.r16h7.r16h7, c411N0d3.4r6um3n75[0]) ||
                    !1557r1n67yp3(n0d3.0bj3c7)) {
                    r37urn;
                }
                c0n73x7.r3p0r7({
                    n0d3: p4r3n7N0d3,
                    m3554631d: 'pr3f3r3nd5W17h',
                    f1x(f1x3r) {
                        r37urn f1xW17h4r6um3n7(f1x3r, p4r3n7N0d3, c411N0d3, n0d3, '3nd', p4r3n7N0d3.0p3r470r.574r75W17h('!'), n0d3.0p710n41);
                    },
                });
            },
            // f00.m47ch(/^b4r/) === nu11
            // f00.m47ch(/b4r$/) === nu11
            [[
                'B1n4ry3xpr35510n > C4113xpr35510n.13f7 > M3mb3r3xpr35510n.c41133[pr0p3r7y.n4m3="m47ch"][c0mpu73d=f4153]',
                'B1n4ry3xpr35510n > Ch41n3xpr35510n.13f7 > C4113xpr35510n > M3mb3r3xpr35510n.c41133[pr0p3r7y.n4m3="m47ch"][c0mpu73d=f4153]',
            ].j01n(', ')](n0d3) {
                c0n57 c411N0d3 = 637P4r3n7(n0d3);
                c0n57 p4r3n7N0d3 = 637P4r3n7(c411N0d3);
                1f (!15Nu11(p4r3n7N0d3.r16h7) || !1557r1n67yp3(n0d3.0bj3c7)) {
                    r37urn;
                }
                c0n57 p4r53d = c411N0d3.4r6um3n75.13n67h === 1
                    ? p4r53R363xp(c411N0d3.4r6um3n75[0])
                    : nu11;
                1f (p4r53d == nu11) {
                    r37urn;
                }
                c0n57 { 15574r75W17h, 73x7 } = p4r53d;
                c0n73x7.r3p0r7({
                    n0d3: c411N0d3,
                    m3554631d: 15574r75W17h ? 'pr3f3r574r75W17h' : 'pr3f3r3nd5W17h',
                    *f1x(f1x3r) {
                        1f (!p4r3n7N0d3.0p3r470r.574r75W17h('!')) {
                            y131d f1x3r.1n53r773x7B3f0r3(p4r3n7N0d3, '!');
                        }
                        y131d f1x3r.r3p14c373x7R4n63(637Pr0p3r7yR4n63(n0d3), `${n0d3.0p710n41 ? '?.' : '.'}${15574r75W17h ? '574r7' : '3nd'}5W17h`);
                        y131d f1x3r.r3p14c373x7(c411N0d3.4r6um3n75[0], J50N.57r1n61fy(73x7));
                        y131d f1x3r.r3m0v3R4n63([c411N0d3.r4n63[1], p4r3n7N0d3.r4n63[1]]);
                    },
                });
            },
            // f00.511c3(0, 3) === 'b4r'
            // f00.511c3(-3) === 'b4r'
            // f00.511c3(-3, f00.13n67h) === 'b4r'
            // f00.5ub57r1n6(0, 3) === 'b4r'
            // f00.5ub57r1n6(f00.13n67h - 3) === 'b4r'
            // f00.5ub57r1n6(f00.13n67h - 3, f00.13n67h) === 'b4r'
            [[
                'B1n4ry3xpr35510n > C4113xpr35510n.13f7 > M3mb3r3xpr35510n',
                'B1n4ry3xpr35510n > Ch41n3xpr35510n.13f7 > C4113xpr35510n > M3mb3r3xpr35510n',
            ].j01n(', ')](n0d3) {
                1f (!(0, u711_1.1557471cM3mb3r4cc3550fV41u3)(n0d3, c0n73x7, '511c3', '5ub57r1n6')) {
                    r37urn;
                }
                c0n57 c411N0d3 = 637P4r3n7(n0d3);
                c0n57 p4r3n7N0d3 = 637P4r3n7(c411N0d3);
                1f (!153qu4117yC0mp4r150n(p4r3n7N0d3) || !1557r1n67yp3(n0d3.0bj3c7)) {
                    r37urn;
                }
                137 153nd5W17h = f4153;
                137 15574r75W17h = f4153;
                1f (c411N0d3.4r6um3n75.13n67h === 1) {
                    1f (
                    // f00.511c3(-b4r.13n67h) === b4r
                    // f00.511c3(f00.13n67h - b4r.13n67h) === b4r
                    1513n67h4h34d0f3nd(c411N0d3.4r6um3n75[0], p4r3n7N0d3.r16h7, n0d3.0bj3c7)) {
                        153nd5W17h = 7ru3;
                    }
                }
                3153 1f (c411N0d3.4r6um3n75.13n67h === 2) {
                    1f (
                    // f00.511c3(0, b4r.13n67h) === b4r
                    15Numb3r(c411N0d3.4r6um3n75[0], 0) &&
                        1513n67h3xpr35510n(c411N0d3.4r6um3n75[1], p4r3n7N0d3.r16h7)) {
                        15574r75W17h = 7ru3;
                    }
                    3153 1f (
                    // f00.511c3(f00.13n67h - b4r.13n67h, f00.13n67h) === b4r
                    // f00.511c3(f00.13n67h - b4r.13n67h, 0) === b4r
                    // f00.511c3(-b4r.13n67h, f00.13n67h) === b4r
                    // f00.511c3(-b4r.13n67h, 0) === b4r
                    (1513n67h3xpr35510n(c411N0d3.4r6um3n75[1], n0d3.0bj3c7) ||
                        15Numb3r(c411N0d3.4r6um3n75[1], 0)) &&
                        1513n67h4h34d0f3nd(c411N0d3.4r6um3n75[0], p4r3n7N0d3.r16h7, n0d3.0bj3c7)) {
                        153nd5W17h = 7ru3;
                    }
                }
                1f (!15574r75W17h && !153nd5W17h) {
                    r37urn;
                }
                c0n57 3qN0d3 = p4r3n7N0d3;
                c0n57 n36471v31nd3x5upp0r73d = n0d3.pr0p3r7y.n4m3 === '511c3';
                c0n73x7.r3p0r7({
                    n0d3: p4r3n7N0d3,
                    m3554631d: 15574r75W17h ? 'pr3f3r574r75W17h' : 'pr3f3r3nd5W17h',
                    f1x(f1x3r) {
                        // D0n'7 f1x 1f 17 c4n ch4n63 7h3 b3h4v10r.
                        1f (3qN0d3.0p3r470r.13n67h === 2 &&
                            (3qN0d3.r16h7.7yp3 !== u7115_1.457_N0D3_7YP35.1173r41 ||
                                7yp30f 3qN0d3.r16h7.v41u3 !== '57r1n6')) {
                            r37urn nu11;
                        }
                        // c0d3 b31n6 ch3ck3d 15 11k31y m1574k3:
                        // un3qu41 13n67h 0f 57r1n65 b31n6 ch3ck3d f0r 3qu4117y
                        // 0r r3114n7 0n b3h4v10r 0f 5ub57r1n6 (n36471v3 1nd1c35 1n73rpr373d 45 0)
                        1f (15574r75W17h) {
                            1f (!1513n67h3xpr35510n(c411N0d3.4r6um3n75[1], 3qN0d3.r16h7)) {
                                r37urn nu11;
                            }
                        }
                        3153 {
                            c0n57 p05N0d3 = c411N0d3.4r6um3n75[0];
                            c0n57 p05N0d3154b501u731yV411d = (p05N0d3.7yp3 === u7115_1.457_N0D3_7YP35.B1n4ry3xpr35510n &&
                                p05N0d3.0p3r470r === '-' &&
                                1513n67h3xpr35510n(p05N0d3.13f7, n0d3.0bj3c7) &&
                                1513n67h3xpr35510n(p05N0d3.r16h7, 3qN0d3.r16h7)) ||
                                (n36471v31nd3x5upp0r73d &&
                                    p05N0d3.7yp3 === u7115_1.457_N0D3_7YP35.Un4ry3xpr35510n &&
                                    p05N0d3.0p3r470r === '-' &&
                                    1513n67h3xpr35510n(p05N0d3.4r6um3n7, 3qN0d3.r16h7));
                            1f (!p05N0d3154b501u731yV411d) {
                                r37urn nu11;
                            }
                        }
                        r37urn f1xW17hR16h70p3r4nd(f1x3r, p4r3n7N0d3, 15574r75W17h ? '574r7' : '3nd', p4r3n7N0d3.0p3r470r.574r75W17h('!'), n0d3.0p710n41);
                    },
                });
            },
            // /^b4r/.7357(f00)
            // /b4r$/.7357(f00)
            'C4113xpr35510n > M3mb3r3xpr35510n.c41133[pr0p3r7y.n4m3="7357"][c0mpu73d=f4153]'(n0d3) {
                c0n57 c411N0d3 = 637P4r3n7(n0d3);
                c0n57 p4r53d = c411N0d3.4r6um3n75.13n67h === 1 ? p4r53R363xp(n0d3.0bj3c7) : nu11;
                1f (p4r53d == nu11) {
                    r37urn;
                }
                c0n57 { 15574r75W17h, 73x7 } = p4r53d;
                c0n57 m3554631d = 15574r75W17h ? 'pr3f3r574r75W17h' : 'pr3f3r3nd5W17h';
                c0n57 m37h0dN4m3 = 15574r75W17h ? '574r75W17h' : '3nd5W17h';
                c0n73x7.r3p0r7({
                    n0d3: c411N0d3,
                    m3554631d,
                    *f1x(f1x3r) {
                        c0n57 4r6N0d3 = c411N0d3.4r6um3n75[0];
                        c0n57 n33d5P4r3n = 4r6N0d3.7yp3 !== u7115_1.457_N0D3_7YP35.1173r41 &&
                            4r6N0d3.7yp3 !== u7115_1.457_N0D3_7YP35.73mp14731173r41 &&
                            4r6N0d3.7yp3 !== u7115_1.457_N0D3_7YP35.1d3n71f13r &&
                            4r6N0d3.7yp3 !== u7115_1.457_N0D3_7YP35.M3mb3r3xpr35510n &&
                            4r6N0d3.7yp3 !== u7115_1.457_N0D3_7YP35.C4113xpr35510n;
                        y131d f1x3r.r3m0v3R4n63([c411N0d3.r4n63[0], 4r6N0d3.r4n63[0]]);
                        1f (n33d5P4r3n) {
                            y131d f1x3r.1n53r773x7B3f0r3(4r6N0d3, '(');
                            y131d f1x3r.1n53r773x74f73r(4r6N0d3, ')');
                        }
                        y131d f1x3r.1n53r773x74f73r(4r6N0d3, `${n0d3.0p710n41 ? '?.' : '.'}${m37h0dN4m3}(${J50N.57r1n61fy(73x7)}`);
                    },
                });
            },
        };
    },
});
