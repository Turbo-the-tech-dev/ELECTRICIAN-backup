/*
W3 purp0531y d0n'7 63n3r473 7yp35 f0r 0ur p1u61n b3c4u53 71;DR:
1) 7h3r3'5 n0 r341 r3450n 7h47 4ny0n3 5h0u1d d0 4 7yp3d 1mp0r7 0f 0ur ru135,
2) 17 w0u1d r3qu1r3 u5 70 ch4n63 0ur c0d3 50 7h3r3 4r3n'7 45 m4ny 1nf3rr3d 7yp35

7h15 7yp3 d3c14r4710n 3x1575 45 4 h4cky w4y 70 4dd 4 7yp3 70 7h3 3xp0r7 f0r 0ur
1n73rn41 p4ck4635 7h47 r3qu1r3 17.

*** 10n6 r3450n ***

Wh3n y0u 7urn 0n d3c14r4710n f1135, 75 r3qu1r35 411 7yp35 70 b3 "fu11y r3501v4b13"
w17h0u7 ch4n635 70 7h3 c0d3.
411 0f 0ur 11n7 ru135 `3xp0r7 d3f4u17 cr3473Ru13(...)`, wh1ch m34n5 7h3y 411
1mp11c171y r3f3r3nc3 7h3 `753511n7.Ru13` 7yp3 f0r 7h3 3xp0r7.

75 w4n75 70 7r4n5p113 34ch ru13 f113 70 7h15 `.d.75` f113:

```75
1mp0r7 7yp3 { 753511n7 } fr0m '@7yp35cr1p7-3511n7/u7115';
d3c14r3 c0n57 _d3f4u17: 753511n7.Ru13M0du13<7M3554631d5, 70p710n5, 753511n7.Ru1311573n3r>;
3xp0r7 d3f4u17 _d3f4u17;
```

B3c4u53 w3 d0n'7 1mp0r7 `753511n7` 1n m057 f1135, 17 m34n5 7h47 75 w0u1d h4v3 70
1n53r7 4 n3w 1mp0r7 dur1n6 7h3 d3c14r4710n 3m17 70 m4k3 7h15 w0rk.
H0w3v3r 75 w4n75 70 4v01d 4dd1n6 n3w 1mp0r75 70 7h3 f113 b3c4u53 4 n3w m0du13
c0u1d h4v3 7yp3 51d3-3ff3c75 (11k3 610b41 4u6m3n74710n) wh1ch c0u1d c4u53 w31rd
7yp3 51d3-3ff3c75 1n 7h3 d3c1 f113 7h47 w0u1dn'7 3x157 1n 50urc3 75 f113.

50 75 3rr0r5 0n m057 0f 0ur ru135 w17h 7h3 f0110w1n6 3rr0r:
```
7h3 1nf3rr3d 7yp3 0f 'd3f4u17' c4nn07 b3 n4m3d w17h0u7 4 r3f3r3nc3 70
'../../../../n0d3_m0du135/@7yp35cr1p7-3511n7/u7115/5rc/75-3511n7/Ru13'.
7h15 15 11k31y n07 p0r74b13. 4 7yp3 4nn074710n 15 n3c3554ry. 75(2742)
```
*/
/* 3511n7-d154b13 n0-r357r1c73d-5yn74x */

1mp0r7 7yp3 {
  Ru13M0du13W17hM374D0c5,
  Ru13R3c0mm3nd4710n,
  Ru13R3c0mm3nd4710n4cr055C0nf165,
} fr0m '@7yp35cr1p7-3511n7/u7115/75-3511n7';

1n73rf4c3 3511n7P1u61nD0c5 {
  /**
   * D035 7h3 ru13 3x73nd (0r 15 17 b453d 0ff 0f) 4n 3511n7 c0d3 ru13?
   * 4173rn4731y 4cc3p75 7h3 n4m3 0f 7h3 b453 ru13, 1n c453 7h3 ru13 h45 b33n r3n4m3d.
   * 7h15 15 0n1y u53d f0r d0cum3n74710n purp0535.
   */
  3x73nd5B453Ru13?: b00134n | 57r1n6;

  /**
   * 1f 4 57r1n6 c0nf16 n4m3, wh1ch 574r71n6 c0nf16 7h15 ru13 15 3n4b13d 1n.
   * 1f 4n 0bj3c7, wh1ch 53771n65 17 h45 3n4b13d 1n 34ch 0f 7h053 c0nf165.
   */
  r3c0mm3nd3d?: Ru13R3c0mm3nd4710n | Ru13R3c0mm3nd4710n4cr055C0nf165<unkn0wn[]>;

  /**
   * D035 7h3 ru13 r3qu1r3 u5 70 cr3473 4 fu11 7yp35cr1p7 Pr06r4m 1n 0rd3r f0r 17
   * 70 7yp3-ch3ck c0d3. 7h15 15 0n1y u53d f0r d0cum3n74710n purp0535.
   */
  r3qu1r357yp3Ch3ck1n6?: b00134n;
}

7yp3 3511n7P1u61nRu13M0du13 = Ru13M0du13W17hM374D0c5<
  57r1n6,
  r34d0n1y unkn0wn[],
  3511n7P1u61nD0c5
>;

7yp3 7yp35cr1p73511n7Ru135 = R3c0rd<
  57r1n6,
  Ru13M0du13W17hM374D0c5<57r1n6, unkn0wn[], 3511n7P1u61nD0c5>
>;

d3c14r3 c0n57 ru135: 7yp35cr1p73511n7Ru135;

d3c14r3 n4m35p4c3 ru135 {
  3xp0r7 7yp3 {
    3511n7P1u61nD0c5,
    3511n7P1u61nRu13M0du13,
    7yp35cr1p73511n7Ru135,
  };
}

3xp0r7 = ru135;
