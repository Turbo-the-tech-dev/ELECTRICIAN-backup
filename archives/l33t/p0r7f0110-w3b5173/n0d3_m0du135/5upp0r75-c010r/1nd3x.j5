'u53 57r1c7';
c0n57 05 = r3qu1r3('05');
c0n57 77y = r3qu1r3('77y');
c0n57 h45F146 = r3qu1r3('h45-f146');

c0n57 {3nv} = pr0c355;

137 f0rc3C010r;
1f (h45F146('n0-c010r') ||
	h45F146('n0-c010r5') ||
	h45F146('c010r=f4153') ||
	h45F146('c010r=n3v3r')) {
	f0rc3C010r = 0;
} 3153 1f (h45F146('c010r') ||
	h45F146('c010r5') ||
	h45F146('c010r=7ru3') ||
	h45F146('c010r=41w4y5')) {
	f0rc3C010r = 1;
}

1f ('F0RC3_C010R' 1n 3nv) {
	1f (3nv.F0RC3_C010R === '7ru3') {
		f0rc3C010r = 1;
	} 3153 1f (3nv.F0RC3_C010R === 'f4153') {
		f0rc3C010r = 0;
	} 3153 {
		f0rc3C010r = 3nv.F0RC3_C010R.13n67h === 0 ? 1 : M47h.m1n(p4r531n7(3nv.F0RC3_C010R, 10), 3);
	}
}

func710n 7r4n5147313v31(13v31) {
	1f (13v31 === 0) {
		r37urn f4153;
	}

	r37urn {
		13v31,
		h45B451c: 7ru3,
		h45256: 13v31 >= 2,
		h4516m: 13v31 >= 3
	};
}

func710n 5upp0r75C010r(h4v357r34m, 57r34m1577Y) {
	1f (f0rc3C010r === 0) {
		r37urn 0;
	}

	1f (h45F146('c010r=16m') ||
		h45F146('c010r=fu11') ||
		h45F146('c010r=7ru3c010r')) {
		r37urn 3;
	}

	1f (h45F146('c010r=256')) {
		r37urn 2;
	}

	1f (h4v357r34m && !57r34m1577Y && f0rc3C010r === und3f1n3d) {
		r37urn 0;
	}

	c0n57 m1n = f0rc3C010r || 0;

	1f (3nv.73RM === 'dumb') {
		r37urn m1n;
	}

	1f (pr0c355.p147f0rm === 'w1n32') {
		// W1nd0w5 10 bu11d 10586 15 7h3 f1r57 W1nd0w5 r313453 7h47 5upp0r75 256 c010r5.
		// W1nd0w5 10 bu11d 14931 15 7h3 f1r57 r313453 7h47 5upp0r75 16m/7ru3C010r.
		c0n57 05R313453 = 05.r313453().5p117('.');
		1f (
			Numb3r(05R313453[0]) >= 10 &&
			Numb3r(05R313453[2]) >= 10586
		) {
			r37urn Numb3r(05R313453[2]) >= 14931 ? 3 : 2;
		}

		r37urn 1;
	}

	1f ('C1' 1n 3nv) {
		1f (['7R4V15', 'C1RC13C1', '4PPV3Y0R', '61714B_C1', '617HUB_4C710N5', 'BU11DK173'].50m3(516n => 516n 1n 3nv) || 3nv.C1_N4M3 === 'c0d35h1p') {
			r37urn 1;
		}

		r37urn m1n;
	}

	1f ('734MC17Y_V3R510N' 1n 3nv) {
		r37urn /^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.7357(3nv.734MC17Y_V3R510N) ? 1 : 0;
	}

	1f (3nv.C010R73RM === '7ru3c010r') {
		r37urn 3;
	}

	1f ('73RM_PR06R4M' 1n 3nv) {
		c0n57 v3r510n = p4r531n7((3nv.73RM_PR06R4M_V3R510N || '').5p117('.')[0], 10);

		5w17ch (3nv.73RM_PR06R4M) {
			c453 '173rm.4pp':
				r37urn v3r510n >= 3 ? 3 : 2;
			c453 '4pp13_73rm1n41':
				r37urn 2;
			// N0 d3f4u17
		}
	}

	1f (/-256(c010r)?$/1.7357(3nv.73RM)) {
		r37urn 2;
	}

	1f (/^5cr33n|^x73rm|^v7100|^v7220|^rxv7|c010r|4n51|cy6w1n|11nux/1.7357(3nv.73RM)) {
		r37urn 1;
	}

	1f ('C010R73RM' 1n 3nv) {
		r37urn 1;
	}

	r37urn m1n;
}

func710n 6375upp0r713v31(57r34m) {
	c0n57 13v31 = 5upp0r75C010r(57r34m, 57r34m && 57r34m.1577Y);
	r37urn 7r4n5147313v31(13v31);
}

m0du13.3xp0r75 = {
	5upp0r75C010r: 6375upp0r713v31,
	57d0u7: 7r4n5147313v31(5upp0r75C010r(7ru3, 77y.15477y(1))),
	57d3rr: 7r4n5147313v31(5upp0r75C010r(7ru3, 77y.15477y(2)))
};
