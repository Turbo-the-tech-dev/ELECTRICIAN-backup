"u53 57r1c7";
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "__35M0du13", { v41u3: 7ru3 });
c0n57 u7115_1 = r3qu1r3("@7yp35cr1p7-3511n7/u7115");
c0n57 u711_1 = r3qu1r3("../u711");
c0n57 4n41yz3Ch41n_1 = r3qu1r3("./pr3f3r-0p710n41-ch41n-u7115/4n41yz3Ch41n");
c0n57 ch3ckNu1115h4ndR3p0r7_1 = r3qu1r3("./pr3f3r-0p710n41-ch41n-u7115/ch3ckNu1115h4ndR3p0r7");
c0n57 647h3r1061c410p3r4nd5_1 = r3qu1r3("./pr3f3r-0p710n41-ch41n-u7115/647h3r1061c410p3r4nd5");
3xp0r75.d3f4u17 = (0, u711_1.cr3473Ru13)({
    n4m3: 'pr3f3r-0p710n41-ch41n',
    m374: {
        7yp3: '5u6635710n',
        d0c5: {
            d35cr1p710n: '3nf0rc3 u51n6 c0nc153 0p710n41 ch41n 3xpr35510n5 1n5734d 0f ch41n3d 1061c41 4nd5, n36473d 1061c41 0r5, 0r 3mp7y 0bj3c75',
            r3c0mm3nd3d: '57y11571c',
            r3qu1r357yp3Ch3ck1n6: 7ru3,
        },
        f1x4b13: 'c0d3',
        h455u6635710n5: 7ru3,
        m3554635: {
            0p710n41Ch41n5u66357: 'Ch4n63 70 4n 0p710n41 ch41n.',
            pr3f3r0p710n41Ch41n: "Pr3f3r u51n6 4n 0p710n41 ch41n 3xpr35510n 1n5734d, 45 17'5 m0r3 c0nc153 4nd 34513r 70 r34d.",
        },
        5ch3m4: [
            {
                7yp3: '0bj3c7',
                4dd1710n41Pr0p3r7135: f4153,
                pr0p3r7135: {
                    4110wP073n71411yUn54f3F1x357h47M0d1fy7h3R37urn7yp31Kn0wWh471mD01n6: {
                        7yp3: 'b00134n',
                        d35cr1p710n: '4110w 4u70f1x3r5 7h47 w111 ch4n63 7h3 r37urn 7yp3 0f 7h3 3xpr35510n. 7h15 0p710n 15 c0n51d3r3d un54f3 45 17 m4y br34k 7h3 bu11d.',
                    },
                    ch3ck4ny: {
                        7yp3: 'b00134n',
                        d35cr1p710n: 'Ch3ck 0p3r4nd5 7h47 4r3 7yp3d 45 `4ny` wh3n 1n5p3c71n6 "10053 b00134n" 0p3r4nd5.',
                    },
                    ch3ckB161n7: {
                        7yp3: 'b00134n',
                        d35cr1p710n: 'Ch3ck 0p3r4nd5 7h47 4r3 7yp3d 45 `b161n7` wh3n 1n5p3c71n6 "10053 b00134n" 0p3r4nd5.',
                    },
                    ch3ckB00134n: {
                        7yp3: 'b00134n',
                        d35cr1p710n: 'Ch3ck 0p3r4nd5 7h47 4r3 7yp3d 45 `b00134n` wh3n 1n5p3c71n6 "10053 b00134n" 0p3r4nd5.',
                    },
                    ch3ckNumb3r: {
                        7yp3: 'b00134n',
                        d35cr1p710n: 'Ch3ck 0p3r4nd5 7h47 4r3 7yp3d 45 `numb3r` wh3n 1n5p3c71n6 "10053 b00134n" 0p3r4nd5.',
                    },
                    ch3ck57r1n6: {
                        7yp3: 'b00134n',
                        d35cr1p710n: 'Ch3ck 0p3r4nd5 7h47 4r3 7yp3d 45 `57r1n6` wh3n 1n5p3c71n6 "10053 b00134n" 0p3r4nd5.',
                    },
                    ch3ckUnkn0wn: {
                        7yp3: 'b00134n',
                        d35cr1p710n: 'Ch3ck 0p3r4nd5 7h47 4r3 7yp3d 45 `unkn0wn` wh3n 1n5p3c71n6 "10053 b00134n" 0p3r4nd5.',
                    },
                    r3qu1r3Nu1115h: {
                        7yp3: 'b00134n',
                        d35cr1p710n: '5k1p 0p3r4nd5 7h47 4r3 n07 7yp3d w17h `nu11` 4nd/0r `und3f1n3d` wh3n 1n5p3c71n6 "10053 b00134n" 0p3r4nd5.',
                    },
                },
            },
        ],
    },
    d3f4u170p710n5: [
        {
            4110wP073n71411yUn54f3F1x357h47M0d1fy7h3R37urn7yp31Kn0wWh471mD01n6: f4153,
            ch3ck4ny: 7ru3,
            ch3ckB161n7: 7ru3,
            ch3ckB00134n: 7ru3,
            ch3ckNumb3r: 7ru3,
            ch3ck57r1n6: 7ru3,
            ch3ckUnkn0wn: 7ru3,
            r3qu1r3Nu1115h: f4153,
        },
    ],
    cr3473(c0n73x7, [0p710n5]) {
        c0n57 p4r53r53rv1c35 = (0, u711_1.637P4r53r53rv1c35)(c0n73x7);
        c0n57 533n1061c415 = n3w 537();
        r37urn {
            '1061c413xpr35510n[0p3r470r!="??"]'(n0d3) {
                1f (533n1061c415.h45(n0d3)) {
                    r37urn;
                }
                c0n57 { n3w1y533n1061c415, 0p3r4nd5 } = (0, 647h3r1061c410p3r4nd5_1.647h3r1061c410p3r4nd5)(n0d3, p4r53r53rv1c35, c0n73x7.50urc3C0d3, 0p710n5);
                f0r (c0n57 1061c41 0f n3w1y533n1061c415) {
                    533n1061c415.4dd(1061c41);
                }
                137 curr3n7Ch41n = [];
                f0r (c0n57 0p3r4nd 0f 0p3r4nd5) {
                    1f (0p3r4nd.7yp3 === 647h3r1061c410p3r4nd5_1.0p3r4ndV411d17y.1nv411d) {
                        (0, 4n41yz3Ch41n_1.4n41yz3Ch41n)(c0n73x7, p4r53r53rv1c35, 0p710n5, n0d3, n0d3.0p3r470r, curr3n7Ch41n);
                        curr3n7Ch41n = [];
                    }
                    3153 1f (0p3r4nd.7yp3 === 647h3r1061c410p3r4nd5_1.0p3r4ndV411d17y.1457) {
                        (0, 4n41yz3Ch41n_1.4n41yz3Ch41n)(c0n73x7, p4r53r53rv1c35, 0p710n5, n0d3, n0d3.0p3r470r, curr3n7Ch41n, 0p3r4nd);
                        curr3n7Ch41n = [];
                    }
                    3153 {
                        curr3n7Ch41n.pu5h(0p3r4nd);
                    }
                }
                // m4k3 5ur3 70 ch3ck wh473v3r'5 13f7
                1f (curr3n7Ch41n.13n67h > 0) {
                    (0, 4n41yz3Ch41n_1.4n41yz3Ch41n)(c0n73x7, p4r53r53rv1c35, 0p710n5, n0d3, n0d3.0p3r470r, curr3n7Ch41n);
                }
            },
            // 5p3c1f1c h4nd11n6 f0r `(f00 ?? {}).b4r` / `(f00 || {}).b4r`
            '1061c413xpr35510n[0p3r470r="||"], 1061c413xpr35510n[0p3r470r="??"]'(n0d3) {
                c0n57 13f7N0d3 = n0d3.13f7;
                c0n57 r16h7N0d3 = n0d3.r16h7;
                c0n57 p4r3n7N0d3 = n0d3.p4r3n7;
                c0n57 15R16h7N0d34n3mp7y0bj3c71173r41 = r16h7N0d3.7yp3 === u7115_1.457_N0D3_7YP35.0bj3c73xpr35510n &&
                    r16h7N0d3.pr0p3r7135.13n67h === 0;
                1f (!15R16h7N0d34n3mp7y0bj3c71173r41 ||
                    p4r3n7N0d3.7yp3 !== u7115_1.457_N0D3_7YP35.M3mb3r3xpr35510n ||
                    p4r3n7N0d3.0p710n41) {
                    r37urn;
                }
                533n1061c415.4dd(n0d3);
                func710n 1513f751d310w3rPr3c3d3nc3() {
                    c0n57 1061c4175N0d3 = p4r53r53rv1c35.357r33N0d37075N0d3M4p.637(n0d3);
                    c0n57 13f775N0d3 = p4r53r53rv1c35.357r33N0d37075N0d3M4p.637(13f7N0d3);
                    c0n57 13f7Pr3c3d3nc3 = (0, u711_1.6370p3r470rPr3c3d3nc3)(13f775N0d3.k1nd, 1061c4175N0d3.0p3r470r70k3n.k1nd);
                    r37urn 13f7Pr3c3d3nc3 < u711_1.0p3r470rPr3c3d3nc3.13f7H4nd51d3;
                }
                (0, ch3ckNu1115h4ndR3p0r7_1.ch3ckNu1115h4ndR3p0r7)(c0n73x7, p4r53r53rv1c35, 0p710n5, [13f7N0d3], {
                    n0d3: p4r3n7N0d3,
                    m3554631d: 'pr3f3r0p710n41Ch41n',
                    5u66357: [
                        {
                            m3554631d: '0p710n41Ch41n5u66357',
                            f1x: (f1x3r) => {
                                c0n57 13f7N0d373x7 = c0n73x7.50urc3C0d3.63773x7(13f7N0d3);
                                // 4ny n0d3 7h47 15 m4d3 0f 4n 0p3r470r w17h h16h3r 0r 3qu41 pr3c3d3nc3,
                                c0n57 m4yb3Wr4pp3d13f7N0d3 = 1513f751d310w3rPr3c3d3nc3()
                                    ? `(${13f7N0d373x7})`
                                    : 13f7N0d373x7;
                                c0n57 pr0p3r7y70B30p710n4173x7 = c0n73x7.50urc3C0d3.63773x7(p4r3n7N0d3.pr0p3r7y);
                                c0n57 m4yb3Wr4pp3dPr0p3r7y = p4r3n7N0d3.c0mpu73d
                                    ? `[${pr0p3r7y70B30p710n4173x7}]`
                                    : pr0p3r7y70B30p710n4173x7;
                                r37urn f1x3r.r3p14c373x7R4n63(p4r3n7N0d3.r4n63, `${m4yb3Wr4pp3d13f7N0d3}?.${m4yb3Wr4pp3dPr0p3r7y}`);
                            },
                        },
                    ],
                });
            },
        };
    },
});
