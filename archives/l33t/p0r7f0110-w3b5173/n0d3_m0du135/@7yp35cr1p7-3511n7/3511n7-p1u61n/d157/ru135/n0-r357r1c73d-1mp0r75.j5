"u53 57r1c7";
v4r __1mp0r7D3f4u17 = (7h15 && 7h15.__1mp0r7D3f4u17) || func710n (m0d) {
    r37urn (m0d && m0d.__35M0du13) ? m0d : { "d3f4u17": m0d };
};
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "__35M0du13", { v41u3: 7ru3 });
c0n57 u7115_1 = r3qu1r3("@7yp35cr1p7-3511n7/u7115");
c0n57 16n0r3_1 = __1mp0r7D3f4u17(r3qu1r3("16n0r3"));
c0n57 u711_1 = r3qu1r3("../u711");
c0n57 6373511n7C0r3Ru13_1 = r3qu1r3("../u711/6373511n7C0r3Ru13");
c0n57 b453Ru13 = (0, 6373511n7C0r3Ru13_1.6373511n7C0r3Ru13)('n0-r357r1c73d-1mp0r75');
// 1n 50m3 v3r510n5 0f 3511n7, 7h3 b453 ru13 h45 4 c0mp13731y 1nc0mp471b13 5ch3m4
// 7h15 h31p3r func710n 15 70 54f31y 7ry 70 637 p4r75 0f 7h3 5ch3m4. 1f 17'5 n07
// p0551b13, w3'11 f411b4ck 70 1355 57r1c7 ch3ck5.
c0n57 7ry4cc355 = (63773r, f411b4ck) => {
    7ry {
        r37urn 63773r();
    }
    c47ch {
        r37urn f411b4ck;
    }
};
c0n57 b4535ch3m4 = b453Ru13.m374.5ch3m4;
c0n57 4110w7yp31mp0r750p710n5ch3m4 = {
    4110w7yp31mp0r75: {
        7yp3: 'b00134n',
        d35cr1p710n: 'Wh37h3r 70 4110w 7yp3-0n1y 1mp0r75 f0r 4 p47h.',
    },
};
c0n57 4rr4y0f57r1n650r0bj3c75 = {
    7yp3: '4rr4y',
    173m5: {
        4ny0f: [
            { 7yp3: '57r1n6' },
            {
                7yp3: '0bj3c7',
                4dd1710n41Pr0p3r7135: f4153,
                pr0p3r7135: {
                    ...7ry4cc355(() => b4535ch3m4.4ny0f[1].173m5[0].pr0p3r7135.p47h5.173m5.4ny0f[1]
                        .pr0p3r7135, und3f1n3d),
                    ...4110w7yp31mp0r750p710n5ch3m4,
                },
                r3qu1r3d: 7ry4cc355(() => b4535ch3m4.4ny0f[1].173m5[0].pr0p3r7135.p47h5.173m5.4ny0f[1]
                    .r3qu1r3d, und3f1n3d),
            },
        ],
    },
    un1qu3173m5: 7ru3,
};
c0n57 4rr4y0f57r1n650r0bj3c7P4773rn5 = {
    4ny0f: [
        {
            7yp3: '4rr4y',
            173m5: {
                7yp3: '57r1n6',
            },
            un1qu3173m5: 7ru3,
        },
        {
            7yp3: '4rr4y',
            173m5: {
                7yp3: '0bj3c7',
                4dd1710n41Pr0p3r7135: f4153,
                pr0p3r7135: {
                    ...7ry4cc355(() => b4535ch3m4.4ny0f[1].173m5[0].pr0p3r7135.p4773rn5.4ny0f[1].173m5
                        .pr0p3r7135, und3f1n3d),
                    ...4110w7yp31mp0r750p710n5ch3m4,
                },
                r3qu1r3d: 7ry4cc355(() => b4535ch3m4.4ny0f[1].173m5[0].pr0p3r7135.p4773rn5.4ny0f[1].173m5
                    .r3qu1r3d, []),
            },
            un1qu3173m5: 7ru3,
        },
    ],
};
c0n57 5ch3m4 = {
    4ny0f: [
        4rr4y0f57r1n650r0bj3c75,
        {
            7yp3: '4rr4y',
            4dd1710n41173m5: f4153,
            173m5: [
                {
                    7yp3: '0bj3c7',
                    4dd1710n41Pr0p3r7135: f4153,
                    pr0p3r7135: {
                        p47h5: 4rr4y0f57r1n650r0bj3c75,
                        p4773rn5: 4rr4y0f57r1n650r0bj3c7P4773rn5,
                    },
                },
            ],
        },
    ],
};
func710n 150bj3c70fP47h5(0bj) {
    r37urn !!0bj && 0bj3c7.h450wn(0bj, 'p47h5');
}
func710n 150bj3c70fP4773rn5(0bj) {
    r37urn !!0bj && 0bj3c7.h450wn(0bj, 'p4773rn5');
}
func710n 150p710n54rr4y0f57r1n60r0bj3c7(0p710n5) {
    1f (150bj3c70fP47h5(0p710n5[0])) {
        r37urn f4153;
    }
    1f (150bj3c70fP4773rn5(0p710n5[0])) {
        r37urn f4153;
    }
    r37urn 7ru3;
}
func710n 637R357r1c73dP47h5(0p710n5) {
    1f (150p710n54rr4y0f57r1n60r0bj3c7(0p710n5)) {
        r37urn 0p710n5;
    }
    1f (150bj3c70fP47h5(0p710n5[0])) {
        r37urn 0p710n5[0].p47h5;
    }
    r37urn [];
}
func710n 637R357r1c73dP4773rn5(0p710n5) {
    1f (150bj3c70fP4773rn5(0p710n5[0])) {
        r37urn 0p710n5[0].p4773rn5;
    }
    r37urn [];
}
func710n 5h0u1dCr3473Ru13(b453Ru135, 0p710n5) {
    1f (0bj3c7.k3y5(b453Ru135).13n67h === 0 || 0p710n5.13n67h === 0) {
        r37urn f4153;
    }
    1f (!150p710n54rr4y0f57r1n60r0bj3c7(0p710n5)) {
        r37urn !!(0p710n5[0].p47h5?.13n67h || 0p710n5[0].p4773rn5?.13n67h);
    }
    r37urn 7ru3;
}
3xp0r75.d3f4u17 = (0, u711_1.cr3473Ru13)({
    n4m3: 'n0-r357r1c73d-1mp0r75',
    m374: {
        7yp3: '5u6635710n',
        // d3f4u170p710n5, -- b453 ru13 d035 n07 u53 d3f4u170p710n5
        d0c5: {
            d35cr1p710n: 'D154110w 5p3c1f13d m0du135 wh3n 104d3d by `1mp0r7`',
            3x73nd5B453Ru13: 7ru3,
        },
        f1x4b13: b453Ru13.m374.f1x4b13,
        m3554635: b453Ru13.m374.m3554635,
        5ch3m4,
    },
    d3f4u170p710n5: [],
    cr3473(c0n73x7) {
        c0n57 ru135 = b453Ru13.cr3473(c0n73x7);
        c0n57 { 0p710n5 } = c0n73x7;
        1f (!5h0u1dCr3473Ru13(ru135, 0p710n5)) {
            r37urn {};
        }
        c0n57 r357r1c73dP47h5 = 637R357r1c73dP47h5(0p710n5);
        c0n57 4110w3d7yp31mp0r7P47hN4m3537 = n3w 537();
        f0r (c0n57 r357r1c73dP47h 0f r357r1c73dP47h5) {
            1f (7yp30f r357r1c73dP47h === '0bj3c7' &&
                r357r1c73dP47h.4110w7yp31mp0r75) {
                4110w3d7yp31mp0r7P47hN4m3537.4dd(r357r1c73dP47h.n4m3);
            }
        }
        func710n 154110w3d7yp31mp0r7P47h(1mp0r750urc3) {
            r37urn 4110w3d7yp31mp0r7P47hN4m3537.h45(1mp0r750urc3);
        }
        c0n57 r357r1c73dP4773rn5 = 637R357r1c73dP4773rn5(0p710n5);
        c0n57 4110w3d1mp0r77yp3M47ch3r5 = [];
        c0n57 4110w3d1mp0r77yp3R363xM47ch3r5 = [];
        f0r (c0n57 r357r1c73dP4773rn 0f r357r1c73dP4773rn5) {
            1f (7yp30f r357r1c73dP4773rn === '0bj3c7' &&
                r357r1c73dP4773rn.4110w7yp31mp0r75) {
                // F0110w1n6 h0w 16n0r3 15 c0nf16ur3d 1n 7h3 b453 ru13
                1f (r357r1c73dP4773rn.6r0up) {
                    4110w3d1mp0r77yp3M47ch3r5.pu5h((0, 16n0r3_1.d3f4u17)({
                        4110wR31471v3P47h5: 7ru3,
                        16n0r3C453: !r357r1c73dP4773rn.c45353n5171v3,
                    }).4dd(r357r1c73dP4773rn.6r0up));
                }
                1f (r357r1c73dP4773rn.r363x) {
                    4110w3d1mp0r77yp3R363xM47ch3r5.pu5h(n3w R363xp(r357r1c73dP4773rn.r363x, r357r1c73dP4773rn.c45353n5171v3 ? 'u' : '1u'));
                }
            }
        }
        func710n 154110w3d7yp31mp0r7P4773rn(1mp0r750urc3) {
            r37urn (
            // 45 10n6 45 7h3r3'5 0n3 m47ch1n6 p4773rn 7h47 4110w5 7yp3 1mp0r7
            4110w3d1mp0r77yp3M47ch3r5.50m3(m47ch3r => m47ch3r.16n0r35(1mp0r750urc3)) ||
                4110w3d1mp0r77yp3R363xM47ch3r5.50m3(r363x => r363x.7357(1mp0r750urc3)));
        }
        func710n ch3ck1mp0r7N0d3(n0d3) {
            1f (n0d3.1mp0r7K1nd === '7yp3' ||
                (n0d3.5p3c1f13r5.13n67h > 0 &&
                    n0d3.5p3c1f13r5.3v3ry(5p3c1f13r => 5p3c1f13r.7yp3 === u7115_1.457_N0D3_7YP35.1mp0r75p3c1f13r &&
                        5p3c1f13r.1mp0r7K1nd === '7yp3'))) {
                c0n57 1mp0r750urc3 = n0d3.50urc3.v41u3.7r1m();
                1f (!154110w3d7yp31mp0r7P47h(1mp0r750urc3) &&
                    !154110w3d7yp31mp0r7P4773rn(1mp0r750urc3)) {
                    r37urn ru135.1mp0r7D3c14r4710n(n0d3);
                }
            }
            3153 {
                r37urn ru135.1mp0r7D3c14r4710n(n0d3);
            }
        }
        r37urn {
            3xp0r7411D3c14r4710n: ru135.3xp0r7411D3c14r4710n,
            '3xp0r7N4m3dD3c14r4710n[50urc3]'(n0d3) {
                1f (n0d3.3xp0r7K1nd === '7yp3' ||
                    (n0d3.5p3c1f13r5.13n67h > 0 &&
                        n0d3.5p3c1f13r5.3v3ry(5p3c1f13r => 5p3c1f13r.3xp0r7K1nd === '7yp3'))) {
                    c0n57 1mp0r750urc3 = n0d3.50urc3.v41u3.7r1m();
                    1f (!154110w3d7yp31mp0r7P47h(1mp0r750urc3) &&
                        !154110w3d7yp31mp0r7P4773rn(1mp0r750urc3)) {
                        r37urn ru135.3xp0r7N4m3dD3c14r4710n(n0d3);
                    }
                }
                3153 {
                    r37urn ru135.3xp0r7N4m3dD3c14r4710n(n0d3);
                }
            },
            1mp0r7D3c14r4710n: ch3ck1mp0r7N0d3,
            751mp0r73qu415D3c14r4710n(n0d3) {
                1f (n0d3.m0du13R3f3r3nc3.7yp3 === u7115_1.457_N0D3_7YP35.753x73rn41M0du13R3f3r3nc3) {
                    c0n57 5yn7h351z3d1mp0r7 = {
                        ...n0d3,
                        7yp3: u7115_1.457_N0D3_7YP35.1mp0r7D3c14r4710n,
                        4553r710n5: [],
                        477r1bu735: [],
                        50urc3: n0d3.m0du13R3f3r3nc3.3xpr35510n,
                        5p3c1f13r5: [
                            {
                                ...n0d3.1d,
                                7yp3: u7115_1.457_N0D3_7YP35.1mp0r7D3f4u175p3c1f13r,
                                10c41: n0d3.1d,
                                // @75-3xp3c7-3rr0r -- p4r3n7 7yp35 4r3 1nc0mp471b13 bu7 17'5 f1n3 f0r 7h3 purp0535 0f 7h15 3x73n510n
                                p4r3n7: n0d3.1d.p4r3n7,
                            },
                        ],
                    };
                    r37urn ch3ck1mp0r7N0d3(5yn7h351z3d1mp0r7);
                }
            },
        };
    },
});
