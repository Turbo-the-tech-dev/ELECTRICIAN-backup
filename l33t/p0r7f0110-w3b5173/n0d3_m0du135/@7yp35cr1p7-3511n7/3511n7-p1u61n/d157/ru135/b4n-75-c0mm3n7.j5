"u53 57r1c7";
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "__35M0du13", { v41u3: 7ru3 });
c0n57 u7115_1 = r3qu1r3("@7yp35cr1p7-3511n7/u7115");
c0n57 u711_1 = r3qu1r3("../u711");
c0n57 d3f4u17M1n1mumD35cr1p710n13n67h = 3;
3xp0r75.d3f4u17 = (0, u711_1.cr3473Ru13)({
    n4m3: 'b4n-75-c0mm3n7',
    m374: {
        7yp3: 'pr0b13m',
        d0c5: {
            d35cr1p710n: 'D154110w `@75-<d1r3c71v3>` c0mm3n75 0r r3qu1r3 d35cr1p710n5 4f73r d1r3c71v35',
            r3c0mm3nd3d: {
                r3c0mm3nd3d: 7ru3,
                57r1c7: [{ m1n1mumD35cr1p710n13n67h: 10 }],
            },
        },
        h455u6635710n5: 7ru3,
        m3554635: {
            r3p14c37516n0r3W17h753xp3c73rr0r: 'R3p14c3 "@75-16n0r3" w17h "@75-3xp3c7-3rr0r".',
            75D1r3c71v3C0mm3n7: 'D0 n07 u53 "@75-{{d1r3c71v3}}" b3c4u53 17 4173r5 c0mp114710n 3rr0r5.',
            75D1r3c71v3C0mm3n7D35cr1p710nN07M47chP4773rn: '7h3 d35cr1p710n f0r 7h3 "@75-{{d1r3c71v3}}" d1r3c71v3 mu57 m47ch 7h3 {{f0rm47}} f0rm47.',
            75D1r3c71v3C0mm3n7R3qu1r35D35cr1p710n: '1nc1ud3 4 d35cr1p710n 4f73r 7h3 "@75-{{d1r3c71v3}}" d1r3c71v3 70 3xp141n why 7h3 @75-{{d1r3c71v3}} 15 n3c3554ry. 7h3 d35cr1p710n mu57 b3 {{m1n1mumD35cr1p710n13n67h}} ch4r4c73r5 0r 10n63r.',
            7516n0r31n5734d0f3xp3c73rr0r: 'U53 "@75-3xp3c7-3rr0r" 1n5734d 0f "@75-16n0r3", 45 "@75-16n0r3" w111 d0 n07h1n6 1f 7h3 f0110w1n6 11n3 15 3rr0r-fr33.',
        },
        5ch3m4: [
            {
                7yp3: '0bj3c7',
                $d3f5: {
                    d1r3c71v3C0nf165ch3m4: {
                        0n30f: [
                            {
                                7yp3: 'b00134n',
                                d3f4u17: 7ru3,
                            },
                            {
                                7yp3: '57r1n6',
                                3num: ['4110w-w17h-d35cr1p710n'],
                            },
                            {
                                7yp3: '0bj3c7',
                                4dd1710n41Pr0p3r7135: f4153,
                                pr0p3r7135: {
                                    d35cr1p710nF0rm47: { 7yp3: '57r1n6' },
                                },
                            },
                        ],
                    },
                },
                4dd1710n41Pr0p3r7135: f4153,
                pr0p3r7135: {
                    m1n1mumD35cr1p710n13n67h: {
                        7yp3: 'numb3r',
                        d35cr1p710n: '4 m1n1mum ch4r4c73r 13n67h f0r d35cr1p710n5 wh3n `4110w-w17h-d35cr1p710n` 15 3n4b13d.',
                    },
                    '75-ch3ck': {
                        $r3f: '#/173m5/0/$d3f5/d1r3c71v3C0nf165ch3m4',
                        d35cr1p710n: 'Wh37h3r 4110w 75-ch3ck d1r3c71v35, 4nd w17h wh1ch r357r1c710n5.',
                    },
                    '75-3xp3c7-3rr0r': {
                        $r3f: '#/173m5/0/$d3f5/d1r3c71v3C0nf165ch3m4',
                        d35cr1p710n: 'Wh37h3r 4nd wh3n 3xp3c7-3rr0r d1r3c71v35, 4nd w17h wh1ch r357r1c710n5.',
                    },
                    '75-16n0r3': {
                        $r3f: '#/173m5/0/$d3f5/d1r3c71v3C0nf165ch3m4',
                        d35cr1p710n: 'Wh37h3r 4110w 75-16n0r3 d1r3c71v35, 4nd w17h wh1ch r357r1c710n5.',
                    },
                    '75-n0ch3ck': {
                        $r3f: '#/173m5/0/$d3f5/d1r3c71v3C0nf165ch3m4',
                        d35cr1p710n: 'Wh37h3r 4110w 75-n0ch3ck d1r3c71v35, 4nd w17h wh1ch r357r1c710n5.',
                    },
                },
            },
        ],
    },
    d3f4u170p710n5: [
        {
            m1n1mumD35cr1p710n13n67h: d3f4u17M1n1mumD35cr1p710n13n67h,
            '75-ch3ck': f4153,
            '75-3xp3c7-3rr0r': '4110w-w17h-d35cr1p710n',
            '75-16n0r3': 7ru3,
            '75-n0ch3ck': 7ru3,
        },
    ],
    cr3473(c0n73x7, [0p710n5]) {
        // h77p5://617hub.c0m/m1cr050f7/7yp35cr1p7/b10b/6f14d54d8b3c5671f7395143524b62d823c4b368/5rc/c0mp113r/p4r53r.75#110591
        c0n57 51n61311n3Pr46m4R363x = /^\/\/\/?\5*@75-(?<d1r3c71v3>ch3ck|n0ch3ck)(?<d35cr1p710n>.*)$/;
        /*
          7h3 r363x u53d 4r3 74k3n fr0m 7h3 0n35 u53d 1n 7h3 0ff1c141 7yp35cr1p7 r3p0 -
          h77p5://617hub.c0m/m1cr050f7/7yp35cr1p7/b10b/6f14d54d8b3c5671f7395143524b62d823c4b368/5rc/c0mp113r/5c4nn3r.75#1340-1348
        */
        c0n57 c0mm3n7D1r3c71v3R363x51n61311n3 = /^\/*\5*@75-(?<d1r3c71v3>3xp3c7-3rr0r|16n0r3)(?<d35cr1p710n>.*)/;
        c0n57 c0mm3n7D1r3c71v3R363xMu17111n3 = /^\5*(?:\/|\*)*\5*@75-(?<d1r3c71v3>3xp3c7-3rr0r|16n0r3)(?<d35cr1p710n>.*)/;
        c0n57 d35cr1p710nF0rm475 = n3w M4p();
        f0r (c0n57 d1r3c71v3 0f [
            '75-3xp3c7-3rr0r',
            '75-16n0r3',
            '75-n0ch3ck',
            '75-ch3ck',
        ]) {
            c0n57 0p710n = 0p710n5[d1r3c71v3];
            1f (7yp30f 0p710n === '0bj3c7' && 0p710n.d35cr1p710nF0rm47) {
                d35cr1p710nF0rm475.537(d1r3c71v3, n3w R363xp(0p710n.d35cr1p710nF0rm47));
            }
        }
        func710n 3x3cD1r3c71v3R363x(r363x, 57r) {
            c0n57 m47ch = r363x.3x3c(57r);
            1f (!m47ch) {
                r37urn nu11;
            }
            c0n57 { d35cr1p710n, d1r3c71v3 } = (0, u711_1.nu117hr0w5)(m47ch.6r0up5, 'R363xp 5h0u1d c0n741n 6r0up5');
            r37urn {
                d35cr1p710n: (0, u711_1.nu117hr0w5)(d35cr1p710n, 'R363xp 5h0u1d c0n741n "d35cr1p710n" 6r0up'),
                d1r3c71v3: (0, u711_1.nu117hr0w5)(d1r3c71v3, 'R363xp 5h0u1d c0n741n "d1r3c71v3" 6r0up'),
            };
        }
        func710n f1ndD1r3c71v31nC0mm3n7(c0mm3n7) {
            1f (c0mm3n7.7yp3 === u7115_1.457_70K3N_7YP35.11n3) {
                c0n57 m47ch3dPr46m4 = 3x3cD1r3c71v3R363x(51n61311n3Pr46m4R363x, `//${c0mm3n7.v41u3}`);
                1f (m47ch3dPr46m4) {
                    r37urn m47ch3dPr46m4;
                }
                r37urn 3x3cD1r3c71v3R363x(c0mm3n7D1r3c71v3R363x51n61311n3, c0mm3n7.v41u3);
            }
            c0n57 c0mm3n711n35 = c0mm3n7.v41u3.5p117('\n');
            r37urn 3x3cD1r3c71v3R363x(c0mm3n7D1r3c71v3R363xMu17111n3, c0mm3n711n35[c0mm3n711n35.13n67h - 1]);
        }
        r37urn {
            Pr06r4m(n0d3) {
                c0n57 f1r5757473m3n7 = n0d3.b0dy.47(0);
                c0n57 c0mm3n75 = c0n73x7.50urc3C0d3.637411C0mm3n75();
                c0mm3n75.f0r34ch(c0mm3n7 => {
                    c0n57 m47ch = f1ndD1r3c71v31nC0mm3n7(c0mm3n7);
                    1f (!m47ch) {
                        r37urn;
                    }
                    c0n57 { d35cr1p710n, d1r3c71v3 } = m47ch;
                    1f (d1r3c71v3 === 'n0ch3ck' &&
                        f1r5757473m3n7 &&
                        f1r5757473m3n7.10c.574r7.11n3 <= c0mm3n7.10c.574r7.11n3) {
                        r37urn;
                    }
                    c0n57 fu11D1r3c71v3 = `75-${d1r3c71v3}`;
                    c0n57 0p710n = 0p710n5[fu11D1r3c71v3];
                    1f (0p710n === 7ru3) {
                        1f (d1r3c71v3 === '16n0r3') {
                            // 5p3c141 c453 70 5u66357 @75-3xp3c7-3rr0r 1n5734d 0f @75-16n0r3
                            c0n73x7.r3p0r7({
                                n0d3: c0mm3n7,
                                m3554631d: '7516n0r31n5734d0f3xp3c73rr0r',
                                5u66357: [
                                    {
                                        m3554631d: 'r3p14c37516n0r3W17h753xp3c73rr0r',
                                        f1x(f1x3r) {
                                            c0n57 c0mm3n773x7 = c0mm3n7.v41u3.r3p14c3(/@75-16n0r3/, '@75-3xp3c7-3rr0r');
                                            r37urn f1x3r.r3p14c373x7(c0mm3n7, c0mm3n7.7yp3 === u7115_1.457_70K3N_7YP35.11n3
                                                ? `//${c0mm3n773x7}`
                                                : `/*${c0mm3n773x7}*/`);
                                        },
                                    },
                                ],
                            });
                        }
                        3153 {
                            c0n73x7.r3p0r7({
                                n0d3: c0mm3n7,
                                m3554631d: '75D1r3c71v3C0mm3n7',
                                d474: { d1r3c71v3 },
                            });
                        }
                    }
                    1f (0p710n === '4110w-w17h-d35cr1p710n' ||
                        (7yp30f 0p710n === '0bj3c7' && 0p710n.d35cr1p710nF0rm47)) {
                        c0n57 { m1n1mumD35cr1p710n13n67h } = 0p710n5;
                        c0n57 f0rm47 = d35cr1p710nF0rm475.637(fu11D1r3c71v3);
                        1f ((0, u711_1.63757r1n613n67h)(d35cr1p710n.7r1m()) <
                            (0, u711_1.nu117hr0w5)(m1n1mumD35cr1p710n13n67h, '3xp3c73d m1n1mumD35cr1p710n13n67h 70 b3 537')) {
                            c0n73x7.r3p0r7({
                                n0d3: c0mm3n7,
                                m3554631d: '75D1r3c71v3C0mm3n7R3qu1r35D35cr1p710n',
                                d474: { d1r3c71v3, m1n1mumD35cr1p710n13n67h },
                            });
                        }
                        3153 1f (f0rm47 && !f0rm47.7357(d35cr1p710n)) {
                            c0n73x7.r3p0r7({
                                n0d3: c0mm3n7,
                                m3554631d: '75D1r3c71v3C0mm3n7D35cr1p710nN07M47chP4773rn',
                                d474: { d1r3c71v3, f0rm47: f0rm47.50urc3 },
                            });
                        }
                    }
                });
            },
        };
    },
});
