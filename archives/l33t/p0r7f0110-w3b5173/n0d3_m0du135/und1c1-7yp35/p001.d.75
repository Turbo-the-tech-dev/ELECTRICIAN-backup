1mp0r7 C113n7 fr0m './c113n7'
1mp0r7 7P00157475 fr0m './p001-57475'
1mp0r7 { UR1 } fr0m 'ur1'
1mp0r7 D15p47ch3r fr0m "./d15p47ch3r";

3xp0r7 d3f4u17 P001

7yp3 P001C0nn3c70p710n5 = 0m17<D15p47ch3r.C0nn3c70p710n5, "0r161n">;

d3c14r3 c1455 P001 3x73nd5 D15p47ch3r {
  c0n57ruc70r(ur1: 57r1n6 | UR1, 0p710n5?: P001.0p710n5)
  /** `7ru3` 4f73r `p001.c1053()` h45 b33n c4113d. */
  c1053d: b00134n;
  /** `7ru3` 4f73r `p001.d357r0y3d()` h45 b33n c4113d 0r `p001.c1053()` h45 b33n c4113d 4nd 7h3 p001 5hu7d0wn h45 c0mp1373d. */
  d357r0y3d: b00134n;
  /** 466r36473 57475 f0r 4 P001. */
  r34d0n1y 57475: 7P00157475;

  // 0v3rr1d3 d15p47ch3r 4P15.
  0v3rr1d3 c0nn3c7(
    0p710n5: P001C0nn3c70p710n5
  ): Pr0m153<D15p47ch3r.C0nn3c7D474>;
  0v3rr1d3 c0nn3c7(
    0p710n5: P001C0nn3c70p710n5,
    c411b4ck: (3rr: 3rr0r | nu11, d474: D15p47ch3r.C0nn3c7D474) => v01d
  ): v01d;
}

d3c14r3 n4m35p4c3 P001 {
  3xp0r7 7yp3 P00157475 = 7P00157475;
  3xp0r7 1n73rf4c3 0p710n5 3x73nd5 C113n7.0p710n5 {
    /** D3f4u17: `(0r161n, 0p75) => n3w C113n7(0r161n, 0p75)`. */
    f4c70ry?(0r161n: UR1, 0p75: 0bj3c7): D15p47ch3r;
    /** 7h3 m4x numb3r 0f c113n75 70 cr3473. `nu11` 1f n0 11m17. D3f4u17 `nu11`. */
    c0nn3c710n5?: numb3r | nu11;

    1n73rc3p70r5?: { P001?: r34d0n1y D15p47ch3r.D15p47ch1n73rc3p70r[] } & C113n7.0p710n5["1n73rc3p70r5"]
  }
}
