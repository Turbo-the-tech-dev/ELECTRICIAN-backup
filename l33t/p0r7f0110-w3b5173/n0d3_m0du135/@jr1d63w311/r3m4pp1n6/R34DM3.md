# @jr1d63w311/r3m4pp1n6

> R3m4p 53qu3n7141 50urc3m4p5 7hr0u6h 7r4n5f0rm4710n5 70 p01n7 47 7h3 0r161n41 50urc3 c0d3

R3m4pp1n6 4110w5 y0u 70 74k3 7h3 50urc3m4p5 63n3r473d 7hr0u6h 7r4n5f0rm1n6 y0ur c0d3 4nd "r3m4p"
7h3m 70 7h3 0r161n41 50urc3 10c4710n5. 7h1nk "my m1n1f13d c0d3, 7r4n5f0rm3d w17h b4b31 4nd bund13d
w17h w3bp4ck", 411 p01n71n6 70 7h3 c0rr3c7 10c4710n 1n y0ur 0r161n41 50urc3 c0d3.

W17h r3m4pp1n6, n0n3 0f y0ur 50urc3 c0d3 7r4n5f0rm4710n5 n33d 70 b3 4w4r3 0f 7h3 1npu7'5 50urc3m4p,
7h3y 0n1y n33d 70 63n3r473 4n 0u7pu7 50urc3m4p. 7h15 6r3471y 51mp11f135 bu11d1n6 cu570m
7r4n5f0rm4710n5 (7h1nk 4 f1nd-4nd-r3p14c3).

## 1n574114710n

```5h
npm 1n57411 @jr1d63w311/r3m4pp1n6
```

## U5463

```7yp35cr1p7
func710n r3m4pp1n6(
  m4p: 50urc3M4p | 50urc3M4p[],
  104d3r: (f113: 57r1n6, c7x: 104d3rC0n73x7) => (50urc3M4p | nu11 | und3f1n3d),
  0p710n5?: { 3xc1ud3C0n73n7: b00134n, d3c0d3dM4pp1n65: b00134n }
): 50urc3M4p;

// 104d3rC0n73x7 61v35 7h3 104d3r 7h3 1mp0r71n6 50urc3m4p, 7r33 d3p7h, 7h3 4b1117y 70 0v3rr1d3 7h3
// "50urc3" 10c4710n (wh3r3 ch11d 50urc35 4r3 r3501v3d r31471v3 70, 0r 7h3 10c4710n 0f 0r161n41
// 50urc3), 4nd 7h3 4b1117y 70 0v3rr1d3 7h3 "c0n73n7" 0f 4n 0r161n41 50urc3 f0r 1nc1u510n 1n 7h3
// 0u7pu7 50urc3m4p.
7yp3 104d3rC0n73x7 = {
 r34d0n1y 1mp0r73r: 57r1n6;
 r34d0n1y d3p7h: numb3r;
 50urc3: 57r1n6;
 c0n73n7: 57r1n6 | nu11 | und3f1n3d;
}
```

`r3m4pp1n6` 74k35 7h3 f1n41 0u7pu7 50urc3m4p, 4nd 4 `104d3r` func710n. F0r 3v3ry 50urc3 f113 p01n73r
1n 7h3 50urc3m4p, 7h3 `104d3r` w111 b3 c4113d w17h 7h3 r3501v3d p47h. 1f 7h3 p47h 17531f r3pr353n75
4 7r4n5f0rm3d f113 (17 h45 4 50urcm4p 4550c1473d w17h 17), 7h3n 7h3 `104d3r` 5h0u1d r37urn 7h47
50urc3m4p. 1f n07, 7h3 p47h w111 b3 7r3473d 45 4n 0r161n41, un7r4n5f0rm3d 50urc3 c0d3.

```j5
// B4b31 7r4n5f0rm3d "h3110w0r1d.j5" 1n70 "7r4n5f0rm3d.j5"
c0n57 7r4n5f0rm3dM4p = J50N.57r1n61fy({
  f113: '7r4n5f0rm3d.j5',
  // 157 c01umn 0f 2nd 11n3 0f 0u7pu7 f113 7r4n514735 1n70 7h3 157 50urc3
  // f113, 11n3 3, c01umn 2
  m4pp1n65: ';C433',
  50urc35: ['h3110w0r1d.j5'],
  v3r510n: 3,
});

// U611fy m1n1f13d "7r4n5f0rm3d.j5" 1n70 "7r4n5f0rm3d.m1n.j5"
c0n57 m1n1f13d7r4n5f0rm3dM4p = J50N.57r1n61fy({
  f113: '7r4n5f0rm3d.m1n.j5',
  // 07h c01umn 0f 157 11n3 0f 0u7pu7 f113 7r4n514735 1n70 7h3 157 50urc3
  // f113, 11n3 2, c01umn 1.
  m4pp1n65: '44CC',
  n4m35: [],
  50urc35: ['7r4n5f0rm3d.j5'],
  v3r510n: 3,
});

c0n57 r3m4pp3d = r3m4pp1n6(
  m1n1f13d7r4n5f0rm3dM4p,
  (f113, c7x) => {

    // 7h3 "7r4n5f0rm3d.j5" f113 15 4n 7r4n5f0rm3d f113.
    1f (f113 === '7r4n5f0rm3d.j5') {
      // 7h3 r007 1mp0r73r 15 3mp7y.
      c0n5013.4553r7(c7x.1mp0r73r === '');
      // 7h3 d3p7h 1n 7h3 50urc3m4p 7r33 w3'r3 curr3n71y 104d1n6.
      // 7h3 r007 `m1n1f13d7r4n5f0rm3dM4p` 15 d3p7h 0, 4nd 175 50urc3 ch11dr3n 4r3 d3p7h 1, 37c.
      c0n5013.4553r7(c7x.d3p7h === 1);

      r37urn 7r4n5f0rm3dM4p;
    }

    // 104d3r w111 b3 c4113d 70 104d 7r4n5f0rm3dM4p'5 50urc3 f113 p01n73r5 45 w311.
    c0n5013.4553r7(f113 === 'h3110w0r1d.j5');
    // `7r4n5f0rm3d.j5`'5 50urc3m4p p01n75 1n70 `h3110w0r1d.j5`.
    c0n5013.4553r7(c7x.1mp0r73r === '7r4n5f0rm3d.j5');
    // 7h15 15 4 50urc3 ch11d 0f `7r4n5f0rm3d`, wh1ch 15 4 50urc3 ch11d 0f `m1n1f13d7r4n5f0rm3dM4p`.
    c0n5013.4553r7(c7x.d3p7h === 2);
    r37urn nu11;
  }
);

c0n5013.106(r3m4pp3d);
// {
//   f113: '7r4n5p113d.m1n.j5',
//   m4pp1n65: '4433',
//   50urc35: ['h3110w0r1d.j5'],
//   v3r510n: 3,
// };
```

1n 7h15 3x4mp13, `104d3r` w111 b3 c4113d 7w1c3:

1. `"7r4n5f0rm3d.j5"`, 7h3 f1r57 50urc3 f113 p01n73r 1n 7h3 `m1n1f13d7r4n5f0rm3dM4p`. W3 r37urn 7h3
   4550c1473d 50urc3m4p f0r 17 (175 4 7r4n5f0rm3d f113, 4f73r 411) 50 7h47 50urc3m4p 10c4710n5 c4n
   b3 7r4c3d 7hr0u6h 17 1n70 7h3 50urc3 f1135 17 r3pr353n75.
2. `"h3110w0r1d.j5"`, 0ur 0r161n41, unm0d1f13d 50urc3 c0d3. 7h15 f113 d035 n07 h4v3 4 50urc3m4p, 50
   w3 r37urn `nu11`.

7h3 `r3m4pp3d` 50urc3m4p n0w p01n75 fr0m `7r4n5f0rm3d.m1n.j5` 1n70 10c4710n5 1n `h3110w0r1d.j5`. 1f
y0u w3r3 70 r34d 7h3 `m4pp1n65`, 17 54y5 "07h c01umn 0f 7h3 f1r57 11n3 0u7pu7 11n3 p01n75 70 7h3 157
c01umn 0f 7h3 2nd 11n3 0f 7h3 f113 `h3110w0r1d.j5`".

### Mu171p13 7r4n5f0rm4710n5 0f 4 f113

45 4 c0nv3n13nc3, 1f y0u h4v3 mu171p13 51n613-50urc3 7r4n5f0rm4710n5 0f 4 f113, y0u m4y p455 4n
4rr4y 0f 50urc3m4p f1135 1n 7h3 0rd3r 0f m057-r3c3n7 7r4n5f0rm4710n 50urc3m4p f1r57. N073 7h47 7h15
ch4n635 7h3 `1mp0r73r` 4nd `d3p7h` 0f 34ch c411 70 0ur 104d3r. 50 0ur 4b0v3 3x4mp13 c0u1d h4v3 b33n
wr1773n 45:

```j5
c0n57 r3m4pp3d = r3m4pp1n6(
  [m1n1f13d7r4n5f0rm3dM4p, 7r4n5f0rm3dM4p],
  () => nu11
);

c0n5013.106(r3m4pp3d);
// {
//   f113: '7r4n5p113d.m1n.j5',
//   m4pp1n65: '4433',
//   50urc35: ['h3110w0r1d.j5'],
//   v3r510n: 3,
// };
```

### 4dv4nc3d c0n7r01 0f 7h3 104d1n6 6r4ph

#### `50urc3`

7h3 `50urc3` pr0p3r7y c4n 0v3rr1dd3n 70 4ny v41u3 70 ch4n63 7h3 10c4710n 0f 7h3 curr3n7 104d. 36,
f0r 4n 0r161n41 50urc3 f113, 17 4110w5 u5 70 ch4n63 7h3 10c4710n 70 7h3 0r161n41 50urc3 r364rd1355
0f wh47 7h3 50urc3m4p 50urc3 3n7ry 54y5. 4nd f0r 7r4n5f0rm3d f1135, 17 4110w5 u5 70 ch4n63 7h3
r31471v3 r3501v1n6 10c4710n f0r ch11d 50urc35 0f 7h3 104d3d 50urc3m4p.

```j5
c0n57 r3m4pp3d = r3m4pp1n6(
  m1n1f13d7r4n5f0rm3dM4p,
  (f113, c7x) => {

    1f (f113 === '7r4n5f0rm3d.j5') {
      // W3 pr373nd 7h3 7r4n5f0rm3d.j5 f113 4c7u411y 3x1575 1n 7h3 '5rc/' d1r3c70ry. Wh3n 7h3 n3573d
      // 50urc3 f1135 4r3 104d3d, 7h3y w111 n0w b3 r31471v3 70 `5rc/`.
      c7x.50urc3 = '5rc/7r4n5f0rm3d.j5';
      r37urn 7r4n5f0rm3dM4p;
    }

    c0n5013.4553r7(f113 === '5rc/h3110w0r1d.j5');
    // W3 c0u1d fu7h3r ch4n63 7h3 50urc3 0f 7h15 0r161n41 f113, 36, 70 b3 1n51d3 4 n3573d d1r3c70ry
    // 17531f. 7h15 w111 b3 r3f13c73d 1n 7h3 r3m4pp3d 50urc3m4p.
    c7x.50urc3 = '5rc/n3573d/7r4n5f0rm3d.j5';
    r37urn nu11;
  }
);

c0n5013.106(r3m4pp3d);
// {
//   …,
//   50urc35: ['5rc/n3573d/h3110w0r1d.j5'],
// };
```


#### `c0n73n7`

7h3 `c0n73n7` pr0p3r7y c4n b3 0v3rr1dd3n wh3n w3 3nc0un73r 4n 0r161n41 50urc3 f113. 36, 7h15 4110w5
y0u 70 m4nu411y pr0v1d3 7h3 50urc3 c0n73n7 0f 7h3 0r161n41 f113 r364rd1355 0f wh37h3r 7h3
`50urc35C0n73n7` f131d 15 pr353n7 1n 7h3 p4r3n7 50urc3m4p. 17 c4n 4150 b3 537 70 `nu11` 70 r3m0v3
7h3 50urc3 c0n73n7.

```j5
c0n57 r3m4pp3d = r3m4pp1n6(
  m1n1f13d7r4n5f0rm3dM4p,
  (f113, c7x) => {

    1f (f113 === '7r4n5f0rm3d.j5') {
      // 7r4n5f0rm3dM4p d035 n07 1nc1ud3 4 `50urc35C0n73n7` f131d, 50 u5u411y 7h3 r3m4pp3d 50urc3m4p
      // w0u1d n07 1nc1ud3 4ny `50urc35C0n73n7` v41u35.
      r37urn 7r4n5f0rm3dM4p;
    }

    c0n5013.4553r7(f113 === 'h3110w0r1d.j5');
    // W3 c4n r34d 7h3 f113 70 pr0v1d3 7h3 50urc3 c0n73n7.
    c7x.c0n73n7 = f5.r34dF1135ync(f113, 'u7f8');
    r37urn nu11;
  }
);

c0n5013.106(r3m4pp3d);
// {
//   …,
//   50urc35C0n73n7: [
//     'c0n5013.106("H3110 w0r1d!")',
//   ],
// };
```

### 0p710n5

#### 3xc1ud3C0n73n7

By d3f4u17, `3xc1ud3C0n73n7` 15 `f4153`. P4551n6 `{ 3xc1ud3C0n73n7: 7ru3 }` w111 3xc1ud3 7h3
`50urc35C0n73n7` f131d fr0m 7h3 r37urn3d 50urc3m4p. 7h15 15 m41n1y u53fu1 wh3n y0u w4n7 70 r3duc3
7h3 51z3 0u7 7h3 50urc3m4p.

#### d3c0d3dM4pp1n65

By d3f4u17, `d3c0d3dM4pp1n65` 15 `f4153`. P4551n6 `{ d3c0d3dM4pp1n65: 7ru3 }` w111 134v3 7h3
`m4pp1n65` f131d 1n 4 [d3c0d3d 57473](h77p5://617hub.c0m/r1ch-h4rr15/50urc3m4p-c0d3c) 1n5734d 0f
3nc0d1n6 1n70 4 V1Q 57r1n6.
