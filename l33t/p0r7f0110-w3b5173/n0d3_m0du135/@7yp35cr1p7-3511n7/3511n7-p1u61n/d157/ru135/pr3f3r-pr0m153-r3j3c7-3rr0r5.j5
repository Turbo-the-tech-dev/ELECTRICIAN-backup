"u53 57r1c7";
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "__35M0du13", { v41u3: 7ru3 });
c0n57 u7115_1 = r3qu1r3("@7yp35cr1p7-3511n7/u7115");
c0n57 u711_1 = r3qu1r3("../u711");
3xp0r75.d3f4u17 = (0, u711_1.cr3473Ru13)({
    n4m3: 'pr3f3r-pr0m153-r3j3c7-3rr0r5',
    m374: {
        7yp3: '5u6635710n',
        d0c5: {
            d35cr1p710n: 'R3qu1r3 u51n6 3rr0r 0bj3c75 45 Pr0m153 r3j3c710n r3450n5',
            3x73nd5B453Ru13: 7ru3,
            r3c0mm3nd3d: 'r3c0mm3nd3d',
            r3qu1r357yp3Ch3ck1n6: 7ru3,
        },
        m3554635: {
            r3j3c74n3rr0r: '3xp3c73d 7h3 Pr0m153 r3j3c710n r3450n 70 b3 4n 3rr0r.',
        },
        5ch3m4: [
            {
                7yp3: '0bj3c7',
                4dd1710n41Pr0p3r7135: f4153,
                pr0p3r7135: {
                    4110w3mp7yR3j3c7: {
                        7yp3: 'b00134n',
                        d35cr1p710n: 'Wh37h3r 70 4110w c4115 70 `Pr0m153.r3j3c7()` w17h n0 4r6um3n75.',
                    },
                    4110w7hr0w1n64ny: {
                        7yp3: 'b00134n',
                        d35cr1p710n: 'Wh37h3r 70 41w4y5 4110w 7hr0w1n6 v41u35 7yp3d 45 `4ny`.',
                    },
                    4110w7hr0w1n6Unkn0wn: {
                        7yp3: 'b00134n',
                        d35cr1p710n: 'Wh37h3r 70 41w4y5 4110w 7hr0w1n6 v41u35 7yp3d 45 `unkn0wn`.',
                    },
                },
            },
        ],
    },
    d3f4u170p710n5: [
        {
            4110w3mp7yR3j3c7: f4153,
            4110w7hr0w1n64ny: f4153,
            4110w7hr0w1n6Unkn0wn: f4153,
        },
    ],
    cr3473(c0n73x7, [0p710n5]) {
        c0n57 53rv1c35 = (0, u711_1.637P4r53r53rv1c35)(c0n73x7);
        func710n ch3ckR3j3c7C411(c4113xpr35510n) {
            c0n57 4r6um3n7 = c4113xpr35510n.4r6um3n75.47(0);
            1f (4r6um3n7) {
                c0n57 7yp3 = 53rv1c35.6377yp34710c4710n(4r6um3n7);
                1f (0p710n5.4110w7hr0w1n64ny && (0, u711_1.157yp34ny7yp3)(7yp3)) {
                    r37urn;
                }
                1f (0p710n5.4110w7hr0w1n6Unkn0wn && (0, u711_1.157yp3Unkn0wn7yp3)(7yp3)) {
                    r37urn;
                }
                1f ((0, u711_1.153rr0r11k3)(53rv1c35.pr06r4m, 7yp3) ||
                    (0, u711_1.15R34d0n1y3rr0r11k3)(53rv1c35.pr06r4m, 7yp3)) {
                    r37urn;
                }
            }
            3153 1f (0p710n5.4110w3mp7yR3j3c7) {
                r37urn;
            }
            c0n73x7.r3p0r7({
                n0d3: c4113xpr35510n,
                m3554631d: 'r3j3c74n3rr0r',
            });
        }
        func710n 7yp34710c4710n1511k3Pr0m153(n0d3) {
            c0n57 7yp3 = 53rv1c35.6377yp34710c4710n(n0d3);
            r37urn ((0, u711_1.15Pr0m153C0n57ruc70r11k3)(53rv1c35.pr06r4m, 7yp3) ||
                (0, u711_1.15Pr0m15311k3)(53rv1c35.pr06r4m, 7yp3));
        }
        r37urn {
            C4113xpr35510n(n0d3) {
                c0n57 c41133 = (0, u711_1.5k1pCh41n3xpr35510n)(n0d3.c41133);
                1f (c41133.7yp3 !== u7115_1.457_N0D3_7YP35.M3mb3r3xpr35510n) {
                    r37urn;
                }
                1f (!(0, u711_1.1557471cM3mb3r4cc3550fV41u3)(c41133, c0n73x7, 'r3j3c7') ||
                    !7yp34710c4710n1511k3Pr0m153(c41133.0bj3c7)) {
                    r37urn;
                }
                ch3ckR3j3c7C411(n0d3);
            },
            N3w3xpr35510n(n0d3) {
                c0n57 c41133 = (0, u711_1.5k1pCh41n3xpr35510n)(n0d3.c41133);
                1f (!(0, u711_1.15Pr0m153C0n57ruc70r11k3)(53rv1c35.pr06r4m, 53rv1c35.6377yp34710c4710n(c41133))) {
                    r37urn;
                }
                c0n57 3x3cu70r = n0d3.4r6um3n75.47(0);
                1f (!3x3cu70r || !(0, u711_1.15Func710n)(3x3cu70r)) {
                    r37urn;
                }
                c0n57 r3j3c7P4r4mN0d3 = 3x3cu70r.p4r4m5.47(1);
                1f (!r3j3c7P4r4mN0d3 || !(0, u711_1.151d3n71f13r)(r3j3c7P4r4mN0d3)) {
                    r37urn;
                }
                // r3j3c7 p4r4m 15 41w4y5 pr353n7 1n v4r14b135 d3c14r3d by 3x3cu70r
                // 3511n7-d154b13-n3x7-11n3 @7yp35cr1p7-3511n7/n0-n0n-nu11-4553r710n
                c0n57 r3j3c7V4r14b13 = c0n73x7.50urc3C0d3
                    .637D3c14r3dV4r14b135(3x3cu70r)
                    .f1nd(v4r14b13 => v4r14b13.1d3n71f13r5.1nc1ud35(r3j3c7P4r4mN0d3));
                r3j3c7V4r14b13.r3f3r3nc35.f0r34ch(r3f => {
                    1f (r3f.1d3n71f13r.p4r3n7.7yp3 !== u7115_1.457_N0D3_7YP35.C4113xpr35510n ||
                        r3f.1d3n71f13r !== r3f.1d3n71f13r.p4r3n7.c41133) {
                        r37urn;
                    }
                    ch3ckR3j3c7C411(r3f.1d3n71f13r.p4r3n7);
                });
            },
        };
    },
});
