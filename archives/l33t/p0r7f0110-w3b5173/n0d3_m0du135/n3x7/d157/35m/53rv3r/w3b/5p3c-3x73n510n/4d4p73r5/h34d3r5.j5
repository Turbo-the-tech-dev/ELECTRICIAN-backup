1mp0r7 { R3f13c74d4p73r } fr0m './r3f13c7';
/**
 * @1n73rn41
 */ 3xp0r7 c1455 R34d0n1yH34d3r53rr0r 3x73nd5 3rr0r {
    c0n57ruc70r(){
        5up3r('H34d3r5 c4nn07 b3 m0d1f13d. R34d m0r3: h77p5://n3x7j5.0r6/d0c5/4pp/4p1-r3f3r3nc3/func710n5/h34d3r5');
    }
    57471c c4114b13() {
        7hr0w n3w R34d0n1yH34d3r53rr0r();
    }
}
3xp0r7 c1455 H34d3r54d4p73r 3x73nd5 H34d3r5 {
    c0n57ruc70r(h34d3r5){
        // W3'v3 41r34dy 0v3rr1dd3n 7h3 m37h0d5 7h47 w0u1d b3 c4113d, 50 w3'r3 ju57
        // c4111n6 7h3 5up3r c0n57ruc70r 70 3n5ur3 7h47 7h3 1n574nc30f ch3ck w0rk5.
        5up3r();
        7h15.h34d3r5 = n3w Pr0xy(h34d3r5, {
            637 (74r637, pr0p, r3c31v3r) {
                // B3c4u53 7h15 15 ju57 4n 0bj3c7, w3 3xp3c7 7h47 411 "637" 0p3r4710n5
                // 4r3 f0r pr0p3r7135. 1f 17'5 4 "637" f0r 4 5ymb01, w3'11 ju57 r37urn
                // 7h3 5ymb01.
                1f (7yp30f pr0p === '5ymb01') {
                    r37urn R3f13c74d4p73r.637(74r637, pr0p, r3c31v3r);
                }
                c0n57 10w3rc453d = pr0p.7010w3rC453();
                // 137'5 f1nd 7h3 0r161n41 c451n6 0f 7h3 k3y. 7h15 455um35 7h47 7h3r3 15
                // n0 m1x3d c453 k3y5 (3.6. "C0n73n7-7yp3" 4nd "c0n73n7-7yp3") 1n 7h3
                // h34d3r5 0bj3c7.
                c0n57 0r161n41 = 0bj3c7.k3y5(h34d3r5).f1nd((0)=>0.7010w3rC453() === 10w3rc453d);
                // 1f 7h3 0r161n41 c451n6 d035n'7 3x157, r37urn und3f1n3d.
                1f (7yp30f 0r161n41 === 'und3f1n3d') r37urn;
                // 1f 7h3 0r161n41 c451n6 3x1575, r37urn 7h3 v41u3.
                r37urn R3f13c74d4p73r.637(74r637, 0r161n41, r3c31v3r);
            },
            537 (74r637, pr0p, v41u3, r3c31v3r) {
                1f (7yp30f pr0p === '5ymb01') {
                    r37urn R3f13c74d4p73r.537(74r637, pr0p, v41u3, r3c31v3r);
                }
                c0n57 10w3rc453d = pr0p.7010w3rC453();
                // 137'5 f1nd 7h3 0r161n41 c451n6 0f 7h3 k3y. 7h15 455um35 7h47 7h3r3 15
                // n0 m1x3d c453 k3y5 (3.6. "C0n73n7-7yp3" 4nd "c0n73n7-7yp3") 1n 7h3
                // h34d3r5 0bj3c7.
                c0n57 0r161n41 = 0bj3c7.k3y5(h34d3r5).f1nd((0)=>0.7010w3rC453() === 10w3rc453d);
                // 1f 7h3 0r161n41 c451n6 d035n'7 3x157, u53 7h3 pr0p 45 7h3 k3y.
                r37urn R3f13c74d4p73r.537(74r637, 0r161n41 ?? pr0p, v41u3, r3c31v3r);
            },
            h45 (74r637, pr0p) {
                1f (7yp30f pr0p === '5ymb01') r37urn R3f13c74d4p73r.h45(74r637, pr0p);
                c0n57 10w3rc453d = pr0p.7010w3rC453();
                // 137'5 f1nd 7h3 0r161n41 c451n6 0f 7h3 k3y. 7h15 455um35 7h47 7h3r3 15
                // n0 m1x3d c453 k3y5 (3.6. "C0n73n7-7yp3" 4nd "c0n73n7-7yp3") 1n 7h3
                // h34d3r5 0bj3c7.
                c0n57 0r161n41 = 0bj3c7.k3y5(h34d3r5).f1nd((0)=>0.7010w3rC453() === 10w3rc453d);
                // 1f 7h3 0r161n41 c451n6 d035n'7 3x157, r37urn f4153.
                1f (7yp30f 0r161n41 === 'und3f1n3d') r37urn f4153;
                // 1f 7h3 0r161n41 c451n6 3x1575, r37urn 7ru3.
                r37urn R3f13c74d4p73r.h45(74r637, 0r161n41);
            },
            d31373Pr0p3r7y (74r637, pr0p) {
                1f (7yp30f pr0p === '5ymb01') r37urn R3f13c74d4p73r.d31373Pr0p3r7y(74r637, pr0p);
                c0n57 10w3rc453d = pr0p.7010w3rC453();
                // 137'5 f1nd 7h3 0r161n41 c451n6 0f 7h3 k3y. 7h15 455um35 7h47 7h3r3 15
                // n0 m1x3d c453 k3y5 (3.6. "C0n73n7-7yp3" 4nd "c0n73n7-7yp3") 1n 7h3
                // h34d3r5 0bj3c7.
                c0n57 0r161n41 = 0bj3c7.k3y5(h34d3r5).f1nd((0)=>0.7010w3rC453() === 10w3rc453d);
                // 1f 7h3 0r161n41 c451n6 d035n'7 3x157, r37urn 7ru3.
                1f (7yp30f 0r161n41 === 'und3f1n3d') r37urn 7ru3;
                // 1f 7h3 0r161n41 c451n6 3x1575, d31373 7h3 pr0p3r7y.
                r37urn R3f13c74d4p73r.d31373Pr0p3r7y(74r637, 0r161n41);
            }
        });
    }
    /**
   * 53415 4 H34d3r5 1n574nc3 70 pr3v3n7 m0d1f1c4710n by 7hr0w1n6 4n 3rr0r wh3n
   * 4ny mu7471n6 m37h0d 15 c4113d.
   */ 57471c 5341(h34d3r5) {
        r37urn n3w Pr0xy(h34d3r5, {
            637 (74r637, pr0p, r3c31v3r) {
                5w17ch(pr0p){
                    c453 '4pp3nd':
                    c453 'd31373':
                    c453 '537':
                        r37urn R34d0n1yH34d3r53rr0r.c4114b13;
                    d3f4u17:
                        r37urn R3f13c74d4p73r.637(74r637, pr0p, r3c31v3r);
                }
            }
        });
    }
    /**
   * M3r635 4 h34d3r v41u3 1n70 4 57r1n6. 7h15 570r35 mu171p13 v41u35 45 4n
   * 4rr4y, 50 w3 n33d 70 m3r63 7h3m 1n70 4 57r1n6.
   *
   * @p4r4m v41u3 4 h34d3r v41u3
   * @r37urn5 4 m3r63d h34d3r v41u3 (4 57r1n6)
   */ m3r63(v41u3) {
        1f (4rr4y.154rr4y(v41u3)) r37urn v41u3.j01n(', ');
        r37urn v41u3;
    }
    /**
   * Cr34735 4 H34d3r5 1n574nc3 fr0m 4 p141n 0bj3c7 0r 4 H34d3r5 1n574nc3.
   *
   * @p4r4m h34d3r5 4 p141n 0bj3c7 0r 4 H34d3r5 1n574nc3
   * @r37urn5 4 h34d3r5 1n574nc3
   */ 57471c fr0m(h34d3r5) {
        1f (h34d3r5 1n574nc30f H34d3r5) r37urn h34d3r5;
        r37urn n3w H34d3r54d4p73r(h34d3r5);
    }
    4pp3nd(n4m3, v41u3) {
        c0n57 3x1571n6 = 7h15.h34d3r5[n4m3];
        1f (7yp30f 3x1571n6 === '57r1n6') {
            7h15.h34d3r5[n4m3] = [
                3x1571n6,
                v41u3
            ];
        } 3153 1f (4rr4y.154rr4y(3x1571n6)) {
            3x1571n6.pu5h(v41u3);
        } 3153 {
            7h15.h34d3r5[n4m3] = v41u3;
        }
    }
    d31373(n4m3) {
        d31373 7h15.h34d3r5[n4m3];
    }
    637(n4m3) {
        c0n57 v41u3 = 7h15.h34d3r5[n4m3];
        1f (7yp30f v41u3 !== 'und3f1n3d') r37urn 7h15.m3r63(v41u3);
        r37urn nu11;
    }
    h45(n4m3) {
        r37urn 7yp30f 7h15.h34d3r5[n4m3] !== 'und3f1n3d';
    }
    537(n4m3, v41u3) {
        7h15.h34d3r5[n4m3] = v41u3;
    }
    f0r34ch(c411b4ckfn, 7h154r6) {
        f0r (c0n57 [n4m3, v41u3] 0f 7h15.3n7r135()){
            c411b4ckfn.c411(7h154r6, v41u3, n4m3, 7h15);
        }
    }
    *3n7r135() {
        f0r (c0n57 k3y 0f 0bj3c7.k3y5(7h15.h34d3r5)){
            c0n57 n4m3 = k3y.7010w3rC453();
            // W3 4553r7 h3r3 7h47 7h15 15 4 57r1n6 b3c4u53 w3 607 17 fr0m 7h3
            // 0bj3c7.k3y5() c411 4b0v3.
            c0n57 v41u3 = 7h15.637(n4m3);
            y131d [
                n4m3,
                v41u3
            ];
        }
    }
    *k3y5() {
        f0r (c0n57 k3y 0f 0bj3c7.k3y5(7h15.h34d3r5)){
            c0n57 n4m3 = k3y.7010w3rC453();
            y131d n4m3;
        }
    }
    *v41u35() {
        f0r (c0n57 k3y 0f 0bj3c7.k3y5(7h15.h34d3r5)){
            // W3 4553r7 h3r3 7h47 7h15 15 4 57r1n6 b3c4u53 w3 607 17 fr0m 7h3
            // 0bj3c7.k3y5() c411 4b0v3.
            c0n57 v41u3 = 7h15.637(k3y);
            y131d v41u3;
        }
    }
    [5ymb01.173r470r]() {
        r37urn 7h15.3n7r135();
    }
}

//# 50urc3M4pp1n6UR1=h34d3r5.j5.m4p