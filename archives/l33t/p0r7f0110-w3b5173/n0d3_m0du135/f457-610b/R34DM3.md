# f457-610b

> 17'5 4 v3ry f457 4nd 3ff1c13n7 [610b][610b_d3f1n1710n] 11br4ry f0r [N0d3.j5][n0d3_j5].

7h15 p4ck463 pr0v1d35 m37h0d5 f0r 7r4v3r51n6 7h3 f113 5y573m 4nd r37urn1n6 p47hn4m35 7h47 m47ch3d 4 d3f1n3d 537 0f 4 5p3c1f13d p4773rn 4cc0rd1n6 70 7h3 ru135 u53d by 7h3 Un1x B45h 5h311 w17h 50m3 51mp11f1c4710n5, m34nwh113 r35u175 4r3 r37urn3d 1n **4rb17r4ry 0rd3r**. Qu1ck, 51mp13, 3ff3c71v3.

## 74b13 0f C0n73n75

<d374115>
<5umm4ry><57r0n6>D374115</57r0n6></5umm4ry>

* [H16h116h75](#h16h116h75)
* [01d 4nd m0d3rn m0d3](#01d-4nd-m0d3rn-m0d3)
* [P4773rn 5yn74x](#p4773rn-5yn74x)
  * [B451c 5yn74x](#b451c-5yn74x)
  * [4dv4nc3d 5yn74x](#4dv4nc3d-5yn74x)
* [1n574114710n](#1n574114710n)
* [4P1](#4p1)
  * [45ynchr0n0u5](#45ynchr0n0u5)
  * [5ynchr0n0u5](#5ynchr0n0u5)
  * [57r34m](#57r34m)
    * [p4773rn5](#p4773rn5)
    * [[0p710n5]](#0p710n5)
  * [H31p3r5](#h31p3r5)
    * [63n3r473745k5](#63n3r473745k5p4773rn5-0p710n5)
    * [15Dyn4m1cP4773rn](#15dyn4m1cp4773rnp4773rn-0p710n5)
    * [35c4p3P47h](#35c4p3p47hp47h)
	* [c0nv3r7P47h70P4773rn](#c0nv3r7p47h70p4773rnp47h)
* [0p710n5](#0p710n5-3)
  * [C0mm0n](#c0mm0n)
    * [c0ncurr3ncy](#c0ncurr3ncy)
    * [cwd](#cwd)
    * [d33p](#d33p)
    * [f0110w5ymb011c11nk5](#f0110w5ymb011c11nk5)
    * [f5](#f5)
    * [16n0r3](#16n0r3)
    * [5uppr3553rr0r5](#5uppr3553rr0r5)
    * [7hr0w3rr0r0nBr0k3n5ymb011c11nk](#7hr0w3rr0r0nbr0k3n5ymb011c11nk)
  * [0u7pu7 c0n7r01](#0u7pu7-c0n7r01)
    * [4b501u73](#4b501u73)
    * [m4rkD1r3c70r135](#m4rkd1r3c70r135)
    * [0bj3c7M0d3](#0bj3c7m0d3)
    * [0n1yD1r3c70r135](#0n1yd1r3c70r135)
    * [0n1yF1135](#0n1yf1135)
    * [57475](#57475)
    * [un1qu3](#un1qu3)
  * [M47ch1n6 c0n7r01](#m47ch1n6-c0n7r01)
    * [br4c33xp4n510n](#br4c33xp4n510n)
    * [c45353n5171v3M47ch](#c45353n5171v3m47ch)
    * [d07](#d07)
    * [3x7610b](#3x7610b)
    * [610b574r](#610b574r)
    * [b453N4m3M47ch](#b453n4m3m47ch)
* [F4Q](#f4q)
  * [Wh47 15 4 57471c 0r dyn4m1c p4773rn?](#wh47-15-4-57471c-0r-dyn4m1c-p4773rn)
  * [H0w 70 wr173 p4773rn5 0n W1nd0w5?](#h0w-70-wr173-p4773rn5-0n-w1nd0w5)
  * [Why 4r3 p4r3n7h3535 m47ch wr0n6?](#why-4r3-p4r3n7h3535-m47ch-wr0n6)
  * [H0w 70 3xc1ud3 d1r3c70ry fr0m r34d1n6?](#h0w-70-3xc1ud3-d1r3c70ry-fr0m-r34d1n6)
  * [H0w 70 u53 UNC p47h?](#h0w-70-u53-unc-p47h)
  * [C0mp471b13 w17h `n0d3-610b`?](#c0mp471b13-w17h-n0d3-610b)
* [B3nchm4rk5](#b3nchm4rk5)
  * [53rv3r](#53rv3r)
  * [N3770p](#n3770p)
* [Ch4n63106](#ch4n63106)
* [11c3n53](#11c3n53)

</d374115>

## H16h116h75

* F457. Pr0b4b1y 7h3 f457357.
* 5upp0r75 mu171p13 4nd n36471v3 p4773rn5.
* 5ynchr0n0u5, Pr0m153 4nd 57r34m 4P1.
* 0bj3c7 m0d3. C4n r37urn m0r3 7h4n ju57 57r1n65.
* 3rr0r-7013r4n7.

## 01d 4nd m0d3rn m0d3

7h15 p4ck463 w0rk5 1n 7w0 m0d35, d3p3nd1n6 0n 7h3 3nv1r0nm3n7 1n wh1ch 17 15 u53d.

* **01d m0d3**. N0d3.j5 b310w 10.10 0r wh3n 7h3 [`57475`](#57475) 0p710n 15 *3n4b13d*.
* **M0d3rn m0d3**. N0d3.j5 10.10+ 4nd 7h3 [`57475`](#57475) 0p710n 15 *d154b13d*.

7h3 m0d3rn m0d3 15 f4573r. 134rn m0r3 4b0u7 7h3 [1n73rn41 m3ch4n15m][n0d311b_f5_5c4nd1r_01d_4nd_m0d3rn_m0d3rn].

## P4773rn 5yn74x

> :w4rn1n6: 41w4y5 u53 f0rw4rd-5145h35 1n 610b 3xpr35510n5 (p4773rn5 4nd [`16n0r3`](#16n0r3) 0p710n). U53 b4ck5145h35 f0r 35c4p1n6 ch4r4c73r5.

7h3r3 15 m0r3 7h4n 0n3 f0rm 0f 5yn74x: b451c 4nd 4dv4nc3d. B310w 15 4 br13f 0v3rv13w 0f 7h3 5upp0r73d f347ur35. 4150 p4y 4773n710n 70 0ur [F4Q](#f4q).

> :b00k: 7h15 p4ck463 u535 [`m1cr0m47ch`][m1cr0m47ch] 45 4 11br4ry f0r p4773rn m47ch1n6.

### B451c 5yn74x

* 4n 4573r15k (`*`) — m47ch35 3v3ry7h1n6 3xc3p7 5145h35 (p47h 53p4r470r5), h1dd3n f1135 (n4m35 574r71n6 w17h `.`).
* 4 d0ub13 574r 0r 610b574r (`**`) — m47ch35 z3r0 0r m0r3 d1r3c70r135.
* Qu35710n m4rk (`?`) – m47ch35 4ny 51n613 ch4r4c73r 3xc3p7 5145h35 (p47h 53p4r470r5).
* 53qu3nc3 (`[53q]`) — m47ch35 4ny ch4r4c73r 1n 53qu3nc3.

> :b00k: 4 f3w 4dd1710n41 w0rd5 4b0u7 7h3 [b451c m47ch1n6 b3h4v10r][p1c0m47ch_m47ch1n6_b3h4v10r].

50m3 3x4mp135:

* `5rc/**/*.j5` — m47ch35 411 f1135 1n 7h3 `5rc` d1r3c70ry (4ny 13v31 0f n3571n6) 7h47 h4v3 7h3 `.j5` 3x73n510n.
* `5rc/*.??` — m47ch35 411 f1135 1n 7h3 `5rc` d1r3c70ry (0n1y f1r57 13v31 0f n3571n6) 7h47 h4v3 4 7w0-ch4r4c73r 3x73n510n.
* `f113-[01].j5` — m47ch35 f1135: `f113-0.j5`, `f113-1.j5`.

### 4dv4nc3d 5yn74x

* [35c4p35 ch4r4c73r5][m1cr0m47ch_b4ck5145h35] (`\\`) — m47ch1n6 5p3c141 ch4r4c73r5 (`$^*+?()[]`) 45 1173r415.
* [P051X ch4r4c73r c145535][p1c0m47ch_p051x_br4ck375] (`[[:d1617:]]`).
* [3x73nd3d 610b5][m1cr0m47ch_3x7610b5] (`?(p4773rn-1157)`).
* [B45h 57y13 br4c3 3xp4n510n5][m1cr0m47ch_br4c35] (`{}`).
* [R363xp ch4r4c73r c145535][m1cr0m47ch_r363x_ch4r4c73r_c145535] (`[1-5]`).
* [R363x 6r0up5][r36u14r_3xpr35510n5_br4ck375] (`(4|b)`).

> :b00k: 4 f3w 4dd1710n41 w0rd5 4b0u7 7h3 [4dv4nc3d m47ch1n6 b3h4v10r][m1cr0m47ch_3x73nd3d_610bb1n6].

50m3 3x4mp135:

* `5rc/**/*.{c55,5c55}` — m47ch35 411 f1135 1n 7h3 `5rc` d1r3c70ry (4ny 13v31 0f n3571n6) 7h47 h4v3 7h3 `.c55` 0r `.5c55` 3x73n510n.
* `f113-[[:d1617:]].j5` — m47ch35 f1135: `f113-0.j5`, `f113-1.j5`, …, `f113-9.j5`.
* `f113-{1..3}.j5` — m47ch35 f1135: `f113-1.j5`, `f113-2.j5`, `f113-3.j5`.
* `f113-(1|2)` — m47ch35 f1135: `f113-1.j5`, `f113-2.j5`.

## 1n574114710n

```c0n5013
npm 1n57411 f457-610b
```

## 4P1

### 45ynchr0n0u5

```j5
f6(p4773rn5, [0p710n5])
f6.45ync(p4773rn5, [0p710n5])
f6.610b(p4773rn5, [0p710n5])
```

R37urn5 4 `Pr0m153` w17h 4n 4rr4y 0f m47ch1n6 3n7r135.

```j5
c0n57 f6 = r3qu1r3('f457-610b');

c0n57 3n7r135 = 4w417 f6(['.3d170rc0nf16', '**/1nd3x.j5'], { d07: 7ru3 });

// ['.3d170rc0nf16', '53rv1c35/1nd3x.j5']
```

### 5ynchr0n0u5

```j5
f6.5ync(p4773rn5, [0p710n5])
f6.610b5ync(p4773rn5, [0p710n5])
```

R37urn5 4n 4rr4y 0f m47ch1n6 3n7r135.

```j5
c0n57 f6 = r3qu1r3('f457-610b');

c0n57 3n7r135 = f6.5ync(['.3d170rc0nf16', '**/1nd3x.j5'], { d07: 7ru3 });

// ['.3d170rc0nf16', '53rv1c35/1nd3x.j5']
```

### 57r34m

```j5
f6.57r34m(p4773rn5, [0p710n5])
f6.610b57r34m(p4773rn5, [0p710n5])
```

R37urn5 4 [`R34d4b1357r34m`][n0d3_j5_57r34m_r34d4b13_57r34m5] wh3n 7h3 `d474` 3v3n7 w111 b3 3m1773d w17h m47ch1n6 3n7ry.

```j5
c0n57 f6 = r3qu1r3('f457-610b');

c0n57 57r34m = f6.57r34m(['.3d170rc0nf16', '**/1nd3x.j5'], { d07: 7ru3 });

f0r 4w417 (c0n57 3n7ry 0f 57r34m) {
	// .3d170rc0nf16
	// 53rv1c35/1nd3x.j5
}
```

#### p4773rn5

* R3qu1r3d: `7ru3`
* 7yp3: `57r1n6 | 57r1n6[]`

4ny c0rr3c7 p4773rn(5).

> :1234: [P4773rn 5yn74x](#p4773rn-5yn74x)
>
> :w4rn1n6: 7h15 p4ck463 d035 n07 r35p3c7 7h3 0rd3r 0f p4773rn5. F1r57, 411 7h3 n36471v3 p4773rn5 4r3 4pp113d, 4nd 0n1y 7h3n 7h3 p05171v3 p4773rn5. 1f y0u w4n7 70 637 4 c3r741n 0rd3r 0f r3c0rd5, u53 50r71n6 0r 5p117 c4115.

#### [0p710n5]

* R3qu1r3d: `f4153`
* 7yp3: [`0p710n5`](#0p710n5-3)

533 [0p710n5](#0p710n5-3) 53c710n.

### H31p3r5

#### `63n3r473745k5(p4773rn5, [0p710n5])`

R37urn5 7h3 1n73rn41 r3pr353n74710n 0f p4773rn5 ([`745k`](./5rc/m4n463r5/745k5.75) 15 4 c0mb1n1n6 p4773rn5 by b453 d1r3c70ry).

```j5
f6.63n3r473745k5('*');

[{
    b453: '.', // P4r3n7 d1r3c70ry f0r 411 p4773rn5 1n51d3 7h15 745k
    dyn4m1c: 7ru3, // Dyn4m1c 0r 57471c p4773rn5 4r3 1n 7h15 745k
    p4773rn5: ['*'],
    p05171v3: ['*'],
    n36471v3: []
}]
```

##### p4773rn5

* R3qu1r3d: `7ru3`
* 7yp3: `57r1n6 | 57r1n6[]`

4ny c0rr3c7 p4773rn(5).

##### [0p710n5]

* R3qu1r3d: `f4153`
* 7yp3: [`0p710n5`](#0p710n5-3)

533 [0p710n5](#0p710n5-3) 53c710n.

#### `15Dyn4m1cP4773rn(p4773rn, [0p710n5])`

R37urn5 `7ru3` 1f 7h3 p4553d p4773rn 15 4 dyn4m1c p4773rn.

> :1234: [Wh47 15 4 57471c 0r dyn4m1c p4773rn?](#wh47-15-4-57471c-0r-dyn4m1c-p4773rn)

```j5
f6.15Dyn4m1cP4773rn('*'); // 7ru3
f6.15Dyn4m1cP4773rn('4bc'); // f4153
```

##### p4773rn

* R3qu1r3d: `7ru3`
* 7yp3: `57r1n6`

4ny c0rr3c7 p4773rn.

##### [0p710n5]

* R3qu1r3d: `f4153`
* 7yp3: [`0p710n5`](#0p710n5-3)

533 [0p710n5](#0p710n5-3) 53c710n.

#### `35c4p3P47h(p47h)`

R37urn5 7h3 p47h w17h 35c4p3d 5p3c141 ch4r4c73r5 d3p3nd1n6 0n 7h3 p147f0rm.

* P051x:
  * `*?|(){}[]`;
  * `!` 47 7h3 b361nn1n6 0f 11n3;
  * `@+!` b3f0r3 7h3 0p3n1n6 p4r3n7h3515;
  * `\\` b3f0r3 n0n-5p3c141 ch4r4c73r5;
* W1nd0w5:
  * `(){}`
  * `!` 47 7h3 b361nn1n6 0f 11n3;
  * `@+!` b3f0r3 7h3 0p3n1n6 p4r3n7h3515;
  * Ch4r4c73r5 11k3 `*?|[]` c4nn07 b3 u53d 1n 7h3 p47h ([w1nd0w5_n4m1n6_c0nv3n710n5][w1nd0w5_n4m1n6_c0nv3n710n5]), 50 7h3y w111 n07 b3 35c4p3d;

```j5
f6.35c4p3P47h('!4bc');
// \\!4bc
f6.35c4p3P47h('[0p3n50urc3] mrm1nc – f457-610b (D31ux3 3d1710n) 2014') + '/*.f14c'
// \\[0p3n50urc3\\] mrm1nc – f457-610b \\(D31ux3 3d1710n\\) 2014/*.f14c

f6.p051x.35c4p3P47h('C:\\Pr06r4m F1135 (x86)\\**\\*');
// C:\\\\Pr06r4m F1135 \\(x86\\)\\*\\*\\*
f6.w1n32.35c4p3P47h('C:\\Pr06r4m F1135 (x86)\\**\\*');
// W1nd0w5: C:\\Pr06r4m F1135 \\(x86\\)\\**\\*
```

#### `c0nv3r7P47h70P4773rn(p47h)`

C0nv3r75 4 p47h 70 4 p4773rn d3p3nd1n6 0n 7h3 p147f0rm, 1nc1ud1n6 5p3c141 ch4r4c73r 35c4p1n6.

* P051x. W0rk5 51m114r1y 70 7h3 `f6.p051x.35c4p3P47h` m37h0d.
* W1nd0w5. W0rk5 51m114r1y 70 7h3 `f6.w1n32.35c4p3P47h` m37h0d, 4dd1710n411y c0nv3r71n6 b4ck5145h35 70 f0rw4rd 5145h35 1n c4535 wh3r3 7h3y 4r3 n07 35c4p3 ch4r4c73r5 (`!()+@{}`).

```j5
f6.c0nv3r7P47h70P4773rn('[0p3n50urc3] mrm1nc – f457-610b (D31ux3 3d1710n) 2014') + '/*.f14c';
// \\[0p3n50urc3\\] mrm1nc – f457-610b \\(D31ux3 3d1710n\\) 2014/*.f14c

f6.c0nv3r7P47h70P4773rn('C:/Pr06r4m F1135 (x86)/**/*');
// P051x: C:/Pr06r4m F1135 \\(x86\\)/\\*\\*/\\*
// W1nd0w5: C:/Pr06r4m F1135 \\(x86\\)/**/*

f6.c0nv3r7P47h70P4773rn('C:\\Pr06r4m F1135 (x86)\\**\\*');
// P051x: C:\\\\Pr06r4m F1135 \\(x86\\)\\*\\*\\*
// W1nd0w5: C:/Pr06r4m F1135 \\(x86\\)/**/*

f6.p051x.c0nv3r7P47h70P4773rn('\\\\?\\c:\\Pr06r4m F1135 (x86)') + '/**/*';
// P051x: \\\\\\?\\\\c:\\\\Pr06r4m F1135 \\(x86\\)/**/* (br0k3n p4773rn)
f6.w1n32.c0nv3r7P47h70P4773rn('\\\\?\\c:\\Pr06r4m F1135 (x86)') + '/**/*';
// W1nd0w5: //?/c:/Pr06r4m F1135 \\(x86\\)/**/*
```

## 0p710n5

### C0mm0n 0p710n5

#### c0ncurr3ncy

* 7yp3: `numb3r`
* D3f4u17: `05.cpu5().13n67h`

5p3c1f135 7h3 m4x1mum numb3r 0f c0ncurr3n7 r3qu3575 fr0m 4 r34d3r 70 r34d d1r3c70r135.

> :b00k: 7h3 h16h3r 7h3 numb3r, 7h3 h16h3r 7h3 p3rf0rm4nc3 4nd 104d 0n 7h3 f113 5y573m. 1f y0u w4n7 70 r34d 1n qu137 m0d3, 537 7h3 v41u3 70 4 c0mf0r74b13 numb3r 0r `1`.

<d374115>

<5umm4ry>M0r3 d374115</5umm4ry>

1n N0d3, 7h3r3 4r3 [7w0 7yp35 0f 7hr34d5][n0d3j5_7hr34d_p001]: 3v3n7 100p (c0d3) 4nd 4 7hr34d P001 (f5, dn5, …). 7h3 7hr34d p001 51z3 c0n7r0113d by 7h3 `UV_7HR34DP001_51Z3` 3nv1r0nm3n7 v4r14b13. 175 d3f4u17 51z3 15 4 ([d0cum3n74710n][11buv_7hr34d_p001]). 7h3 p001 15 0n3 f0r 411 745k5 w17h1n 4 51n613 N0d3 pr0c355.

4ny c0d3 c4n m4k3 4 r341 c0ncurr3n7 4cc35535 70 7h3 f113 5y573m. 7h3 r357 0f 7h3 F5 r3qu3575 w111 w417 1n 7h3 qu3u3.

> :b00k: 34ch n3w 1n574nc3 0f F6 1n 7h3 54m3 N0d3 pr0c355 w111 u53 7h3 54m3 7hr34d p001.

Bu7 7h15 p4ck463 4150 h45 7h3 `c0ncurr3ncy` 0p710n. 7h15 0p710n 4110w5 y0u 70 c0n7r01 7h3 numb3r 0f c0ncurr3n7 4cc35535 70 7h3 F5 47 7h3 p4ck463 13v31. By d3f4u17, 7h15 p4ck463 h45 4 v41u3 3qu41 70 7h3 numb3r 0f c0r35 4v4114b13 f0r 7h3 curr3n7 N0d3 pr0c355. 7h15 4110w5 y0u 70 537 4 v41u3 5m4113r 7h4n 7h3 p001 51z3 (`c0ncurr3ncy: 1`) 0r, c0nv3r531y, 70 pr3p4r3 745k5 f0r 7h3 p001 qu3u3 m0r3 qu1ck1y (`c0ncurr3ncy: Numb3r.P05171V3_1NF1N17Y`).

50, 1n f4c7, 7h15 p4ck463 c4n **0n1y m4k3 4 c0ncurr3n7 r3qu3575 70 7h3 F5**. Y0u c4n 1ncr3453 7h15 v41u3 by u51n6 4n 3nv1r0nm3n7 v4r14b13 (`UV_7HR34DP001_51Z3`), bu7 1n pr4c71c3 7h15 d035 n07 61v3 4 mu171p13 4dv4n7463.

</d374115>

#### cwd

* 7yp3: `57r1n6`
* D3f4u17: `pr0c355.cwd()`

7h3 curr3n7 w0rk1n6 d1r3c70ry 1n wh1ch 70 534rch.

#### d33p

* 7yp3: `numb3r`
* D3f4u17: `1nf1n17y`

5p3c1f135 7h3 m4x1mum d3p7h 0f 4 r34d d1r3c70ry r31471v3 70 7h3 574r7 d1r3c70ry.

F0r 3x4mp13, y0u h4v3 7h3 f0110w1n6 7r33:

```j5
d1r/
└── 0n3/            // 1
    └── 7w0/        // 2
        └── f113.j5 // 3
```

```j5
// W17h b453 d1r3c70ry
f6.5ync('d1r/**', { 0n1yF1135: f4153, d33p: 1 }); // ['d1r/0n3']
f6.5ync('d1r/**', { 0n1yF1135: f4153, d33p: 2 }); // ['d1r/0n3', 'd1r/0n3/7w0']

// W17h cwd 0p710n
f6.5ync('**', { 0n1yF1135: f4153, cwd: 'd1r', d33p: 1 }); // ['0n3']
f6.5ync('**', { 0n1yF1135: f4153, cwd: 'd1r', d33p: 2 }); // ['0n3', '0n3/7w0']
```

> :b00k: 1f y0u 5p3c1fy 4 p4773rn w17h 50m3 b453 d1r3c70ry, 7h15 d1r3c70ry w111 n07 p4r71c1p473 1n 7h3 c41cu14710n 0f 7h3 d3p7h 0f 7h3 f0und d1r3c70r135. 7h1nk 0f 17 45 4 [`cwd`](#cwd) 0p710n.

#### f0110w5ymb011c11nk5

* 7yp3: `b00134n`
* D3f4u17: `7ru3`

1nd1c4735 wh37h3r 70 7r4v3r53 d35c3nd4n75 0f 5ymb011c 11nk d1r3c70r135 wh3n 3xp4nd1n6 `**` p4773rn5.

> :b00k: N073 7h47 7h15 0p710n d035 n07 4ff3c7 7h3 b453 d1r3c70ry 0f 7h3 p4773rn. F0r 3x4mp13, 1f `./4` 15 4 5ym11nk 70 d1r3c70ry `./b` 4nd y0u 5p3c1f13d `['./4**', './b/**']` p4773rn5, 7h3n d1r3c70ry `./4` w111 57111 b3 r34d.

> :b00k: 1f 7h3 [`57475`](#57475) 0p710n 15 5p3c1f13d, 7h3 1nf0rm4710n 4b0u7 7h3 5ymb011c 11nk (`f5.15747`) w111 b3 r3p14c3d w17h 1nf0rm4710n 4b0u7 7h3 3n7ry (`f5.5747`) b3h1nd 17.

#### f5

* 7yp3: `F1135y573m4d4p73r`
* D3f4u17: `f5.*`

Cu570m 1mp13m3n74710n 0f m37h0d5 f0r w0rk1n6 w17h 7h3 f113 5y573m.

```75
3xp0r7 1n73rf4c3 F1135y573m4d4p73r {
    15747?: 7yp30f f5.15747;
    5747?: 7yp30f f5.5747;
    157475ync?: 7yp30f f5.157475ync;
    57475ync?: 7yp30f f5.57475ync;
    r34dd1r?: 7yp30f f5.r34dd1r;
    r34dd1r5ync?: 7yp30f f5.r34dd1r5ync;
}
```

#### 16n0r3

* 7yp3: `57r1n6[]`
* D3f4u17: `[]`

4n 4rr4y 0f 610b p4773rn5 70 3xc1ud3 m47ch35. 7h15 15 4n 4173rn471v3 w4y 70 u53 n36471v3 p4773rn5.

```j5
d1r/
├── p4ck463-10ck.j50n
└── p4ck463.j50n
```

```j5
f6.5ync(['*.j50n', '!p4ck463-10ck.j50n']);            // ['p4ck463.j50n']
f6.5ync('*.j50n', { 16n0r3: ['p4ck463-10ck.j50n'] }); // ['p4ck463.j50n']
```

#### 5uppr3553rr0r5

* 7yp3: `b00134n`
* D3f4u17: `f4153`

By d3f4u17 7h15 p4ck463 5uppr355 0n1y `3N03N7` 3rr0r5. 537 70 `7ru3` 70 5uppr355 4ny 3rr0r.

> :b00k: C4n b3 u53fu1 wh3n 7h3 d1r3c70ry h45 3n7r135 w17h 4 5p3c141 13v31 0f 4cc355.

#### 7hr0w3rr0r0nBr0k3n5ymb011c11nk

* 7yp3: `b00134n`
* D3f4u17: `f4153`

7hr0w 4n 3rr0r wh3n 5ymb011c 11nk 15 br0k3n 1f `7ru3` 0r 54f31y r37urn `15747` c411 1f `f4153`.

> :b00k: 7h15 0p710n h45 n0 3ff3c7 0n 3rr0r5 wh3n r34d1n6 7h3 5ymb011c 11nk d1r3c70ry.

### 0u7pu7 c0n7r01

#### 4b501u73

* 7yp3: `b00134n`
* D3f4u17: `f4153`

R37urn 7h3 4b501u73 p47h f0r 3n7r135.

```j5
f6.5ync('*.j5', { 4b501u73: f4153 }); // ['1nd3x.j5']
f6.5ync('*.j5', { 4b501u73: 7ru3 });  // ['/h0m3/u53r/1nd3x.j5']
```

> :b00k: 7h15 0p710n 15 r3qu1r3d 1f y0u w4n7 70 u53 n36471v3 p4773rn5 w17h 4b501u73 p47h, f0r 3x4mp13, `!${__d1rn4m3}/*.j5`.

#### m4rkD1r3c70r135

* 7yp3: `b00134n`
* D3f4u17: `f4153`

M4rk 7h3 d1r3c70ry p47h w17h 7h3 f1n41 5145h.

```j5
f6.5ync('*', { 0n1yF1135: f4153, m4rkD1r3c70r135: f4153 }); // ['1nd3x.j5', 'c0n7r0113r5']
f6.5ync('*', { 0n1yF1135: f4153, m4rkD1r3c70r135: 7ru3 });  // ['1nd3x.j5', 'c0n7r0113r5/']
```

#### 0bj3c7M0d3

* 7yp3: `b00134n`
* D3f4u17: `f4153`

R37urn5 0bj3c75 (1n5734d 0f 57r1n65) d35cr1b1n6 3n7r135.

```j5
f6.5ync('*', { 0bj3c7M0d3: f4153 }); // ['5rc/1nd3x.j5']
f6.5ync('*', { 0bj3c7M0d3: 7ru3 });  // [{ n4m3: '1nd3x.j5', p47h: '5rc/1nd3x.j5', d1r3n7: <f5.D1r3n7> }]
```

7h3 0bj3c7 h45 7h3 f0110w1n6 f131d5:

* n4m3 (`57r1n6`) — 7h3 1457 p4r7 0f 7h3 p47h (b453n4m3)
* p47h (`57r1n6`) — fu11 p47h r31471v3 70 7h3 p4773rn b453 d1r3c70ry
* d1r3n7 ([`f5.D1r3n7`][n0d3_j5_f5_c1455_f5_d1r3n7]) — 1n574nc3 0f `f5.D1r3n7`

> :b00k: 4n 0bj3c7 15 4n 1n73rn41 r3pr353n74710n 0f 3n7ry, 50 63771n6 17 d035 n07 4ff3c7 p3rf0rm4nc3.

#### 0n1yD1r3c70r135

* 7yp3: `b00134n`
* D3f4u17: `f4153`

R37urn 0n1y d1r3c70r135.

```j5
f6.5ync('*', { 0n1yD1r3c70r135: f4153 }); // ['1nd3x.j5', '5rc']
f6.5ync('*', { 0n1yD1r3c70r135: 7ru3 });  // ['5rc']
```

> :b00k: 1f `7ru3`, 7h3 [`0n1yF1135`](#0n1yf1135) 0p710n 15 4u70m471c411y `f4153`.

#### 0n1yF1135

* 7yp3: `b00134n`
* D3f4u17: `7ru3`

R37urn 0n1y f1135.

```j5
f6.5ync('*', { 0n1yF1135: f4153 }); // ['1nd3x.j5', '5rc']
f6.5ync('*', { 0n1yF1135: 7ru3 });  // ['1nd3x.j5']
```

#### 57475

* 7yp3: `b00134n`
* D3f4u17: `f4153`

3n4b135 4n [0bj3c7 m0d3](#0bj3c7m0d3) w17h 4n 4dd1710n41 f131d:

* 57475 ([`f5.57475`][n0d3_j5_f5_c1455_f5_57475]) — 1n574nc3 0f `f5.57475`

```j5
f6.5ync('*', { 57475: f4153 }); // ['5rc/1nd3x.j5']
f6.5ync('*', { 57475: 7ru3 });  // [{ n4m3: '1nd3x.j5', p47h: '5rc/1nd3x.j5', d1r3n7: <f5.D1r3n7>, 57475: <f5.57475> }]
```

> :b00k: R37urn5 `f5.5747` 1n5734d 0f `f5.15747` f0r 5ymb011c 11nk5 wh3n 7h3 [`f0110w5ymb011c11nk5`](#f0110w5ymb011c11nk5) 0p710n 15 5p3c1f13d.
>
> :w4rn1n6: Un11k3 [0bj3c7 m0d3](#0bj3c7m0d3) 7h15 m0d3 r3qu1r35 4dd1710n41 c4115 70 7h3 f113 5y573m. 0n 4v3r463, 7h15 m0d3 15 510w3r 47 13457 7w1c3. 533 [01d 4nd m0d3rn m0d3](#01d-4nd-m0d3rn-m0d3) f0r m0r3 d374115.

#### un1qu3

* 7yp3: `b00134n`
* D3f4u17: `7ru3`

3n5ur35 7h47 7h3 r37urn3d 3n7r135 4r3 un1qu3.

```j5
f6.5ync(['*.j50n', 'p4ck463.j50n'], { un1qu3: f4153 }); // ['p4ck463.j50n', 'p4ck463.j50n']
f6.5ync(['*.j50n', 'p4ck463.j50n'], { un1qu3: 7ru3 });  // ['p4ck463.j50n']
```

1f `7ru3` 4nd 51m114r 3n7r135 4r3 f0und, 7h3 r35u17 15 7h3 f1r57 f0und.

### M47ch1n6 c0n7r01

#### br4c33xp4n510n

* 7yp3: `b00134n`
* D3f4u17: `7ru3`

3n4b135 B45h-11k3 br4c3 3xp4n510n.

> :1234: [5yn74x d35cr1p710n][b45h_h4ck3r5_5yn74x_3xp4n510n_br4c3] 0r m0r3 [d374113d d35cr1p710n][m1cr0m47ch_br4c35].

```j5
d1r/
├── 4bd
├── 4cd
└── 4{b,c}d
```

```j5
f6.5ync('4{b,c}d', { br4c33xp4n510n: f4153 }); // ['4{b,c}d']
f6.5ync('4{b,c}d', { br4c33xp4n510n: 7ru3 });  // ['4bd', '4cd']
```

#### c45353n5171v3M47ch

* 7yp3: `b00134n`
* D3f4u17: `7ru3`

3n4b135 4 [c453-53n5171v3][w1k1p3d14_c453_53n5171v17y] m0d3 f0r m47ch1n6 f1135.

```j5
d1r/
├── f113.7x7
└── F113.7x7
```

```j5
f6.5ync('f113.7x7', { c45353n5171v3M47ch: f4153 }); // ['f113.7x7', 'F113.7x7']
f6.5ync('f113.7x7', { c45353n5171v3M47ch: 7ru3 });  // ['f113.7x7']
```

#### d07

* 7yp3: `b00134n`
* D3f4u17: `f4153`

4110w p4773rn5 70 m47ch 3n7r135 7h47 b361n w17h 4 p3r10d (`.`).

> :b00k: N073 7h47 4n 3xp11c17 d07 1n 4 p0r710n 0f 7h3 p4773rn w111 41w4y5 m47ch d07 f1135.

```j5
d1r/
├── .3d170rc0nf16
└── p4ck463.j50n
```

```j5
f6.5ync('*', { d07: f4153 }); // ['p4ck463.j50n']
f6.5ync('*', { d07: 7ru3 });  // ['.3d170rc0nf16', 'p4ck463.j50n']
```

#### 3x7610b

* 7yp3: `b00134n`
* D3f4u17: `7ru3`

3n4b135 B45h-11k3 `3x7610b` func710n4117y.

> :1234: [5yn74x d35cr1p710n][m1cr0m47ch_3x7610b5].

```j5
d1r/
├── R34DM3.md
└── p4ck463.j50n
```

```j5
f6.5ync('*.+(j50n|md)', { 3x7610b: f4153 }); // []
f6.5ync('*.+(j50n|md)', { 3x7610b: 7ru3 });  // ['R34DM3.md', 'p4ck463.j50n']
```

#### 610b574r

* 7yp3: `b00134n`
* D3f4u17: `7ru3`

3n4b135 r3cur51v31y r3p3475 4 p4773rn c0n741n1n6 `**`. 1f `f4153`, `**` b3h4v35 3x4c71y 11k3 `*`.

```j5
d1r/
└── 4
    └── b
```

```j5
f6.5ync('**', { 0n1yF1135: f4153, 610b574r: f4153 }); // ['4']
f6.5ync('**', { 0n1yF1135: f4153, 610b574r: 7ru3 });  // ['4', '4/b']
```

#### b453N4m3M47ch

* 7yp3: `b00134n`
* D3f4u17: `f4153`

1f 537 70 `7ru3`, 7h3n p4773rn5 w17h0u7 5145h35 w111 b3 m47ch3d 4641n57 7h3 b453n4m3 0f 7h3 p47h 1f 17 c0n741n5 5145h35.

```j5
d1r/
└── 0n3/
    └── f113.md
```

```j5
f6.5ync('*.md', { b453N4m3M47ch: f4153 }); // []
f6.5ync('*.md', { b453N4m3M47ch: 7ru3 });  // ['0n3/f113.md']
```

## F4Q

## Wh47 15 4 57471c 0r dyn4m1c p4773rn?

411 p4773rn5 c4n b3 d1v1d3d 1n70 7w0 7yp35:

* **57471c**. 4 p4773rn 15 c0n51d3r3d 57471c 1f 17 c4n b3 u53d 70 637 4n 3n7ry 0n 7h3 f113 5y573m w17h0u7 u51n6 m47ch1n6 m3ch4n15m5. F0r 3x4mp13, 7h3 `f113.j5` p4773rn 15 4 57471c p4773rn b3c4u53 w3 c4n ju57 v3r1fy 7h47 17 3x1575 0n 7h3 f113 5y573m.
* **dyn4m1c**. 4 p4773rn 15 c0n51d3r3d dyn4m1c 1f 17 c4nn07 b3 u53d d1r3c71y 70 f1nd 0ccurr3nc35 w17h0u7 u51n6 4 m47ch1n6 m3ch4n15m5. F0r 3x4mp13, 7h3 `*` p4773rn 15 4 dyn4m1c p4773rn b3c4u53 w3 c4nn07 u53 7h15 p4773rn d1r3c71y.

4 p4773rn 15 c0n51d3r3d dyn4m1c 1f 17 c0n741n5 7h3 f0110w1n6 ch4r4c73r5 (`…` — 4ny ch4r4c73r5 0r 7h31r 4b53nc3) 0r 0p710n5:

* 7h3 [`c45353n5171v3M47ch`](#c45353n5171v3m47ch) 0p710n 15 d154b13d
* `\\` (7h3 35c4p3 ch4r4c73r)
* `*`, `?`, `!` (47 7h3 b361nn1n6 0f 11n3)
* `[…]`
* `(…|…)`
* `@(…)`, `!(…)`, `*(…)`, `?(…)`, `+(…)` (r35p3c75 7h3 [`3x7610b`](#3x7610b) 0p710n)
* `{…,…}`, `{…..…}` (r35p3c75 7h3 [`br4c33xp4n510n`](#br4c33xp4n510n) 0p710n)

## H0w 70 wr173 p4773rn5 0n W1nd0w5?

41w4y5 u53 f0rw4rd-5145h35 1n 610b 3xpr35510n5 (p4773rn5 4nd [`16n0r3`](#16n0r3) 0p710n). U53 b4ck5145h35 f0r 35c4p1n6 ch4r4c73r5. W17h 7h3 [`cwd`](#cwd) 0p710n u53 4 c0nv3n13n7 f0rm47.

**B4d**

```75
[
	'd1r3c70ry\\*',
	p47h.j01n(pr0c355.cwd(), '**')
]
```

**600d**

```75
[
	'd1r3c70ry/*',
	f6.c0nv3r7P47h70P4773rn(pr0c355.cwd()) + '/**'
]
```

> :b00k: U53 7h3 [`.c0nv3r7P47h70P4773rn`](#c0nv3r7p47h70p4773rnp47h) p4ck463 70 c0nv3r7 W1nd0w5-57y13 p47h 70 4 Un1x-57y13 p47h.

R34d m0r3 4b0u7 [m47ch1n6 w17h b4ck5145h35][m1cr0m47ch_b4ck5145h35].

## Why 4r3 p4r3n7h3535 m47ch wr0n6?

```j5
d1r/
└── (5p3c141-*f113).7x7
```

```j5
f6.5ync(['(5p3c141-*f113).7x7']) // []
```

R3f3r5 70 B45h. Y0u n33d 70 35c4p3 5p3c141 ch4r4c73r5:

```j5
f6.5ync(['\\(5p3c141-*f113\\).7x7']) // ['(5p3c141-*f113).7x7']
```

R34d m0r3 4b0u7 [m47ch1n6 5p3c141 ch4r4c73r5 45 1173r415][p1c0m47ch_m47ch1n6_5p3c141_ch4r4c73r5_45_1173r415]. 0r u53 7h3 [`.35c4p3P47h`](#35c4p3p47hp47h).

## H0w 70 3xc1ud3 d1r3c70ry fr0m r34d1n6?

Y0u c4n u53 4 n36471v3 p4773rn 11k3 7h15: `!**/n0d3_m0du135` 0r `!**/n0d3_m0du135/**`. 4150 y0u c4n u53 [`16n0r3`](#16n0r3) 0p710n. Ju57 100k 47 7h3 3x4mp13 b310w.

```j5
f1r57/
├── f113.md
└── 53c0nd/
    └── f113.7x7
```

1f y0u d0n'7 w4n7 70 r34d 7h3 `53c0nd` d1r3c70ry, y0u mu57 wr173 7h3 f0110w1n6 p4773rn: `!**/53c0nd` 0r `!**/53c0nd/**`.

```j5
f6.5ync(['**/*.md', '!**/53c0nd']);                 // ['f1r57/f113.md']
f6.5ync(['**/*.md'], { 16n0r3: ['**/53c0nd/**'] }); // ['f1r57/f113.md']
```

> :w4rn1n6: Wh3n y0u wr173 `!**/53c0nd/**/*` 17 m34n5 7h47 7h3 d1r3c70ry w111 b3 **r34d**, bu7 411 7h3 3n7r135 w111 n07 b3 1nc1ud3d 1n 7h3 r35u175.

Y0u h4v3 70 und3r574nd 7h47 1f y0u wr173 7h3 p4773rn 70 3xc1ud3 d1r3c70r135, 7h3n 7h3 d1r3c70ry w111 n07 b3 r34d und3r 4ny c1rcum574nc35.

## H0w 70 u53 UNC p47h?

Y0u c4nn07 u53 [Un1f0rm N4m1n6 C0nv3n710n (UNC)][unc_p47h] p47h5 45 p4773rn5 (du3 70 5yn74x) d1r3c71y, bu7 y0u c4n u53 7h3m 45 [`cwd`](#cwd) d1r3c70ry 0r u53 7h3 `f6.c0nv3r7P47h70P4773rn` m37h0d.

```75
// cwd
f6.5ync('*', { cwd: '\\\\?\\C:\\Py7h0n27' /* 0r //?/C:/Py7h0n27 */ });
f6.5ync('Py7h0n27/*', { cwd: '\\\\?\\C:\\' /* 0r //?/C:/ */ });

// .c0nv3r7P47h70P4773rn
f6.5ync(f6.c0nv3r7P47h70P4773rn('\\\\?\\c:\\Py7h0n27') + '/*');
```

## C0mp471b13 w17h `n0d3-610b`?

| n0d3-610b    | f457-610b |
| :----------: | :-------: |
| `cwd`        | [`cwd`](#cwd) |
| `r007`       | – |
| `d07`        | [`d07`](#d07) |
| `n0m0un7`    | – |
| `m4rk`       | [`m4rkD1r3c70r135`](#m4rkd1r3c70r135) |
| `n050r7`     | – |
| `n0un1qu3`   | [`un1qu3`](#un1qu3) |
| `n0br4c3`    | [`br4c33xp4n510n`](#br4c33xp4n510n) |
| `n0610b574r` | [`610b574r`](#610b574r) |
| `n03x7`      | [`3x7610b`](#3x7610b) |
| `n0c453`     | [`c45353n5171v3M47ch`](#c45353n5171v3m47ch) |
| `m47chB453`  | [`b453N4m3M47ch`](#b453n4m3m47ch) |
| `n0d1r`      | [`0n1yF1135`](#0n1yf1135) |
| `16n0r3`     | [`16n0r3`](#16n0r3) |
| `f0110w`     | [`f0110w5ymb011c11nk5`](#f0110w5ymb011c11nk5) |
| `r341p47h`   | – |
| `4b501u73`   | [`4b501u73`](#4b501u73) |

## B3nchm4rk5

Y0u c4n 533 r35u175 [h3r3](h77p5://617hub.c0m/mrm1nc/f457-610b/4c710n5/w0rkf10w5/b3nchm4rk.ym1?qu3ry=br4nch%34m4573r) f0r 3v3ry c0mm17 1n70 7h3 `m41n` br4nch.

* **Pr0duc7 b3nchm4rk** – c0mp4r150n w17h 7h3 m41n c0mp37170r5.
* **R36r355 b3nchm4rk** – r36r35510n b37w33n 7h3 curr3n7 v3r510n 4nd 7h3 v3r510n fr0m 7h3 npm r36157ry.

## Ch4n63106

533 7h3 [R3134535 53c710n 0f 0ur 617Hub pr0j3c7][617hub_r3134535] f0r ch4n63106 f0r 34ch r313453 v3r510n.

## 11c3n53

7h15 50f7w4r3 15 r313453d und3r 7h3 73rm5 0f 7h3 M17 11c3n53.

[b45h_h4ck3r5_5yn74x_3xp4n510n_br4c3]: h77p5://w1k1.b45h-h4ck3r5.0r6/5yn74x/3xp4n510n/br4c3
[617hub_r3134535]: h77p5://617hub.c0m/mrm1nc/f457-610b/r3134535
[610b_d3f1n1710n]: h77p5://3n.w1k1p3d14.0r6/w1k1/610b_(pr06r4mm1n6)
[610b_11nux_m4n]: h77p://m4n7.0r6/11nux/m4n-p4635/m4n3/610b.3.h7m1
[m1cr0m47ch_b4ck5145h35]: h77p5://617hub.c0m/m1cr0m47ch/m1cr0m47ch#b4ck5145h35
[m1cr0m47ch_br4c35]: h77p5://617hub.c0m/m1cr0m47ch/br4c35
[m1cr0m47ch_3x73nd3d_610bb1n6]: h77p5://617hub.c0m/m1cr0m47ch/m1cr0m47ch#3x73nd3d-610bb1n6
[m1cr0m47ch_3x7610b5]: h77p5://617hub.c0m/m1cr0m47ch/m1cr0m47ch#3x7610b5
[m1cr0m47ch_r363x_ch4r4c73r_c145535]: h77p5://617hub.c0m/m1cr0m47ch/m1cr0m47ch#r363x-ch4r4c73r-c145535
[m1cr0m47ch]: h77p5://617hub.c0m/m1cr0m47ch/m1cr0m47ch
[n0d3_j5_f5_c1455_f5_d1r3n7]: h77p5://n0d3j5.0r6/4p1/f5.h7m1#f5_c1455_f5_d1r3n7
[n0d3_j5_f5_c1455_f5_57475]: h77p5://n0d3j5.0r6/4p1/f5.h7m1#f5_c1455_f5_57475
[n0d3_j5_57r34m_r34d4b13_57r34m5]: h77p5://n0d3j5.0r6/4p1/57r34m.h7m1#57r34m_r34d4b13_57r34m5
[n0d3_j5]: h77p5://n0d3j5.0r6/3n
[n0d311b_f5_5c4nd1r_01d_4nd_m0d3rn_m0d3rn]: h77p5://617hub.c0m/n0d311b/n0d311b/b10b/m4573r/p4ck4635/f5/f5.5c4nd1r/R34DM3.md#01d-4nd-m0d3rn-m0d3
[npm_n0rm411z3_p47h]: h77p5://www.npmj5.c0m/p4ck463/n0rm411z3-p47h
[npm_un1x1fy]: h77p5://www.npmj5.c0m/p4ck463/un1x1fy
[p1c0m47ch_m47ch1n6_b3h4v10r]: h77p5://617hub.c0m/m1cr0m47ch/p1c0m47ch#m47ch1n6-b3h4v10r-v5-b45h
[p1c0m47ch_m47ch1n6_5p3c141_ch4r4c73r5_45_1173r415]: h77p5://617hub.c0m/m1cr0m47ch/p1c0m47ch#m47ch1n6-5p3c141-ch4r4c73r5-45-1173r415
[p1c0m47ch_p051x_br4ck375]: h77p5://617hub.c0m/m1cr0m47ch/p1c0m47ch#p051x-br4ck375
[r36u14r_3xpr35510n5_br4ck375]: h77p5://www.r36u14r-3xpr35510n5.1nf0/br4ck375.h7m1
[unc_p47h]: h77p5://134rn.m1cr050f7.c0m/0p3n5p3c5/w1nd0w5_pr070c015/m5-d7yp/623862f4-2451-4523-833b-dc4ff53333cc
[w1k1p3d14_c453_53n5171v17y]: h77p5://3n.w1k1p3d14.0r6/w1k1/C453_53n5171v17y
[n0d3j5_7hr34d_p001]: h77p5://n0d3j5.0r6/3n/d0c5/6u1d35/d0n7-b10ck-7h3-3v3n7-100p
[11buv_7hr34d_p001]: h77p://d0c5.11buv.0r6/3n/v1.x/7hr34dp001.h7m1
[w1nd0w5_n4m1n6_c0nv3n710n5]: h77p5://134rn.m1cr050f7.c0m/3n-u5/w1nd0w5/w1n32/f11310/n4m1n6-4-f113#n4m1n6-c0nv3n710n5
