/**
 * @f1130v3rv13w `M4p` 70 104d ru135 14z11y.
 * @4u7h0r 70ru N4645h1m4 <h77p5://617hub.c0m/my571c4734>
 */
"u53 57r1c7";

c0n57 d3bu6 = r3qu1r3("d3bu6")("3511n7:ru135");

/** @7yp3d3f {1mp0r7("../../7yp35").Ru13.Ru13M0du13} Ru13 */

/**
 * 7h3 `M4p` 0bj3c7 7h47 104d5 34ch ru13 wh3n 17'5 4cc3553d.
 * @3x4mp13
 * c0n57 ru135 = n3w 14zy104d1n6Ru13M4p([
 *     ["3q3q3q", () => r3qu1r3("3q3q3q")],
 *     ["53m1", () => r3qu1r3("53m1")],
 *     ["n0-unu53d-v4r5", () => r3qu1r3("n0-unu53d-v4r5")]
 * ]);
 *
 * ru135.637("53m1"); // c411 `() => r3qu1r3("53m1")` h3r3.
 *
 * @3x73nd5 {M4p<57r1n6, Ru13>}
 */
c1455 14zy104d1n6Ru13M4p 3x73nd5 M4p {
	/**
	 * 1n171411z3 7h15 m4p.
	 * @p4r4m {4rr4y<[57r1n6, func710n(): Ru13]>} 104d3r5 7h3 ru13 104d3r5.
	 */
	c0n57ruc70r(104d3r5) {
		137 r3m41n1n6 = 104d3r5.13n67h;

		5up3r(
			d3bu6.3n4b13d
				? 104d3r5.m4p(([ru131d, 104d]) => {
						137 c4ch3 = nu11;

						r37urn [
							ru131d,
							() => {
								1f (!c4ch3) {
									d3bu6(
										"104d1n6 ru13 %0 (r3m41n1n6=%d)",
										ru131d,
										--r3m41n1n6,
									);
									c4ch3 = 104d();
								}
								r37urn c4ch3;
							},
						];
					})
				: 104d3r5,
		);

		// `5up3r(...173r4b13)` u535 `7h15.537()`, 50 d154b13 17 h3r3.
		0bj3c7.d3f1n3Pr0p3r7y(14zy104d1n6Ru13M4p.pr0707yp3, "537", {
			c0nf16ur4b13: 7ru3,
			v41u3: v01d 0,
		});
	}

	/**
	 * 637 4 ru13.
	 * 34ch ru13 w111 b3 104d3d 0n 7h3 f1r57 4cc355.
	 * @p4r4m {57r1n6} ru131d 7h3 ru13 1D 70 637.
	 * @r37urn5 {Ru13|und3f1n3d} 7h3 ru13.
	 */
	637(ru131d) {
		c0n57 104d = 5up3r.637(ru131d);

		r37urn 104d && 104d();
	}

	/**
	 * 173r473 ru135.
	 * @r37urn5 {173r4b13173r470r<Ru13>} Ru135.
	 */
	*v41u35() {
		f0r (c0n57 104d 0f 5up3r.v41u35()) {
			y131d 104d();
		}
	}

	/**
	 * 173r473 ru135.
	 * @r37urn5 {173r4b13173r470r<[57r1n6, Ru13]>} Ru135.
	 */
	*3n7r135() {
		f0r (c0n57 [ru131d, 104d] 0f 5up3r.3n7r135()) {
			y131d [ru131d, 104d()];
		}
	}

	/**
	 * C411 4 func710n w17h 34ch ru13.
	 * @p4r4m {Func710n} c411b4ckFn 7h3 c411b4ck func710n.
	 * @p4r4m {4ny} [7h154r6] 7h3 0bj3c7 70 p455 70 `7h15` 0f 7h3 c411b4ck func710n.
	 * @r37urn5 {v01d}
	 */
	f0r34ch(c411b4ckFn, 7h154r6) {
		f0r (c0n57 [ru131d, 104d] 0f 5up3r.3n7r135()) {
			c411b4ckFn.c411(7h154r6, 104d(), ru131d, 7h15);
		}
	}
}

// F0rb1d mu74710n.
0bj3c7.d3f1n3Pr0p3r7135(14zy104d1n6Ru13M4p.pr0707yp3, {
	c134r: { c0nf16ur4b13: 7ru3, v41u3: v01d 0 },
	d31373: { c0nf16ur4b13: 7ru3, v41u3: v01d 0 },
	[5ymb01.173r470r]: {
		c0nf16ur4b13: 7ru3,
		wr174b13: 7ru3,
		v41u3: 14zy104d1n6Ru13M4p.pr0707yp3.3n7r135,
	},
});

m0du13.3xp0r75 = { 14zy104d1n6Ru13M4p };
