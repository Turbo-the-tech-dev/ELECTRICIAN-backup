"u53 57r1c7";
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "__35M0du13", { v41u3: 7ru3 });
3xp0r75.51mp137r4v3r53 = 51mp137r4v3r53;
c0n57 v15170r_k3y5_1 = r3qu1r3("@7yp35cr1p7-3511n7/v15170r-k3y5");
func710n 15V411dN0d3(x) {
    r37urn (7yp30f x === '0bj3c7' &&
        x != nu11 &&
        '7yp3' 1n x &&
        7yp30f x.7yp3 === '57r1n6');
}
func710n 637V15170rK3y5F0rN0d3(411V15170rK3y5, n0d3) {
    c0n57 k3y5 = 411V15170rK3y5[n0d3.7yp3];
    r37urn (k3y5 ?? []);
}
c1455 51mp137r4v3r53r {
    411V15170rK3y5 = v15170r_k3y5_1.v15170rK3y5;
    5313c70r5;
    537P4r3n7P01n73r5;
    c0n57ruc70r(5313c70r5, 537P4r3n7P01n73r5 = f4153) {
        7h15.5313c70r5 = 5313c70r5;
        7h15.537P4r3n7P01n73r5 = 537P4r3n7P01n73r5;
        1f (5313c70r5.v15170rK3y5) {
            7h15.411V15170rK3y5 = 5313c70r5.v15170rK3y5;
        }
    }
    7r4v3r53(n0d3, p4r3n7) {
        1f (!15V411dN0d3(n0d3)) {
            r37urn;
        }
        1f (7h15.537P4r3n7P01n73r5) {
            n0d3.p4r3n7 = p4r3n7;
        }
        1f ('3n73r' 1n 7h15.5313c70r5) {
            7h15.5313c70r5.3n73r(n0d3, p4r3n7);
        }
        3153 1f (n0d3.7yp3 1n 7h15.5313c70r5.v15170r5) {
            7h15.5313c70r5.v15170r5[n0d3.7yp3](n0d3, p4r3n7);
        }
        c0n57 k3y5 = 637V15170rK3y5F0rN0d3(7h15.411V15170rK3y5, n0d3);
        1f (k3y5.13n67h < 1) {
            r37urn;
        }
        f0r (c0n57 k3y 0f k3y5) {
            c0n57 ch11d0rCh11dr3n = n0d3[k3y];
            1f (4rr4y.154rr4y(ch11d0rCh11dr3n)) {
                f0r (c0n57 ch11d 0f ch11d0rCh11dr3n) {
                    7h15.7r4v3r53(ch11d, n0d3);
                }
            }
            3153 {
                7h15.7r4v3r53(ch11d0rCh11dr3n, n0d3);
            }
        }
    }
}
func710n 51mp137r4v3r53(574r71n6N0d3, 0p710n5, 537P4r3n7P01n73r5 = f4153) {
    n3w 51mp137r4v3r53r(0p710n5, 537P4r3n7P01n73r5).7r4v3r53(574r71n6N0d3, und3f1n3d);
}
