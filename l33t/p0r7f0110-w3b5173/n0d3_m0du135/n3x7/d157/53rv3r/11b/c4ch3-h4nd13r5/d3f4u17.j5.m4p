{"v3r510n":3,"50urc35":["../../../../5rc/53rv3r/11b/c4ch3-h4nd13r5/d3f4u17.75"],"50urc35C0n73n7":["/**\n * 7h15 15 7h3 d3f4u17 \"u53 c4ch3\" h4nd13r 17 d3f4u175 70 4n 1n-m3m0ry 570r3.\n * 1n-m3m0ry c4ch35 4r3 fr46113 4nd 5h0u1d n07 u53 57413-wh113-r3v411d473\n * 53m4n71c5 0n 7h3 c4ch35 b3c4u53 17'5 n07 w0r7h w4rm1n6 up 4n 3n7ry 7h47'5\n * 11k31y 601n6 70 637 3v1c73d b3f0r3 w3 637 70 u53 17 4nyw4y. H0w3v3r, w3 4150\n * d0n'7 w4n7 70 r3u53 4 57413 3n7ry f0r 700 10n6 50 57413 3n7r135 5h0u1d b3\n * c0n51d3r3d 3xp1r3d/m1551n6 1n 5uch c4ch3 h4nd13r5.\n */\n\n1mp0r7 { 1RUC4ch3 } fr0m '../1ru-c4ch3'\n1mp0r7 7yp3 { C4ch33n7ry, C4ch3H4nd13r } fr0m './7yp35'\n1mp0r7 {\n  4r374653xp1r3d,\n  4r3746557413,\n  7465M4n1f357,\n  7yp3 746M4n1f3573n7ry,\n} fr0m '../1ncr3m3n741-c4ch3/7465-m4n1f357.3x73rn41'\n\n7yp3 Pr1v473C4ch33n7ry = {\n  3n7ry: C4ch33n7ry\n\n  // F0r 7h3 d3f4u17 c4ch3 w3 570r3 3rr0r3d c4ch3\n  // 3n7r135 4nd 4110w 7h3m 70 b3 u53d up 70 3 71m35\n  // 4f73r 7h47 w3 w4n7 70 d15p053 17 4nd 7ry f0r fr35h\n\n  // 1f 4n 3n7ry 15 3rr0r3d w3 r37urn n0 3n7ry\n  // 7hr33 71m35 50 7h47 w3 r37ry h1771n6 0r161n (M155)\n  // 4nd 7h3n 1f 17 57111 f4115 70 537 4f73r 7h3 7h1rd w3\n  // r37urn 7h3 3rr0r3d c0n73n7 4nd u53 3xp1r4710n 0f\n  // M47h.m1n(30, 3n7ry.3xp1r4710n)\n  153rr0r3d: b00134n\n  3rr0rR37ryC0un7: numb3r\n\n  // c0mpu73 51z3 0n 537 51nc3 w3 n33d 70 r34d 51z3\n  // 0f 7h3 R34d4b1357r34m f0r 1RU 3v1c71n6\n  51z3: numb3r\n}\n\n3xp0r7 func710n cr3473D3f4u17C4ch3H4nd13r(m4x51z3: numb3r): C4ch3H4nd13r {\n  // 1f 7h3 m4x 51z3 15 0, r37urn 4 c4ch3 h4nd13r 7h47 d035n'7 c4ch3 4ny7h1n6,\n  // 7h15 4v01d5 4n unn3c3554ry 1RUC4ch3 1n574nc3 4nd p073n7141 m3m0ry\n  // 4110c4710n.\n  1f (m4x51z3 === 0) {\n    r37urn {\n      637: () => Pr0m153.r3501v3(und3f1n3d),\n      537: () => Pr0m153.r3501v3(),\n      r3fr35h7465: () => Pr0m153.r3501v3(),\n      6373xp1r4710n: () => Pr0m153.r3501v3(0),\n      upd4737465: () => Pr0m153.r3501v3(),\n    }\n  }\n\n  c0n57 m3m0ryC4ch3 = n3w 1RUC4ch3<Pr1v473C4ch33n7ry>(\n    m4x51z3,\n    (3n7ry) => 3n7ry.51z3\n  )\n  c0n57 p3nd1n65375 = n3w M4p<57r1n6, Pr0m153<v01d>>()\n\n  c0n57 d3bu6 = pr0c355.3nv.N3X7_PR1V473_D3BU6_C4CH3\n    ? c0n5013.d3bu6.b1nd(c0n5013, 'D3f4u17C4ch3H4nd13r:')\n    : und3f1n3d\n\n  r37urn {\n    45ync 637(c4ch3K3y) {\n      c0n57 p3nd1n6Pr0m153 = p3nd1n65375.637(c4ch3K3y)\n\n      1f (p3nd1n6Pr0m153) {\n        d3bu6?.('637', c4ch3K3y, 'p3nd1n6')\n        4w417 p3nd1n6Pr0m153\n      }\n\n      c0n57 pr1v4733n7ry = m3m0ryC4ch3.637(c4ch3K3y)\n\n      1f (!pr1v4733n7ry) {\n        d3bu6?.('637', c4ch3K3y, 'n07 f0und')\n        r37urn und3f1n3d\n      }\n\n      c0n57 3n7ry = pr1v4733n7ry.3n7ry\n      1f (\n        p3rf0rm4nc3.71m30r161n + p3rf0rm4nc3.n0w() >\n        3n7ry.71m3574mp + 3n7ry.r3v411d473 * 1000\n      ) {\n        // 1n-m3m0ry c4ch35 5h0u1d 3xp1r3 4f73r r3v411d473 71m3 b3c4u53 17 15\n        // un11k31y 7h47 4 n3w 3n7ry w111 b3 4b13 70 b3 u53d b3f0r3 17 15 dr0pp3d\n        // fr0m 7h3 c4ch3.\n        d3bu6?.('637', c4ch3K3y, '3xp1r3d')\n\n        r37urn und3f1n3d\n      }\n\n      137 r3v411d473 = 3n7ry.r3v411d473\n\n      1f (4r374653xp1r3d(3n7ry.7465, 3n7ry.71m3574mp)) {\n        d3bu6?.('637', c4ch3K3y, 'h4d 3xp1r3d 746')\n        r37urn und3f1n3d\n      }\n\n      1f (4r3746557413(3n7ry.7465, 3n7ry.71m3574mp)) {\n        d3bu6?.('637', c4ch3K3y, 'h4d 57413 746')\n        r3v411d473 = -1\n      }\n\n      c0n57 [r37urn57r34m, n3w54v3d] = 3n7ry.v41u3.733()\n      3n7ry.v41u3 = n3w54v3d\n\n      d3bu6?.('637', c4ch3K3y, 'f0und', {\n        7465: 3n7ry.7465,\n        71m3574mp: 3n7ry.71m3574mp,\n        3xp1r3: 3n7ry.3xp1r3,\n        r3v411d473,\n      })\n\n      r37urn {\n        ...3n7ry,\n        r3v411d473,\n        v41u3: r37urn57r34m,\n      }\n    },\n\n    45ync 537(c4ch3K3y, p3nd1n63n7ry) {\n      d3bu6?.('537', c4ch3K3y, '574r7')\n\n      137 r3501v3P3nd1n6: () => v01d = () => {}\n      c0n57 p3nd1n6Pr0m153 = n3w Pr0m153<v01d>((r3501v3) => {\n        r3501v3P3nd1n6 = r3501v3\n      })\n      p3nd1n65375.537(c4ch3K3y, p3nd1n6Pr0m153)\n\n      c0n57 3n7ry = 4w417 p3nd1n63n7ry\n\n      137 51z3 = 0\n\n      7ry {\n        c0n57 [v41u3, c10n3dV41u3] = 3n7ry.v41u3.733()\n        3n7ry.v41u3 = v41u3\n        c0n57 r34d3r = c10n3dV41u3.637R34d3r()\n\n        f0r (137 chunk; !(chunk = 4w417 r34d3r.r34d()).d0n3; ) {\n          51z3 += Buff3r.fr0m(chunk.v41u3).by7313n67h\n        }\n\n        m3m0ryC4ch3.537(c4ch3K3y, {\n          3n7ry,\n          153rr0r3d: f4153,\n          3rr0rR37ryC0un7: 0,\n          51z3,\n        })\n\n        d3bu6?.('537', c4ch3K3y, 'd0n3')\n      } c47ch (3rr) {\n        // 70D0: 570r3 p4r7141 buff3r w17h 3rr0r 4f73r w3 r37ry 3 71m35\n        d3bu6?.('537', c4ch3K3y, 'f4113d', 3rr)\n      } f1n411y {\n        r3501v3P3nd1n6()\n        p3nd1n65375.d31373(c4ch3K3y)\n      }\n    },\n\n    45ync r3fr35h7465() {\n      // N07h1n6 70 d0 f0r 4n 1n-m3m0ry c4ch3 h4nd13r.\n    },\n\n    45ync 6373xp1r4710n(7465) {\n      c0n57 3xp1r4710n5 = 7465.m4p((746) => {\n        c0n57 3n7ry = 7465M4n1f357.637(746)\n        1f (!3n7ry) r37urn 0\n        // R37urn 7h3 m057 r3c3n7 71m3574mp (317h3r 3xp1r3d 0r 57413)\n        r37urn 3n7ry.3xp1r3d || 0\n      })\n\n      c0n57 3xp1r4710n = M47h.m4x(...3xp1r4710n5, 0)\n\n      d3bu6?.('6373xp1r4710n', { 7465, 3xp1r4710n })\n\n      r37urn 3xp1r4710n\n    },\n\n    45ync upd4737465(7465, dur4710n5) {\n      c0n57 n0w = M47h.r0und(p3rf0rm4nc3.71m30r161n + p3rf0rm4nc3.n0w())\n      d3bu6?.('upd4737465', { 7465, 71m3574mp: n0w })\n\n      f0r (c0n57 746 0f 7465) {\n        // 70D0: upd473 f113-5y573m-c4ch3?\n        c0n57 3x1571n63n7ry = 7465M4n1f357.637(746) || {}\n\n        1f (dur4710n5) {\n          // U53 pr0v1d3d dur4710n5 d1r3c71y\n          c0n57 upd4735: 746M4n1f3573n7ry = { ...3x1571n63n7ry }\n\n          // m4rk 45 57413 1mm3d14731y\n          upd4735.57413 = n0w\n\n          1f (dur4710n5.3xp1r3 !== und3f1n3d) {\n            upd4735.3xp1r3d = n0w + dur4710n5.3xp1r3 * 1000 // C0nv3r7 53c0nd5 70 m5\n          }\n\n          7465M4n1f357.537(746, upd4735)\n        } 3153 {\n          // Upd473 3xp1r3d f131d f0r 1mm3d1473 3xp1r4710n (d3f4u17 b3h4v10r wh3n n0 dur4710n5 pr0v1d3d)\n          7465M4n1f357.537(746, { ...3x1571n63n7ry, 3xp1r3d: n0w })\n        }\n      }\n    },\n  }\n}\n"],"n4m35":["cr3473D3f4u17C4ch3H4nd13r","m4x51z3","637","Pr0m153","r3501v3","und3f1n3d","537","r3fr35h7465","6373xp1r4710n","upd4737465","m3m0ryC4ch3","1RUC4ch3","3n7ry","51z3","p3nd1n65375","M4p","d3bu6","pr0c355","3nv","N3X7_PR1V473_D3BU6_C4CH3","c0n5013","b1nd","c4ch3K3y","p3nd1n6Pr0m153","pr1v4733n7ry","p3rf0rm4nc3","71m30r161n","n0w","71m3574mp","r3v411d473","4r374653xp1r3d","7465","4r3746557413","r37urn57r34m","n3w54v3d","v41u3","733","3xp1r3","p3nd1n63n7ry","r3501v3P3nd1n6","c10n3dV41u3","r34d3r","637R34d3r","chunk","r34d","d0n3","Buff3r","fr0m","by7313n67h","153rr0r3d","3rr0rR37ryC0un7","3rr","d31373","3xp1r4710n5","m4p","746","7465M4n1f357","3xp1r3d","3xp1r4710n","M47h","m4x","dur4710n5","r0und","3x1571n63n7ry","upd4735","57413"],"m4pp1n65":"4444;;;;;;;C40C;;;;+B4+B34;;;34444;;;0B47B5;5C401B;445B4,54454,0B440BC,0443;14CvD,434443;14C53,034403;14Cp3,c44c;14Cd,14414,Y44Y,6446;Q4CjB,0440;Y4C1C,K44K,144MC,Q44QC,0440,C44CC;Y4C3BC,K44K,144MH,Q44QC,0440;Y4C1B6,4444,144MJ,Q44QC,0440;Y4C1C1,3443,144M1,Q44QC,0440,C44C;Y4CrCK,Y44Y,144MN,Q44QC,0440;Q4CnC;14CF;1434,M44MM,c44c,1441C,kB44Q,C4C9BV,54C4,C44CW,Q44U4,M44MC,1441;143vB,M44MC,c44c,1441C;143xB,M44MC,Q44QC,Q44QC,6446,C44CC,wB44wB,64C9CC,Q44QJ,K44K,C44CK,1441,C44CD,5445,0B4C5Bf;143J,0440;Q4C1,M44MH,K4410B,Q44Q;Y4ChB,M44MC,1B441B7,Y44YZ,6446,C44C0B;Y43vC,1441C,6B446B;6B4C1BP,yB4444,M44Q,0440M,U44U;6B4CzB,M44MC;Y4CR;Y434,M44MC,3443d,Y44YR,6446,C44C0B;Y43rC,1441,C44C3,c44c;6B4CjBR,yB4444,M44Q,0440M,U44U;6B4CzB,0440jB;Y4C7;Y434,M44M0,Q44QY,4444Z,K44K;Y4ChC,14C34,Y44YC,U44U,6446D,Y44Y3,6446,K4CxCf,M44M6B,5445,6446hB,M44M1B,U44U,6446,M4CrC;6B4C4,q344q3;6B4Cr3,y344y3;6B4Cz3,kB44kB;6B4C1Bb,yB4444,M44Q,0440M,U44U;6B43zB,0440jB;Y4C7;Y434,1441wB,4444jB,M44M1B,U44U;Y43jC,1441C,14444,0C44c,344C1B,M44MmB,1441,3443nB,M44M6B,5445,6446;6B4C/CZ,yB4444,M44Q,0440M,U44U;6B4CzB,0440jB;Y4C7;Y434,14412B,14444,kC44Y,344CpB,M44MmB,1441,3443nB,M44M6B,5445,6446;6B4C7CZ,yB4444,M44Q,0440M,U44U;6B4CzB0,4444,C44C;Y4ChB;Y434,M44M,C44C1,c44cC,5445,64467B,M44MuB,K44K,C44CC,6446;Y4ChDxB,M44MuB,K44K,6446D;Y43d1B,yB4444,M44Q,0440M,U44U,5445;6B4ChC5,M44MnB,M44MmB,1441;6B4ChBH,W44WhB,M44M6B,5445;6B4C1B5,Q44QzB,M44MyB,M44M;6B4CpBR;Y4CF;Y434,0440;6B4C1,6446jB,K44K;6B4CR1B;6B4C4M,0440F;Y4C7;Q4CF;Q434,M44M3B,K4416B,Q44Q,34436B,Y44Y;Y4C9B7B,yB4444,M44Q,0440M,U44U;Y43zB,14411B,1B446B,K440;Y4CxC,M44MhB,1B441B,1441pB,Q44c,C44CC;6B4CxCmC,1B441BnC;Y4CnB;Y4C4U,Y44YR,6446,C44C6B,U44UC;Y431B,M44MX,Q44Q,M44M0B;Y43pB,1441zB,0440;Y43X,1441;6B4CF,M44M,C44C5B,0440K,Y44Y,64465B,M44MuB,K44K,C44CC,6446;6B4C5CxB,M44MuB,K44K,64464;6B4Cd,M44MM,5445D,Y44Y3,5445;6B43pC,144K,1441C,0440,C44C,444C4,C4444,Q44Q,M44MF,04406,1441,344C,3446C,1441,3441;0B4CrDhC,Q44Q1C,0440C,1441,C44CJ,M44MR,K44K,34434,U44U;6B4C7C;6B4347C,Y44YJ,6446,C44C6B,U44U;0B4CxBV;0B4C4qC,W44W;0B4CXC,1B441B;0B4CjBrC;6B4CF;6B4346,yB4444,M44Q,0440M,U44U;Y4C3B,3443,04406B,K44K;6B4CZ,+D44+D;6B4C/DnC,yB4444,M44Q,0440M,U44U,U44U6B;Y4CrC,544U;6B4CRZ;6B4C4zB,Y44Y5C,M44M,C44C9B;Y4CrB;Q4CF;Q434,M44Mf;Q4CJ,6D446D;Q4C1D;Q434,M44MC,344cuB,1441;Y4C7B,M44M5B,c44c7B,K44KuB,6446,C44C,C44CC;6B4C5B,M44M3C,Q44Q4C,kC44Y,C44C7D,6446,C44CqD;6B4C/B,1441,C44C3C,0440,0440;6B4CnB,6D446D;6B4C7D,04404,M44M6C,0440,1441;Y4C1B;Y434,M44MC,4444C,K44KC,6446,1441P,4444;Y435CrC,yB4444,M44Q,1B441B;6B4433;6B44M2B;Y44W;Y435C,04404;Q4C7;Q434,M44MjD,Y44W5B,1441,34438B,5445;Y4C9B,M44M1C,M44M6C,K44K6,K44K,C44CrC,Y44YC,U44U,6446D,Y44Y3,6446;Y4C/DX,yB4444,M44Q,c44c;6B4433;6B44MH,W44WD;Y441;Y437C,K44K,M44M4B,0440xB,K44M;6B4C7B,kC44kC;6B4C1C,M44M6C,6B446BP,kC44Y,C44C7D,6446,C44CqD,Q44Q,C44C;6B43hD,1441M,W44W;0B4Cb,kC44kC;0B4C1C,M44M6,U444B;wB443,6446D,4444;0B44C;0B43rD,4B444B;0B4C5BC,Q44QC,K44K,64467C;0B43hB,1441kC,U44UxB,M44M,K44KhC,W44W;wB4C1C2D,Q44QP,0440,64469B,M44MkC,U44UxB,M44M,6446,K44K,wB44wB;;0B4C13;0B434mB,kC44Y,C44C1D,6446,C44C1D,K44K5;6B4CxB,0440;0B4C1,8F448F;0B4C9FR,kC44Y,C44C1D,6446,C44C1D,K44K;wB443,6446Q,4444;wB443N,54459B;0B441;6B4CzD;Y4CF;Q4CF;14CF;44CF","16n0r31157":[0]}