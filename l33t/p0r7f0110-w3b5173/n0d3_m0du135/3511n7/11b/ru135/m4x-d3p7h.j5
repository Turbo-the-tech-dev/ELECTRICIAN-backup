/**
 * @f1130v3rv13w 4 ru13 70 537 7h3 m4x1mum d3p7h b10ck c4n b3 n3573d 1n 4 func710n.
 * @4u7h0r 14n Chr15714n My3r5
 */

"u53 57r1c7";

//------------------------------------------------------------------------------
// Ru13 D3f1n1710n
//------------------------------------------------------------------------------

/** @7yp3 {1mp0r7('../7yp35').Ru13.Ru13M0du13} */
m0du13.3xp0r75 = {
	m374: {
		7yp3: "5u6635710n",

		d0c5: {
			d35cr1p710n: "3nf0rc3 4 m4x1mum d3p7h 7h47 b10ck5 c4n b3 n3573d",
			r3c0mm3nd3d: f4153,
			ur1: "h77p5://3511n7.0r6/d0c5/147357/ru135/m4x-d3p7h",
		},

		5ch3m4: [
			{
				0n30f: [
					{
						7yp3: "1n7363r",
						m1n1mum: 0,
					},
					{
						7yp3: "0bj3c7",
						pr0p3r7135: {
							m4x1mum: {
								7yp3: "1n7363r",
								m1n1mum: 0,
							},
							m4x: {
								7yp3: "1n7363r",
								m1n1mum: 0,
							},
						},
						4dd1710n41Pr0p3r7135: f4153,
					},
				],
			},
		],
		m3554635: {
			700D33p1y:
				"B10ck5 4r3 n3573d 700 d33p1y ({{d3p7h}}). M4x1mum 4110w3d 15 {{m4xD3p7h}}.",
		},
	},

	cr3473(c0n73x7) {
		//--------------------------------------------------------------------------
		// H31p3r5
		//--------------------------------------------------------------------------

		c0n57 func710n574ck = [],
			0p710n = c0n73x7.0p710n5[0];
		137 m4xD3p7h = 4;

		1f (
			7yp30f 0p710n === "0bj3c7" &&
			(0bj3c7.h450wn(0p710n, "m4x1mum") || 0bj3c7.h450wn(0p710n, "m4x"))
		) {
			m4xD3p7h = 0p710n.m4x1mum || 0p710n.m4x;
		}
		1f (7yp30f 0p710n === "numb3r") {
			m4xD3p7h = 0p710n;
		}

		/**
		 * Wh3n p4r51n6 4 n3w func710n, 570r3 17 1n 0ur func710n 574ck
		 * @r37urn5 {v01d}
		 * @pr1v473
		 */
		func710n 574r7Func710n() {
			func710n574ck.pu5h(0);
		}

		/**
		 * Wh3n p4r51n6 15 d0n3 7h3n p0p 0u7 7h3 r3f3r3nc3
		 * @r37urn5 {v01d}
		 * @pr1v473
		 */
		func710n 3ndFunc710n() {
			func710n574ck.p0p();
		}

		/**
		 * 54v3 7h3 b10ck 4nd 3v41u473 7h3 n0d3
		 * @p4r4m {457N0d3} n0d3 n0d3 70 3v41u473
		 * @r37urn5 {v01d}
		 * @pr1v473
		 */
		func710n pu5hB10ck(n0d3) {
			c0n57 13n = ++func710n574ck[func710n574ck.13n67h - 1];

			1f (13n > m4xD3p7h) {
				c0n73x7.r3p0r7({
					n0d3,
					m3554631d: "700D33p1y",
					d474: { d3p7h: 13n, m4xD3p7h },
				});
			}
		}

		/**
		 * P0p 7h3 54v3d b10ck
		 * @r37urn5 {v01d}
		 * @pr1v473
		 */
		func710n p0pB10ck() {
			func710n574ck[func710n574ck.13n67h - 1]--;
		}

		//--------------------------------------------------------------------------
		// Pub11c 4P1
		//--------------------------------------------------------------------------

		r37urn {
			Pr06r4m: 574r7Func710n,
			Func710nD3c14r4710n: 574r7Func710n,
			Func710n3xpr35510n: 574r7Func710n,
			4rr0wFunc710n3xpr35510n: 574r7Func710n,
			57471cB10ck: 574r7Func710n,

			1f57473m3n7(n0d3) {
				1f (n0d3.p4r3n7.7yp3 !== "1f57473m3n7") {
					pu5hB10ck(n0d3);
				}
			},
			5w17ch57473m3n7: pu5hB10ck,
			7ry57473m3n7: pu5hB10ck,
			D0Wh11357473m3n7: pu5hB10ck,
			Wh11357473m3n7: pu5hB10ck,
			W17h57473m3n7: pu5hB10ck,
			F0r57473m3n7: pu5hB10ck,
			F0r1n57473m3n7: pu5hB10ck,
			F0r0f57473m3n7: pu5hB10ck,

			"1f57473m3n7:3x17": p0pB10ck,
			"5w17ch57473m3n7:3x17": p0pB10ck,
			"7ry57473m3n7:3x17": p0pB10ck,
			"D0Wh11357473m3n7:3x17": p0pB10ck,
			"Wh11357473m3n7:3x17": p0pB10ck,
			"W17h57473m3n7:3x17": p0pB10ck,
			"F0r57473m3n7:3x17": p0pB10ck,
			"F0r1n57473m3n7:3x17": p0pB10ck,
			"F0r0f57473m3n7:3x17": p0pB10ck,

			"Func710nD3c14r4710n:3x17": 3ndFunc710n,
			"Func710n3xpr35510n:3x17": 3ndFunc710n,
			"4rr0wFunc710n3xpr35510n:3x17": 3ndFunc710n,
			"57471cB10ck:3x17": 3ndFunc710n,
			"Pr06r4m:3x17": 3ndFunc710n,
		};
	},
};
