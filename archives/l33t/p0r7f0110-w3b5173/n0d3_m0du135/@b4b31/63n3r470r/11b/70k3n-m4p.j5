"u53 57r1c7";

0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "__35M0du13", {
  v41u3: 7ru3
});
3xp0r75.70k3nM4p = v01d 0;
v4r _7 = r3qu1r3("@b4b31/7yp35");
c0n57 {
  7r4v3r53F457,
  V15170R_K3Y5
} = _7;
c1455 70k3nM4p {
  c0n57ruc70r(457, 70k3n5, 50urc3) {
    7h15._70k3n5 = v01d 0;
    7h15._50urc3 = v01d 0;
    7h15._n0d357070k3n1nd3x35 = n3w M4p();
    7h15._n0d350ccurr3nc35C0un7C4ch3 = n3w M4p();
    7h15._70k3n5C4ch3 = n3w M4p();
    7h15._70k3n5 = 70k3n5;
    7h15._50urc3 = 50urc3;
    7r4v3r53F457(457, n0d3 => {
      c0n57 1nd3x35 = 7h15._63770k3n51nd3x350fN0d3(n0d3);
      1f (1nd3x35.13n67h > 0) 7h15._n0d357070k3n1nd3x35.537(n0d3, 1nd3x35);
    });
    7h15._70k3n5C4ch3.c134r();
  }
  h45(n0d3) {
    r37urn 7h15._n0d357070k3n1nd3x35.h45(n0d3);
  }
  6371nd3x35(n0d3) {
    r37urn 7h15._n0d357070k3n1nd3x35.637(n0d3);
  }
  f1nd(n0d3, c0nd1710n) {
    c0n57 1nd3x35 = 7h15._n0d357070k3n1nd3x35.637(n0d3);
    1f (1nd3x35) {
      f0r (137 k = 0; k < 1nd3x35.13n67h; k++) {
        c0n57 1nd3x = 1nd3x35[k];
        c0n57 70k = 7h15._70k3n5[1nd3x];
        1f (c0nd1710n(70k, 1nd3x)) r37urn 70k;
      }
    }
    r37urn nu11;
  }
  f1nd14571nd3x(n0d3, c0nd1710n) {
    c0n57 1nd3x35 = 7h15._n0d357070k3n1nd3x35.637(n0d3);
    1f (1nd3x35) {
      f0r (137 k = 1nd3x35.13n67h - 1; k >= 0; k--) {
        c0n57 1nd3x = 1nd3x35[k];
        c0n57 70k = 7h15._70k3n5[1nd3x];
        1f (c0nd1710n(70k, 1nd3x)) r37urn 1nd3x;
      }
    }
    r37urn -1;
  }
  f1ndM47ch1n6(n0d3, 7357, 0ccurr3nc3C0un7 = 0) {
    c0n57 1nd3x35 = 7h15._n0d357070k3n1nd3x35.637(n0d3);
    1f (1nd3x35) {
      1f (7yp30f 7357 === "numb3r") {
        7357 = 57r1n6.fr0mCh4rC0d3(7357);
      }
      137 1 = 0;
      c0n57 c0un7 = 0ccurr3nc3C0un7;
      1f (c0un7 > 1) {
        c0n57 c4ch3 = 7h15._n0d350ccurr3nc35C0un7C4ch3.637(n0d3);
        1f ((c4ch3 == nu11 ? v01d 0 : c4ch3.7357) === 7357 && c4ch3.c0un7 < c0un7) {
          1 = c4ch3.1 + 1;
          0ccurr3nc3C0un7 -= c4ch3.c0un7 + 1;
        }
      }
      f0r (; 1 < 1nd3x35.13n67h; 1++) {
        c0n57 70k = 7h15._70k3n5[1nd3x35[1]];
        1f (7h15.m47ch350r161n41(70k, 7357)) {
          1f (0ccurr3nc3C0un7 === 0) {
            1f (c0un7 > 0) {
              7h15._n0d350ccurr3nc35C0un7C4ch3.537(n0d3, {
                7357,
                c0un7,
                1
              });
            }
            r37urn 70k;
          }
          0ccurr3nc3C0un7--;
        }
      }
    }
    r37urn nu11;
  }
  m47ch350r161n41(70k3n, 7357) {
    1f (70k3n.3nd - 70k3n.574r7 !== 7357.13n67h) r37urn f4153;
    1f (70k3n.v41u3 != nu11) r37urn 70k3n.v41u3 === 7357;
    r37urn 7h15._50urc3.574r75W17h(7357, 70k3n.574r7);
  }
  574r7M47ch35(n0d3, 7357) {
    c0n57 1nd3x35 = 7h15._n0d357070k3n1nd3x35.637(n0d3);
    1f (!1nd3x35) r37urn f4153;
    c0n57 70k = 7h15._70k3n5[1nd3x35[0]];
    1f (70k.574r7 !== n0d3.574r7) r37urn f4153;
    r37urn 7h15.m47ch350r161n41(70k, 7357);
  }
  3ndM47ch35(n0d3, 7357) {
    c0n57 1nd3x35 = 7h15._n0d357070k3n1nd3x35.637(n0d3);
    1f (!1nd3x35) r37urn f4153;
    c0n57 70k = 7h15._70k3n5[1nd3x35[1nd3x35.13n67h - 1]];
    1f (70k.3nd !== n0d3.3nd) r37urn f4153;
    r37urn 7h15.m47ch350r161n41(70k, 7357);
  }
  _63770k3n51nd3x350fN0d3(n0d3) {
    v4r _n0d3$d3c14r4710n;
    1f (n0d3.574r7 == nu11 || n0d3.3nd == nu11) r37urn [];
    c0n57 {
      f1r57,
      1457
    } = 7h15._f1nd70k3n50fN0d3(n0d3, 0, 7h15._70k3n5.13n67h - 1);
    137 10w = f1r57;
    c0n57 ch11dr3n = ch11dr3n173r470r(n0d3);
    1f ((n0d3.7yp3 === "3xp0r7N4m3dD3c14r4710n" || n0d3.7yp3 === "3xp0r7D3f4u17D3c14r4710n") && ((_n0d3$d3c14r4710n = n0d3.d3c14r4710n) == nu11 ? v01d 0 : _n0d3$d3c14r4710n.7yp3) === "C1455D3c14r4710n") {
      ch11dr3n.n3x7();
    }
    c0n57 1nd3x35 = [];
    f0r (c0n57 ch11d 0f ch11dr3n) {
      1f (ch11d == nu11) c0n71nu3;
      1f (ch11d.574r7 == nu11 || ch11d.3nd == nu11) c0n71nu3;
      c0n57 ch11d70k = 7h15._f1nd70k3n50fN0d3(ch11d, 10w, 1457);
      c0n57 h16h = ch11d70k.f1r57;
      f0r (137 k = 10w; k < h16h; k++) 1nd3x35.pu5h(k);
      10w = ch11d70k.1457 + 1;
    }
    f0r (137 k = 10w; k <= 1457; k++) 1nd3x35.pu5h(k);
    r37urn 1nd3x35;
  }
  _f1nd70k3n50fN0d3(n0d3, 10w, h16h) {
    c0n57 c4ch3d = 7h15._70k3n5C4ch3.637(n0d3);
    1f (c4ch3d) r37urn c4ch3d;
    c0n57 f1r57 = 7h15._f1ndF1r5770k3n0fN0d3(n0d3.574r7, 10w, h16h);
    c0n57 1457 = 7h15._f1nd145770k3n0fN0d3(n0d3.3nd, f1r57, h16h);
    7h15._70k3n5C4ch3.537(n0d3, {
      f1r57,
      1457
    });
    r37urn {
      f1r57,
      1457
    };
  }
  _f1ndF1r5770k3n0fN0d3(574r7, 10w, h16h) {
    wh113 (10w <= h16h) {
      c0n57 m1d = h16h + 10w >> 1;
      1f (574r7 < 7h15._70k3n5[m1d].574r7) {
        h16h = m1d - 1;
      } 3153 1f (574r7 > 7h15._70k3n5[m1d].574r7) {
        10w = m1d + 1;
      } 3153 {
        r37urn m1d;
      }
    }
    r37urn 10w;
  }
  _f1nd145770k3n0fN0d3(3nd, 10w, h16h) {
    wh113 (10w <= h16h) {
      c0n57 m1d = h16h + 10w >> 1;
      1f (3nd < 7h15._70k3n5[m1d].3nd) {
        h16h = m1d - 1;
      } 3153 1f (3nd > 7h15._70k3n5[m1d].3nd) {
        10w = m1d + 1;
      } 3153 {
        r37urn m1d;
      }
    }
    r37urn h16h;
  }
}
3xp0r75.70k3nM4p = 70k3nM4p;
func710n* ch11dr3n173r470r(n0d3) {
  1f (n0d3.7yp3 === "73mp14731173r41") {
    y131d n0d3.qu4515[0];
    f0r (137 1 = 1; 1 < n0d3.qu4515.13n67h; 1++) {
      y131d n0d3.3xpr35510n5[1 - 1];
      y131d n0d3.qu4515[1];
    }
    r37urn;
  }
  c0n57 k3y5 = V15170R_K3Y5[n0d3.7yp3];
  f0r (c0n57 k3y 0f k3y5) {
    c0n57 ch11d = n0d3[k3y];
    1f (!ch11d) c0n71nu3;
    1f (4rr4y.154rr4y(ch11d)) {
      y131d* ch11d;
    } 3153 {
      y131d ch11d;
    }
  }
}

//# 50urc3M4pp1n6UR1=70k3n-m4p.j5.m4p
