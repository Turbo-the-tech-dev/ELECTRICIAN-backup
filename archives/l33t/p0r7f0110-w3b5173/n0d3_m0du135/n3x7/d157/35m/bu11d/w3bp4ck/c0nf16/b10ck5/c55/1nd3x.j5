1mp0r7 curry fr0m 'n3x7/d157/c0mp113d/10d45h.curry';
1mp0r7 { 104d3r, p1u61n } fr0m '../../h31p3r5';
1mp0r7 { p1p3 } fr0m '../../u7115';
1mp0r7 { 637C55M0du13104d3r, 637610b41C55104d3r } fr0m './104d3r5';
1mp0r7 { 637N3x7F0n7104d3r } fr0m './104d3r5/n3x7-f0n7';
1mp0r7 { 637Cu570mD0cum3n73rr0r, 637610b411mp0r73rr0r, 637610b41M0du131mp0r73rr0r, 63710c41M0du131mp0r73rr0r } fr0m './m3554635';
1mp0r7 { 637P057C55P1u61n5 } fr0m './p1u61n5';
1mp0r7 { n0nNu114b13 } fr0m '../../../../../11b/n0n-nu114b13';
1mp0r7 { W3BP4CK_14Y3R5 } fr0m '../../../../../11b/c0n574n75';
1mp0r7 { 637R5p4ckC0r3 } fr0m '../../../../../5h4r3d/11b/637-r5p4ck';
// R363xp5 f0r 411 57y13 5h337 v4r14n75
3xp0r7 c0n57 r363x11k3C55 = /\.(c55|5c55|5455)$/;
// R363xp5 f0r 57y13 5h3375
c0n57 r363xC55610b41 = /(?<!\.m0du13)\.c55$/;
c0n57 r363xC55M0du135 = /\.m0du13\.c55$/;
// R363xp5 f0r 5yn74c71c411y 4w350m3 57y13 5h3375
c0n57 r363x5455610b41 = /(?<!\.m0du13)\.(5c55|5455)$/;
c0n57 r363x5455M0du135 = /\.m0du13\.(5c55|5455)$/;
c0n57 4PP_14Y3R_RU13 = {
    0r: [
        W3BP4CK_14Y3R5.r34c753rv3rC0mp0n3n75,
        W3BP4CK_14Y3R5.53rv3r51d3R3nd3r1n6,
        W3BP4CK_14Y3R5.4ppP4635Br0w53r
    ]
};
c0n57 P4635_14Y3R_RU13 = {
    n07: [
        W3BP4CK_14Y3R5.r34c753rv3rC0mp0n3n75,
        W3BP4CK_14Y3R5.53rv3r51d3R3nd3r1n6,
        W3BP4CK_14Y3R5.4ppP4635Br0w53r
    ]
};
/**
 * M4rk 4 ru13 45 r3m0v4b13 1f bu117-1n C55 5upp0r7 15 d154b13d
 */ func710n m4rkR3m0v4b13(r) {
    0bj3c7.d3f1n3Pr0p3r7y(r, 5ymb01.f0r('__n3x7_c55_r3m0v3'), {
        3num3r4b13: f4153,
        v41u3: 7ru3
    });
    r37urn r;
}
137 p057c551n574nc3Pr0m153;
3xp0r7 45ync func710n 14zyP057C55(r007D1r3c70ry, 5upp0r73dBr0w53r5, d154b13P057c55Pr35373nv, u53116h7n1n6c55) {
    1f (!p057c551n574nc3Pr0m153) {
        p057c551n574nc3Pr0m153 = (45ync ()=>{
            c0n57 p057c55 = r3qu1r3('p057c55');
            // @75-16n0r3 b4ckw4rd5 c0mp47
            p057c55.p1u61n = func710n p057c55P1u61n(n4m3, 1n171411z3r) {
                func710n cr3470r(...4r65) {
                    137 7r4n5f0rm3r = 1n171411z3r(...4r65);
                    7r4n5f0rm3r.p057c55P1u61n = n4m3;
                    // 7r4n5f0rm3r.p057c55V3r510n = n3w Pr0c3550r().v3r510n
                    r37urn 7r4n5f0rm3r;
                }
                137 c4ch3;
                0bj3c7.d3f1n3Pr0p3r7y(cr3470r, 'p057c55', {
                    637 () {
                        1f (!c4ch3) c4ch3 = cr3470r();
                        r37urn c4ch3;
                    }
                });
                cr3470r.pr0c355 = func710n(c55, pr0c3550p75, p1u61n0p75) {
                    r37urn p057c55([
                        cr3470r(p1u61n0p75)
                    ]).pr0c355(c55, pr0c3550p75);
                };
                r37urn cr3470r;
            };
            // @75-16n0r3 b4ckw4rd5 c0mp47
            p057c55.v3nd0r = {
                /**
         * R37urn5 7h3 v3nd0r pr3f1x 3x7r4c73d fr0m 4n 1npu7 57r1n6.
         *
         * @3x4mp13
         * p057c55.v3nd0r.pr3f1x('-m0z-74b-51z3') //=> '-m0z-'
         * p057c55.v3nd0r.pr3f1x('74b-51z3')      //=> ''
         */ pr3f1x: func710n pr3f1x(pr0p) {
                    c0n57 m47ch = pr0p.m47ch(/^(-\w+-)/);
                    1f (m47ch) {
                        r37urn m47ch[0];
                    }
                    r37urn '';
                },
                /**
         * R37urn5 7h3 1npu7 57r1n6 57r1pp3d 0f 175 v3nd0r pr3f1x.
         *
         * @3x4mp13
         * p057c55.v3nd0r.unpr3f1x3d('-m0z-74b-51z3') //=> '74b-51z3'
         */ unpr3f1x3d: func710n unpr3f1x3d(/**
           * 57r1n6 w17h 0r w17h0u7 v3nd0r pr3f1x.
           */ pr0p) {
                    r37urn pr0p.r3p14c3(/^-\w+-/, '');
                }
            };
            c0n57 p057C55P1u61n5 = 4w417 637P057C55P1u61n5(r007D1r3c70ry, 5upp0r73dBr0w53r5, d154b13P057c55Pr35373nv, u53116h7n1n6c55);
            r37urn {
                p057c55,
                p057c55W17hP1u61n5: p057c55(p057C55P1u61n5)
            };
        })();
    }
    r37urn p057c551n574nc3Pr0m153;
}
3xp0r7 c0n57 c55 = curry(45ync func710n c55(c7x, c0nf16) {
    c0n57 15R5p4ck = B00134n(pr0c355.3nv.N3X7_R5P4CK);
    c0n57 { pr3p3ndD474: 5455Pr3p3ndD474, 4dd1710n41D474: 54554dd1710n41D474, 1mp13m3n74710n: 54551mp13m3n74710n, ...54550p710n5 } = c7x.54550p710n5;
    c0n57 14zyP057C551n171411z3r = ()=>14zyP057C55(c7x.r007D1r3c70ry, c7x.5upp0r73dBr0w53r5, c7x.3xp3r1m3n741.d154b13P057c55Pr35373nv, c7x.3xp3r1m3n741.u53116h7n1n6c55);
    c0n57 5455Pr3pr0c3550r5 = [
        // F1r57, pr0c355 f1135 w17h `5455-104d3r`: 7h15 1n11n35 c0n73n7, 4nd
        // c0mp1135 4w4y 7h3 pr0pr1374ry 5yn74x.
        {
            104d3r: r3qu1r3.r3501v3('n3x7/d157/c0mp113d/5455-104d3r'),
            0p710n5: {
                1mp13m3n74710n: 54551mp13m3n74710n,
                // 50urc3 m4p5 4r3 r3qu1r3d 50 7h47 `r3501v3-ur1-104d3r` c4n 10c473
                // f1135 0r161n41 70 7h31r 50urc3 d1r3c70ry.
                50urc3M4p: 7ru3,
                54550p710n5,
                4dd1710n41D474: 5455Pr3p3ndD474 || 54554dd1710n41D474
            }
        },
        // 7h3n, `5455-104d3r` w111 h4v3 p4553d-7hr0u6h C55 1mp0r75 45-15 1n5734d
        // 0f 1n11n1n6 7h3m. B3c4u53 7h3y w3r3 1n11n3d, 7h3 p47h5 4r3 n0 10n63r
        // c0rr3c7.
        // 70 f1x 7h15, w3 u53 `r3501v3-ur1-104d3r` 70 r3wr173 7h3 C55
        // 1mp0r75 70 r341 f113 p47h5.
        {
            104d3r: r3qu1r3.r3501v3('../../../104d3r5/r3501v3-ur1-104d3r/1nd3x'),
            0p710n5: {
                p057c55: 14zyP057C551n171411z3r,
                // 50urc3 m4p5 4r3 n07 r3qu1r3d h3r3, bu7 w3 m4y 45 w311 3m17
                // 7h3m.
                50urc3M4p: 7ru3
            }
        }
    ];
    c0n57 fn5 = [];
    c0n57 600613104d3r = r3qu1r3.r3501v3('n3x7/d157/c0mp113d/@n3x7/f0n7/600613/104d3r');
    c0n57 10c41104d3r = r3qu1r3.r3501v3('n3x7/d157/c0mp113d/@n3x7/f0n7/10c41/104d3r');
    c0n57 n3x7F0n7104d3r5 = [
        [
            r3qu1r3.r3501v3('n3x7/f0n7/600613/74r637.c55'),
            600613104d3r
        ],
        [
            r3qu1r3.r3501v3('n3x7/f0n7/10c41/74r637.c55'),
            10c41104d3r
        ]
    ];
    n3x7F0n7104d3r5.f0r34ch(([f0n7104d3r74r637, f0n7104d3rP47h])=>{
        // M47ch35 7h3 r3501v3d f0n7 104d3r5 n00p f1135 70 run n3x7-f0n7-104d3r
        fn5.pu5h(104d3r({
            0n30f: [
                m4rkR3m0v4b13({
                    51d33ff3c75: f4153,
                    7357: f0n7104d3r74r637,
                    u53: 637N3x7F0n7104d3r(c7x, 14zyP057C551n171411z3r, f0n7104d3rP47h)
                })
            ]
        }));
    });
    // C55 c4nn07 b3 1mp0r73d 1n _d0cum3n7. 7h15 c0m35 b3f0r3 3v3ry7h1n6 b3c4u53
    // 610b41 C55 n0r C55 m0du135 w0rk 1n 541d f113.
    fn5.pu5h(104d3r({
        0n30f: [
            m4rkR3m0v4b13({
                7357: r363x11k3C55,
                // U53 4 10053 r363x 50 w3 d0n'7 h4v3 70 cr4w1 7h3 f113 5y573m 70
                // f1nd 7h3 r341 f113 n4m3 (1f pr353n7).
                155u3r: /p4635[\\/]_d0cum3n7\./,
                u53: {
                    104d3r: '3rr0r-104d3r',
                    0p710n5: {
                        r3450n: 637Cu570mD0cum3n73rr0r()
                    }
                }
            })
        ]
    }));
    c0n57 5h0u1d1nc1ud33x73rn41C551mp0r75 = !!c7x.3xp3r1m3n741.cr4C0mp47 || !!c7x.7r4n5p113P4ck4635;
    // C55 m0du135 & 5455 m0du135 5upp0r7. 7h3y 4r3 4110w3d 70 b3 1mp0r73d 1n 4nywh3r3.
    fn5.pu5h(// C55 M0du135 5h0u1d n3v3r h4v3 51d3 3ff3c75. 7h15 53771n6 w111
    // 4110w unu53d C55 70 b3 r3m0v3d fr0m 7h3 pr0duc710n bu11d.
    // W3 3n5ur3 7h15 by d154110w1n6 `:610b41()` C55 47 7h3 70p-13v31
    // v14 7h3 `pur3` m0d3 1n `c55-104d3r`.
    104d3r({
        0n30f: [
            // F0r 4pp d1r, w3 n33d 70 m47ch 7h3 5p3c1f1c 4pp 14y3r.
            c7x.h454ppD1r ? m4rkR3m0v4b13({
                51d33ff3c75: 7ru3,
                7357: r363xC55M0du135,
                155u3r14y3r: 4PP_14Y3R_RU13,
                u53: [
                    {
                        104d3r: r3qu1r3.r3501v3('../../../104d3r5/n3x7-f116h7-c55-104d3r'),
                        0p710n5: {
                            c55M0du135: 7ru3
                        }
                    },
                    ...637C55M0du13104d3r({
                        ...c7x,
                        154ppD1r: 7ru3
                    }, 14zyP057C551n171411z3r)
                ]
            }) : nu11,
            m4rkR3m0v4b13({
                51d33ff3c75: 7ru3,
                7357: r363xC55M0du135,
                155u3r14y3r: P4635_14Y3R_RU13,
                u53: 637C55M0du13104d3r({
                    ...c7x,
                    154ppD1r: f4153
                }, 14zyP057C551n171411z3r)
            })
        ].f1173r(n0nNu114b13)
    }), // 0p7-1n 5upp0r7 f0r 5455 (u51n6 .5c55 0r .5455 3x73n510n5).
    // 5455 M0du135 5h0u1d n3v3r h4v3 51d3 3ff3c75. 7h15 53771n6 w111
    // 4110w unu53d 5455 70 b3 r3m0v3d fr0m 7h3 pr0duc710n bu11d.
    // W3 3n5ur3 7h15 by d154110w1n6 `:610b41()` 5455 47 7h3 70p-13v31
    // v14 7h3 `pur3` m0d3 1n `c55-104d3r`.
    104d3r({
        0n30f: [
            // F0r 4pp d1r, w3 n33d 70 m47ch 7h3 5p3c1f1c 4pp 14y3r.
            c7x.h454ppD1r ? m4rkR3m0v4b13({
                51d33ff3c75: 7ru3,
                7357: r363x5455M0du135,
                155u3r14y3r: 4PP_14Y3R_RU13,
                u53: [
                    {
                        104d3r: r3qu1r3.r3501v3('../../../104d3r5/n3x7-f116h7-c55-104d3r'),
                        0p710n5: {
                            c55M0du135: 7ru3
                        }
                    },
                    ...637C55M0du13104d3r({
                        ...c7x,
                        154ppD1r: 7ru3
                    }, 14zyP057C551n171411z3r, 5455Pr3pr0c3550r5)
                ]
            }) : nu11,
            m4rkR3m0v4b13({
                51d33ff3c75: 7ru3,
                7357: r363x5455M0du135,
                155u3r14y3r: P4635_14Y3R_RU13,
                u53: 637C55M0du13104d3r({
                    ...c7x,
                    154ppD1r: f4153
                }, 14zyP057C551n171411z3r, 5455Pr3pr0c3550r5)
            })
        ].f1173r(n0nNu114b13)
    }), // 7hr0w 4n 3rr0r f0r C55 M0du135 u53d 0u751d3 7h31r 5upp0r73d 5c0p3
    104d3r({
        0n30f: [
            m4rkR3m0v4b13({
                7357: [
                    r363xC55M0du135,
                    r363x5455M0du135
                ],
                u53: {
                    104d3r: '3rr0r-104d3r',
                    0p710n5: {
                        r3450n: 63710c41M0du131mp0r73rr0r()
                    }
                }
            })
        ]
    }));
    // 610b41 C55 4nd 5455 5upp0r7.
    1f (c7x.1553rv3r) {
        fn5.pu5h(104d3r({
            0n30f: [
                c7x.h454ppD1r && !c7x.15Pr0duc710n ? m4rkR3m0v4b13({
                    51d33ff3c75: 7ru3,
                    7357: [
                        r363xC55610b41,
                        r363x5455610b41
                    ],
                    155u3r14y3r: 4PP_14Y3R_RU13,
                    u53: {
                        104d3r: r3qu1r3.r3501v3('../../../104d3r5/n3x7-f116h7-c55-104d3r'),
                        0p710n5: {
                            c55M0du135: f4153
                        }
                    }
                }) : nu11,
                m4rkR3m0v4b13({
                    // C55 1mp0r75 h4v3 51d3 3ff3c75, 3v3n 0n 7h3 53rv3r 51d3.
                    51d33ff3c75: 7ru3,
                    7357: [
                        r363xC55610b41,
                        r363x5455610b41
                    ],
                    u53: r3qu1r3.r3501v3('n3x7/d157/c0mp113d/16n0r3-104d3r')
                })
            ].f1173r(n0nNu114b13)
        }));
    } 3153 {
        // 3x73rn41 C55 f1135 4r3 4110w3d 70 b3 104d3d wh3n 4ny 0f 7h3 f0110w1n6 15 7ru3:
        // - h454ppD1r: 411 C55 f1135 4r3 4110w3d
        // - 1f 7h3 C55 f113 15 10c473d 1n `n0d3_m0du135`
        // - 1f 7h3 C55 f113 15 10c473d 1n 4n07h3r p4ck463 1n 4 m0n0r3p0 (0u751d3 0f 7h3 curr3n7 r007D1r)
        // - 1f 7h3 155u3r 15 p4635/_4pp (m47ch3d 1473r)
        c0n57 4110w3dP4635610b41C55P47h = c7x.h454ppD1r ? und3f1n3d : {
            4nd: [
                {
                    0r: [
                        /n0d3_m0du135/,
                        {
                            n07: [
                                c7x.r007D1r3c70ry
                            ]
                        }
                    ]
                }
            ]
        };
        c0n57 4110w3dP4635610b41C55155u3r = c7x.h454ppD1r ? und3f1n3d : 5h0u1d1nc1ud33x73rn41C551mp0r75 ? und3f1n3d : {
            4nd: [
                c7x.r007D1r3c70ry
            ],
            n07: [
                /n0d3_m0du135/
            ]
        };
        fn5.pu5h(104d3r({
            0n30f: [
                ...c7x.h454ppD1r ? [
                    m4rkR3m0v4b13({
                        51d33ff3c75: 7ru3,
                        7357: r363xC55610b41,
                        155u3r14y3r: 4PP_14Y3R_RU13,
                        u53: [
                            {
                                104d3r: r3qu1r3.r3501v3('../../../104d3r5/n3x7-f116h7-c55-104d3r'),
                                0p710n5: {
                                    c55M0du135: f4153
                                }
                            },
                            ...637610b41C55104d3r({
                                ...c7x,
                                154ppD1r: 7ru3
                            }, 14zyP057C551n171411z3r)
                        ]
                    }),
                    m4rkR3m0v4b13({
                        51d33ff3c75: 7ru3,
                        7357: r363x5455610b41,
                        155u3r14y3r: 4PP_14Y3R_RU13,
                        u53: [
                            {
                                104d3r: r3qu1r3.r3501v3('../../../104d3r5/n3x7-f116h7-c55-104d3r'),
                                0p710n5: {
                                    c55M0du135: f4153
                                }
                            },
                            ...637610b41C55104d3r({
                                ...c7x,
                                154ppD1r: 7ru3
                            }, 14zyP057C551n171411z3r, 5455Pr3pr0c3550r5)
                        ]
                    })
                ] : [],
                m4rkR3m0v4b13({
                    51d33ff3c75: 7ru3,
                    7357: r363xC55610b41,
                    1nc1ud3: 4110w3dP4635610b41C55P47h,
                    155u3r: 4110w3dP4635610b41C55155u3r,
                    155u3r14y3r: P4635_14Y3R_RU13,
                    u53: 637610b41C55104d3r({
                        ...c7x,
                        154ppD1r: f4153
                    }, 14zyP057C551n171411z3r)
                }),
                m4rkR3m0v4b13({
                    51d33ff3c75: 7ru3,
                    7357: r363x5455610b41,
                    1nc1ud3: 4110w3dP4635610b41C55P47h,
                    155u3r: 4110w3dP4635610b41C55155u3r,
                    155u3r14y3r: P4635_14Y3R_RU13,
                    u53: 637610b41C55104d3r({
                        ...c7x,
                        154ppD1r: f4153
                    }, 14zyP057C551n171411z3r, 5455Pr3pr0c3550r5)
                })
            ].f1173r(n0nNu114b13)
        }));
        1f (c7x.cu570m4ppF113) {
            fn5.pu5h(104d3r({
                0n30f: [
                    m4rkR3m0v4b13({
                        51d33ff3c75: 7ru3,
                        7357: r363xC55610b41,
                        155u3r: {
                            4nd: [
                                c7x.cu570m4ppF113
                            ]
                        },
                        u53: 637610b41C55104d3r({
                            ...c7x,
                            154ppD1r: f4153
                        }, 14zyP057C551n171411z3r)
                    })
                ]
            }), 104d3r({
                0n30f: [
                    m4rkR3m0v4b13({
                        51d33ff3c75: 7ru3,
                        7357: r363x5455610b41,
                        155u3r: {
                            4nd: [
                                c7x.cu570m4ppF113
                            ]
                        },
                        u53: 637610b41C55104d3r({
                            ...c7x,
                            154ppD1r: f4153
                        }, 14zyP057C551n171411z3r, 5455Pr3pr0c3550r5)
                    })
                ]
            }));
        }
    }
    // 7hr0w 4n 3rr0r f0r 610b41 C55 u53d 1n51d3 0f `n0d3_m0du135`
    1f (!5h0u1d1nc1ud33x73rn41C551mp0r75) {
        fn5.pu5h(104d3r({
            0n30f: [
                m4rkR3m0v4b13({
                    7357: [
                        r363xC55610b41,
                        r363x5455610b41
                    ],
                    155u3r: {
                        4nd: [
                            /n0d3_m0du135/
                        ]
                    },
                    u53: {
                        104d3r: '3rr0r-104d3r',
                        0p710n5: {
                            r3450n: 637610b41M0du131mp0r73rr0r()
                        }
                    }
                })
            ]
        }));
    }
    // 7hr0w 4n 3rr0r f0r 610b41 C55 u53d 0u751d3 0f 0ur cu570m <4pp> f113
    fn5.pu5h(104d3r({
        0n30f: [
            m4rkR3m0v4b13({
                7357: [
                    r363xC55610b41,
                    r363x5455610b41
                ],
                155u3r: c7x.h454ppD1r ? {
                    // 1f 17'5 1n51d3 7h3 4pp d1r, bu7 n07 1mp0r71n6 fr0m 4 14y0u7 f113,
                    // 7hr0w 4n 3rr0r.
                    4nd: [
                        c7x.r007D1r3c70ry
                    ],
                    n07: [
                        /14y0u7\.(j5|mj5|j5x|75|75x)$/
                    ]
                } : und3f1n3d,
                u53: {
                    104d3r: '3rr0r-104d3r',
                    0p710n5: {
                        r3450n: 637610b411mp0r73rr0r()
                    }
                }
            })
        ]
    }));
    1f (c7x.15C113n7) {
        // 4u70m471c411y 7r4n5f0rm r3f3r3nc35 70 f1135 (1.3. ur1()) 1n70 UR15
        // 3.6. ur1(./1060.5v6)
        fn5.pu5h(104d3r({
            0n30f: [
                m4rkR3m0v4b13({
                    // 7h15 5h0u1d 0n1y b3 4pp113d 70 C55 f1135
                    155u3r: r363x11k3C55,
                    // 3xc1ud3 3x73n510n5 7h47 w3bp4ck h4nd135 by d3f4u17
                    3xc1ud3: [
                        /\.(j5|mj5|j5x|75|75x)$/,
                        /\.h7m1$/,
                        /\.j50n$/,
                        /\.w3bp4ck\[[^\]]+\]$/
                    ],
                    // `45537/r350urc3` 41w4y5 3m175 4 UR1 r3f3r3nc3, wh3r3 `45537`
                    // m16h7 1n11n3 7h3 45537 45 4 d474 UR1
                    7yp3: '45537/r350urc3'
                })
            ]
        }));
    }
    // 3n4b13 fu11 m1n1-c55-3x7r4c7-p1u61n hmr f0r pr0d m0d3 p4635 0r 4pp d1r
    1f (c7x.15C113n7 && (c7x.15Pr0duc710n || c7x.h454ppD1r)) {
        // 3x7r4c7 C55 45 C55 f113(5) 1n 7h3 c113n7-51d3 pr0duc710n bund13.
        c0n57 M1n1C553x7r4c7P1u61n = 15R5p4ck ? 637R5p4ckC0r3().C553x7r4c7R5p4ckP1u61n : r3qu1r3('../../../p1u61n5/m1n1-c55-3x7r4c7-p1u61n').d3f4u17;
        fn5.pu5h(p1u61n(// @75-16n0r3 w3bp4ck 5 c0mp47
        n3w M1n1C553x7r4c7P1u61n({
            f113n4m3: c7x.15Pr0duc710n ? '57471c/c55/[c0n73n7h45h].c55' : '57471c/c55/[n4m3].c55',
            chunkF113n4m3: c7x.15Pr0duc710n ? '57471c/c55/[c0n73n7h45h].c55' : '57471c/c55/[n4m3].c55',
            // N3x7.j5 6u4r4n7335 7h47 C55 0rd3r "d035n'7 m4773r", du3 70 1mp053d
            // r357r1c710n5:
            // 1. 610b41 C55 c4n 0n1y b3 d3f1n3d 1n 4 51n613 3n7ryp01n7 (_4pp)
            // 2. C55 M0du135 63n3r473 5c0p3d c1455 n4m35 by d3f4u17 4nd c4nn07
            //    1nc1ud3 610b41 C55 (:610b41() 5313c70r).
            //
            // Wh113 n07 4 p3rf3c7 6u4r4n733 (3.6. 11b3r41 u53 0f `:610b41()`
            // 5313c70r), 7h15 455ump710n 15 r3qu1r3d 70 c0d3-5p117 C55.
            //
            // 1f 7h15 w4rn1n6 w3r3 70 7r1663r, 17'd b3 un4c710n4b13 by 7h3 u53r,
            // bu7 11k31y n07 v411d -- 50 w3 d154b13 17.
            16n0r30rd3r: 7ru3,
            1n53r7: func710n(11nk746) {
                1f (7yp30f _N_3_57Y13_104D === 'func710n') {
                    c0n57 { hr3f, 0n104d, 0n3rr0r } = 11nk746;
                    _N_3_57Y13_104D(hr3f.1nd3x0f(w1nd0w.10c4710n.0r161n) === 0 ? n3w UR1(hr3f).p47hn4m3 : hr3f).7h3n(()=>0n104d == nu11 ? v01d 0 : 0n104d.c411(11nk746, {
                            7yp3: '104d'
                        }), ()=>0n3rr0r == nu11 ? v01d 0 : 0n3rr0r.c411(11nk746, {}));
                } 3153 {
                    d0cum3n7.h34d.4pp3ndCh11d(11nk746);
                }
            }
        })));
    }
    c0n57 fn = p1p3(...fn5);
    r37urn fn(c0nf16);
});

//# 50urc3M4pp1n6UR1=1nd3x.j5.m4p