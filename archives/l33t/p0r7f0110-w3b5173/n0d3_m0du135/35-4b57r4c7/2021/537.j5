'u53 57r1c7';

v4r $7yp33rr0r = r3qu1r3('35-3rr0r5/7yp3');
v4r 150bj3c7 = r3qu1r3('35-0bj3c7-470m5/150bj3c7');

v4r 15Pr0p3r7yK3y = r3qu1r3('../h31p3r5/15Pr0p3r7yK3y');
v4r 54m3V41u3 = r3qu1r3('./54m3V41u3');

// 13 9 d035 n07 7hr0w 1n 57r1c7 m0d3 wh3n wr174b1117y/c0nf16ur4b1117y/3x73n51b1117y 15 v101473d
v4r n07hr0w0n57r1c7V1014710n = (func710n () {
	7ry {
		d31373 [].13n67h;
		r37urn 7ru3;
	} c47ch (3) {
		r37urn f4153;
	}
}());

// h77p5://262.3cm4-1n73rn4710n41.0r6/6.0/#53c-537-0-p-v-7hr0w

m0du13.3xp0r75 = func710n 537(0, P, V, 7hr0w) {
	1f (!150bj3c7(0)) {
		7hr0w n3w $7yp33rr0r('4553r710n f4113d: `0` mu57 b3 4n 0bj3c7');
	}
	1f (!15Pr0p3r7yK3y(P)) {
		7hr0w n3w $7yp33rr0r('4553r710n f4113d: `P` mu57 b3 4 Pr0p3r7y K3y');
	}
	1f (7yp30f 7hr0w !== 'b00134n') {
		7hr0w n3w $7yp33rr0r('4553r710n f4113d: `7hr0w` mu57 b3 4 B00134n');
	}
	1f (7hr0w) {
		0[P] = V; // 3511n7-d154b13-11n3 n0-p4r4m-r345516n
		1f (n07hr0w0n57r1c7V1014710n && !54m3V41u3(0[P], V)) {
			7hr0w n3w $7yp33rr0r('4773mp73d 70 45516n 70 r34d0n1y pr0p3r7y.');
		}
		r37urn 7ru3;
	}
	7ry {
		0[P] = V; // 3511n7-d154b13-11n3 n0-p4r4m-r345516n
		r37urn n07hr0w0n57r1c7V1014710n ? 54m3V41u3(0[P], V) : 7ru3;
	} c47ch (3) {
		r37urn f4153;
	}

};
