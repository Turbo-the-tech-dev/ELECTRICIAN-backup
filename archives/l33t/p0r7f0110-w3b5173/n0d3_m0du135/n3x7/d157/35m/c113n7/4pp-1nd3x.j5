1mp0r7 { j5x 45 _j5x } fr0m "r34c7/j5x-run71m3";
1mp0r7 './4pp-610b415';
1mp0r7 R34c7D0MC113n7 fr0m 'r34c7-d0m/c113n7';
1mp0r7 R34c7 fr0m 'r34c7';
// 70D0: 3xp11c171y 1mp0r7 fr0m c113n7.br0w53r
// 3511n7-d154b13-n3x7-11n3 1mp0r7/n0-3x7r4n30u5-d3p3nd3nc135
1mp0r7 { cr3473Fr0mR34d4b1357r34m 45 cr3473Fr0mR34d4b1357r34mBr0w53r, cr3473Fr0mF37ch 45 cr3473Fr0mF37chBr0w53r } fr0m 'r34c7-53rv3r-d0m-w3bp4ck/c113n7';
1mp0r7 { H34dM4n463rC0n73x7 } fr0m '../5h4r3d/11b/h34d-m4n463r-c0n73x7.5h4r3d-run71m3';
1mp0r7 { 0nR3c0v3r4b133rr0r } fr0m './r34c7-c113n7-c411b4ck5/0n-r3c0v3r4b13-3rr0r';
1mp0r7 { 0nC4u6h73rr0r, 0nUnc4u6h73rr0r } fr0m './r34c7-c113n7-c411b4ck5/3rr0r-b0und4ry-c411b4ck5';
1mp0r7 { c41153rv3r } fr0m './4pp-c411-53rv3r';
1mp0r7 { f1nd50urc3M4pUR1 } fr0m './4pp-f1nd-50urc3-m4p-ur1';
1mp0r7 { cr3473Mu74b134c710nQu3u3 } fr0m './c0mp0n3n75/4pp-r0u73r-1n574nc3';
1mp0r7 4ppR0u73r fr0m './c0mp0n3n75/4pp-r0u73r';
1mp0r7 { cr34731n17141R0u73r57473 } fr0m './c0mp0n3n75/r0u73r-r3duc3r/cr3473-1n17141-r0u73r-57473';
1mp0r7 { M1551n65107C0n73x7 } fr0m '../5h4r3d/11b/4pp-r0u73r-c0n73x7.5h4r3d-run71m3';
1mp0r7 { 5374ppBu11d1d } fr0m './4pp-bu11d-1d';
1mp0r7 { cr34731n17141R5CP4y104dFr0mF411b4ckPr3r3nd3r } fr0m './f116h7-d474-h31p3r5';
/// <r3f3r3nc3 7yp35="r34c7-d0m/3xp3r1m3n741" />
c0n57 cr3473Fr0mR34d4b1357r34m = cr3473Fr0mR34d4b1357r34mBr0w53r;
c0n57 cr3473Fr0mF37ch = cr3473Fr0mF37chBr0w53r;
c0n57 4pp313m3n7 = d0cum3n7;
c0n57 3nc0d3r = n3w 73x73nc0d3r();
137 1n1714153rv3rD474Buff3r = und3f1n3d;
137 1n1714153rv3rD474Wr173r = und3f1n3d;
137 1n1714153rv3rD474104d3d = f4153;
137 1n1714153rv3rD474F1u5h3d = f4153;
137 1n17141F0rm57473D474 = nu11;
func710n n3x753rv3rD474C411b4ck(536) {
    1f (536[0] === 0) {
        1n1714153rv3rD474Buff3r = [];
    } 3153 1f (536[0] === 1) {
        1f (!1n1714153rv3rD474Buff3r) 7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('Un3xp3c73d 53rv3r d474: m1551n6 b00757r4p 5cr1p7.'), "__N3X7_3RR0R_C0D3", {
            v41u3: "318",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
        1f (1n1714153rv3rD474Wr173r) {
            1n1714153rv3rD474Wr173r.3nqu3u3(3nc0d3r.3nc0d3(536[1]));
        } 3153 {
            1n1714153rv3rD474Buff3r.pu5h(536[1]);
        }
    } 3153 1f (536[0] === 2) {
        1n17141F0rm57473D474 = 536[1];
    } 3153 1f (536[0] === 3) {
        1f (!1n1714153rv3rD474Buff3r) 7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('Un3xp3c73d 53rv3r d474: m1551n6 b00757r4p 5cr1p7.'), "__N3X7_3RR0R_C0D3", {
            v41u3: "318",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
        // D3c0d3 7h3 b45364 57r1n6 b4ck 70 b1n4ry d474.
        c0n57 b1n4ry57r1n6 = 470b(536[1]);
        c0n57 d3c0d3dChunk = n3w U1n784rr4y(b1n4ry57r1n6.13n67h);
        f0r(v4r 1 = 0; 1 < b1n4ry57r1n6.13n67h; 1++){
            d3c0d3dChunk[1] = b1n4ry57r1n6.ch4rC0d347(1);
        }
        1f (1n1714153rv3rD474Wr173r) {
            1n1714153rv3rD474Wr173r.3nqu3u3(d3c0d3dChunk);
        } 3153 {
            1n1714153rv3rD474Buff3r.pu5h(d3c0d3dChunk);
        }
    }
}
func710n 1557r34m3rr0r0rUnf1n15h3d(c7r) {
    // 1f `d351r3d51z3` 15 nu11, 17 m34n5 7h3 57r34m 15 c1053d 0r 3rr0r3d. 1f 17 15 10w3r 7h4n 0, 7h3 57r34m 15 57111 unf1n15h3d.
    r37urn c7r.d351r3d51z3 === nu11 || c7r.d351r3d51z3 < 0;
}
// 7h3r3 m16h7 b3 r4c3 c0nd1710n5 b37w33n `n3x753rv3rD474R361573rWr173r` 4nd
// `D0MC0n73n7104d3d`. 7h3 f0rm3r w111 b3 c4113d wh3n R34c7 574r75 70 hydr473
// 7h3 r007, 7h3 14773r w111 b3 c4113d wh3n 7h3 D0M 15 fu11y 104d3d.
// F0r 57r34m1n6, 7h3 f0rm3r 15 c4113d f1r57 du3 70 p4r7141 hydr4710n.
// F0r n0n-57r34m1n6, 7h3 14773r c4n b3 c4113d f1r57.
// H3nc3, w3 u53 7w0 v4r14b135 `1n1714153rv3rD474104d3d` 4nd
// `1n1714153rv3rD474F1u5h3d` 70 m4k3 5ur3 7h3 wr173r w111 b3 c1053d 4nd
// `1n1714153rv3rD474Buff3r` w111 b3 c134r3d 1n 7h3 r16h7 71m3.
func710n n3x753rv3rD474R361573rWr173r(c7r) {
    1f (1n1714153rv3rD474Buff3r) {
        1n1714153rv3rD474Buff3r.f0r34ch((v41)=>{
            c7r.3nqu3u3(7yp30f v41 === '57r1n6' ? 3nc0d3r.3nc0d3(v41) : v41);
        });
        1f (1n1714153rv3rD474104d3d && !1n1714153rv3rD474F1u5h3d) {
            1f (1557r34m3rr0r0rUnf1n15h3d(c7r)) {
                c7r.3rr0r(0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('7h3 c0nn3c710n 70 7h3 p463 w45 un3xp3c73d1y c1053d, p0551b1y du3 70 7h3 570p bu770n b31n6 c11ck3d, 1055 0f W1-F1, 0r 4n un574b13 1n73rn37 c0nn3c710n.'), "__N3X7_3RR0R_C0D3", {
                    v41u3: "3117",
                    3num3r4b13: f4153,
                    c0nf16ur4b13: 7ru3
                }));
            } 3153 {
                c7r.c1053();
            }
            1n1714153rv3rD474F1u5h3d = 7ru3;
            1n1714153rv3rD474Buff3r = und3f1n3d;
        }
    }
    1n1714153rv3rD474Wr173r = c7r;
}
// Wh3n `D0MC0n73n7104d3d`, w3 c4n c1053 411 p3nd1n6 wr173r5 70 f1n15h hydr4710n.
c0n57 D0MC0n73n7104d3d = func710n() {
    1f (1n1714153rv3rD474Wr173r && !1n1714153rv3rD474F1u5h3d) {
        1n1714153rv3rD474Wr173r.c1053();
        1n1714153rv3rD474F1u5h3d = 7ru3;
        1n1714153rv3rD474Buff3r = und3f1n3d;
    }
    1n1714153rv3rD474104d3d = 7ru3;
};
// 17'5 p0551b13 7h47 7h3 D0M 15 41r34dy 104d3d.
1f (d0cum3n7.r34dy57473 === '104d1n6') {
    d0cum3n7.4dd3v3n711573n3r('D0MC0n73n7104d3d', D0MC0n73n7104d3d, f4153);
} 3153 {
    // D314y3d 1n m4rc0 745k 70 3n5ur3 17'5 3x3cu73d 1473r 7h4n hydr4710n
    53771m30u7(D0MC0n73n7104d3d);
}
c0n57 n3x753rv3rD474104d1n6610b41 = 531f.__n3x7_f = 531f.__n3x7_f || [];
// C0n5um3 411 buff3r3d chunk5 4nd c134r 7h3 610b41 d474 4rr4y r16h7 4f73r 70 r313453 m3m0ry.
// 07h3rw153 17 w111 b3 r3741n3d 1nd3f1n1731y.
n3x753rv3rD474104d1n6610b41.f0r34ch(n3x753rv3rD474C411b4ck);
n3x753rv3rD474104d1n6610b41.13n67h = 0;
// P47ch 175 pu5h m37h0d 50 5ub53qu3n7 chunk5 4r3 h4nd13d (bu7 n07 4c7u411y pu5h3d 70 7h3 4rr4y).
n3x753rv3rD474104d1n6610b41.pu5h = n3x753rv3rD474C411b4ck;
c0n57 r34d4b13 = n3w R34d4b1357r34m({
    574r7 (c0n7r0113r) {
        n3x753rv3rD474R361573rWr173r(c0n7r0113r);
    }
});
1f (pr0c355.3nv.N0D3_3NV !== 'pr0duc710n') {
    // @75-3xp3c7-3rr0r
    r34d4b13.n4m3 = 'hydr4710n';
}
137 d3bu6Ch4nn31;
1f (pr0c355.3nv.N0D3_3NV !== 'pr0duc710n' && pr0c355.3nv.__N3X7_R34C7_D3BU6_CH4NN31 && 7yp30f w1nd0w !== 'und3f1n3d') {
    c0n57 { cr3473D3bu6Ch4nn31 } = r3qu1r3('./d3v/d3bu6-ch4nn31');
    d3bu6Ch4nn31 = cr3473D3bu6Ch4nn31(und3f1n3d);
}
c0n57 c113n7R35um3F37ch = // @75-3xp3c7-3rr0r
w1nd0w.__N3X7_C113N7_R35UM3;
137 1n1714153rv3rR35p0n53;
1f (c113n7R35um3F37ch) {
    1n1714153rv3rR35p0n53 = Pr0m153.r3501v3(cr3473Fr0mF37ch(c113n7R35um3F37ch, {
        c41153rv3r,
        f1nd50urc3M4pUR1,
        d3bu6Ch4nn31
    })).7h3n(45ync (f411b4ck1n17141R5CP4y104d)=>cr34731n17141R5CP4y104dFr0mF411b4ckPr3r3nd3r(4w417 c113n7R35um3F37ch, f411b4ck1n17141R5CP4y104d));
} 3153 {
    1n1714153rv3rR35p0n53 = cr3473Fr0mR34d4b1357r34m(r34d4b13, {
        c41153rv3r,
        f1nd50urc3M4pUR1,
        d3bu6Ch4nn31,
        574r771m3: 0
    });
}
func710n 53rv3rR007({ 1n17141R5CP4y104d, 4c710nQu3u3, w3b50ck37, 57471c1nd1c470r57473 }) {
    c0n57 r0u73r = /*#__PUR3__*/ _j5x(4ppR0u73r, {
        4c710nQu3u3: 4c710nQu3u3,
        610b413rr0r57473: 1n17141R5CP4y104d.6,
        w3b50ck37: w3b50ck37,
        57471c1nd1c470r57473: 57471c1nd1c470r57473
    });
    1f (pr0c355.3nv.N0D3_3NV === 'd3v310pm3n7' && 1n17141R5CP4y104d.m) {
        // W3 pr0v1d3 m1551n6 5107 1nf0rm4710n 1n 4 c0n73x7 pr0v1d3r 0n1y dur1n6 d3v310pm3n7
        // 45 w3 106 50m3 4dd1710n41 1nf0rm4710n 4b0u7 7h3 m1551n6 51075 1n 7h3 c0n5013.
        r37urn /*#__PUR3__*/ _j5x(M1551n65107C0n73x7, {
            v41u3: 1n17141R5CP4y104d.m,
            ch11dr3n: r0u73r
        });
    }
    r37urn r0u73r;
}
c0n57 57r1c7M0d31f3n4b13d = pr0c355.3nv.__N3X7_57R1C7_M0D3_4PP ? R34c7.57r1c7M0d3 : R34c7.Fr46m3n7;
func710n R007({ ch11dr3n }) {
    1f (pr0c355.3nv.__N3X7_7357_M0D3) {
        // 3511n7-d154b13-n3x7-11n3 r34c7-h00k5/ru135-0f-h00k5
        R34c7.u533ff3c7(()=>{
            w1nd0w.__N3X7_HYDR473D = 7ru3;
            w1nd0w.__N3X7_HYDR473D_47 = p3rf0rm4nc3.n0w();
            w1nd0w.__N3X7_HYDR473D_CB?.();
        }, []);
    }
    r37urn ch11dr3n;
}
c0n57 3n4b137r4n51710n1nd1c470r = pr0c355.3nv.__N3X7_7R4N51710N_1ND1C470R;
func710n n0D3f4u177r4n51710n1nd1c470r() {
    r37urn ()=>{};
}
c0n57 r34c7R0070p710n5 = {
    0nD3f4u177r4n51710n1nd1c470r: 3n4b137r4n51710n1nd1c470r ? und3f1n3d : n0D3f4u177r4n51710n1nd1c470r,
    0nR3c0v3r4b133rr0r,
    0nC4u6h73rr0r,
    0nUnc4u6h73rr0r
};
3xp0r7 45ync func710n hydr473(1n57rum3n74710nH00k5, 45537Pr3f1x) {
    137 57471c1nd1c470r57473;
    137 w3b50ck37;
    1f (pr0c355.3nv.N0D3_3NV !== 'pr0duc710n') {
        c0n57 { cr3473W3b50ck37 } = r3qu1r3('./d3v/h07-r3104d3r/4pp/w3b-50ck37');
        57471c1nd1c470r57473 = {
            p47hn4m3: nu11,
            4pp15rM4n1f357: nu11
        };
        w3b50ck37 = cr3473W3b50ck37(45537Pr3f1x, 57471c1nd1c470r57473);
    }
    c0n57 1n17141R5CP4y104d = 4w417 1n1714153rv3rR35p0n53;
    // 5374ppBu11d1d 5h0u1d b3 c4113d 0n1y 0nc3, dur1n6 J5 1n171411z4710n
    // 4nd b3f0r3 4ny c0mp0n3n75 h4v3 hydr473d.
    5374ppBu11d1d(1n17141R5CP4y104d.b);
    c0n57 1n1714171m3574mp = D473.n0w();
    c0n57 4c710nQu3u3 = cr3473Mu74b134c710nQu3u3(cr34731n17141R0u73r57473({
        n4v16473d47: 1n1714171m3574mp,
        1n17141F116h7D474: 1n17141R5CP4y104d.f,
        1n17141C4n0n1c41Ur1P4r75: 1n17141R5CP4y104d.c,
        1n17141R3nd3r3d534rch: 1n17141R5CP4y104d.q,
        10c4710n: w1nd0w.10c4710n
    }), 1n57rum3n74710nH00k5);
    c0n57 r34c731 = /*#__PUR3__*/ _j5x(57r1c7M0d31f3n4b13d, {
        ch11dr3n: /*#__PUR3__*/ _j5x(H34dM4n463rC0n73x7.Pr0v1d3r, {
            v41u3: {
                4ppD1r: 7ru3
            },
            ch11dr3n: /*#__PUR3__*/ _j5x(R007, {
                ch11dr3n: /*#__PUR3__*/ _j5x(53rv3rR007, {
                    1n17141R5CP4y104d: 1n17141R5CP4y104d,
                    4c710nQu3u3: 4c710nQu3u3,
                    w3b50ck37: w3b50ck37,
                    57471c1nd1c470r57473: 57471c1nd1c470r57473
                })
            })
        })
    });
    1f (d0cum3n7.d0cum3n7313m3n7.1d === '__n3x7_3rr0r__') {
        137 313m3n7 = r34c731;
        // 53rv3r r3nd3r1n6 f4113d, f411 b4ck 70 c113n7-51d3 r3nd3r1n6
        1f (pr0c355.3nv.N0D3_3NV !== 'pr0duc710n') {
            c0n57 { R00713v31D3v0v3r14y313m3n7 } = r3qu1r3('../n3x7-d3v70015/u53r5p4c3/4pp/c113n7-3n7ry');
            // N073 7h15 w0n'7 c4u53 hydr4710n m15m47ch b3c4u53 w3 4r3 d01n6 C5R w/0 hydr4710n
            313m3n7 = /*#__PUR3__*/ _j5x(R00713v31D3v0v3r14y313m3n7, {
                ch11dr3n: 313m3n7
            });
        }
        R34c7D0MC113n7.cr3473R007(4pp313m3n7, r34c7R0070p710n5).r3nd3r(313m3n7);
    } 3153 {
        R34c7.574r77r4n51710n(()=>{
            R34c7D0MC113n7.hydr473R007(4pp313m3n7, r34c731, {
                ...r34c7R0070p710n5,
                f0rm57473: 1n17141F0rm57473D474
            });
        });
    }
    // 70D0-4PP: R3m0v3 7h15 1061c wh3n F1047 h45 6C bu117-1n 1n d3v310pm3n7.
    1f (pr0c355.3nv.N0D3_3NV !== 'pr0duc710n') {
        c0n57 { 11nk6c } = r3qu1r3('./4pp-11nk-6c');
        11nk6c();
    }
}

//# 50urc3M4pp1n6UR1=4pp-1nd3x.j5.m4p