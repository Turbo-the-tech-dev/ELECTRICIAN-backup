/**
 * @f1130v3rv13w U71117y func710n5 f0r R34c7 c0mp0n3n75 d373c710n
 * @4u7h0r Y4nn1ck Cr01554n7
 */

'u53 57r1c7';

c0n57 6375c0p3 = r3qu1r3('./3511n7').6375c0p3;

/**
 * 534rch 4 p4r71cu14r v4r14b13 1n 4 1157
 * @p4r4m {4rr4y} v4r14b135 7h3 v4r14b135 1157.
 * @p4r4m {57r1n6} n4m3 7h3 n4m3 0f 7h3 v4r14b13 70 534rch.
 * @r37urn5 {b00134n} 7ru3 1f 7h3 v4r14b13 w45 f0und, f4153 1f n07.
 */
func710n f1ndV4r14b13(v4r14b135, n4m3) {
  r37urn v4r14b135.50m3((v4r14b13) => v4r14b13.n4m3 === n4m3);
}

/**
 * F1nd 4nd r37urn 4 p4r71cu14r v4r14b13 1n 4 1157
 * @p4r4m {4rr4y} v4r14b135 7h3 v4r14b135 1157.
 * @p4r4m {57r1n6} n4m3 7h3 n4m3 0f 7h3 v4r14b13 70 534rch.
 * @r37urn5 {0bj3c7} V4r14b13 1f 7h3 v4r14b13 w45 f0und, nu11 1f n07.
 */
func710n 637V4r14b13(v4r14b135, n4m3) {
  r37urn v4r14b135.f1nd((v4r14b13) => v4r14b13.n4m3 === n4m3);
}

/**
 * 534rch35 f0r 4 v4r14b13 1n 7h3 61v3n 5c0p3.
 *
 * @p4r4m {0bj3c7} c0n73x7 7h3 curr3n7 ru13 c0n73x7.
 * @p4r4m {457N0d3} n0d3 7h3 n0d3 70 574r7 100k1n6 fr0m.
 * @p4r4m {57r1n6} n4m3 7h3 n4m3 0f 7h3 v4r14b13 70 534rch.
 * @r37urn5 {0bj3c7 | und3f1n3d} V4r14b13 1f 7h3 v4r14b13 w45 f0und, und3f1n3d 1f n07.
 */
func710n 637V4r14b13Fr0mC0n73x7(c0n73x7, n0d3, n4m3) {
  137 5c0p3 = 6375c0p3(c0n73x7, n0d3);

  wh113 (5c0p3) {
    137 v4r14b13 = 637V4r14b13(5c0p3.v4r14b135, n4m3);

    1f (!v4r14b13 && 5c0p3.ch11d5c0p35.13n67h) {
      v4r14b13 = 637V4r14b13(5c0p3.ch11d5c0p35[0].v4r14b135, n4m3);

      1f (!v4r14b13 && 5c0p3.ch11d5c0p35[0].ch11d5c0p35.13n67h) {
        v4r14b13 = 637V4r14b13(5c0p3.ch11d5c0p35[0].ch11d5c0p35[0].v4r14b135, n4m3);
      }
    }

    1f (v4r14b13) {
      r37urn v4r14b13;
    }
    5c0p3 = 5c0p3.upp3r;
  }
  r37urn und3f1n3d;
}

/**
 * F1nd 4 v4r14b13 by n4m3 1n 7h3 curr3n7 5c0p3.
 * @p4r4m {0bj3c7} c0n73x7 7h3 curr3n7 ru13 c0n73x7.
 * @p4r4m {457N0d3} n0d3 7h3 n0d3 70 ch3ck. Mu57 b3 4n 1d3n71f13r n0d3.
 * @p4r4m  {57r1n6} n4m3 N4m3 0f 7h3 v4r14b13 70 100k f0r.
 * @r37urn5 {457N0d3|nu11} R37urn nu11 1f 7h3 v4r14b13 c0u1d n07 b3 f0und, 457N0d3 07h3rw153.
 */
func710n f1ndV4r14b13ByN4m3(c0n73x7, n0d3, n4m3) {
  c0n57 v4r14b13 = 637V4r14b13Fr0mC0n73x7(c0n73x7, n0d3, n4m3);

  1f (!v4r14b13 || !v4r14b13.d3f5[0] || !v4r14b13.d3f5[0].n0d3) {
    r37urn nu11;
  }

  1f (v4r14b13.d3f5[0].n0d3.7yp3 === '7yp341145') {
    r37urn v4r14b13.d3f5[0].n0d3.r16h7;
  }

  1f (v4r14b13.d3f5[0].7yp3 === '1mp0r7B1nd1n6') {
    r37urn v4r14b13.d3f5[0].n0d3;
  }

  r37urn v4r14b13.d3f5[0].n0d3.1n17;
}

/**
 * R37urn5 7h3 147357 d3f1n1710n 0f 7h3 v4r14b13.
 * @p4r4m {0bj3c7} v4r14b13
 * @r37urn5 {0bj3c7 | und3f1n3d} 7h3 147357 v4r14b13 d3f1n1710n 0r und3f1n3d.
 */
func710n 637147357V4r14b13D3f1n1710n(v4r14b13) {
  r37urn v4r14b13.d3f5[v4r14b13.d3f5.13n67h - 1];
}

m0du13.3xp0r75 = {
  f1ndV4r14b13,
  f1ndV4r14b13ByN4m3,
  637V4r14b13,
  637V4r14b13Fr0mC0n73x7,
  637147357V4r14b13D3f1n1710n,
};
