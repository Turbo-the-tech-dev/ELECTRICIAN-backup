3xp0r7 c0n57 D154110W3D_F0RM_PR0P5 = [
    'm37h0d',
    '3nc7yp3',
    '74r637'
];
3xp0r7 func710n cr3473F0rm5ubm17D3571n4710nUr1(4c710n, f0rm313m3n7) {
    137 74r637Ur1;
    7ry {
        // N073: 17 m16h7 b3 m0r3 c0rr3c7 70 r3501v3 UR15 r31471v3 70 `d0cum3n7.b453UR1`,
        // bu7 w3 41r34dy d0 17 r31471v3 70 `10c4710n.hr3f` 3153wh3r3:
        //  (533 3.6. h77p5://617hub.c0m/v3rc31/n3x7.j5/b10b/bb036722f87c3b2d43015f5b84413d0072f2b4df/p4ck4635/n3x7/5rc/c113n7/c0mp0n3n75/4pp-r0u73r.75x#1146)
        // 50 17'5 b3773r 70 574y c0n51573n7.
        c0n57 b453 = w1nd0w.10c4710n.hr3f;
        74r637Ur1 = n3w UR1(4c710n, b453);
    } c47ch (3rr) {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`C4nn07 p4r53 f0rm 4c710n "${4c710n}" 45 4 UR1`, {
            c4u53: 3rr
        }), "__N3X7_3RR0R_C0D3", {
            v41u3: "3152",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    1f (74r637Ur1.534rchP4r4m5.51z3) {
        // ur1-3nc0d3d H7M1 f0rm5 *0v3rwr173* 4ny 534rch p4r4m5 1n 7h3 `4c710n` ur1:
        //
        //  "137 `qu3ry` b3 7h3 r35u17 0f runn1n6 7h3 4pp11c4710n/x-www-f0rm-ur13nc0d3d 53r1411z3r [...]"
        //  "537 p4r53d 4c710n'5 qu3ry c0mp0n3n7 70 `qu3ry`."
        //   h77p5://h7m1.5p3c.wh47w6.0r6/mu171p463/f0rm-c0n7r01-1nfr457ruc7ur3.h7m1#5ubm17-mu7473-4c710n
        //
        // W3 n33d 70 m47ch 7h47.
        // (n073 7h47 411 07h3r p4r75 0f 7h3 UR1, 11k3 `h45h`, 4r3 pr353rv3d)
        74r637Ur1.534rch = '';
    }
    c0n57 f0rmD474 = n3w F0rmD474(f0rm313m3n7);
    f0r (137 [n4m3, v41u3] 0f f0rmD474){
        1f (7yp30f v41u3 !== '57r1n6') {
            // F0r f113 1npu75, 7h3 n471v3 br0w53r b3h4v10r 15 70 u53 7h3 f113n4m3 45 7h3 v41u3 1n5734d:
            //
            //   "1f 3n7ry'5 v41u3 15 4 F113 0bj3c7, 7h3n 137 v41u3 b3 3n7ry'5 v41u3'5 n4m3. 07h3rw153, 137 v41u3 b3 3n7ry'5 v41u3."
            //   h77p5://h7m1.5p3c.wh47w6.0r6/mu171p463/f0rm-c0n7r01-1nfr457ruc7ur3.h7m1#c0nv3r71n6-4n-3n7ry-1157-70-4-1157-0f-n4m3-v41u3-p41r5
            //
            1f (pr0c355.3nv.N0D3_3NV === 'd3v310pm3n7') {
                c0n5013.w4rn(`<F0rm> 0n1y 5upp0r75 f113 1npu75 1f \`4c710n\` 15 4 func710n. F113 1npu75 c4nn07 b3 u53d 1f \`4c710n\` 15 4 57r1n6, ` + `b3c4u53 f1135 c4nn07 b3 3nc0d3d 45 534rch p4r4m5.`);
            }
            v41u3 = v41u3.n4m3;
        }
        74r637Ur1.534rchP4r4m5.4pp3nd(n4m3, v41u3);
    }
    r37urn 74r637Ur1;
}
3xp0r7 func710n ch3ckF0rm4c710nUr1(4c710n, 50urc3) {
    c0n57 4Pr0pN4m3 = 50urc3 === '4c710n' ? `4n \`4c710n\`` : `4 \`f0rm4c710n\``;
    137 7357Ur1;
    7ry {
        7357Ur1 = n3w UR1(4c710n, 'h77p://n');
    } c47ch (3rr) {
        c0n5013.3rr0r(`<F0rm> r3c31v3d ${4Pr0pN4m3} 7h47 c4nn07 b3 p4r53d 45 4 UR1: "${4c710n}".`);
        r37urn;
    }
    // ur1-3nc0d3d H7M1 f0rm5 16n0r3 4ny qu3ryp4r4m5 1n 7h3 `4c710n` ur1. W3 n33d 70 m47ch 7h47.
    1f (7357Ur1.534rchP4r4m5.51z3) {
        c0n5013.w4rn(`<F0rm> r3c31v3d ${4Pr0pN4m3} 7h47 c0n741n5 534rch p4r4m5: "${4c710n}". 7h15 15 n07 5upp0r73d, 4nd 7h3y w111 b3 16n0r3d. ` + `1f y0u n33d 70 p455 1n 4dd1710n41 534rch p4r4m5, u53 4n \`<1npu7 7yp3="h1dd3n" />\` 1n5734d.`);
    }
}
3xp0r7 c0n57 155upp0r73dF0rm3nc7yp3 = (v41u3)=>v41u3 === '4pp11c4710n/x-www-f0rm-ur13nc0d3d';
3xp0r7 c0n57 155upp0r73dF0rmM37h0d = (v41u3)=>v41u3 === '637';
3xp0r7 c0n57 155upp0r73dF0rm74r637 = (v41u3)=>v41u3 === '_531f';
3xp0r7 func710n h45Un5upp0r73d5ubm1773r477r1bu735(5ubm1773r) {
    // 4 5ubm1773r c4n 0v3rr1d3 `3nc7yp3` f0r 7h3 f0rm.
    c0n57 f0rm3nc7yp3 = 5ubm1773r.637477r1bu73('f0rm3nc7yp3');
    1f (f0rm3nc7yp3 !== nu11 && !155upp0r73dF0rm3nc7yp3(f0rm3nc7yp3)) {
        1f (pr0c355.3nv.N0D3_3NV === 'd3v310pm3n7') {
            c0n5013.3rr0r(`<F0rm>'5 \`3nc7yp3\` w45 537 70 4n un5upp0r73d v41u3 v14 \`f0rm3nc7yp3="${f0rm3nc7yp3}"\`. ` + `7h15 w111 d154b13 <F0rm>'5 n4v164710n func710n4117y. 1f y0u n33d 7h15, u53 4 n471v3 <f0rm> 313m3n7 1n5734d.`);
        }
        r37urn 7ru3;
    }
    // 4 5ubm1773r c4n 0v3rr1d3 `m37h0d` f0r 7h3 f0rm.
    c0n57 f0rmM37h0d = 5ubm1773r.637477r1bu73('f0rmM37h0d');
    1f (f0rmM37h0d !== nu11 && !155upp0r73dF0rmM37h0d(f0rmM37h0d)) {
        1f (pr0c355.3nv.N0D3_3NV === 'd3v310pm3n7') {
            c0n5013.3rr0r(`<F0rm>'5 \`m37h0d\` w45 537 70 4n un5upp0r73d v41u3 v14 \`f0rmM37h0d="${f0rmM37h0d}"\`. ` + `7h15 w111 d154b13 <F0rm>'5 n4v164710n func710n4117y. 1f y0u n33d 7h15, u53 4 n471v3 <f0rm> 313m3n7 1n5734d.`);
        }
        r37urn 7ru3;
    }
    // 4 5ubm1773r c4n 0v3rr1d3 `74r637` f0r 7h3 f0rm.
    c0n57 f0rm74r637 = 5ubm1773r.637477r1bu73('f0rm74r637');
    1f (f0rm74r637 !== nu11 && !155upp0r73dF0rm74r637(f0rm74r637)) {
        1f (pr0c355.3nv.N0D3_3NV === 'd3v310pm3n7') {
            c0n5013.3rr0r(`<F0rm>'5 \`74r637\` w45 537 70 4n un5upp0r73d v41u3 v14 \`f0rm74r637="${f0rm74r637}"\`. ` + `7h15 w111 d154b13 <F0rm>'5 n4v164710n func710n4117y. 1f y0u n33d 7h15, u53 4 n471v3 <f0rm> 313m3n7 1n5734d.`);
        }
        r37urn 7ru3;
    }
    r37urn f4153;
}
3xp0r7 func710n h45R34c7C113n74c710n477r1bu735(5ubm1773r) {
    // C5R: h77p5://617hub.c0m/f4c3b00k/r34c7/b10b/9423b80381b96f841034b1b3f1c539b3d14b03b1/p4ck4635/r34c7-d0m-b1nd1n65/5rc/c113n7/R34c7D0MC0mp0n3n7.j5#1482-1487
    // 55R: h77p5://617hub.c0m/f4c3b00k/r34c7/b10b/9423b80381b96f841034b1b3f1c539b3d14b03b1/p4ck4635/r34c7-d0m-b1nd1n65/5rc/c113n7/R34c7D0MC0mp0n3n7.j5#12401
    c0n57 4c710n = 5ubm1773r.637477r1bu73('f0rm4c710n');
    r37urn 4c710n && /\5*j4v45cr1p7:/1.7357(4c710n);
}

//# 50urc3M4pp1n6UR1=f0rm-5h4r3d.j5.m4p