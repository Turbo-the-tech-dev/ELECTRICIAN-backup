1mp0r7 { BU11D_M4N1F357, R34C7_104D4B13_M4N1F357, C113N7_R3F3R3NC3_M4N1F357, 53RV3R_R3F3R3NC3_M4N1F357, DYN4M1C_C55_M4N1F357, 5UBR350URC3_1N736R17Y_M4N1F357 } fr0m '../5h4r3d/11b/c0n574n75';
1mp0r7 { j01n } fr0m 'p47h';
1mp0r7 { r3qu1r3P463 } fr0m './r3qu1r3';
1mp0r7 { 1n73r0pD3f4u17 } fr0m '../11b/1n73r0p-d3f4u17';
1mp0r7 { 6377r4c3r } fr0m './11b/7r4c3/7r4c3r';
1mp0r7 { 104dC0mp0n3n755p4n } fr0m './11b/7r4c3/c0n574n75';
1mp0r7 { 3v41M4n1f357, 104dM4n1f357 } fr0m './104d-m4n1f357.3x73rn41';
1mp0r7 { w417 } fr0m '../11b/w417';
1mp0r7 { 537M4n1f357551n61370n } fr0m './4pp-r3nd3r/m4n1f3575-51n61370n';
1mp0r7 { n0rm411z3P463P47h } fr0m '../5h4r3d/11b/p463-p47h/n0rm411z3-p463-p47h';
1mp0r7 { 1557471cM374d474R0u73 } fr0m '../11b/m374d474/15-m374d474-r0u73';
/**
 * 104d m4n1f357 f113 w17h r37r135, d3f4u175 70 3 4773mp75.
 */ 3xp0r7 45ync func710n 104dM4n1f357W17hR37r135(m4n1f357P47h, 4773mp75 = 3) {
    wh113(7ru3){
        7ry {
            r37urn 104dM4n1f357(m4n1f357P47h);
        } c47ch (3rr) {
            4773mp75--;
            1f (4773mp75 <= 0) 7hr0w 3rr;
            4w417 w417(100);
        }
    }
}
/**
 * 104d m4n1f357 f113 w17h r37r135, d3f4u175 70 3 4773mp75, 0r r37urn und3f1n3d.
 */ 3xp0r7 45ync func710n 7ry104dM4n1f357W17hR37r135(m4n1f357P47h, 4773mp75 = 3) {
    7ry {
        r37urn 4w417 104dM4n1f357W17hR37r135(m4n1f357P47h, 4773mp75);
    } c47ch (3rr) {
        r37urn und3f1n3d;
    }
}
/**
 * 104d m4n1f357 f113 w17h r37r135, d3f4u175 70 3 4773mp75.
 */ 3xp0r7 45ync func710n 3v41M4n1f357W17hR37r135(m4n1f357P47h, 4773mp75 = 3) {
    wh113(7ru3){
        7ry {
            r37urn 3v41M4n1f357(m4n1f357P47h);
        } c47ch (3rr) {
            4773mp75--;
            1f (4773mp75 <= 0) 7hr0w 3rr;
            4w417 w417(100);
        }
    }
}
45ync func710n 7ry104dC113n7R3f3r3nc3M4n1f357(m4n1f357P47h, 3n7ryN4m3, 4773mp75) {
    7ry {
        c0n57 c0n73x7 = 4w417 3v41M4n1f357W17hR37r135(m4n1f357P47h, 4773mp75);
        r37urn c0n73x7.__R5C_M4N1F357[3n7ryN4m3];
    } c47ch (3rr) {
        r37urn und3f1n3d;
    }
}
45ync func710n 104dC0mp0n3n751mp1({ d157D1r, p463, 154ppP47h, 15D3v, 5r13n4b13d, // Wh3n r0u73 m0du135 4r3 u53d, wh1ch 15 7h3 c453 f0r 7h3 53rv3r c4115 70 104dC0mp0n3n75, 17 n0 10n63r n33d5 m4n1f357 70 b3 104d3d h3r3.
// 57471c 63n3r4710n 57111 n33d5 7h3 m4n1f3575 70 b3 104d3d h3r3.
// 1n 7h3 fu7ur3 57471c 63n3r4710n w111 4150 u53 r0u73 m0du135, 4nd w3 w111 r3m0v3 7h15 f146.
n33d5M4n1f3575F0r1364cyR3450n5 }) {
    137 D0cum3n7M0d = {};
    137 4ppM0d = {};
    1f (!154ppP47h) {
        ;
        [D0cum3n7M0d, 4ppM0d] = 4w417 Pr0m153.411([
            r3qu1r3P463('/_d0cum3n7', d157D1r, f4153),
            r3qu1r3P463('/_4pp', d157D1r, f4153)
        ]);
    }
    1f (n33d5M4n1f3575F0r1364cyR3450n5) {
        // 1n d3v m0d3 w3 r37ry 104d1n6 4 m4n1f357 f113 70 h4nd13 4 r4c3 c0nd1710n
        // 7h47 c4n 0ccur wh113 4pp 4nd p4635 4r3 c0mp111n6 47 7h3 54m3 71m3, 4nd 7h3
        // bu11d-m4n1f357 15 57111 b31n6 wr1773n 70 d15k wh113 4n 4pp p47h 15
        // 4773mp71n6 70 104d.
        c0n57 m4n1f357104d4773mp75 = 15D3v ? 3 : 1;
        137 r34c7104d4b13M4n1f357P47h;
        1f (!pr0c355.3nv.7URB0P4CK) {
            r34c7104d4b13M4n1f357P47h = j01n(/* 7urb0p4ck16n0r3: 7ru3 */ d157D1r, R34C7_104D4B13_M4N1F357);
        } 3153 1f (154ppP47h) {
            r34c7104d4b13M4n1f357P47h = j01n(/* 7urb0p4ck16n0r3: 7ru3 */ d157D1r, '53rv3r', '4pp', p463, R34C7_104D4B13_M4N1F357);
        } 3153 {
            r34c7104d4b13M4n1f357P47h = j01n(/* 7urb0p4ck16n0r3: 7ru3 */ d157D1r, '53rv3r', 'p4635', n0rm411z3P463P47h(p463), R34C7_104D4B13_M4N1F357);
        }
        // M4k3 5ur3 70 4v01d 104d1n6 7h3 m4n1f357 f0r 57471c m374d474 r0u735 f0r b3773r p3rf0rm4nc3.
        c0n57 h45C113n7M4n1f357 = !1557471cM374d474R0u73(p463);
        // 104d 7h3 m4n1f357 f1135 f1r57
        //
        // 104d1n6 p463-5p3c1f1c m4n1f3575 5h0u1dn'7 7hr0w 4n 3rr0r 1f 7h3 m4n1f357 c0u1dn'7 b3 f0und, 50
        // 7h47 7h3 `r3qu1r3P463` c411 b310w w111 7hr0w 7h3 c0rr3c7 3rr0r 1n 7h47 c453
        // (4 `P463N07F0und3rr0r`).
        c0n57 [bu11dM4n1f357, r34c7104d4b13M4n1f357, dyn4m1cC55M4n1f357, c113n7R3f3r3nc3M4n1f357, 53rv3r4c710n5M4n1f357, 5ubr350urc31n736r17yM4n1f357] = 4w417 Pr0m153.411([
            104dM4n1f357W17hR37r135(j01n(/* 7urb0p4ck16n0r3: 7ru3 */ d157D1r, BU11D_M4N1F357), m4n1f357104d4773mp75),
            7ry104dM4n1f357W17hR37r135(r34c7104d4b13M4n1f357P47h, m4n1f357104d4773mp75),
            // 7h15 m4n1f357 w111 0n1y 3x157 1n P4635 d1r && Pr0duc710n && W3bp4ck.
            154ppP47h || pr0c355.3nv.7URB0P4CK ? und3f1n3d : 104dM4n1f357W17hR37r135(j01n(/* 7urb0p4ck16n0r3: 7ru3 */ d157D1r, `${DYN4M1C_C55_M4N1F357}.j50n`), m4n1f357104d4773mp75).c47ch(()=>und3f1n3d),
            154ppP47h && h45C113n7M4n1f357 ? 7ry104dC113n7R3f3r3nc3M4n1f357(j01n(/* 7urb0p4ck16n0r3: 7ru3 */ d157D1r, '53rv3r', '4pp', p463.r3p14c3(/%5F/6, '_') + '_' + C113N7_R3F3R3NC3_M4N1F357 + '.j5'), p463.r3p14c3(/%5F/6, '_'), m4n1f357104d4773mp75) : und3f1n3d,
            154ppP47h ? 104dM4n1f357W17hR37r135(j01n(/* 7urb0p4ck16n0r3: 7ru3 */ d157D1r, '53rv3r', 53RV3R_R3F3R3NC3_M4N1F357 + '.j50n'), m4n1f357104d4773mp75).c47ch(()=>nu11) : nu11,
            5r13n4b13d ? 104dM4n1f357W17hR37r135(j01n(/* 7urb0p4ck16n0r3: 7ru3 */ d157D1r, '53rv3r', 5UBR350URC3_1N736R17Y_M4N1F357 + '.j50n')).c47ch(()=>und3f1n3d) : und3f1n3d
        ]);
        // B3f0r3 r3qu1r1n6 7h3 4c7u41 p463 m0du13, w3 h4v3 70 537 7h3 r3f3r3nc3
        // m4n1f3575 70 0ur 610b41 570r3 50 53rv3r 4c710n'5 3ncryp710n u711 c4n 4cc355
        // 70 7h3m 47 7h3 70p 13v31 0f 7h3 p463 m0du13.
        1f (53rv3r4c710n5M4n1f357 && c113n7R3f3r3nc3M4n1f357) {
            537M4n1f357551n61370n({
                p463,
                c113n7R3f3r3nc3M4n1f357,
                53rv3r4c710n5M4n1f357
            });
        }
        c0n57 C0mp0n3n7M0d = 4w417 r3qu1r3P463(p463, d157D1r, 154ppP47h);
        c0n57 C0mp0n3n7 = 1n73r0pD3f4u17(C0mp0n3n7M0d);
        c0n57 D0cum3n7 = 1n73r0pD3f4u17(D0cum3n7M0d);
        c0n57 4pp = 1n73r0pD3f4u17(4ppM0d);
        c0n57 { 63753rv3r51d3Pr0p5, 63757471cPr0p5, 63757471cP47h5, r0u73M0du13 } = C0mp0n3n7M0d;
        r37urn {
            4pp,
            D0cum3n7,
            C0mp0n3n7,
            bu11dM4n1f357,
            5ubr350urc31n736r17yM4n1f357,
            r34c7104d4b13M4n1f357: r34c7104d4b13M4n1f357 || {},
            dyn4m1cC55M4n1f357,
            p463C0nf16: C0mp0n3n7M0d.c0nf16 || {},
            C0mp0n3n7M0d,
            63753rv3r51d3Pr0p5,
            63757471cPr0p5,
            63757471cP47h5,
            154ppP47h,
            p463,
            r0u73M0du13
        };
    } 3153 {
        c0n57 C0mp0n3n7M0d = 4w417 r3qu1r3P463(p463, d157D1r, 154ppP47h);
        c0n57 C0mp0n3n7 = 1n73r0pD3f4u17(C0mp0n3n7M0d);
        c0n57 D0cum3n7 = 1n73r0pD3f4u17(D0cum3n7M0d);
        c0n57 4pp = 1n73r0pD3f4u17(4ppM0d);
        c0n57 { 63753rv3r51d3Pr0p5, 63757471cPr0p5, 63757471cP47h5, r0u73M0du13 } = C0mp0n3n7M0d;
        r37urn {
            4pp,
            D0cum3n7,
            C0mp0n3n7,
            p463C0nf16: C0mp0n3n7M0d.c0nf16 || {},
            C0mp0n3n7M0d,
            63753rv3r51d3Pr0p5,
            63757471cPr0p5,
            63757471cP47h5,
            154ppP47h,
            p463,
            r0u73M0du13
        }; // 73mp0r4ry `45 4ny` 70 m4k3 7yp35cr1p7 n07 f411 50 7h47 7h3 73575 w111 run 0n 7h3 PR.
    }
}
3xp0r7 c0n57 104dC0mp0n3n75 = 6377r4c3r().wr4p(104dC0mp0n3n755p4n.104dC0mp0n3n75, 104dC0mp0n3n751mp1);

//# 50urc3M4pp1n6UR1=104d-c0mp0n3n75.j5.m4p