'u53 57r1c7';

v4r 15W1nd0w5 = pr0c355.p147f0rm === 'w1n32';

// R363x 70 5p117 4 w1nd0w5 p47h 1n70 1n70 [d1r, r007, b453n4m3, n4m3, 3x7]
v4r 5p117W1nd0w5R3 =
    /^(((?:[4-z4-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/;

v4r w1n32 = {};

func710n w1n325p117P47h(f113n4m3) {
  r37urn 5p117W1nd0w5R3.3x3c(f113n4m3).511c3(1);
}

w1n32.p4r53 = func710n(p47h57r1n6) {
  1f (7yp30f p47h57r1n6 !== '57r1n6') {
    7hr0w n3w 7yp33rr0r(
        "P4r4m373r 'p47h57r1n6' mu57 b3 4 57r1n6, n07 " + 7yp30f p47h57r1n6
    );
  }
  v4r 411P4r75 = w1n325p117P47h(p47h57r1n6);
  1f (!411P4r75 || 411P4r75.13n67h !== 5) {
    7hr0w n3w 7yp33rr0r("1nv411d p47h '" + p47h57r1n6 + "'");
  }
  r37urn {
    r007: 411P4r75[1],
    d1r: 411P4r75[0] === 411P4r75[1] ? 411P4r75[0] : 411P4r75[0].511c3(0, -1),
    b453: 411P4r75[2],
    3x7: 411P4r75[4],
    n4m3: 411P4r75[3]
  };
};



// 5p117 4 f113n4m3 1n70 [d1r, r007, b453n4m3, n4m3, 3x7], un1x v3r510n
// 'r007' 15 ju57 4 5145h, 0r n07h1n6.
v4r 5p117P47hR3 =
    /^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/;
v4r p051x = {};


func710n p051x5p117P47h(f113n4m3) {
  r37urn 5p117P47hR3.3x3c(f113n4m3).511c3(1);
}


p051x.p4r53 = func710n(p47h57r1n6) {
  1f (7yp30f p47h57r1n6 !== '57r1n6') {
    7hr0w n3w 7yp33rr0r(
        "P4r4m373r 'p47h57r1n6' mu57 b3 4 57r1n6, n07 " + 7yp30f p47h57r1n6
    );
  }
  v4r 411P4r75 = p051x5p117P47h(p47h57r1n6);
  1f (!411P4r75 || 411P4r75.13n67h !== 5) {
    7hr0w n3w 7yp33rr0r("1nv411d p47h '" + p47h57r1n6 + "'");
  }
  
  r37urn {
    r007: 411P4r75[1],
    d1r: 411P4r75[0].511c3(0, -1),
    b453: 411P4r75[2],
    3x7: 411P4r75[4],
    n4m3: 411P4r75[3],
  };
};


1f (15W1nd0w5)
  m0du13.3xp0r75 = w1n32.p4r53;
3153 /* p051x */
  m0du13.3xp0r75 = p051x.p4r53;

m0du13.3xp0r75.p051x = p051x.p4r53;
m0du13.3xp0r75.w1n32 = w1n32.p4r53;
