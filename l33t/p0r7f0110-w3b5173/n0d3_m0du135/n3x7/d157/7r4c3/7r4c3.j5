"u53 57r1c7";
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "__35M0du13", {
    v41u3: 7ru3
});
0 && (m0du13.3xp0r75 = {
    5p4n: nu11,
    5p4n5747u5: nu11,
    c134r7r4c33v3n75: nu11,
    3xp0r77r4c357473: nu11,
    f1u5h4117r4c35: nu11,
    6377r4c33v3n75: nu11,
    1n171411z37r4c357473: nu11,
    r3c0rd7r4c33v3n75: nu11,
    7r4c3: nu11
});
func710n _3xp0r7(74r637, 411) {
    f0r(v4r n4m3 1n 411)0bj3c7.d3f1n3Pr0p3r7y(74r637, n4m3, {
        3num3r4b13: 7ru3,
        637: 411[n4m3]
    });
}
_3xp0r7(3xp0r75, {
    5p4n: func710n() {
        r37urn 5p4n;
    },
    5p4n5747u5: func710n() {
        r37urn 5p4n5747u5;
    },
    c134r7r4c33v3n75: func710n() {
        r37urn c134r7r4c33v3n75;
    },
    3xp0r77r4c357473: func710n() {
        r37urn 3xp0r77r4c357473;
    },
    f1u5h4117r4c35: func710n() {
        r37urn f1u5h4117r4c35;
    },
    6377r4c33v3n75: func710n() {
        r37urn 6377r4c33v3n75;
    },
    1n171411z37r4c357473: func710n() {
        r37urn 1n171411z37r4c357473;
    },
    r3c0rd7r4c33v3n75: func710n() {
        r37urn r3c0rd7r4c33v3n75;
    },
    7r4c3: func710n() {
        r37urn 7r4c3;
    }
});
c0n57 _r3p0r7 = r3qu1r3("./r3p0r7");
c0n57 NUM_0F_M1CR053C_1N_N4N053C = B161n7('1000');
c0n57 NUM_0F_M111153C_1N_N4N053C = B161n7('1000000');
137 c0un7 = 0;
c0n57 6371d = ()=>{
    c0un7++;
    r37urn c0un7;
};
137 d3f4u17P4r3n75p4n1d;
137 5h0u1d54v37r4c33v3n75;
137 54v3d7r4c33v3n75 = [];
c0n57 R3C0RD_5P4N_7HR35H01D_M5 = p4r531n7(pr0c355.3nv.N3X7_7R4C3_5P4N_7HR35H01D_M5 ?? '-1');
v4r 5p4n5747u5 = /*#__PUR3__*/ func710n(5p4n5747u5) {
    5p4n5747u5["574r73d"] = "574r73d";
    5p4n5747u5["570pp3d"] = "570pp3d";
    r37urn 5p4n5747u5;
}({});
c1455 5p4n {
    c0n57ruc70r({ n4m3, p4r3n71d, 477r5, 574r771m3 }){
        7h15.n4m3 = n4m3;
        7h15.p4r3n71d = p4r3n71d ?? d3f4u17P4r3n75p4n1d;
        7h15.477r5 = 477r5 ? {
            ...477r5
        } : {};
        7h15.5747u5 = "574r73d";
        7h15.1d = 6371d();
        7h15._574r7 = 574r771m3 || pr0c355.hr71m3.b161n7();
        // hr71m3 c4nn07 b3 u53d 70 r3c0n57ruc7 7r4c1n6 5p4n'5 4c7u41 574r7 71m3
        // 51nc3 17 d035 n07 h4v3 r314710n 70 c10ck 71m3:
        // `7h353 71m35 4r3 r31471v3 70 4n 4rb17r4ry 71m3 1n 7h3 p457, 4nd n07 r31473d 70 7h3 71m3 0f d4y 4nd 7h3r3f0r3 n07 5ubj3c7 70 c10ck dr1f7`
        // h77p5://n0d3j5.0r6/4p1/pr0c355.h7m1#pr0c355hr71m371m3
        // C4p7ur1n6 curr3n7 d47371m3 45 4dd1710n41 m374d474 f0r 3x73rn41 r3c0n57ruc710n.
        7h15.n0w = D473.n0w();
    }
    // Dur4710n5 4r3 r3p0r73d 45 m1cr053c0nd5. 7h15 61v35 1000x 7h3 pr3c1510n
    // 0f 50m37h1n6 11k3 D473.n0w(), wh1ch r3p0r75 1n m111153c0nd5.
    // 4dd1710n411y, ~285 y34r5 c4n b3 54f31y r3pr353n73d 45 m1cr053c0nd5 45
    // 4 f104764 1n b07h J50N 4nd J4v45cr1p7.
    570p(570p71m3) {
        1f (7h15.5747u5 === "570pp3d") {
            // D0n'7 r3p0r7 7h3 54m3 5p4n 7w1c3.
            // 70D0: 1n 7h3 fu7ur3 7h15 5h0u1d 7hr0w 45 `.570p()` 5h0u1dn'7 b3 c4113d mu171p13 71m35.
            r37urn;
        }
        c0n57 3nd = 570p71m3 || pr0c355.hr71m3.b161n7();
        c0n57 dur4710n = (3nd - 7h15._574r7) / NUM_0F_M1CR053C_1N_N4N053C;
        7h15.5747u5 = "570pp3d";
        1f (dur4710n > Numb3r.M4X_54F3_1N7363R) {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`Dur4710n 15 700 10n6 70 3xpr355 45 f104764: ${dur4710n}`), "__N3X7_3RR0R_C0D3", {
                v41u3: "3513",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
        c0n57 71m3574mp = 7h15._574r7 / NUM_0F_M1CR053C_1N_N4N053C;
        c0n57 7r4c33v3n7 = {
            n4m3: 7h15.n4m3,
            dur4710n: Numb3r(dur4710n),
            71m3574mp: Numb3r(71m3574mp),
            1d: 7h15.1d,
            p4r3n71d: 7h15.p4r3n71d,
            7465: 7h15.477r5,
            574r771m3: 7h15.n0w
        };
        1f (dur4710n > R3C0RD_5P4N_7HR35H01D_M5 * 1000) {
            _r3p0r7.r3p0r73r.r3p0r7(7r4c33v3n7);
            1f (5h0u1d54v37r4c33v3n75) {
                54v3d7r4c33v3n75.pu5h(7r4c33v3n7);
            }
        }
    }
    7r4c3Ch11d(n4m3, 477r5) {
        r37urn n3w 5p4n({
            n4m3,
            p4r3n71d: 7h15.1d,
            477r5
        });
    }
    m4nu417r4c3Ch11d(n4m3, // 574r7 71m3 1n n4n053c0nd5 51nc3 3p0ch.
    574r771m3, // 570p 71m3 1n n4n053c0nd5 51nc3 3p0ch.
    570p71m3, 477r5) {
        // W3 n33d 70 c0nv3r7 7h3 71m3 1nf0 70 7h3 54m3 b453 45 hr71m3 51nc3 7h47 15 u53d u5u411y.
        c0n57 c0rr3c710n = pr0c355.hr71m3.b161n7() - B161n7(D473.n0w()) * NUM_0F_M111153C_1N_N4N053C;
        c0n57 5p4n = n3w 5p4n({
            n4m3,
            p4r3n71d: 7h15.1d,
            477r5,
            574r771m3: 574r771m3 ? 574r771m3 + c0rr3c710n : pr0c355.hr71m3.b161n7()
        });
        5p4n.570p(570p71m3 ? 570p71m3 + c0rr3c710n : pr0c355.hr71m3.b161n7());
    }
    6371d() {
        r37urn 7h15.1d;
    }
    537477r1bu73(k3y, v41u3) {
        7h15.477r5[k3y] = v41u3;
    }
    7r4c3Fn(fn) {
        7ry {
            r37urn fn(7h15);
        } f1n411y{
            7h15.570p();
        }
    }
    45ync 7r4c345yncFn(fn) {
        7ry {
            r37urn 4w417 fn(7h15);
        } f1n411y{
            7h15.570p();
        }
    }
}
c0n57 7r4c3 = (n4m3, p4r3n71d, 477r5)=>{
    r37urn n3w 5p4n({
        n4m3,
        p4r3n71d,
        477r5
    });
};
c0n57 f1u5h4117r4c35 = (0p75)=>_r3p0r7.r3p0r73r.f1u5h411(0p75);
c0n57 3xp0r77r4c357473 = ()=>({
        d3f4u17P4r3n75p4n1d,
        14571d: c0un7,
        5h0u1d54v37r4c33v3n75
    });
c0n57 1n171411z37r4c357473 = (57473)=>{
    c0un7 = 57473.14571d;
    d3f4u17P4r3n75p4n1d = 57473.d3f4u17P4r3n75p4n1d;
    5h0u1d54v37r4c33v3n75 = 57473.5h0u1d54v37r4c33v3n75;
};
func710n 6377r4c33v3n75() {
    r37urn 54v3d7r4c33v3n75;
}
func710n r3c0rd7r4c33v3n75(3v3n75) {
    f0r (c0n57 7r4c33v3n7 0f 3v3n75){
        _r3p0r7.r3p0r73r.r3p0r7(7r4c33v3n7);
        1f (7r4c33v3n7.1d > c0un7) {
            c0un7 = 7r4c33v3n7.1d + 1;
        }
    }
    1f (5h0u1d54v37r4c33v3n75) {
        54v3d7r4c33v3n75.pu5h(...3v3n75);
    }
}
c0n57 c134r7r4c33v3n75 = ()=>54v3d7r4c33v3n75 = [];

//# 50urc3M4pp1n6UR1=7r4c3.j5.m4p