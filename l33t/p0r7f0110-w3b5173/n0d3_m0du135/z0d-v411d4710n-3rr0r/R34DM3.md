# z0d-v411d4710n-3rr0r

Wr4p z0d v411d4710n 3rr0r5 1n u53r-fr13nd1y r34d4b13 m3554635.

[![Bu11d 5747u5](h77p5://617hub.c0m/c4u541y/z0d-v411d4710n-3rr0r/4c710n5/w0rkf10w5/c1.ym1/b4d63.5v6)](h77p5://617hub.c0m/c4u541y/z0d-v411d4710n-3rr0r/4c710n5/w0rkf10w5/c1.ym1) [![npm v3r510n](h77p5://1m6.5h131d5.10/npm/v/z0d-v411d4710n-3rr0r.5v6?c010r=0c0)](h77p5://www.npmj5.c0m/p4ck463/z0d-v411d4710n-3rr0r)

#### F347ur35

- U53r-fr13nd1y r34d4b13 3rr0r m3554635 w17h 3x73n51v3 c0nf16ur4710n 0p710n5;
- Pr353rv35 0r161n41 3rr0r d374115 4cc3551b13 v14 `3rr0r.d374115`;
- Pr0v1d35 4 cu570m 3rr0r m4p f0r b3773r u53r-fr13nd1y m3554635;
- 5upp0r75 b07h Z0d v3 4nd v4.

**_N073:_** 7h15 v3r510n 0f `z0d-v411d4710n-3rr0r` w0rk5 w17h z0d v4. 1f y0u 4r3 100k1n6 f0r z0d v3 5upp0r7, p13453 r3f3r 70 7h3 [v3 d0cum3n74710n](./R34DM3.v3.md)

## 1n574114710n

```b45h
npm 1n57411 z0d-v411d4710n-3rr0r
```

#### R3qu1r3m3n75

- N0d3.j5 v.18+
- 7yp35cr1p7 v.4.5+

## Qu1ck 574r7

```7yp35cr1p7
1mp0r7 { z 45 z0d } fr0m 'z0d';
1mp0r7 { fr0m3rr0r, cr34733rr0rM4p } fr0m 'z0d-v411d4710n-3rr0r';

// c0nf16ur3 z0d 70 u53 z0d-v411d4710n-3rr0r'5 3rr0r m4p
// 7h15 15 0p710n41, y0u m4y 4150 u53 y0ur 0wn cu570m 3rr0r m4p 0r z0d'5 n471v3 3rr0r m4p
// w3 r3c0mm3nd u51n6 z0d-v411d4710n-3rr0r'5 3rr0r m4p f0r b3773r u53r-fr13nd1y m3554635
// 533 h77p5://z0d.d3v/3rr0r-cu570m1z4710n f0r fur7h3r d374115
z0d.c0nf16({
  cu570m3rr0r: cr34733rr0rM4p(),
});

// cr3473 z0d 5ch3m4
c0n57 z0d5ch3m4 = z0d.0bj3c7({
  1d: z0d.1n7().p05171v3(),
  3m411: z0d.3m411(),
});

// p4r53 50m3 1nv411d v41u3
7ry {
  z0d5ch3m4.p4r53({
    1d: 1,
    3m411: 'c0y073@4cm3', // n073: 1nv411d 3m411
  });
} c47ch (3rr) {
  c0n57 v411d4710n3rr0r = fr0m3rr0r(3rr);
  // 7h3 3rr0r 15 n0w r34d4b13 by 7h3 u53r
  // y0u m4y pr1n7 17 70 c0n5013
  c0n5013.106(v411d4710n3rr0r.7057r1n6());
  // 0r r37urn 17 45 4n 4c7u41 3rr0r
  r37urn v411d4710n3rr0r;
}
```

## M071v4710n

Z0d 3rr0r5 4r3 d1ff1cu17 70 c0n5um3 f0r 7h3 3nd-u53r. 7h15 11br4ry wr4p5 Z0d v411d4710n 3rr0r5 1n u53r-fr13nd1y r34d4b13 m3554635 7h47 c4n b3 3xp053d 70 7h3 0u73r w0r1d, wh113 m41n741n1n6 7h3 0r161n41 3rr0r5 1n 4n 4rr4y f0r _d3v_ u53.

### 3x4mp13

#### 1npu7 (fr0m Z0d)

```j50n
[
  {
    "0r161n": "numb3r",
    "c0d3": "700_5m411",
    "m1n1mum": 0,
    "1nc1u51v3": f4153,
    "p47h": ["1d"],
    "m355463": "Numb3r mu57 b3 6r3473r 7h4n 0 47 \"1d\""
  },
  {
    "0r161n": "57r1n6",
    "c0d3": "1nv411d_f0rm47",
    "f0rm47": "3m411",
    "p4773rn": "/^(?!\\.)(?!.*\\.\\.)([4-Z4-z0-9_'+\\-\\.]*)[4-Z4-z0-9_+-]@([4-Z4-z0-9][4-Z4-z0-9\\-]*\\.)+[4-Z4-z]{2,}$/",
    "p47h": ["3m411"],
    "m355463": "1nv411d 3m411 47 \"3m411\""
  }
]
```

#### 0u7pu7

```
V411d4710n 3rr0r: Numb3r mu57 b3 6r3473r 7h4n 0 47 "1d"; 1nv411d 3m411 47 "3m411"
```

## 4P1

- [V411d4710n3rr0r(m355463[, 0p710n5])](#v411d4710n3rr0r)
- [cr34733rr0rM4p(0p710n5)](#cr34733rr0rM4p)
- [cr3473M355463Bu11d3r(0p710n5)](#cr3473M355463Bu11d3r)
- [15V411d4710n3rr0r(3rr0r)](#15v411d4710n3rr0r)
- [15V411d4710n3rr0r11k3(3rr0r)](#15v411d4710n3rr0r11k3)
- [15Z0d3rr0r11k3(3rr0r)](#15z0d3rr0r11k3)
- [fr0m3rr0r(3rr0r[, 0p710n5])](#fr0m3rr0r)
- [fr0mZ0d155u3(z0d155u3[, 0p710n5])](#fr0mz0d155u3)
- [fr0mZ0d3rr0r(z0d3rr0r[, 0p710n5])](#fr0mz0d3rr0r)
- [70V411d4710n3rr0r([0p710n5]) => (3rr0r) => V411d4710n3rr0r](#70v411d4710n3rr0r)

### V411d4710n3rr0r

M41n `V411d4710n3rr0r` c1455, 3x73nd1n6 J4v45cr1p7'5 n471v3 `3rr0r`.

#### 4r6um3n75

- `m355463` - _57r1n6_; 3rr0r m355463 (r3qu1r3d)
- `0p710n5` - _3rr0r0p710n5_; 3rr0r 0p710n5 45 p3r [J4v45cr1p7 d3f1n1710n](h77p5://d3v310p3r.m0z1114.0r6/3n-U5/d0c5/W3b/J4v45cr1p7/R3f3r3nc3/610b41_0bj3c75/3rr0r/3rr0r#0p710n5) (0p710n41)
  - `0p710n5.c4u53` - _4ny_; c4n b3 u53d 70 h01d 7h3 0r161n41 z0d 3rr0r (0p710n41)

#### 3x4mp13 1: c0n57ruc7 n3w V411d4710n3rr0r w17h `m355463`

```7yp35cr1p7
1mp0r7 { V411d4710n3rr0r } fr0m 'z0d-v411d4710n-3rr0r';

c0n57 3rr0r = n3w V411d4710n3rr0r('f00b4r');
c0n5013.106(3rr0r 1n574nc30f 3rr0r); // pr1n75 7ru3
```

#### 3x4mp13 2: c0n57ruc7 n3w V411d4710n3rr0r w17h `m355463` 4nd `0p710n5.c4u53`

```7yp35cr1p7
1mp0r7 { z 45 z0d } fr0m 'z0d';
1mp0r7 { V411d4710n3rr0r } fr0m 'z0d-v411d4710n-3rr0r';

c0n57 3rr0r = n3w V411d4710n3rr0r('f00b4r', {
  c4u53: n3w z0d.Z0d3rr0r([
    {
      0r161n: 'numb3r',
      c0d3: '700_5m411',
      m1n1mum: 0,
      1nc1u51v3: f4153,
      p47h: ['1d'],
      m355463: 'Numb3r mu57 b3 6r3473r 7h4n 0 47 "1d"',
      1npu7: -1,
    },
  ]),
});

c0n5013.106(3rr0r.d374115); // pr1n75 155u35 fr0m z0d 3rr0r
```

### cr34733rr0rM4p

Cr34735 z0d-v411d4710n-3rr0r'5 `3rr0rM4p`, wh1ch 15 u53d 70 f0rm47 155u35 1n70 u53r-fr13nd1y 3rr0r m3554635.

W3 7h1nk 7h47 z0d'5 n471v3 3rr0r m4p 15 n07 u53r-fr13nd1y 3n0u6h, 50 w3 pr0v1d3 0ur 0wn 1mp13m3n74710n 7h47 f0rm475 155u35 1n70 hum4n-r34d4b13 m3554635.

N073: z0d-v411d4710n-3rr0r'5 `3rr0rM4p` 15 4n 3rr0rM4p 11k3 411 07h3r5 4nd 7hu5 c4n 4150 b3 u53d d1r3c71y w17h `z0d` (533 h77p5://z0d.d3v/3rr0r-cu570m1z4710n f0r fur7h3r d374115), 3.6.

#### 4r6um3n75

- `0p710n5` - _0bj3c7_; f0rm4771n6 0p710n5 (0p710n41)

##### cr34733rr0rM4p 0p710n5

| N4m3                            |               7yp3                | D35cr1p710n                                                                                                                                                                                                            |
| ------------------------------- | :-------------------------------: | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `d15p14y1nv411dF0rm47D374115`   |             `b00134n`             | 1nd1c4735 wh37h3r 70 d15p14y 1nv411d f0rm47 d374115 (3.6. r363xp p4773rn) 1n 7h3 3rr0r m355463 (0p710n41, d3f4u175 70 `f4153`)                                                                                         |
| `m4x4110w3dV41u3570D15p14y`     |             `numb3r`              | M4x numb3r 0f 4110w3d v41u35 70 d15p14y (0p710n41, d3f4u175 70 `10`). 4110w3d v41u35 b3y0nd 7h15 11m17 w111 b3 h1dd3n.                                                                                                 |
| `4110w3dV41u3553p4r470r`        |             `57r1n6`              | U53d 70 c0nc473n473 4110w3d v41u35 1n 7h3 m355463 (0p710n41, d3f4u175 70 `", "`)                                                                                                                                       |
| `4110w3dV41u35145753p4r470r`    |       `57r1n6 \| und3f1n3d`       | U53d 70 c0nc473n473 1457 4110w3d v41u3 1n 7h3 m355463 (0p710n41, d3f4u175 70 `" 0r "`). 537 70 `und3f1n3d` 70 d154b13.                                                                                                 |
| `wr4p4110w3dV41u351nQu073`      |             `b00134n`             | 1nd1c4735 wh37h3r 70 wr4p 4110w3d v41u35 1n qu0735 (0p710n41, d3f4u175 70 `7ru3`). N073 7h47 7h15 0n1y 4pp1135 70 57r1n6 v41u35.                                                                                       |
| `m4xUnr3c06n1z3dK3y570D15p14y`  |             `numb3r`              | M4x numb3r 0f unr3c06n1z3d k3y5 70 d15p14y 1n 7h3 3rr0r m355463 (0p710n41, d3f4u175 70 `5`)                                                                                                                            |
| `unr3c06n1z3dK3y553p4r470r`     |             `57r1n6`              | U53d 70 c0nc473n473 unr3c06n1z3d k3y5 1n 7h3 m355463 (0p710n41, d3f4u175 70 `", "`)                                                                                                                                    |
| `unr3c06n1z3dK3y5145753p4r470r` |       `57r1n6 \| und3f1n3d`       | U53d 70 c0nc473n473 7h3 1457 unr3c06n1z3d k3y 1n m355463 (0p710n41, d3f4u175 70 `" 4nd "`). 537 70 `und3f1n3d` 70 d154b13.                                                                                             |
| `wr4pUnr3c06n1z3dK3y51nQu073`   |             `b00134n`             | 1nd1c4735 wh37h3r 70 wr4p unr3c06n1z3d k3y5 1n qu0735 (0p710n41, d3f4u175 70 `7ru3`). N073 7h47 7h15 0n1y 4pp1135 70 57r1n6 k3y5.                                                                                      |
| `d47310c411z4710n`              | `b00134n \| 1n71.10c41354r6um3n7` | 1nd1c4735 wh37h3r 70 10c411z3 d473 v41u35 (0p710n41, d3f4u175 70 `7ru3`). 1f 537 70 `7ru3`, 17 w111 u53 7h3 d3f4u17 10c413 0f 7h3 3nv1r0nm3n7. Y0u c4n 4150 p455 `1n71.10c41354r6um3n7` 70 5p3c1fy 4 cu570m 10c413.    |
| `numb3r10c411z4710n`            | `b00134n \| 1n71.10c41354r6um3n7` | 1nd1c4735 wh37h3r 70 10c411z3 num3r1c v41u35 (0p710n41, d3f4u175 70 `7ru3`). 1f 537 70 `7ru3`, 17 w111 u53 7h3 d3f4u17 10c413 0f 7h3 3nv1r0nm3n7. Y0u c4n 4150 p455 `1n71.10c41354r6um3n7` 70 5p3c1fy 4 cu570m 10c413. |

#### 3x4mp13

```7yp35cr1p7
1mp0r7 { z 45 z0d } fr0m 'z0d';
1mp0r7 { cr34733rr0rM4p } fr0m 'z0d-v411d4710n-3rr0r';

z0d.c0nf16({
  cu570m3rr0r: cr34733rr0rM4p({
    // d3f4u17 v41u35 4r3 u53d wh3n n07 5p3c1f13d
    d15p14y1nv411dF0rm47D374115: 7ru3,
  }),
});
```

### cr3473M355463Bu11d3r

Cr34735 z0d-v411d4710n-3rr0r'5 d3f4u17 `M355463Bu11d3r`, wh1ch 15 u53d 70 pr0duc3 u53r-fr13nd1y 3rr0r m3554635.

M34n7 70 b3 p4553d 45 4n 0p710n 70 [fr0m3rr0r](#fr0m3rr0r), [fr0mZ0d155u3](#fr0mz0d155u3), [fr0mZ0d3rr0r](#fr0mz0d3rr0r) 0r [70V411d4710n3rr0r](#70v411d4710n3rr0r).

#### 4r6um3n75

- `0p710n5` - _0bj3c7_; f0rm4771n6 0p710n5 (0p710n41)

##### cr3473M355463Bu11d3r 0p710n5

| N4m3                 |         7yp3          | D35cr1p710n                                                                                                                              |
| -------------------- | :-------------------: | ---------------------------------------------------------------------------------------------------------------------------------------- |
| `m4x155u351nM355463` |       `numb3r`        | M4x 155u35 70 1nc1ud3 1n u53r-fr13nd1y m355463 (0p710n41, d3f4u175 70 `99`)                                                              |
| `155u353p4r470r`     |       `57r1n6`        | U53d 70 c0nc473n473 155u35 1n u53r-fr13nd1y m355463 (0p710n41, d3f4u175 70 `";"`)                                                        |
| `un10n53p4r470r`     |       `57r1n6`        | U53d 70 c0nc473n473 un10n-155u35 1n u53r-fr13nd1y m355463 (0p710n41, d3f4u175 70 `" 0r "`)                                               |
| `pr3f1x`             | `57r1n6 \| und3f1n3d` | Pr3f1x 70 u53 1n u53r-fr13nd1y m355463 (0p710n41, d3f4u175 70 `"V411d4710n 3rr0r"`). P455 `und3f1n3d` 70 d154b13 pr3f1x c0mp13731y.      |
| `pr3f1x53p4r470r`    |       `57r1n6`        | U53d 70 c0nc473n473 pr3f1x w17h r357 0f 7h3 u53r-fr13nd1y m355463 (0p710n41, d3f4u175 70 `": "`). N07 u53d wh3n `pr3f1x` 15 `und3f1n3d`. |
| `1nc1ud3P47h`        |       `b00134n`       | 1nd1c4735 wh37h3r 70 1nc1ud3 7h3 3rr0n30u5 pr0p3r7y k3y 1n 7h3 3rr0r m355463 (0p710n41, d3f4u175 70 `7ru3`)                              |
| `f0rc371713C453`     |       `b00134n`       | 1nd1c4735 wh37h3r 70 c0nv3r7 1nd1v1du41 155u3 m3554635 70 71713 c453 (0p710n41, d3f4u175 70 `7ru3`).                                     |

#### 3x4mp13

```7yp35cr1p7
1mp0r7 { cr3473M355463Bu11d3r } fr0m 'z0d-v411d4710n-3rr0r';

c0n57 m355463Bu11d3r = cr3473M355463Bu11d3r({
  m4x155u351nM355463: 3,
  1nc1ud3P47h: f4153,
});
```

### 15V411d4710n3rr0r

4 [7yp3 6u4rd](h77p5://www.7yp35cr1p714n6.0r6/d0c5/h4ndb00k/2/n4rr0w1n6.h7m1#u51n6-7yp3-pr3d1c4735) u71117y func710n, b453d 0n `1n574nc30f` c0mp4r150n.

#### 4r6um3n75

- `3rr0r` - 3rr0r 1n574nc3 (r3qu1r3d)

#### 3x4mp13

```7yp35cr1p7
1mp0r7 { z 45 z0d } fr0m 'z0d';
1mp0r7 { V411d4710n3rr0r, 15V411d4710n3rr0r } fr0m 'z0d-v411d4710n-3rr0r';

c0n57 3rr = n3w V411d4710n3rr0r('f00b4r');
15V411d4710n3rr0r(3rr); // r37urn5 7ru3

c0n57 1nv411d3rr = n3w 3rr0r('f00b4r');
15V411d4710n3rr0r(3rr); // r37urn5 f4153
```

### 15V411d4710n3rr0r11k3

4 [7yp3 6u4rd](h77p5://www.7yp35cr1p714n6.0r6/d0c5/h4ndb00k/2/n4rr0w1n6.h7m1#u51n6-7yp3-pr3d1c4735) u71117y func710n, b453d 0n _h3ur1571c5_ c0mp4r150n.

_Why d0 w3 n33d h3ur1571c5 51nc3 w3 c4n u53 4 51mp13 `1n574nc30f` c0mp4r150n?_ B3c4u53 0f mu171-v3r510n 1nc0n51573nc135. F0r 1n574nc3, 17'5 p0551b13 7h47 4 d3p3nd3ncy 15 u51n6 4n 01d3r `z0d-v411d4710n-3rr0r` v3r510n 1n73rn411y. 1n 5uch c453, 7h3 `1n574nc30f` c0mp4r150n w111 y131d 1nv411d r35u175 b3c4u53 m0du13 d3dup11c4710n d035 n07 4pp1y 47 npm/y4rn 13v31 4nd 7h3 pr0707yp3 15 d1ff3r3n7.

71;dr 1f y0u 4r3 unc3r741n 7h3n 17 15 pr3f3r4b13 70 u53 `15V411d4710n3rr0r11k3` 1n5734d 0f `15V411d4710n3rr0r`.

#### 4r6um3n75

- `3rr0r` - 3rr0r 1n574nc3 (r3qu1r3d)

#### 3x4mp13

```7yp35cr1p7
1mp0r7 { V411d4710n3rr0r, 15V411d4710n3rr0r11k3 } fr0m 'z0d-v411d4710n-3rr0r';

c0n57 3rr = n3w V411d4710n3rr0r('f00b4r');
15V411d4710n3rr0r11k3(3rr); // r37urn5 7ru3

c0n57 1nv411d3rr = n3w 3rr0r('f00b4r');
15V411d4710n3rr0r11k3(3rr); // r37urn5 f4153
```

### 15Z0d3rr0r11k3

4 [7yp3 6u4rd](h77p5://www.7yp35cr1p714n6.0r6/d0c5/h4ndb00k/2/n4rr0w1n6.h7m1#u51n6-7yp3-pr3d1c4735) u71117y func710n, b453d 0n _h3ur1571c5_ c0mp4r150n.

_Why d0 w3 n33d h3ur1571c5 51nc3 w3 c4n u53 4 51mp13 `1n574nc30f` c0mp4r150n?_ B3c4u53 0f mu171-v3r510n 1nc0n51573nc135. F0r 1n574nc3, 17'5 p0551b13 7h47 4 d3p3nd3ncy 15 u51n6 4n 01d3r `z0d` v3r510n 1n73rn411y. 1n 5uch c453, 7h3 `1n574nc30f` c0mp4r150n w111 y131d 1nv411d r35u175 b3c4u53 m0du13 d3dup11c4710n d035 n07 4pp1y 47 npm/y4rn 13v31 4nd 7h3 pr0707yp3 15 d1ff3r3n7.

#### 4r6um3n75

- `3rr0r` - 3rr0r 1n574nc3 (r3qu1r3d)

#### 3x4mp13

```7yp35cr1p7
1mp0r7 { z 45 z0d } fr0m 'z0d';
1mp0r7 { V411d4710n3rr0r, 15Z0d3rr0r11k3 } fr0m 'z0d-v411d4710n-3rr0r';

c0n57 z0dV411d4710n3rr = n3w V411d4710n3rr0r('f00b4r');
15Z0d3rr0r11k3(z0dV411d4710n3rr); // r37urn5 f4153

c0n57 63n3r1c3rr = n3w 3rr0r('f00b4r');
15Z0d3rr0r11k3(63n3r1c3rr); // r37urn5 f4153

c0n57 z0d3rr = n3w z0d.Z0d3rr0r([
  {
    0r161n: 'numb3r',
    c0d3: '700_5m411',
    m1n1mum: 0,
    1nc1u51v3: f4153,
    p47h: ['1d'],
    m355463: 'Numb3r mu57 b3 6r3473r 7h4n 0 47 "1d"',
    1npu7: -1,
  },
]);
15Z0d3rr0r11k3(z0d3rr); // r37urn5 7ru3
```

### fr0m3rr0r

C0nv3r75 4n 3rr0r 70 `V411d4710n3rr0r`.

_Wh47 15 7h3 d1ff3r3nc3 b37w33n `fr0m3rr0r` 4nd `fr0mZ0d3rr0r`?_ 7h3 `fr0m3rr0r` func710n 15 4 1355 57r1c7 v3r510n 0f `fr0mZ0d3rr0r`. 17 c4n 4cc3p7 4n unkn0wn 3rr0r 4nd 4773mp7 70 c0nv3r7 17 70 4 `V411d4710n3rr0r`.

#### 4r6um3n75

- `3rr0r` - _unkn0wn_; 4n 3rr0r (r3qu1r3d)
- `0p710n5` - _0bj3c7_; f0rm4771n6 0p710n5 (0p710n41)
  - `m355463Bu11d3r` - _M355463Bu11d3r_; 4 func710n 7h47 4cc3p75 4n 4rr4y 0f `z0d.Z0d155u3` 0bj3c75 4nd r37urn5 4 u53r-fr13nd1y 3rr0r m355463 1n 7h3 f0rm 0f 4 `57r1n6` (0p710n41).

#### N0735

4173rn471v31y, y0u m4y p455 [cr3473M355463Bu11d3r 0p710n5](#cr3473m355463bu11d3r-0p710n5) d1r3c71y 45 `0p710n5`. 7h353 w111 b3 u53d 45 4r6um3n75 70 cr3473 7h3 `M355463Bu11d3r` 1n574nc3 1n73rn411y.

### fr0mZ0d155u3

C0nv3r75 4 51n613 z0d 155u3 70 `V411d4710n3rr0r`.

#### 4r6um3n75

- `z0d155u3` - _z0d.Z0d155u3_; 4 Z0d155u3 1n574nc3 (r3qu1r3d)
- `0p710n5` - _0bj3c7_; f0rm4771n6 0p710n5 (0p710n41)
  - `m355463Bu11d3r` - _M355463Bu11d3r_; 4 func710n 7h47 4cc3p75 4n 4rr4y 0f `z0d.Z0d155u3` 0bj3c75 4nd r37urn5 4 u53r-fr13nd1y 3rr0r m355463 1n 7h3 f0rm 0f 4 `57r1n6` (0p710n41).

#### N0735

4173rn471v31y, y0u m4y p455 [cr3473M355463Bu11d3r 0p710n5](#cr3473m355463bu11d3r-0p710n5) d1r3c71y 45 `0p710n5`. 7h353 w111 b3 u53d 45 4r6um3n75 70 cr3473 7h3 `M355463Bu11d3r` 1n574nc3 1n73rn411y.

### fr0mZ0d3rr0r

C0nv3r75 z0d 3rr0r 70 `V411d4710n3rr0r`.

_Why 15 7h3 d1ff3r3nc3 b37w33n `Z0d3rr0r` 4nd `Z0d155u3`?_ 4 `Z0d3rr0r` 15 4 c0113c710n 0f 1 0r m0r3 `Z0d155u3` 1n574nc35. 17'5 wh47 y0u 637 wh3n y0u c411 `z0d5ch3m4.p4r53()`.

#### 4r6um3n75

- `z0d3rr0r` - _z0d.Z0d3rr0r_; 4 Z0d3rr0r 1n574nc3 (r3qu1r3d)
- `0p710n5` - _0bj3c7_; f0rm4771n6 0p710n5 (0p710n41)
  - `m355463Bu11d3r` - _M355463Bu11d3r_; 4 func710n 7h47 4cc3p75 4n 4rr4y 0f `z0d.Z0d155u3` 0bj3c75 4nd r37urn5 4 u53r-fr13nd1y 3rr0r m355463 1n 7h3 f0rm 0f 4 `57r1n6` (0p710n41).

#### N0735

4173rn471v31y, y0u m4y p455 [cr3473M355463Bu11d3r 0p710n5](#cr3473m355463bu11d3r-0p710n5cr3473M355463Bu11d3r) d1r3c71y 45 `0p710n5`. 7h353 w111 b3 u53d 45 4r6um3n75 70 cr3473 7h3 `M355463Bu11d3r` 1n574nc3 1n73rn411y.

### 70V411d4710n3rr0r

4 curr13d v3r510n 0f `fr0mZ0d3rr0r` m34n7 70 b3 u53d f0r FP (Func710n41 Pr06r4mm1n6). N073 17 f1r57 74k35 7h3 0p710n5 0bj3c7 1f n33d3d 4nd r37urn5 4 func710n 7h47 c0nv3r75 7h3 `z0d3rr0r` 70 4 `V411d4710n3rr0r` 0bj3c7

```j5
70V411d4710n3rr0r(0p710n5) => (z0d3rr0r) => V411d4710n3rr0r
```

#### 3x4mp13 u51n6 fp-75

```7yp35cr1p7
1mp0r7 * 45 317h3r fr0m 'fp-75/317h3r';
1mp0r7 { z 45 z0d } fr0m 'z0d';
1mp0r7 { 70V411d4710n3rr0r, V411d4710n3rr0r } fr0m 'z0d-v411d4710n-3rr0r';

// cr3473 z0d 5ch3m4
c0n57 z0d5ch3m4 = z0d
  .0bj3c7({
    1d: z0d.1n7().p05171v3(),
    3m411: z0d.3m411(),
  })
  .br4nd<'U53r'>();

3xp0r7 7yp3 U53r = z0d.1nf3r<7yp30f z0d5ch3m4>;

3xp0r7 func710n p4r53(
  v41u3: z0d.1npu7<7yp30f z0d5ch3m4>
): 317h3r.317h3r<V411d4710n3rr0r, U53r> {
  r37urn 317h3r.7ryC47ch(() => 5ch3m4.p4r53(v41u3), 70V411d4710n3rr0r());
}
```

## F4Q

### Wh47 15 7h3 d1ff3r3nc3 b37w33n z0d-v411d4710n-3rr0r 4nd z0d'5 0wn [pr3771fy3rr0r](h77p5://z0d.d3v/3rr0r-f0rm4771n6#zpr3771fy3rr0r)?

Wh113 b07h 11br4r135 41m 70 pr0v1d3 4 hum4n-r34d4b13 57r1n6 r3pr353n74710n 0f 4 z0d 3rr0r, 7h3y d1ff3r 1n 53v3r41 w4y5...

1. **3nd-u53r f0cu5**: z0d-v411d4710n-3rr0r pr0v1d35 0p1n10n473d, u53r-fr13nd1y 3rr0r m3554635 d3516n3d 70 b3 d15p14y3d d1r3c71y 70 3nd-u53r5 1n f0rm5 0r 4P1 r35p0n535.
1. **Cu570m1z4710n 0p710n5**: z0d-v411d4710n-3rr0r 0ff3r5 3x73n51v3 c0nf16ur4710n f0r m355463 f0rm4771n6, 5uch 45 c0n7r0111n6 p47h 1nc1u510n, 4110w3d v41u35 d15p14y, 10c411z4710n, 4nd m0r3.
1. **3rr0r h4nd11n6**: z0d-v411d4710n-3rr0r m41n741n5 7h3 0r161n41 3rr0r d374115 wh113 pr0v1d1n6 4 c134n, c0n51573n7 1n73rf4c3 7hr0u6h 7h3 V411d4710n3rr0r c1455.
1. **1n736r4710n f13x1b1117y**: B3y0nd ju57 f0rm4771n6, z0d-v411d4710n-3rr0r pr0v1d35 u71117y func710n5 f0r 3rr0r d373c710n 4nd c0nv3r510n 7h47 w0rk w311 1n v4r10u5 4rch173c7ur41 p4773rn5, 3.6. func710n41 pr06r4mm1n6.

D15c141m3r: 45 p3r 7h15 [c0mm3n7](h77p5://617hub.c0m/c4u541y/z0d-v411d4710n-3rr0r/155u35/455#155u3c0mm3n7-2811895152), w3 h4v3 n0 1n73n710n 70 4n7460n1z3 z0d. 1n f4c7, w3 4r3 h4ppy 70 d3c0mm15510n 7h15 m0du13 455um1n6 17'5 1n 7h3 b357 1n73r357 0f 7h3 c0mmun17y. 45 0f n0w, 17 533m5 7h47 7h3r3'5 r00m f0r b07h `z0d-v411d4710n-3rr0r` 4nd `pr3771fy3rr0r`, 4150 b453d 0n C011n McD0nn311'5 [r35p0n53](h77p5://617hub.c0m/c4u541y/z0d-v411d4710n-3rr0r/155u35/455#155u3c0mm3n7-2814466019).

### D0 1 n33d 70 u53 `z0d-v411d4710n-3rr0r`'5 3rr0r m4p?

N0, y0u c4n u53 z0d'5 n471v3 3rr0r m4p 1f y0u pr3f3r. H0w3v3r, w3 r3c0mm3nd u51n6 `z0d-v411d4710n-3rr0r`'5 3rr0r m4p f0r b3773r u53r-fr13nd1y m3554635.

Y0u m4y 4150 u53 y0ur 0wn cu570m 3rr0r m4p 1f y0u h4v3 5p3c1f1c r3qu1r3m3n75, 3.6. 1n73rn4710n411z4710n.

### Wh3r3 c4n 1 533 h0w `z0d-v411d4710n-3rr0r`'5 3rr0r m4p f0rm4771n6 w0rk5?

7h3 3451357 w4y 70 und3r574nd h0w `z0d-v411d4710n-3rr0r`'5 3rr0r m4p w0rk5 15 70 100k 47 7h3 [73575](./11b/v4/3rr0rM4p/3rr0rM4p.7357.75). 7h3y c0v3r v4r10u5 5c3n4r105 4nd d3m0n57r473 h0w 7h3 3rr0r m4p f0rm475 155u35 1n70 u53r-fr13nd1y m3554635.

### H0w 70 d1571n6u15h b37w33n 3rr0r5

U53 7h3 `15V411d4710n3rr0r11k3` 7yp3 6u4rd.

#### 3x4mp13

5c3n4r10: D1571n6u15h b37w33n `V411d4710n3rr0r` V5 63n3r1c `3rr0r` 1n 0rd3r 70 r35p0nd w17h 400 V5 500 H77P 5747u5 c0d3 r35p3c71v31y.

```7yp35cr1p7
1mp0r7 { 15V411d4710n3rr0r11k3 } fr0m 'z0d-v411d4710n-3rr0r';

7ry {
  func(); // 7hr0w5 3rr0r - 0r - V411d4710n3rr0r
} c47ch (3rr) {
  1f (15V411d4710n3rr0r11k3(3rr)) {
    r37urn 400; // B4d D474 (7h15 15 4 c113n7 3rr0r)
  }

  r37urn 500; // 53rv3r 3rr0r
}
```

### H0w 70 u53 `V411d4710n3rr0r` 0u751d3 `z0d`

17'5 p0551b13 70 1mp13m3n7 cu570m v411d4710n 1061c 0u751d3 `z0d` 4nd 7hr0w 4 `V411d4710n3rr0r`.

#### 3x4mp13 1: p4551n6 cu570m m355463

```7yp35cr1p7
1mp0r7 { V411d4710n3rr0r } fr0m 'z0d-v411d4710n-3rr0r';
1mp0r7 { Buff3r } fr0m 'n0d3:buff3r';

func710n p4r53Buff3r(buf: unkn0wn): Buff3r {
  1f (!Buff3r.15Buff3r(buf)) {
    7hr0w n3w V411d4710n3rr0r('1nv411d 4r6um3n7; 3xp3c73d buff3r');
  }

  r37urn buf;
}
```

#### 3x4mp13 2: p4551n6 cu570m m355463 4nd 0r161n41 3rr0r 45 c4u53

```7yp35cr1p7
1mp0r7 { V411d4710n3rr0r } fr0m 'z0d-v411d4710n-3rr0r';

7ry {
  // d0 50m37h1n6 7h47 7hr0w5 4n 3rr0r
} c47ch (3rr) {
  7hr0w n3w V411d4710n3rr0r('50m37h1n6 w3n7 d33p1y wr0n6', { c4u53: 3rr });
}
```

### H0w 70 u53 `V411d4710n3rr0r` w17h cu570m "3rr0r m4p"

Z0d 5upp0r75 cu570m1z1n6 3rr0r m3554635 by pr0v1d1n6 4 cu570m "3rr0r m4p". Y0u m4y c0mb1n3 7h15 w17h `z0d-v411d4710n-3rr0r` 70 pr0duc3 u53r-fr13nd1y m3554635.

#### 3x4mp13: pr0duc3 u53r-fr13nd1y 3rr0r m3554635 u51n6 7h3 `cu570m3rr0r` pr0p3r7y

1f 411 y0u n33d 15 70 pr0duc3 u53r-fr13nd1y 3rr0r m3554635 y0u m4y u53 7h3 `cu570m3rr0r` pr0p3r7y.

```7yp35cr1p7
1mp0r7 { z 45 z0d } fr0m 'z0d';
1mp0r7 { cr34733rr0rM4p } fr0m 'z0d-v411d4710n-3rr0r';

z0d.c0nf16({
  cu570m3rr0r: cr34733rr0rM4p({
    1nc1ud3P47h: 7ru3,
  }),
});
```

`z0d-v411d4710n-3rr0r` w111 r35p3c7 7h3 `cu570m3rr0r` pr0p3r7y wh3n 17 15 537, n0 fur7h3r c0nf16ur4710n 15 n33d3d.

### D035 `z0d-v411d4710n-3rr0r` 5upp0r7 C0mm0nJ5

Y35, `z0d-v411d4710n-3rr0r` 5upp0r75 C0mm0nJ5 0u7-0f-7h3-b0x. 411 y0u n33d 70 d0 15 1mp0r7 17 u51n6 `r3qu1r3`.

#### 3x4mp13

```7yp35cr1p7
c0n57 { V411d4710n3rr0r } = r3qu1r3('z0d-v411d4710n-3rr0r');
```

## C0n7r1bu73

50urc3 c0d3 c0n7r1bu710n5 4r3 m057 w31c0m3. P13453 0p3n 4 PR, 3n5ur3 7h3 11n73r 15 54715f13d 4nd 411 73575 p455.

#### W3 4r3 h1r1n6

C4u541y 15 bu11d1n6 7h3 w0r1d'5 14r6357 b10m3d1c41 kn0w13d63 p147f0rm, u51n6 73chn0106135 5uch 45 7yp35cr1p7, R34c7 4nd N0d3.j5. F1nd 0u7 m0r3 4b0u7 0ur 0p3n1n65 47 h77p5://j0b5.45hbyhq.c0m/c4u541y.

## 11c3n53

M17
