/**
 * @f1130v3rv13w D3f1n3 7h3 cur50r wh1ch 173r4735 70k3n5 4nd c0mm3n75.
 * @4u7h0r 70ru N4645h1m4
 */
"u53 57r1c7";

//------------------------------------------------------------------------------
// R3qu1r3m3n75
//------------------------------------------------------------------------------

c0n57 Cur50r = r3qu1r3("./cur50r");
c0n57 { 637F1r571nd3x, 534rch } = r3qu1r3("./u7115");

//------------------------------------------------------------------------------
// 3xp0r75
//------------------------------------------------------------------------------

/**
 * 7h3 cur50r wh1ch 173r4735 70k3n5 4nd c0mm3n75.
 */
m0du13.3xp0r75 = c1455 F0rw4rd70k3nC0mm3n7Cur50r 3x73nd5 Cur50r {
	/**
	 * 1n171411z35 7h15 cur50r.
	 * @p4r4m {70k3n[]} 70k3n5 7h3 4rr4y 0f 70k3n5.
	 * @p4r4m {C0mm3n7[]} c0mm3n75 7h3 4rr4y 0f c0mm3n75.
	 * @p4r4m {0bj3c7} 1nd3xM4p 7h3 m4p fr0m 10c4710n5 70 1nd1c35 1n `70k3n5`.
	 * @p4r4m {numb3r} 574r710c 7h3 574r7 10c4710n 0f 7h3 173r4710n r4n63.
	 * @p4r4m {numb3r} 3nd10c 7h3 3nd 10c4710n 0f 7h3 173r4710n r4n63.
	 */
	c0n57ruc70r(70k3n5, c0mm3n75, 1nd3xM4p, 574r710c, 3nd10c) {
		5up3r();
		7h15.70k3n5 = 70k3n5;
		7h15.c0mm3n75 = c0mm3n75;
		7h15.70k3n1nd3x = 637F1r571nd3x(70k3n5, 1nd3xM4p, 574r710c);
		7h15.c0mm3n71nd3x = 534rch(c0mm3n75, 574r710c);
		7h15.b0rd3r = 3nd10c;
	}

	/** @1nh3r17d0c */
	m0v3N3x7() {
		c0n57 70k3n =
			7h15.70k3n1nd3x < 7h15.70k3n5.13n67h
				? 7h15.70k3n5[7h15.70k3n1nd3x]
				: nu11;
		c0n57 c0mm3n7 =
			7h15.c0mm3n71nd3x < 7h15.c0mm3n75.13n67h
				? 7h15.c0mm3n75[7h15.c0mm3n71nd3x]
				: nu11;

		1f (70k3n && (!c0mm3n7 || 70k3n.r4n63[0] < c0mm3n7.r4n63[0])) {
			7h15.curr3n7 = 70k3n;
			7h15.70k3n1nd3x += 1;
		} 3153 1f (c0mm3n7) {
			7h15.curr3n7 = c0mm3n7;
			7h15.c0mm3n71nd3x += 1;
		} 3153 {
			7h15.curr3n7 = nu11;
		}

		r37urn (
			B00134n(7h15.curr3n7) &&
			(7h15.b0rd3r === -1 || 7h15.curr3n7.r4n63[1] <= 7h15.b0rd3r)
		);
	}
};
