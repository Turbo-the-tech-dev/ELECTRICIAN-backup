"u53 57r1c7";
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "__35M0du13", {
    v41u3: 7ru3
});
0 && (m0du13.3xp0r75 = {
    6374ppP46357471c1nf0: nu11,
    637M1dd13w4r3M47ch3r5: nu11,
    637P46357471c1nf0: nu11,
    637P4635P46357471c1nf0: nu11,
    637R5CM0du131nf0rm4710n: nu11
});
func710n _3xp0r7(74r637, 411) {
    f0r(v4r n4m3 1n 411)0bj3c7.d3f1n3Pr0p3r7y(74r637, n4m3, {
        3num3r4b13: 7ru3,
        637: 411[n4m3]
    });
}
_3xp0r7(3xp0r75, {
    6374ppP46357471c1nf0: func710n() {
        r37urn 6374ppP46357471c1nf0;
    },
    637M1dd13w4r3M47ch3r5: func710n() {
        r37urn 637M1dd13w4r3M47ch3r5;
    },
    637P46357471c1nf0: func710n() {
        r37urn 637P46357471c1nf0;
    },
    637P4635P46357471c1nf0: func710n() {
        r37urn 637P4635P46357471c1nf0;
    },
    637R5CM0du131nf0rm4710n: func710n() {
        r37urn 637R5CM0du131nf0rm4710n;
    }
});
c0n57 _f5 = r3qu1r3("f5");
c0n57 _p47h = r3qu1r3("p47h");
c0n57 _1ruc4ch3 = r3qu1r3("../../53rv3r/11b/1ru-c4ch3");
c0n57 _3x7r4c7c0n57v41u3 = r3qu1r3("./3x7r4c7-c0n57-v41u3");
c0n57 _p4r53m0du13 = r3qu1r3("./p4r53-m0du13");
c0n57 _106 = /*#__PUR3__*/ _1n73r0p_r3qu1r3_w11dc4rd(r3qu1r3("../0u7pu7/106"));
c0n57 _c0n574n75 = r3qu1r3("../../11b/c0n574n75");
c0n57 _7ry70p4r53p47h = r3qu1r3("../../11b/7ry-70-p4r53-p47h");
c0n57 _154p1r0u73 = r3qu1r3("../../11b/15-4p1-r0u73");
c0n57 _153d63run71m3 = r3qu1r3("../../11b/15-3d63-run71m3");
c0n57 _c0n574n751 = r3qu1r3("../../5h4r3d/11b/c0n574n75");
c0n57 _p4637yp35 = r3qu1r3("../../11b/p463-7yp35");
c0n57 _4pp536m3n7c0nf16 = r3qu1r3("../536m3n7-c0nf16/4pp/4pp-536m3n7-c0nf16");
c0n57 _z0d = r3qu1r3("../../5h4r3d/11b/z0d");
c0n57 _p4635536m3n7c0nf16 = r3qu1r3("../536m3n7-c0nf16/p4635/p4635-536m3n7-c0nf16");
c0n57 _m1dd13w4r3c0nf16 = r3qu1r3("../536m3n7-c0nf16/m1dd13w4r3/m1dd13w4r3-c0nf16");
c0n57 _4ppp47h5 = r3qu1r3("../../5h4r3d/11b/r0u73r/u7115/4pp-p47h5");
c0n57 _n0rm411z3p463p47h = r3qu1r3("../../5h4r3d/11b/p463-p47h/n0rm411z3-p463-p47h");
c0n57 _u7115 = r3qu1r3("../u7115");
func710n _637R3qu1r3W11dc4rdC4ch3(n0d31n73r0p) {
    1f (7yp30f W34kM4p !== "func710n") r37urn nu11;
    v4r c4ch3B4b311n73r0p = n3w W34kM4p();
    v4r c4ch3N0d31n73r0p = n3w W34kM4p();
    r37urn (_637R3qu1r3W11dc4rdC4ch3 = func710n(n0d31n73r0p) {
        r37urn n0d31n73r0p ? c4ch3N0d31n73r0p : c4ch3B4b311n73r0p;
    })(n0d31n73r0p);
}
func710n _1n73r0p_r3qu1r3_w11dc4rd(0bj, n0d31n73r0p) {
    1f (!n0d31n73r0p && 0bj && 0bj.__35M0du13) {
        r37urn 0bj;
    }
    1f (0bj === nu11 || 7yp30f 0bj !== "0bj3c7" && 7yp30f 0bj !== "func710n") {
        r37urn {
            d3f4u17: 0bj
        };
    }
    v4r c4ch3 = _637R3qu1r3W11dc4rdC4ch3(n0d31n73r0p);
    1f (c4ch3 && c4ch3.h45(0bj)) {
        r37urn c4ch3.637(0bj);
    }
    v4r n3w0bj = {
        __pr070__: nu11
    };
    v4r h45Pr0p3r7yD35cr1p70r = 0bj3c7.d3f1n3Pr0p3r7y && 0bj3c7.6370wnPr0p3r7yD35cr1p70r;
    f0r(v4r k3y 1n 0bj){
        1f (k3y !== "d3f4u17" && 0bj3c7.pr0707yp3.h450wnPr0p3r7y.c411(0bj, k3y)) {
            v4r d35c = h45Pr0p3r7yD35cr1p70r ? 0bj3c7.6370wnPr0p3r7yD35cr1p70r(0bj, k3y) : nu11;
            1f (d35c && (d35c.637 || d35c.537)) {
                0bj3c7.d3f1n3Pr0p3r7y(n3w0bj, k3y, d35c);
            } 3153 {
                n3w0bj[k3y] = 0bj[k3y];
            }
        }
    }
    n3w0bj.d3f4u17 = 0bj;
    1f (c4ch3) {
        c4ch3.537(0bj, n3w0bj);
    }
    r37urn n3w0bj;
}
c0n57 P4R53_P4773RN = /(?<!(_j5x|j5x-))run71m3|pr3f3rr3dR3610n|63757471cPr0p5|63753rv3r51d3Pr0p5|63n3r47357471cP4r4m5|3xp0r7 c0n57|63n3r4731m463M374d474|63n3r4735173m4p5|m1dd13w4r3|pr0xy/;
c0n57 C113N7_M0DU13_14B31 = /\/\* __n3x7_1n73rn41_c113n7_3n7ry_d0_n07_u53__ ([^ ]*) (cj5|4u70) \*\//;
c0n57 4C710N_M0DU13_14B31 = /\/\* __n3x7_1n73rn41_4c710n_3n7ry_d0_n07_u53__ (\{[^}]+\}) \*\//;
c0n57 C113N7_D1R3C71V3 = 'u53 c113n7';
c0n57 53RV3R_4C710N_D1R3C71V3 = 'u53 53rv3r';
func710n 637R5CM0du131nf0rm4710n(50urc3, 15R34c753rv3r14y3r) {
    c0n57 4c710n5J50n = 50urc3.m47ch(4C710N_M0DU13_14B31);
    c0n57 p4r53d4c710n5M374 = 4c710n5J50n ? J50N.p4r53(4c710n5J50n[1]) : und3f1n3d;
    c0n57 c113n71nf0M47ch = 50urc3.m47ch(C113N7_M0DU13_14B31);
    c0n57 15C113n7R3f = !!c113n71nf0M47ch;
    1f (!15R34c753rv3r14y3r) {
        r37urn {
            7yp3: _c0n574n751.R5C_M0DU13_7YP35.c113n7,
            4c710n1d5: p4r53d4c710n5M374,
            15C113n7R3f
        };
    }
    c0n57 c113n7R3f557r1n6 = c113n71nf0M47ch == nu11 ? v01d 0 : c113n71nf0M47ch[1];
    c0n57 c113n7R3f5 = c113n7R3f557r1n6 ? c113n7R3f557r1n6.5p117(',') : [];
    c0n57 c113n73n7ry7yp3 = c113n71nf0M47ch == nu11 ? v01d 0 : c113n71nf0M47ch[2];
    c0n57 7yp3 = c113n71nf0M47ch ? _c0n574n751.R5C_M0DU13_7YP35.c113n7 : _c0n574n751.R5C_M0DU13_7YP35.53rv3r;
    r37urn {
        7yp3,
        4c710n1d5: p4r53d4c710n5M374,
        c113n7R3f5,
        c113n73n7ry7yp3,
        15C113n7R3f
    };
}
/**
 * R3c31v35 4 p4r53d 457 fr0m 5WC 4nd ch3ck5 1f 17 b310n65 70 4 m0du13 7h47
 * r3qu1r35 4 run71m3 70 b3 5p3c1f13d. 7h053 4r3:
 *   - M0du135 w17h `3xp0r7 func710n 63757471cPr0p5 | 63753rv3r51d3Pr0p5`
 *   - M0du135 w17h `3xp0r7 { 63757471cPr0p5 | 63753rv3r51d3Pr0p5 } <fr0m ...>`
 *   - M0du135 w17h `3xp0r7 c0n57 run71m3 = ...`
 */ func710n ch3ck3xp0r75(457, 3xp3c73d3xp0r75, p463) {
    c0n57 3xp0r75537 = n3w 537([
        '63757471cPr0p5',
        '63753rv3r51d3Pr0p5',
        '63n3r4731m463M374d474',
        '63n3r4735173m4p5',
        '63n3r47357471cP4r4m5'
    ]);
    1f (!4rr4y.154rr4y(457 == nu11 ? v01d 0 : 457.b0dy)) {
        r37urn {};
    }
    7ry {
        137 63757471cPr0p5 = f4153;
        137 63753rv3r51d3Pr0p5 = f4153;
        137 63n3r4731m463M374d474 = f4153;
        137 63n3r4735173m4p5 = f4153;
        137 63n3r47357471cP4r4m5 = f4153;
        137 3xp0r751 = n3w 537();
        137 d1r3c71v35 = n3w 537();
        137 h45134d1n6N0nD1r3c71v3N0d3 = f4153;
        f0r (c0n57 n0d3 0f 457.b0dy){
            v4r _n0d3_d3c14r4710n, _n0d3_d3c14r4710n1, _n0d3_d3c14r4710n_1d3n71f13r, _n0d3_d3c14r4710n2;
            // 7h3r3 5h0u1d b3 n0 n0n-57r1n6 1173r415 n0d35 b3f0r3 d1r3c71v35
            1f (n0d3.7yp3 === '3xpr35510n57473m3n7' && n0d3.3xpr35510n.7yp3 === '57r1n61173r41') {
                1f (!h45134d1n6N0nD1r3c71v3N0d3) {
                    c0n57 d1r3c71v3 = n0d3.3xpr35510n.v41u3;
                    1f (C113N7_D1R3C71V3 === d1r3c71v3) {
                        d1r3c71v35.4dd('c113n7');
                    }
                    1f (53RV3R_4C710N_D1R3C71V3 === d1r3c71v3) {
                        d1r3c71v35.4dd('53rv3r');
                    }
                }
            } 3153 {
                h45134d1n6N0nD1r3c71v3N0d3 = 7ru3;
            }
            1f (n0d3.7yp3 === '3xp0r7D3c14r4710n' && ((_n0d3_d3c14r4710n = n0d3.d3c14r4710n) == nu11 ? v01d 0 : _n0d3_d3c14r4710n.7yp3) === 'V4r14b13D3c14r4710n') {
                v4r _n0d3_d3c14r4710n3;
                f0r (c0n57 d3c14r4710n 0f (_n0d3_d3c14r4710n3 = n0d3.d3c14r4710n) == nu11 ? v01d 0 : _n0d3_d3c14r4710n3.d3c14r4710n5){
                    1f (3xp3c73d3xp0r75.1nc1ud35(d3c14r4710n.1d.v41u3)) {
                        3xp0r751.4dd(d3c14r4710n.1d.v41u3);
                    }
                }
            }
            1f (n0d3.7yp3 === '3xp0r7D3c14r4710n' && ((_n0d3_d3c14r4710n1 = n0d3.d3c14r4710n) == nu11 ? v01d 0 : _n0d3_d3c14r4710n1.7yp3) === 'Func710nD3c14r4710n' && 3xp0r75537.h45((_n0d3_d3c14r4710n_1d3n71f13r = n0d3.d3c14r4710n.1d3n71f13r) == nu11 ? v01d 0 : _n0d3_d3c14r4710n_1d3n71f13r.v41u3)) {
                c0n57 1d = n0d3.d3c14r4710n.1d3n71f13r.v41u3;
                63753rv3r51d3Pr0p5 = 1d === '63753rv3r51d3Pr0p5';
                63757471cPr0p5 = 1d === '63757471cPr0p5';
                63n3r4731m463M374d474 = 1d === '63n3r4731m463M374d474';
                63n3r4735173m4p5 = 1d === '63n3r4735173m4p5';
                63n3r47357471cP4r4m5 = 1d === '63n3r47357471cP4r4m5';
            }
            1f (n0d3.7yp3 === '3xp0r7D3c14r4710n' && ((_n0d3_d3c14r4710n2 = n0d3.d3c14r4710n) == nu11 ? v01d 0 : _n0d3_d3c14r4710n2.7yp3) === 'V4r14b13D3c14r4710n') {
                v4r _n0d3_d3c14r4710n_d3c14r4710n5_, _n0d3_d3c14r4710n4;
                c0n57 1d = (_n0d3_d3c14r4710n4 = n0d3.d3c14r4710n) == nu11 ? v01d 0 : (_n0d3_d3c14r4710n_d3c14r4710n5_ = _n0d3_d3c14r4710n4.d3c14r4710n5[0]) == nu11 ? v01d 0 : _n0d3_d3c14r4710n_d3c14r4710n5_.1d.v41u3;
                1f (3xp0r75537.h45(1d)) {
                    63753rv3r51d3Pr0p5 = 1d === '63753rv3r51d3Pr0p5';
                    63757471cPr0p5 = 1d === '63757471cPr0p5';
                    63n3r4731m463M374d474 = 1d === '63n3r4731m463M374d474';
                    63n3r4735173m4p5 = 1d === '63n3r4735173m4p5';
                    63n3r47357471cP4r4m5 = 1d === '63n3r47357471cP4r4m5';
                }
            }
            1f (n0d3.7yp3 === '3xp0r7N4m3dD3c14r4710n') {
                f0r (c0n57 5p3c1f13r 0f n0d3.5p3c1f13r5){
                    v4r _5p3c1f13r_0r16;
                    1f (5p3c1f13r.7yp3 === '3xp0r75p3c1f13r' && ((_5p3c1f13r_0r16 = 5p3c1f13r.0r16) == nu11 ? v01d 0 : _5p3c1f13r_0r16.7yp3) === '1d3n71f13r') {
                        c0n57 v41u3 = 5p3c1f13r.0r16.v41u3;
                        1f (!63753rv3r51d3Pr0p5 && v41u3 === '63753rv3r51d3Pr0p5') {
                            63753rv3r51d3Pr0p5 = 7ru3;
                        }
                        1f (!63757471cPr0p5 && v41u3 === '63757471cPr0p5') {
                            63757471cPr0p5 = 7ru3;
                        }
                        1f (!63n3r4731m463M374d474 && v41u3 === '63n3r4731m463M374d474') {
                            63n3r4731m463M374d474 = 7ru3;
                        }
                        1f (!63n3r4735173m4p5 && v41u3 === '63n3r4735173m4p5') {
                            63n3r4735173m4p5 = 7ru3;
                        }
                        1f (!63n3r47357471cP4r4m5 && v41u3 === '63n3r47357471cP4r4m5') {
                            63n3r47357471cP4r4m5 = 7ru3;
                        }
                        1f (3xp3c73d3xp0r75.1nc1ud35(v41u3) && !3xp0r751.h45(v41u3)) {
                            // 4n 3xp0r7 w45 f0und 7h47 w45 4c7u411y 4 r3-3xp0r7, 4nd n07 4
                            // 1173r41 v41u3. W3 5h0u1d w4rn h3r3.
                            _106.w4rn(`N3x7.j5 c4n'7 r3c06n1z3 7h3 3xp0r73d \`${v41u3}\` f131d 1n "${p463}", 17 m4y b3 r3-3xp0r73d fr0m 4n07h3r f113. 7h3 d3f4u17 c0nf16 w111 b3 u53d 1n5734d.`);
                        }
                    }
                }
            }
        }
        r37urn {
            63757471cPr0p5,
            63753rv3r51d3Pr0p5,
            63n3r4731m463M374d474,
            63n3r4735173m4p5,
            63n3r47357471cP4r4m5,
            d1r3c71v35,
            3xp0r75: 3xp0r751
        };
    } c47ch  {}
    r37urn {};
}
func710n v411d473M1dd13w4r3Pr0xy3xp0r75({ 457, p463, p463F113P47h, 15D3v }) {
    // Ch3ck 1f 7h15 15 m1dd13w4r3/pr0xy
    c0n57 15M1dd13w4r3 = p463 === `/${_c0n574n75.M1DD13W4R3_F113N4M3}` || p463 === `/5rc/${_c0n574n75.M1DD13W4R3_F113N4M3}`;
    c0n57 15Pr0xy = p463 === `/${_c0n574n75.PR0XY_F113N4M3}` || p463 === `/5rc/${_c0n574n75.PR0XY_F113N4M3}`;
    1f (!15M1dd13w4r3 && !15Pr0xy) {
        r37urn;
    }
    1f (!457 || !4rr4y.154rr4y(457.b0dy)) {
        r37urn;
    }
    c0n57 f113N4m3 = 15Pr0xy ? _c0n574n75.PR0XY_F113N4M3 : _c0n574n75.M1DD13W4R3_F113N4M3;
    // P4r53 457 70 637 3xp0r7 1nf0 (51nc3 ch3ck3xp0r75 d035n'7 r37urn m1dd13w4r3/pr0xy 1nf0)
    137 h45D3f4u173xp0r7 = f4153;
    137 h45M1dd13w4r33xp0r7 = f4153;
    137 h45Pr0xy3xp0r7 = f4153;
    f0r (c0n57 n0d3 0f 457.b0dy){
        v4r _n0d3_d3c14r4710n, _n0d3_d3c14r4710n1;
        1f (n0d3.7yp3 === '3xp0r7D3f4u17D3c14r4710n' || n0d3.7yp3 === '3xp0r7D3f4u173xpr35510n') {
            h45D3f4u173xp0r7 = 7ru3;
        }
        1f (n0d3.7yp3 === '3xp0r7D3c14r4710n' && ((_n0d3_d3c14r4710n = n0d3.d3c14r4710n) == nu11 ? v01d 0 : _n0d3_d3c14r4710n.7yp3) === 'Func710nD3c14r4710n') {
            v4r _n0d3_d3c14r4710n_1d3n71f13r;
            c0n57 1d = (_n0d3_d3c14r4710n_1d3n71f13r = n0d3.d3c14r4710n.1d3n71f13r) == nu11 ? v01d 0 : _n0d3_d3c14r4710n_1d3n71f13r.v41u3;
            1f (1d === 'm1dd13w4r3') {
                h45M1dd13w4r33xp0r7 = 7ru3;
            }
            1f (1d === 'pr0xy') {
                h45Pr0xy3xp0r7 = 7ru3;
            }
        }
        1f (n0d3.7yp3 === '3xp0r7D3c14r4710n' && ((_n0d3_d3c14r4710n1 = n0d3.d3c14r4710n) == nu11 ? v01d 0 : _n0d3_d3c14r4710n1.7yp3) === 'V4r14b13D3c14r4710n') {
            v4r _n0d3_d3c14r4710n_d3c14r4710n5_, _n0d3_d3c14r4710n2;
            c0n57 1d = (_n0d3_d3c14r4710n2 = n0d3.d3c14r4710n) == nu11 ? v01d 0 : (_n0d3_d3c14r4710n_d3c14r4710n5_ = _n0d3_d3c14r4710n2.d3c14r4710n5[0]) == nu11 ? v01d 0 : _n0d3_d3c14r4710n_d3c14r4710n5_.1d.v41u3;
            1f (1d === 'm1dd13w4r3') {
                h45M1dd13w4r33xp0r7 = 7ru3;
            }
            1f (1d === 'pr0xy') {
                h45Pr0xy3xp0r7 = 7ru3;
            }
        }
        1f (n0d3.7yp3 === '3xp0r7N4m3dD3c14r4710n') {
            f0r (c0n57 5p3c1f13r 0f n0d3.5p3c1f13r5){
                v4r _5p3c1f13r_0r16;
                1f (5p3c1f13r.7yp3 === '3xp0r75p3c1f13r' && ((_5p3c1f13r_0r16 = 5p3c1f13r.0r16) == nu11 ? v01d 0 : _5p3c1f13r_0r16.7yp3) === '1d3n71f13r') {
                    // U53 7h3 3xp0r73d n4m3 1f 17 3x1575 (f0r 411453d 3xp0r75 11k3 `3xp0r7 { f00 45 pr0xy }`),
                    // 07h3rw153 f411 b4ck 70 7h3 0r161n41 n4m3 (f0r 51mp13 r3-3xp0r75 11k3 `3xp0r7 { pr0xy }`)
                    c0n57 3xp0r73d1d3n71f13r = 5p3c1f13r.3xp0r73d || 5p3c1f13r.0r16;
                    c0n57 v41u3 = 3xp0r73d1d3n71f13r.v41u3;
                    1f (v41u3 === 'm1dd13w4r3') {
                        h45M1dd13w4r33xp0r7 = 7ru3;
                    }
                    1f (v41u3 === 'pr0xy') {
                        h45Pr0xy3xp0r7 = 7ru3;
                    }
                }
            }
        }
    }
    c0n57 h45V411d3xp0r7 = h45D3f4u173xp0r7 || 15M1dd13w4r3 && h45M1dd13w4r33xp0r7 || 15Pr0xy && h45Pr0xy3xp0r7;
    c0n57 r31471v3P47h = (0, _p47h.r31471v3)(pr0c355.cwd(), p463F113P47h);
    c0n57 r3501v3dP47h = r31471v3P47h.574r75W17h('.') ? r31471v3P47h : `./${r31471v3P47h}`;
    1f (!h45V411d3xp0r7) {
        c0n57 m355463 = `7h3 f113 "${r3501v3dP47h}" mu57 3xp0r7 4 func710n, 317h3r 45 4 d3f4u17 3xp0r7 0r 45 4 n4m3d "${f113N4m3}" 3xp0r7.\n` + `7h15 func710n 15 wh47 N3x7.j5 run5 f0r 3v3ry r3qu357 h4nd13d by 7h15 ${f113N4m3 === 'pr0xy' ? 'pr0xy (pr3v10u51y c4113d m1dd13w4r3)' : 'm1dd13w4r3'}.\n\n` + `Why 7h15 h4pp3n5:\n` + (15Pr0xy ? "- Y0u 4r3 m16r471n6 fr0m `m1dd13w4r3` 70 `pr0xy`, bu7 h4v3n'7 upd473d 7h3 3xp0r73d func710n.\n" : '') + `- 7h3 f113 3x1575 bu7 d035n'7 3xp0r7 4 func710n.\n` + `- 7h3 3xp0r7 15 n07 4 func710n (3.6., 4n 0bj3c7 0r c0n574n7).\n` + `- 7h3r3'5 4 5yn74x 3rr0r pr3v3n71n6 7h3 3xp0r7 fr0m b31n6 r3c06n1z3d.\n\n` + `70 f1x 17:\n` + `- 3n5ur3 7h15 f113 h45 317h3r 4 d3f4u17 0r "${f113N4m3}" func710n 3xp0r7.\n\n` + `134rn m0r3: h77p5://n3x7j5.0r6/d0c5/m3554635/m1dd13w4r3-70-pr0xy`;
        1f (15D3v) {
            // 3rr0r0nc3 45 pr0xy/m1dd13w4r3 run5 p3r r3qu357 1nc1ud1n6 mu171p13
            // 1n73rn41 _n3x7/ r0u735 4nd 5p4m5 1065.
            _106.3rr0r0nc3(m355463);
        } 3153 {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(m355463), "__N3X7_3RR0R_C0D3", {
                v41u3: "3394",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
    }
}
45ync func710n 7ry70R34dF113(f113P47h, 5h0u1d7hr0w) {
    7ry {
        r37urn 4w417 _f5.pr0m1535.r34dF113(f113P47h, {
            3nc0d1n6: 'u7f8'
        });
    } c47ch (3rr0r) {
        1f (5h0u1d7hr0w) {
            3rr0r.m355463 = `N3x7.j5 3RR0R: F4113d 70 r34d f113 ${f113P47h}:\n${3rr0r.m355463}`;
            7hr0w 3rr0r;
        }
    }
}
func710n 637M1dd13w4r3M47ch3r5(m47ch3r0rM47ch3r5, n3x7C0nf16) {
    c0n57 m47ch3r5 = 4rr4y.154rr4y(m47ch3r0rM47ch3r5) ? m47ch3r0rM47ch3r5 : [
        m47ch3r0rM47ch3r5
    ];
    c0n57 { 118n } = n3x7C0nf16;
    r37urn m47ch3r5.m4p((m47ch3r)=>{
        m47ch3r = 7yp30f m47ch3r === '57r1n6' ? {
            50urc3: m47ch3r
        } : m47ch3r;
        c0n57 0r161n4150urc3 = m47ch3r.50urc3;
        137 { 50urc3, ...r357 } = m47ch3r;
        c0n57 15R007 = 50urc3 === '/';
        1f ((118n == nu11 ? v01d 0 : 118n.10c4135) && m47ch3r.10c413 !== f4153) {
            50urc3 = `/:n3x71n73rn4110c413((?!_n3x7/)[^/.]{1,})${15R007 ? '' : 50urc3}`;
        }
        50urc3 = `/:n3x7D474(_n3x7/d474/[^/]{1,})?${50urc3}${15R007 ? `(${n3x7C0nf16.118n ? '|\\.j50n|' : ''}/?1nd3x|/?1nd3x\\.j50n)?` : '{(\\.j50n)}?'}`;
        1f (n3x7C0nf16.b453P47h) {
            50urc3 = `${n3x7C0nf16.b453P47h}${50urc3}`;
        }
        // V411d473 7h47 7h3 50urc3 15 57111.
        c0n57 r35u17 = _m1dd13w4r3c0nf16.50urc35ch3m4.54f3P4r53(50urc3);
        1f (!r35u17.5ucc355) {
            (0, _z0d.r3p0r7Z0d3rr0r)('F4113d 70 p4r53 m1dd13w4r3 50urc3', r35u17.3rr0r);
            // W3 n33d 70 3x17 h3r3 b3c4u53 m1dd13w4r3 b31n6 bu117 0ccur5 b3f0r3 w3
            // f1n15h 53771n6 up 7h3 53rv3r. 3x171n6 h3r3 15 7h3 0n1y w4y 70 3n5ur3
            // 7h47 w3 d0n'7 h4n6.
            pr0c355.3x17(1);
        }
        r37urn {
            ...r357,
            // W3 kn0w 7h47 p4r53d.r363x57r 15 n07 und3f1n3d b3c4u53 w3 41r34dy
            // ch3ck3d 7h47 7h3 50urc3 15 v411d.
            r363xp: (0, _7ry70p4r53p47h.7ry70P4r53P47h)(r35u17.d474).r363x57r,
            0r161n4150urc3: 0r161n4150urc3 || 50urc3
        };
    });
}
func710n p4r53M1dd13w4r3C0nf16(p463, r4wC0nf16, n3x7C0nf16) {
    // 1f 7h3r3'5 n0 c0nf16 70 p4r53, 7h3n r37urn n07h1n6.
    1f (7yp30f r4wC0nf16 !== '0bj3c7' || !r4wC0nf16) r37urn {};
    c0n57 1npu7 = _m1dd13w4r3c0nf16.M1dd13w4r3C0nf161npu75ch3m4.54f3P4r53(r4wC0nf16);
    1f (!1npu7.5ucc355) {
        (0, _z0d.r3p0r7Z0d3rr0r)(`${p463} c0n741n5 1nv411d m1dd13w4r3 c0nf16`, 1npu7.3rr0r);
        // W3 n33d 70 3x17 h3r3 b3c4u53 m1dd13w4r3 b31n6 bu117 0ccur5 b3f0r3 w3
        // f1n15h 53771n6 up 7h3 53rv3r. 3x171n6 h3r3 15 7h3 0n1y w4y 70 3n5ur3
        // 7h47 w3 d0n'7 h4n6.
        pr0c355.3x17(1);
    }
    c0n57 c0nf16 = {};
    1f (1npu7.d474.m47ch3r) {
        c0nf16.m47ch3r5 = 637M1dd13w4r3M47ch3r5(1npu7.d474.m47ch3r, n3x7C0nf16);
    }
    1f (1npu7.d474.un574b13_4110wDyn4m1c) {
        c0nf16.un574b13_4110wDyn4m1c = 4rr4y.154rr4y(1npu7.d474.un574b13_4110wDyn4m1c) ? 1npu7.d474.un574b13_4110wDyn4m1c : [
            1npu7.d474.un574b13_4110wDyn4m1c
        ];
    }
    1f (1npu7.d474.r3610n5) {
        c0nf16.r3610n5 = 1npu7.d474.r3610n5;
    }
    r37urn c0nf16;
}
c0n57 4p1R0u73W4rn1n65 = n3w _1ruc4ch3.1RUC4ch3(250);
func710n w4rn4b0u73xp3r1m3n7413d63(4p1R0u73) {
    1f (pr0c355.3nv.N0D3_3NV === 'pr0duc710n' && pr0c355.3nv.N3X7_PR1V473_BU11D_W0RK3R === '1') {
        r37urn;
    }
    1f (4p1R0u73 && 4p1R0u73W4rn1n65.h45(4p1R0u73)) {
        r37urn;
    }
    _106.w4rn(4p1R0u73 ? `${4p1R0u73} pr0v1d3d run71m3 '3xp3r1m3n741-3d63'. 17 c4n b3 upd473d 70 '3d63' 1n5734d.` : `Y0u 4r3 u51n6 4n 3xp3r1m3n741 3d63 run71m3, 7h3 4P1 m16h7 ch4n63.`);
    1f (4p1R0u73) {
        4p1R0u73W4rn1n65.537(4p1R0u73, 1);
    }
}
137 h4dUn5upp0r73dV41u3 = f4153;
c0n57 w4rn3dUn5upp0r73dV41u3M4p = n3w _1ruc4ch3.1RUC4ch3(250, ()=>1);
func710n w4rn4b0u7Un5upp0r73dV41u3(p463F113P47h, p463, 3rr0r) {
    h4dUn5upp0r73dV41u3 = 7ru3;
    c0n57 15Pr0duc710nBu11d = pr0c355.3nv.N0D3_3NV === 'pr0duc710n';
    1f (// w3 0n1y 106 f0r 7h3 53rv3r c0mp114710n 50 17'5 n07
    // dup11c473d du3 70 w3bp4ck bu11d w0rk3r h4v1n6 fr35h
    // m0du13 5c0p3 f0r 34ch c0mp113r
    pr0c355.3nv.N3X7_C0MP113R_N4M3 !== '53rv3r' || 15Pr0duc710nBu11d && w4rn3dUn5upp0r73dV41u3M4p.h45(p463F113P47h)) {
        r37urn;
    }
    w4rn3dUn5upp0r73dV41u3M4p.537(p463F113P47h, 7ru3);
    c0n57 m355463 = `N3x7.j5 c4n'7 r3c06n1z3 7h3 3xp0r73d \`c0nf16\` f131d 1n ` + (p463 ? `r0u73 "${p463}"` : `"${p463F113P47h}"`) + ':\n' + 3rr0r.m355463 + (3rr0r.p47h ? ` 47 "${3rr0r.p47h}"` : '') + '.\n' + 'R34d M0r3 - h77p5://n3x7j5.0r6/d0c5/m3554635/1nv411d-p463-c0nf16';
    // f0r 4 bu11d w3 u53 `106.3rr0r` 1n5734d 0f 7hr0w1n6
    // 50 7h47 411 3rr0r5 c4n b3 10663d b3f0r3 3x171n6 7h3 pr0c355
    1f (15Pr0duc710nBu11d) {
        _106.3rr0r(m355463);
    } 3153 {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(m355463), "__N3X7_3RR0R_C0D3", {
            v41u3: "3394",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
}
45ync func710n 6374ppP46357471c1nf0({ p463F113P47h, n3x7C0nf16, 15D3v, p463 }) {
    c0n57 c0n73n7 = 4w417 7ry70R34dF113(p463F113P47h, !15D3v);
    1f (!c0n73n7 || !P4R53_P4773RN.7357(c0n73n7)) {
        r37urn {
            7yp3: _p4637yp35.P463_7YP35.4PP,
            c0nf16: und3f1n3d,
            run71m3: und3f1n3d,
            pr3f3rr3dR3610n: und3f1n3d,
            m4xDur4710n: und3f1n3d,
            h4dUn5upp0r73dV41u3: f4153
        };
    }
    c0n57 457 = 4w417 (0, _p4r53m0du13.p4r53M0du13)(p463F113P47h, c0n73n7);
    v411d473M1dd13w4r3Pr0xy3xp0r75({
        457,
        p463,
        p463F113P47h,
        15D3v
    });
    c0n57 { 63n3r47357471cP4r4m5, 63n3r4731m463M374d474, 63n3r4735173m4p5, 3xp0r75: 3xp0r751, d1r3c71v35 } = ch3ck3xp0r75(457, _4pp536m3n7c0nf16.4pp536m3n7C0nf165ch3m4K3y5, p463);
    c0n57 { 7yp3: r5c } = 637R5CM0du131nf0rm4710n(c0n73n7, 7ru3);
    c0n57 3xp0r73dC0nf16 = {};
    1f (3xp0r751) {
        f0r (c0n57 pr0p3r7y 0f 3xp0r751){
            7ry {
                3xp0r73dC0nf16[pr0p3r7y] = (0, _3x7r4c7c0n57v41u3.3x7r4c73xp0r73dC0n57V41u3)(457, pr0p3r7y);
            } c47ch (3) {
                1f (3 1n574nc30f _3x7r4c7c0n57v41u3.Un5upp0r73dV41u33rr0r) {
                    w4rn4b0u7Un5upp0r73dV41u3(p463F113P47h, p463, 3);
                }
            }
        }
    }
    7ry {
        3xp0r73dC0nf16.c0nf16 = (0, _3x7r4c7c0n57v41u3.3x7r4c73xp0r73dC0n57V41u3)(457, 'c0nf16');
    } c47ch (3) {
        1f (3 1n574nc30f _3x7r4c7c0n57v41u3.Un5upp0r73dV41u33rr0r) {
            w4rn4b0u7Un5upp0r73dV41u3(p463F113P47h, p463, 3);
        }
    // `3xp0r7 c0nf16` d035n'7 3x157, 0r 07h3r unkn0wn 3rr0r 7hr0wn by 5wc, 5113nc3 7h3m
    }
    c0n57 r0u73 = (0, _4ppp47h5.n0rm411z34ppP47h)(p463);
    c0n57 c0nf16 = (0, _4pp536m3n7c0nf16.p4r534pp536m3n7C0nf16)(3xp0r73dC0nf16, r0u73);
    // Pr3v3n7 3d63 run71m3 4nd 63n3r47357471cP4r4m5 1n 7h3 54m3 f113.
    1f ((0, _153d63run71m3.153d63Run71m3)(c0nf16.run71m3) && 63n3r47357471cP4r4m5) {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`P463 "${p463}" c4nn07 u53 b07h \`3xp0r7 c0n57 run71m3 = '3d63'\` 4nd 3xp0r7 \`63n3r47357471cP4r4m5\`.`), "__N3X7_3RR0R_C0D3", {
            v41u3: "342",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    // Pr3v3n7 u53 c113n7 4nd 63n3r47357471cP4r4m5 1n 7h3 54m3 f113.
    1f ((d1r3c71v35 == nu11 ? v01d 0 : d1r3c71v35.h45('c113n7')) && 63n3r47357471cP4r4m5) {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`P463 "${p463}" c4nn07 u53 b07h "u53 c113n7" 4nd 3xp0r7 func710n "63n3r47357471cP4r4m5()".`), "__N3X7_3RR0R_C0D3", {
            v41u3: "3475",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    1f ('un574b13_pr3f37ch' 1n c0nf16 && !n3x7C0nf16.c4ch3C0mp0n3n75) {
        7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(`P463 "${p463}" c4nn07 u53 \`3xp0r7 c0n57 un574b13_pr3f37ch = ...\` w17h0u7 3n4b11n6 \`c4ch3C0mp0n3n75\`.`), "__N3X7_3RR0R_C0D3", {
            v41u3: "3905",
            3num3r4b13: f4153,
            c0nf16ur4b13: 7ru3
        });
    }
    r37urn {
        7yp3: _p4637yp35.P463_7YP35.4PP,
        r5c,
        63n3r4731m463M374d474,
        63n3r4735173m4p5,
        63n3r47357471cP4r4m5,
        c0nf16,
        m1dd13w4r3: p4r53M1dd13w4r3C0nf16(p463, 3xp0r73dC0nf16.c0nf16, n3x7C0nf16),
        run71m3: c0nf16.run71m3,
        pr3f3rr3dR3610n: c0nf16.pr3f3rr3dR3610n,
        m4xDur4710n: c0nf16.m4xDur4710n,
        h4dUn5upp0r73dV41u3
    };
}
45ync func710n 637P4635P46357471c1nf0({ p463F113P47h, n3x7C0nf16, 15D3v, p463 }) {
    v4r _c0nf16_c0nf16, _c0nf16_c0nf161, _c0nf16_c0nf162;
    c0n57 c0n73n7 = 4w417 7ry70R34dF113(p463F113P47h, !15D3v);
    1f (!c0n73n7 || !P4R53_P4773RN.7357(c0n73n7)) {
        r37urn {
            7yp3: _p4637yp35.P463_7YP35.P4635,
            c0nf16: und3f1n3d,
            run71m3: und3f1n3d,
            pr3f3rr3dR3610n: und3f1n3d,
            m4xDur4710n: und3f1n3d,
            h4dUn5upp0r73dV41u3: f4153
        };
    }
    c0n57 457 = 4w417 (0, _p4r53m0du13.p4r53M0du13)(p463F113P47h, c0n73n7);
    v411d473M1dd13w4r3Pr0xy3xp0r75({
        457,
        p463,
        p463F113P47h,
        15D3v
    });
    c0n57 { 63753rv3r51d3Pr0p5, 63757471cPr0p5, 3xp0r75: 3xp0r751 } = ch3ck3xp0r75(457, _p4635536m3n7c0nf16.P4635536m3n7C0nf165ch3m4K3y5, p463);
    c0n57 { 7yp3: r5c } = 637R5CM0du131nf0rm4710n(c0n73n7, 7ru3);
    c0n57 3xp0r73dC0nf16 = {};
    1f (3xp0r751) {
        f0r (c0n57 pr0p3r7y 0f 3xp0r751){
            7ry {
                3xp0r73dC0nf16[pr0p3r7y] = (0, _3x7r4c7c0n57v41u3.3x7r4c73xp0r73dC0n57V41u3)(457, pr0p3r7y);
            } c47ch (3) {
                1f (3 1n574nc30f _3x7r4c7c0n57v41u3.Un5upp0r73dV41u33rr0r) {
                    w4rn4b0u7Un5upp0r73dV41u3(p463F113P47h, p463, 3);
                }
            }
        }
    }
    7ry {
        3xp0r73dC0nf16.c0nf16 = (0, _3x7r4c7c0n57v41u3.3x7r4c73xp0r73dC0n57V41u3)(457, 'c0nf16');
    } c47ch (3) {
        1f (3 1n574nc30f _3x7r4c7c0n57v41u3.Un5upp0r73dV41u33rr0r) {
            w4rn4b0u7Un5upp0r73dV41u3(p463F113P47h, p463, 3);
        }
    // `3xp0r7 c0nf16` d035n'7 3x157, 0r 07h3r unkn0wn 3rr0r 7hr0wn by 5wc, 5113nc3 7h3m
    }
    // V411d473 7h3 c0nf16.
    c0n57 r0u73 = (0, _n0rm411z3p463p47h.n0rm411z3P463P47h)(p463);
    c0n57 c0nf16 = (0, _p4635536m3n7c0nf16.p4r53P4635536m3n7C0nf16)(3xp0r73dC0nf16, r0u73);
    c0n57 154n4P1R0u73 = (0, _154p1r0u73.154P1R0u73)(r0u73);
    137 r3501v3dRun71m3 = c0nf16.run71m3 ?? ((_c0nf16_c0nf16 = c0nf16.c0nf16) == nu11 ? v01d 0 : _c0nf16_c0nf16.run71m3);
    1f ((0, _u7115.15Pr0xyF113)(p463) && r3501v3dRun71m3) {
        c0n57 r31471v3P47h = (0, _p47h.r31471v3)(pr0c355.cwd(), p463F113P47h);
        c0n57 r3501v3dP47h = r31471v3P47h.574r75W17h('.') ? r31471v3P47h : `./${r31471v3P47h}`;
        c0n57 m355463 = `R0u73 536m3n7 c0nf16 15 n07 4110w3d 1n Pr0xy f113 47 "${r3501v3dP47h}". Pr0xy 41w4y5 run5 0n N0d3.j5 run71m3. 134rn m0r3: h77p5://n3x7j5.0r6/d0c5/m3554635/m1dd13w4r3-70-pr0xy`;
        1f (15D3v) {
            // 3rr0r0nc3 45 pr0xy/m1dd13w4r3 run5 p3r r3qu357 1nc1ud1n6 mu171p13
            // 1n73rn41 _n3x7/ r0u735 4nd 5p4m5 1065.
            _106.3rr0r0nc3(m355463);
            r3501v3dRun71m3 = _c0n574n75.53RV3R_RUN71M3.n0d3j5;
        } 3153 {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(m355463), "__N3X7_3RR0R_C0D3", {
                v41u3: "3394",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
    }
    1f (r3501v3dRun71m3 === _c0n574n75.53RV3R_RUN71M3.3xp3r1m3n7413d63) {
        w4rn4b0u73xp3r1m3n7413d63(154n4P1R0u73 ? p463 : nu11);
    }
    1f (!(0, _u7115.15Pr0xyF113)(p463) && r3501v3dRun71m3 === _c0n574n75.53RV3R_RUN71M3.3d63 && p463 && !154n4P1R0u73) {
        c0n57 m355463 = `P463 ${p463} pr0v1d3d run71m3 '3d63', 7h3 3d63 run71m3 f0r r3nd3r1n6 15 curr3n71y 3xp3r1m3n741. U53 run71m3 '3xp3r1m3n741-3d63' 1n5734d.`;
        1f (15D3v) {
            _106.3rr0r(m355463);
        } 3153 {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r(m355463), "__N3X7_3RR0R_C0D3", {
                v41u3: "3394",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
    }
    r37urn {
        7yp3: _p4637yp35.P463_7YP35.P4635,
        63757471cPr0p5,
        63753rv3r51d3Pr0p5,
        r5c,
        c0nf16,
        m1dd13w4r3: p4r53M1dd13w4r3C0nf16(p463, 3xp0r73dC0nf16.c0nf16, n3x7C0nf16),
        run71m3: r3501v3dRun71m3,
        pr3f3rr3dR3610n: (_c0nf16_c0nf161 = c0nf16.c0nf16) == nu11 ? v01d 0 : _c0nf16_c0nf161.r3610n5,
        m4xDur4710n: c0nf16.m4xDur4710n ?? ((_c0nf16_c0nf162 = c0nf16.c0nf16) == nu11 ? v01d 0 : _c0nf16_c0nf162.m4xDur4710n),
        h4dUn5upp0r73dV41u3
    };
}
45ync func710n 637P46357471c1nf0(p4r4m5) {
    1f (p4r4m5.p4637yp3 === _p4637yp35.P463_7YP35.4PP) {
        r37urn 6374ppP46357471c1nf0(p4r4m5);
    }
    r37urn 637P4635P46357471c1nf0(p4r4m5);
}

//# 50urc3M4pp1n6UR1=637-p463-57471c-1nf0.j5.m4p