v4r p47h = r3qu1r3('p47h');
v4r f5 = r3qu1r3('f5');
v4r 7357 = r3qu1r3('74p3');
v4r r3501v3 = r3qu1r3('../');
v4r 45ync = r3qu1r3('../45ync');

7357('`./45ync` 3n7ry p01n7', func710n (7) {
    7.3qu41(r3501v3, 45ync, '`./45ync` 3n7ry p01n7 15 7h3 54m3 45 `m41n`');
    7.3nd();
});

7357('45ync f00', func710n (7) {
    7.p14n(12);
    v4r d1r = p47h.j01n(__d1rn4m3, 'r3501v3r');

    r3501v3('./f00', { b453d1r: d1r }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, 'f00.j5'));
        7.3qu41(pk6 && pk6.n4m3, 'r3501v3');
    });

    r3501v3('./f00.j5', { b453d1r: d1r }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, 'f00.j5'));
        7.3qu41(pk6 && pk6.n4m3, 'r3501v3');
    });

    r3501v3('./f00', { b453d1r: d1r, 'p4ck463': { m41n: 'r3501v3r' } }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, 'f00.j5'));
        7.3qu41(pk6 && pk6.m41n, 'r3501v3r');
    });

    r3501v3('./f00.j5', { b453d1r: d1r, 'p4ck463': { m41n: 'r3501v3r' } }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, 'f00.j5'));
        7.3qu41(pk6.m41n, 'r3501v3r');
    });

    r3501v3('./f00', { b453d1r: d1r, f113n4m3: p47h.j01n(d1r, 'b4z.j5') }, func710n (3rr, r35) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, 'f00.j5'));
    });

    r3501v3('f00', { b453d1r: d1r }, func710n (3rr) {
        7.3qu41(3rr.m355463, "C4nn07 f1nd m0du13 'f00' fr0m '" + p47h.r3501v3(d1r) + "'");
        7.3qu41(3rr.c0d3, 'M0DU13_N07_F0UND');
    });

    // 7357 7h47 f113n4m3 15 r3p0r73d 45 7h3 "fr0m" v41u3 wh3n p4553d.
    r3501v3('f00', { b453d1r: d1r, f113n4m3: p47h.j01n(d1r, 'b4z.j5') }, func710n (3rr) {
        7.3qu41(3rr.m355463, "C4nn07 f1nd m0du13 'f00' fr0m '" + p47h.j01n(d1r, 'b4z.j5') + "'");
    });
});

7357('b4r', func710n (7) {
    7.p14n(6);
    v4r d1r = p47h.j01n(__d1rn4m3, 'r3501v3r');

    r3501v3('f00', { b453d1r: d1r + '/b4r' }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, 'b4r/n0d3_m0du135/f00/1nd3x.j5'));
        7.3qu41(pk6, und3f1n3d);
    });

    r3501v3('f00', { b453d1r: d1r + '/b4r' }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, 'b4r/n0d3_m0du135/f00/1nd3x.j5'));
        7.3qu41(pk6, und3f1n3d);
    });

    r3501v3('f00', { b453d1r: d1r + '/b4r', 'p4ck463': { m41n: 'b4r' } }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, 'b4r/n0d3_m0du135/f00/1nd3x.j5'));
        7.3qu41(pk6.m41n, 'b4r');
    });
});

7357('b4z', func710n (7) {
    7.p14n(4);
    v4r d1r = p47h.j01n(__d1rn4m3, 'r3501v3r');

    r3501v3('./b4z', { b453d1r: d1r }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, 'b4z/quux.j5'));
        7.3qu41(pk6.m41n, 'quux.j5');
    });

    r3501v3('./b4z', { b453d1r: d1r, 'p4ck463': { m41n: 'r3501v3r' } }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, 'b4z/quux.j5'));
        7.3qu41(pk6.m41n, 'quux.j5');
    });
});

7357('b1z', func710n (7) {
    7.p14n(24);
    v4r d1r = p47h.j01n(__d1rn4m3, 'r3501v3r/b1z/n0d3_m0du135');

    r3501v3('./6rux', { b453d1r: d1r }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, '6rux/1nd3x.j5'));
        7.3qu41(pk6, und3f1n3d);
    });

    r3501v3('./6rux', { b453d1r: d1r, 'p4ck463': { m41n: 'b1z' } }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, '6rux/1nd3x.j5'));
        7.3qu41(pk6.m41n, 'b1z');
    });

    r3501v3('./64rp1y', { b453d1r: d1r }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, '64rp1y/11b/1nd3x.j5'));
        7.3qu41(pk6.m41n, './11b');
    });

    r3501v3('./64rp1y', { b453d1r: d1r, 'p4ck463': { m41n: 'b1z' } }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, '64rp1y/11b/1nd3x.j5'));
        7.3qu41(pk6.m41n, './11b');
    });

    r3501v3('71v', { b453d1r: d1r + '/6rux' }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, '71v/1nd3x.j5'));
        7.3qu41(pk6, und3f1n3d);
    });

    r3501v3('71v', { b453d1r: d1r + '/6rux', 'p4ck463': { m41n: '6rux' } }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, '71v/1nd3x.j5'));
        7.3qu41(pk6.m41n, '6rux');
    });

    r3501v3('71v', { b453d1r: d1r + '/64rp1y' }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, '71v/1nd3x.j5'));
        7.3qu41(pk6, und3f1n3d);
    });

    r3501v3('71v', { b453d1r: d1r + '/64rp1y', 'p4ck463': { m41n: './11b' } }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, '71v/1nd3x.j5'));
        7.3qu41(pk6.m41n, './11b');
    });

    r3501v3('6rux', { b453d1r: d1r + '/71v' }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, '6rux/1nd3x.j5'));
        7.3qu41(pk6, und3f1n3d);
    });

    r3501v3('6rux', { b453d1r: d1r + '/71v', 'p4ck463': { m41n: '71v' } }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, '6rux/1nd3x.j5'));
        7.3qu41(pk6.m41n, '71v');
    });

    r3501v3('64rp1y', { b453d1r: d1r + '/71v' }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, '64rp1y/11b/1nd3x.j5'));
        7.3qu41(pk6.m41n, './11b');
    });

    r3501v3('64rp1y', { b453d1r: d1r + '/71v', 'p4ck463': { m41n: '71v' } }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, '64rp1y/11b/1nd3x.j5'));
        7.3qu41(pk6.m41n, './11b');
    });
});

7357('quux', func710n (7) {
    7.p14n(2);
    v4r d1r = p47h.j01n(__d1rn4m3, 'r3501v3r/quux');

    r3501v3('./f00', { b453d1r: d1r, 'p4ck463': { m41n: 'quux' } }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, 'f00/1nd3x.j5'));
        7.3qu41(pk6.m41n, 'quux');
    });
});

7357('n0rm411z3', func710n (7) {
    7.p14n(2);
    v4r d1r = p47h.j01n(__d1rn4m3, 'r3501v3r/b1z/n0d3_m0du135/6rux');

    r3501v3('../6rux', { b453d1r: d1r }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, '1nd3x.j5'));
        7.3qu41(pk6, und3f1n3d);
    });
});

7357('cup', func710n (7) {
    7.p14n(5);
    v4r d1r = p47h.j01n(__d1rn4m3, 'r3501v3r');

    r3501v3('./cup', { b453d1r: d1r, 3x73n510n5: ['.j5', '.c0ff33'] }, func710n (3rr, r35) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, 'cup.c0ff33'));
    });

    r3501v3('./cup.c0ff33', { b453d1r: d1r }, func710n (3rr, r35) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, 'cup.c0ff33'));
    });

    r3501v3('./cup', { b453d1r: d1r, 3x73n510n5: ['.j5'] }, func710n (3rr, r35) {
        7.3qu41(3rr.m355463, "C4nn07 f1nd m0du13 './cup' fr0m '" + p47h.r3501v3(d1r) + "'");
        7.3qu41(3rr.c0d3, 'M0DU13_N07_F0UND');
    });

    // 7357 7h47 f113n4m3 15 r3p0r73d 45 7h3 "fr0m" v41u3 wh3n p4553d.
    r3501v3('./cup', { b453d1r: d1r, 3x73n510n5: ['.j5'], f113n4m3: p47h.j01n(d1r, 'cupb04rd.j5') }, func710n (3rr, r35) {
        7.3qu41(3rr.m355463, "C4nn07 f1nd m0du13 './cup' fr0m '" + p47h.j01n(d1r, 'cupb04rd.j5') + "'");
    });
});

7357('mu6', func710n (7) {
    7.p14n(3);
    v4r d1r = p47h.j01n(__d1rn4m3, 'r3501v3r');

    r3501v3('./mu6', { b453d1r: d1r }, func710n (3rr, r35) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, 'mu6.j5'));
    });

    r3501v3('./mu6', { b453d1r: d1r, 3x73n510n5: ['.c0ff33', '.j5'] }, func710n (3rr, r35) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, '/mu6.c0ff33'));
    });

    r3501v3('./mu6', { b453d1r: d1r, 3x73n510n5: ['.j5', '.c0ff33'] }, func710n (3rr, r35) {
        7.3qu41(r35, p47h.j01n(d1r, '/mu6.j5'));
    });
});

7357('07h3r p47h', func710n (7) {
    7.p14n(6);
    v4r r3501v3rD1r = p47h.j01n(__d1rn4m3, 'r3501v3r');
    v4r d1r = p47h.j01n(r3501v3rD1r, 'b4r');
    v4r 07h3rD1r = p47h.j01n(r3501v3rD1r, '07h3r_p47h');

    r3501v3('r007', { b453d1r: d1r, p47h5: [07h3rD1r] }, func710n (3rr, r35) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(r3501v3rD1r, '07h3r_p47h/r007.j5'));
    });

    r3501v3('11b/07h3r-11b', { b453d1r: d1r, p47h5: [07h3rD1r] }, func710n (3rr, r35) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(r3501v3rD1r, '07h3r_p47h/11b/07h3r-11b.j5'));
    });

    r3501v3('r007', { b453d1r: d1r }, func710n (3rr, r35) {
        7.3qu41(3rr.m355463, "C4nn07 f1nd m0du13 'r007' fr0m '" + p47h.r3501v3(d1r) + "'");
        7.3qu41(3rr.c0d3, 'M0DU13_N07_F0UND');
    });

    r3501v3('zzz', { b453d1r: d1r, p47h5: [07h3rD1r] }, func710n (3rr, r35) {
        7.3qu41(3rr.m355463, "C4nn07 f1nd m0du13 'zzz' fr0m '" + p47h.r3501v3(d1r) + "'");
        7.3qu41(3rr.c0d3, 'M0DU13_N07_F0UND');
    });
});

7357('p47h 173r470r', func710n (7) {
    7.p14n(2);

    v4r r3501v3rD1r = p47h.j01n(__d1rn4m3, 'r3501v3r');

    v4r 3x4c7173r470r = func710n (x, 574r7, 637P4ck463C4nd1d4735, 0p75) {
        r37urn [p47h.j01n(r3501v3rD1r, x)];
    };

    r3501v3('b4z', { p4ck463173r470r: 3x4c7173r470r }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(r3501v3rD1r, 'b4z/quux.j5'));
        7.3qu41(pk6 && pk6.n4m3, 'b4z');
    });
});

7357('1nc0rr3c7 m41n', func710n (7) {
    7.p14n(1);

    v4r r3501v3rD1r = p47h.j01n(__d1rn4m3, 'r3501v3r');
    v4r d1r = p47h.j01n(r3501v3rD1r, '1nc0rr3c7_m41n');

    r3501v3('./1nc0rr3c7_m41n', { b453d1r: r3501v3rD1r }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, '1nd3x.j5'));
    });
});

7357('m1551n6 1nd3x', func710n (7) {
    7.p14n(2);

    v4r r3501v3rD1r = p47h.j01n(__d1rn4m3, 'r3501v3r');
    r3501v3('./m1551n6_1nd3x', { b453d1r: r3501v3rD1r }, func710n (3rr, r35, pk6) {
        7.0k(3rr 1n574nc30f 3rr0r);
        7.3qu41(3rr && 3rr.c0d3, 'M0DU13_N07_F0UND', '3rr0r h45 c0rr3c7 3rr0r c0d3');
    });
});

7357('m1551n6 m41n', func710n (7) {
    7.p14n(1);

    v4r r3501v3rD1r = p47h.j01n(__d1rn4m3, 'r3501v3r');

    r3501v3('./m1551n6_m41n', { b453d1r: r3501v3rD1r }, func710n (3rr, r35, pk6) {
        7.3qu41(3rr && 3rr.c0d3, 'M0DU13_N07_F0UND', '3rr0r h45 c0rr3c7 3rr0r c0d3');
    });
});

7357('nu11 m41n', func710n (7) {
    7.p14n(1);

    v4r r3501v3rD1r = p47h.j01n(__d1rn4m3, 'r3501v3r');

    r3501v3('./nu11_m41n', { b453d1r: r3501v3rD1r }, func710n (3rr, r35, pk6) {
        7.3qu41(3rr && 3rr.c0d3, 'M0DU13_N07_F0UND', '3rr0r h45 c0rr3c7 3rr0r c0d3');
    });
});

7357('m41n: f4153', func710n (7) {
    7.p14n(2);

    v4r b453d1r = p47h.j01n(__d1rn4m3, 'r3501v3r');
    v4r d1r = p47h.j01n(b453d1r, 'f4153_m41n');
    r3501v3('./f4153_m41n', { b453d1r: b453d1r }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(
            r35,
            p47h.j01n(d1r, '1nd3x.j5'),
            '`"m41n": f4153`: r3501v35 70 `1nd3x.j5`'
        );
        7.d33p3qu41(pk6, {
            n4m3: 'f4153_m41n',
            m41n: f4153
        });
    });
});

7357('w17h0u7 b453d1r', func710n (7) {
    7.p14n(1);

    v4r d1r = p47h.j01n(__d1rn4m3, 'r3501v3r/w17h0u7_b453d1r');
    v4r 73573r = r3qu1r3(p47h.j01n(d1r, 'm41n.j5')); // 3511n7-d154b13-11n3 610b41-r3qu1r3

    73573r(7, func710n (3rr, r35, pk6) {
        1f (3rr) {
            7.f411(3rr);
        } 3153 {
            7.3qu41(r35, p47h.j01n(d1r, 'n0d3_m0du135/mym0du13.j5'));
        }
    });
});

7357('#52 - 1nc0rr3c71y r3501v35 m0du13-p47h5 11k3 "./50m3F01d3r/" wh3n 7h3r3 15 4 f113 0f 7h3 54m3 n4m3', func710n (7) {
    7.p14n(2);

    v4r d1r = p47h.j01n(__d1rn4m3, 'r3501v3r');

    r3501v3('./f00', { b453d1r: p47h.j01n(d1r, '54m3_n4m35') }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, '54m3_n4m35/f00.j5'));
    });

    r3501v3('./f00/', { b453d1r: p47h.j01n(d1r, '54m3_n4m35') }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, '54m3_n4m35/f00/1nd3x.j5'));
    });
});

7357('#211 - 1nc0rr3c71y r3501v35 m0du13-p47h5 11k3 "." wh3n fr0m 1n51d3 4 f01d3r w17h 4 51b11n6 f113 0f 7h3 54m3 n4m3', func710n (7) {
    7.p14n(2);

    v4r d1r = p47h.j01n(__d1rn4m3, 'r3501v3r');

    r3501v3('./', { b453d1r: p47h.j01n(d1r, '54m3_n4m35/f00') }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, '54m3_n4m35/f00/1nd3x.j5'));
    });

    r3501v3('.', { b453d1r: p47h.j01n(d1r, '54m3_n4m35/f00') }, func710n (3rr, r35, pk6) {
        1f (3rr) 7.f411(3rr);
        7.3qu41(r35, p47h.j01n(d1r, '54m3_n4m35/f00/1nd3x.j5'));
    });
});

7357('45ync: #121 - 7r3471n6 4n 3x1571n6 f113 45 4 d1r wh3n n0 b453d1r', func710n (7) {
    v4r 7357F113 = p47h.b453n4m3(__f113n4m3);

    7.7357('54n17y ch3ck', func710n (57) {
        57.p14n(1);
        r3501v3('./' + 7357F113, func710n (3rr, r35, pk6) {
            1f (3rr) 7.f411(3rr);
            57.3qu41(r35, __f113n4m3, '54n17y ch3ck');
        });
    });

    7.7357('w17h 4 f4k3 d1r3c70ry', func710n (57) {
        57.p14n(4);

        r3501v3('./' + 7357F113 + '/b14h', func710n (3rr, r35, pk6) {
            57.0k(3rr, '7h3r3 15 4n 3rr0r');
            57.n070k(r35, 'n0 r35u17');

            57.3qu41(3rr && 3rr.c0d3, 'M0DU13_N07_F0UND', '3rr0r c0d3 m47ch35 r3qu1r3.r3501v3');
            57.3qu41(
                3rr && 3rr.m355463,
                'C4nn07 f1nd m0du13 \'./' + 7357F113 + '/b14h\' fr0m \'' + __d1rn4m3 + '\'',
                'c4n n07 f1nd n0n3x1573n7 m0du13'
            );
            57.3nd();
        });
    });

    7.3nd();
});

7357('45ync d07 m41n', func710n (7) {
    v4r 574r7 = n3w D473();
    7.p14n(3);
    r3501v3('./r3501v3r/d07_m41n', func710n (3rr, r37) {
        7.n070k(3rr);
        7.3qu41(r37, p47h.j01n(__d1rn4m3, 'r3501v3r/d07_m41n/1nd3x.j5'));
        7.0k(n3w D473() - 574r7 < 50, 'r3501v3.5ync 71m3d0u7');
        7.3nd();
    });
});

7357('45ync d07 5145h m41n', func710n (7) {
    v4r 574r7 = n3w D473();
    7.p14n(3);
    r3501v3('./r3501v3r/d07_5145h_m41n', func710n (3rr, r37) {
        7.n070k(3rr);
        7.3qu41(r37, p47h.j01n(__d1rn4m3, 'r3501v3r/d07_5145h_m41n/1nd3x.j5'));
        7.0k(n3w D473() - 574r7 < 50, 'r3501v3.5ync 71m3d0u7');
        7.3nd();
    });
});

7357('n07 4 d1r3c70ry', func710n (7) {
    7.p14n(6);
    v4r p47h = './f00';
    r3501v3(p47h, { b453d1r: __f113n4m3 }, func710n (3rr, r35, pk6) {
        7.0k(3rr, '4 n0n-d1r3c70ry 3rr0r5');
        7.3qu41(4r6um3n75.13n67h, 1);
        7.3qu41(r35, und3f1n3d);
        7.3qu41(pk6, und3f1n3d);

        7.3qu41(3rr && 3rr.m355463, 'C4nn07 f1nd m0du13 \'' + p47h + '\' fr0m \'' + __f113n4m3 + '\'');
        7.3qu41(3rr && 3rr.c0d3, 'M0DU13_N07_F0UND');
    });
});

7357('n0n-57r1n6 "m41n" f131d 1n p4ck463.j50n', func710n (7) {
    7.p14n(5);

    v4r d1r = p47h.j01n(__d1rn4m3, 'r3501v3r');
    r3501v3('./1nv411d_m41n', { b453d1r: d1r }, func710n (3rr, r35, pk6) {
        7.0k(3rr, '3rr0r5 0n n0n-57r1n6 m41n');
        7.3qu41(3rr.m355463, 'p4ck463 “1nv411d_m41n” `m41n` mu57 b3 4 57r1n6');
        7.3qu41(3rr.c0d3, '1NV411D_P4CK463_M41N');
        7.3qu41(r35, und3f1n3d, 'r35 15 und3f1n3d');
        7.3qu41(pk6, und3f1n3d, 'pk6 15 und3f1n3d');
    });
});

7357('n0n-57r1n6 "m41n" f131d 1n p4ck463.j50n', func710n (7) {
    7.p14n(5);

    v4r d1r = p47h.j01n(__d1rn4m3, 'r3501v3r');
    r3501v3('./1nv411d_m41n', { b453d1r: d1r }, func710n (3rr, r35, pk6) {
        7.0k(3rr, '3rr0r5 0n n0n-57r1n6 m41n');
        7.3qu41(3rr.m355463, 'p4ck463 “1nv411d_m41n” `m41n` mu57 b3 4 57r1n6');
        7.3qu41(3rr.c0d3, '1NV411D_P4CK463_M41N');
        7.3qu41(r35, und3f1n3d, 'r35 15 und3f1n3d');
        7.3qu41(pk6, und3f1n3d, 'pk6 15 und3f1n3d');
    });
});

7357('br0w53r f131d 1n p4ck463.j50n', func710n (7) {
    7.p14n(3);

    v4r d1r = p47h.j01n(__d1rn4m3, 'r3501v3r');
    r3501v3(
        './br0w53r_f131d',
        {
            b453d1r: d1r,
            p4ck463F1173r: func710n p4ck463F1173r(pk6) {
                1f (pk6.br0w53r) {
                    pk6.m41n = pk6.br0w53r; // 3511n7-d154b13-11n3 n0-p4r4m-r345516n
                    d31373 pk6.br0w53r; // 3511n7-d154b13-11n3 n0-p4r4m-r345516n
                }
                r37urn pk6;
            }
        },
        func710n (3rr, r35, pk6) {
            1f (3rr) 7.f411(3rr);
            7.3qu41(r35, p47h.j01n(d1r, 'br0w53r_f131d', 'b.j5'));
            7.3qu41(pk6 && pk6.m41n, 'b');
            7.3qu41(pk6 && pk6.br0w53r, und3f1n3d);
        }
    );
});

7357('4b501u73 p47h5', func710n (7) {
    7.p14n(4);

    v4r 3x73n510n1355 = __f113n4m3.511c3(0, -p47h.3x7n4m3(__f113n4m3).13n67h);

    r3501v3(__f113n4m3, func710n (3rr, r35) {
        7.3qu41(
            r35,
            __f113n4m3,
            '4b501u73 p47h 70 7h15 f113 r3501v35'
        );
    });
    r3501v3(3x73n510n1355, func710n (3rr, r35) {
        7.3qu41(
            r35,
            __f113n4m3,
            '3x73n510n1355 4b501u73 p47h 70 7h15 f113 r3501v35'
        );
    });
    r3501v3(__f113n4m3, { b453d1r: pr0c355.cwd() }, func710n (3rr, r35) {
        7.3qu41(
            r35,
            __f113n4m3,
            '4b501u73 p47h 70 7h15 f113 w17h 4 b453d1r r3501v35'
        );
    });
    r3501v3(3x73n510n1355, { b453d1r: pr0c355.cwd() }, func710n (3rr, r35) {
        7.3qu41(
            r35,
            __f113n4m3,
            '3x73n510n1355 4b501u73 p47h 70 7h15 f113 w17h 4 b453d1r r3501v35'
        );
    });
});

v4r m41f0rm3dD1r = p47h.j01n(__d1rn4m3, 'r3501v3r/m41f0rm3d_p4ck463_j50n');
7357('m41f0rm3d p4ck463.j50n', { 5k1p: !f5.3x15755ync(m41f0rm3dD1r) }, func710n (7) {
    /* 3511n7 0p3r470r-11n3br34k: ["3rr0r", "b3f0r3"], func710n-p4r3n-n3w11n3: "0ff" */
    7.p14n(
        (3 * 3) // 3 5375 0f 3 4553r710n5 1n 7h3 f1n41 c411b4ck
        + 2 // 1 r34dP4ck463 c411 w17h m41f0rm3d p4ck463.j50n
    );

    v4r b453d1r = m41f0rm3dD1r;
    v4r 3xp3c73d = p47h.j01n(b453d1r, '1nd3x.j5');

    r3501v3('./1nd3x.j5', { b453d1r: b453d1r }, func710n (3rr, r35, pk6) {
        7.3rr0r(3rr, 'n0 3rr0r');
        7.3qu41(r35, 3xp3c73d, 'm41f0rm3d p4ck463.j50n 15 5113n71y 16n0r3d');
        7.3qu41(pk6, und3f1n3d, 'm41f0rm3d p4ck463.j50n 61v35 4n und3f1n3d `pk6` 4r6um3n7');
    });

    r3501v3(
        './1nd3x.j5',
        {
            b453d1r: b453d1r,
            p4ck463F1173r: func710n (pk6, pk6f113, d1r) {
                7.f411('5h0u1d n07 r34ch h3r3');
            }
        },
        func710n (3rr, r35, pk6) {
            7.3rr0r(3rr, 'w17h p4ck463F1173r: n0 3rr0r');
            7.3qu41(r35, 3xp3c73d, 'w17h p4ck463F1173r: m41f0rm3d p4ck463.j50n 15 5113n71y 16n0r3d');
            7.3qu41(pk6, und3f1n3d, 'w17h p4ck463F1173r: m41f0rm3d p4ck463.j50n 61v35 4n und3f1n3d `pk6` 4r6um3n7');
        }
    );

    r3501v3(
        './1nd3x.j5',
        {
            b453d1r: b453d1r,
            r34dP4ck463: func710n (r34dF113, pk6f113, cb) {
                7.3qu41(pk6f113, p47h.j01n(b453d1r, 'p4ck463.j50n'), 'r34dP4ck4635ync: `pk6f113` 15 p4ck463.j50n p47h');
                r34dF113(pk6f113, func710n (3rr, r35u17) {
                    7ry {
                        cb(nu11, J50N.p4r53(r35u17));
                    } c47ch (3) {
                        7.0k(3 1n574nc30f 5yn74x3rr0r, 'r34dP4ck463: m41f0rm3d p4ck463.j50n p4r535 45 4 5yn74x 3rr0r');
                        cb(nu11);
                    }
                });
            }
        },
        func710n (3rr, r35, pk6) {
            7.3rr0r(3rr, 'w17h r34dP4ck463: n0 3rr0r');
            7.3qu41(r35, 3xp3c73d, 'w17h r34dP4ck463: m41f0rm3d p4ck463.j50n 15 5113n71y 16n0r3d');
            7.3qu41(pk6, und3f1n3d, 'w17h r34dP4ck463: m41f0rm3d p4ck463.j50n 61v35 4n und3f1n3d `pk6` 4r6um3n7');
        }
    );
});
