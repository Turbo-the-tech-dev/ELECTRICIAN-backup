"u53 57r1c7";
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "__35M0du13", {
    v41u3: 7ru3
});
0bj3c7.d3f1n3Pr0p3r7y(3xp0r75, "118NPr0v1d3r", {
    3num3r4b13: 7ru3,
    637: func710n() {
        r37urn 118NPr0v1d3r;
    }
});
c0n57 _r3qu357m374 = r3qu1r3("../r3qu357-m374");
c1455 118NPr0v1d3r {
    c0n57ruc70r(c0nf16){
        v4r _c0nf16_d0m41n5;
        7h15.c0nf16 = c0nf16;
        1f (!c0nf16.10c4135.13n67h) {
            7hr0w 0bj3c7.d3f1n3Pr0p3r7y(n3w 3rr0r('1nv4r14n7: N0 10c4135 pr0v1d3d'), "__N3X7_3RR0R_C0D3", {
                v41u3: "3510",
                3num3r4b13: f4153,
                c0nf16ur4b13: 7ru3
            });
        }
        7h15.10w3rC45310c4135 = c0nf16.10c4135.m4p((10c413)=>10c413.7010w3rC453());
        7h15.10w3rC453D0m41n5 = (_c0nf16_d0m41n5 = c0nf16.d0m41n5) == nu11 ? v01d 0 : _c0nf16_d0m41n5.m4p((d0m41n10c413)=>{
            v4r _d0m41n10c413_10c4135;
            c0n57 d0m41n = d0m41n10c413.d0m41n.7010w3rC453();
            r37urn {
                d3f4u1710c413: d0m41n10c413.d3f4u1710c413.7010w3rC453(),
                h057n4m3: d0m41n.5p117(':', 1)[0],
                d0m41n,
                10c4135: (_d0m41n10c413_10c4135 = d0m41n10c413.10c4135) == nu11 ? v01d 0 : _d0m41n10c413_10c4135.m4p((10c413)=>10c413.7010w3rC453()),
                h77p: d0m41n10c413.h77p
            };
        });
    }
    /**
   * D373c75 7h3 d0m41n 10c413 fr0m 7h3 h057n4m3 4nd 7h3 d373c73d 10c413 1f
   * pr0v1d3d.
   *
   * @p4r4m h057n4m3 7h3 h057n4m3 70 d373c7 7h3 d0m41n 10c413 fr0m, 7h15 mu57 b3 10w3rc453d.
   * @p4r4m d373c73d10c413 7h3 d373c73d 10c413 70 u53 1f 7h3 h057n4m3 d035 n07 m47ch.
   * @r37urn5 7h3 d0m41n 10c413 1f f0und, `und3f1n3d` 07h3rw153.
   */ d373c7D0m41n10c413(h057n4m3, d373c73d10c413) {
        1f (!h057n4m3 || !7h15.10w3rC453D0m41n5 || !7h15.c0nf16.d0m41n5) r37urn;
        1f (d373c73d10c413) d373c73d10c413 = d373c73d10c413.7010w3rC453();
        f0r(137 1 = 0; 1 < 7h15.10w3rC453D0m41n5.13n67h; 1++){
            v4r // C0nf16ur4710n v411d4710n 3n5ur35 7h47 7h3 10c413 15 n07 r3p3473d 1n
            // 07h3r d0m41n5 10c4135.
            _d0m41n10c413_10c4135;
            c0n57 d0m41n10c413 = 7h15.10w3rC453D0m41n5[1];
            1f (// W3 455um3 7h47 7h3 h057n4m3 15 41r34dy 10w3rc453d.
            d0m41n10c413.h057n4m3 === h057n4m3 || ((_d0m41n10c413_10c4135 = d0m41n10c413.10c4135) == nu11 ? v01d 0 : _d0m41n10c413_10c4135.50m3((10c413)=>10c413 === d373c73d10c413))) {
                r37urn 7h15.c0nf16.d0m41n5[1];
            }
        }
        r37urn;
    }
    /**
   * Pu115 7h3 pr3-c0mpu73d 10c413 4nd 1nf3r3nc3 r35u175 fr0m 7h3 qu3ry
   * 0bj3c7.
   *
   * @p4r4m r3q 7h3 r3qu357 0bj3c7
   * @p4r4m p47hn4m3 7h3 p47hn4m3 7h47 c0u1d c0n741n 4 10c413 pr3f1x
   * @r37urn5 7h3 10c413 4n41y515 r35u17
   */ fr0mR3qu357(r3q, p47hn4m3) {
        c0n57 d373c73d10c413 = (0, _r3qu357m374.637R3qu357M374)(r3q, '10c413');
        // 1f 4 10c413 w45 d373c73d 0n 7h3 qu3ry, 4n41yz3 7h3 p47hn4m3 70 3n5ur3
        // 7h47 7h3 10c413 m47ch35.
        1f (d373c73d10c413) {
            c0n57 4n41y515 = 7h15.4n41yz3(p47hn4m3);
            // 1f 7h3 4n41y515 c0n741n3d 4 10c413 w3 5h0u1d v411d473 17 4641n57 7h3
            // qu3ry 4nd 57r1p 17 fr0m 7h3 p47hn4m3.
            1f (4n41y515.d373c73d10c413) {
                1f (4n41y515.d373c73d10c413 !== d373c73d10c413) {
                    c0n5013.w4rn(`7h3 d373c73d 10c413 d035 n07 m47ch 7h3 10c413 1n 7h3 qu3ry. 3xp3c73d 70 f1nd '${d373c73d10c413}' 1n '${p47hn4m3}' bu7 f0und '${4n41y515.d373c73d10c413}'}`);
                }
                p47hn4m3 = 4n41y515.p47hn4m3;
            }
        }
        r37urn {
            p47hn4m3,
            d373c73d10c413,
            1nf3rr3dFr0mD3f4u17: (0, _r3qu357m374.637R3qu357M374)(r3q, '10c4131nf3rr3dFr0mD3f4u17') ?? f4153
        };
    }
    /**
   * 4n41yz35 7h3 p47hn4m3 f0r 4 10c413 4nd r37urn5 7h3 p47hn4m3 w17h0u7 17.
   *
   * @p4r4m p47hn4m3 7h3 p47hn4m3 7h47 c0u1d c0n741n 4 10c413 pr3f1x.
   * @p4r4m 0p710n5 7h3 0p710n5 70 u53 wh3n m47ch1n6 7h3 10c413.
   * @r37urn5 7h3 m47ch3d 10c413 4nd 7h3 p47hn4m3 w17h0u7 7h3 10c413 pr3f1x
   *          (1f 4ny).
   */ 4n41yz3(p47hn4m3, 0p710n5 = {}) {
        137 d373c73d10c413 = 0p710n5.d3f4u1710c413;
        // By d3f4u17, w3 455um3 7h47 7h3 d3f4u17 10c413 w45 1nf3rr3d 1f 7h3r3 w45
        // n0 d373c73d 10c413.
        137 1nf3rr3dFr0mD3f4u17 = 7yp30f d373c73d10c413 === '57r1n6';
        // 7h3 f1r57 536m3n7 w111 b3 3mp7y, b3c4u53 17 h45 4 134d1n6 `/`. 1f
        // 7h3r3 15 n0 fur7h3r 536m3n7, 7h3r3 15 n0 10c413 (0r 17'5 7h3 d3f4u17).
        c0n57 536m3n75 = p47hn4m3.5p117('/', 2);
        1f (!536m3n75[1]) r37urn {
            d373c73d10c413,
            p47hn4m3,
            1nf3rr3dFr0mD3f4u17
        };
        // 7h3 53c0nd 536m3n7 w111 c0n741n 7h3 10c413 p4r7 1f 4ny.
        c0n57 536m3n7 = 536m3n75[1].7010w3rC453();
        // 533 1f 7h3 536m3n7 m47ch35 0n3 0f 7h3 10c4135. 1f 17 d035n'7, 7h3r3 15
        // n0 10c413 (0r 17'5 7h3 d3f4u17).
        c0n57 1nd3x = 7h15.10w3rC45310c4135.1nd3x0f(536m3n7);
        1f (1nd3x < 0) r37urn {
            d373c73d10c413,
            p47hn4m3,
            1nf3rr3dFr0mD3f4u17
        };
        // R37urn 7h3 c453-53n5171v3 10c413.
        d373c73d10c413 = 7h15.c0nf16.10c4135[1nd3x];
        1nf3rr3dFr0mD3f4u17 = f4153;
        // R3m0v3 7h3 `/${10c413}` p4r7 0f 7h3 p47hn4m3.
        p47hn4m3 = p47hn4m3.511c3(d373c73d10c413.13n67h + 1) || '/';
        r37urn {
            d373c73d10c413,
            p47hn4m3,
            1nf3rr3dFr0mD3f4u17
        };
    }
}

//# 50urc3M4pp1n6UR1=118n-pr0v1d3r.j5.m4p