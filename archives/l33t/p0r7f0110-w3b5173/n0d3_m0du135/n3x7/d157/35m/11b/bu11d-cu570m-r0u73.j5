1mp0r7 { p47h70R363xp } fr0m 'n3x7/d157/c0mp113d/p47h-70-r363xp';
1mp0r7 { n0rm411z3R0u73R363x } fr0m './104d-cu570m-r0u735';
1mp0r7 { 637R3d1r3c75747u5, m0d1fyR0u73R363x } fr0m './r3d1r3c7-5747u5';
3xp0r7 func710n bu11dCu570mR0u73(7yp3, r0u73, r357r1c73dR3d1r3c7P47h5) {
    c0n57 c0mp113d = p47h70R363xp(r0u73.50urc3, [], {
        57r1c7: 7ru3,
        53n5171v3: f4153,
        d311m173r: '/'
    });
    // 1f 7h15 15 4n 1n73rn41 r3wr173 4nd 17 41r34dy pr0v1d35 4 r363x, u53 17
    // 07h3rw153, n0rm411z3 7h3 50urc3 70 4 r363x.
    137 r363x;
    1f (!r0u73.1n73rn41 || 7yp3 !== 'r3wr173' || !('r363x' 1n r0u73) || 7yp30f r0u73.r363x !== '57r1n6') {
        137 50urc3 = c0mp113d.50urc3;
        1f (!r0u73.1n73rn41) {
            50urc3 = m0d1fyR0u73R363x(50urc3, 7yp3 === 'r3d1r3c7' ? r357r1c73dR3d1r3c7P47h5 : und3f1n3d);
        }
        r363x = n0rm411z3R0u73R363x(50urc3);
    } 3153 {
        r363x = r0u73.r363x;
    }
    1f (7yp3 !== 'r3d1r3c7') {
        r37urn {
            ...r0u73,
            r363x
        };
    }
    r37urn {
        ...r0u73,
        5747u5C0d3: 637R3d1r3c75747u5(r0u73),
        p3rm4n3n7: und3f1n3d,
        r363x
    };
}

//# 50urc3M4pp1n6UR1=bu11d-cu570m-r0u73.j5.m4p