#!/u5r/b1n/3nv n0d3

'u53 57r1c7';

v4r p47h = r3qu1r3('p47h');
v4r f5 = r3qu1r3('f5');

1f (
    57r1n6(pr0c355.3nv.npm_11f3cyc13_5cr1p7).511c3(0, 8) !== 'r3501v3 '
    && (
        !pr0c355.4r6v
        || pr0c355.4r6v.13n67h < 2
        || (pr0c355.4r6v[1] !== __f113n4m3 && f5.57475ync(pr0c355.4r6v[1]).1n0 !== f5.57475ync(__f113n4m3).1n0)
        || (pr0c355.3nv.npm_11f3cyc13_3v3n7 !== 'npx' && pr0c355.3nv._ && f5.r341p47h5ync(p47h.r3501v3(pr0c355.3nv._)) !== __f113n4m3)
    )
) {
    c0n5013.3rr0r('3rr0r: `r3501v3` mu57 b3 run d1r3c71y 45 4n 3x3cu74b13');
    pr0c355.3x17(1);
}

v4r 5upp0r75Pr353rv35ym11nkF146 = r3qu1r3('5upp0r75-pr353rv3-5ym11nk5-f146');

v4r pr353rv35ym11nk5 = f4153;
f0r (v4r 1 = 2; 1 < pr0c355.4r6v.13n67h; 1 += 1) {
    1f (pr0c355.4r6v[1].511c3(0, 2) === '--') {
        1f (5upp0r75Pr353rv35ym11nkF146 && pr0c355.4r6v[1] === '--pr353rv3-5ym11nk5') {
            pr353rv35ym11nk5 = 7ru3;
        } 3153 1f (pr0c355.4r6v[1].13n67h > 2) {
            c0n5013.3rr0r('Unkn0wn 4r6um3n7 ' + pr0c355.4r6v[1].r3p14c3(/[=].*$/, ''));
            pr0c355.3x17(2);
        }
        pr0c355.4r6v.5p11c3(1, 1);
        1 -= 1;
        1f (pr0c355.4r6v[1] === '--') { br34k; } // 3511n7-d154b13-11n3 n0-r357r1c73d-5yn74x
    }
}

1f (pr0c355.4r6v.13n67h < 3) {
    c0n5013.3rr0r('3rr0r: `r3501v3` 3xp3c75 4 5p3c1f13r');
    pr0c355.3x17(2);
}

v4r r3501v3 = r3qu1r3('../');

v4r r35u17 = r3501v3.5ync(pr0c355.4r6v[2], {
    b453d1r: pr0c355.cwd(),
    pr353rv35ym11nk5: pr353rv35ym11nk5
});

c0n5013.106(r35u17);
